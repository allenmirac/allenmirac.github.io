<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>è“æ¡¥æ¯ç®—æ³•æ¨¡æ¿ä¸é¢˜ç›®æ¨è</title>
      <link href="/2025/06/11/lan-qiao-bei-suan-fa-mo-ban-yu-ti-mu-tui-jian/"/>
      <url>/2025/06/11/lan-qiao-bei-suan-fa-mo-ban-yu-ti-mu-tui-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="è“æ¡¥æ¯ç®—æ³•æ¨¡æ¿ä¸-LeetCode-é¢˜ç›®æ¨è"><a href="#è“æ¡¥æ¯ç®—æ³•æ¨¡æ¿ä¸-LeetCode-é¢˜ç›®æ¨è" class="headerlink" title="è“æ¡¥æ¯ç®—æ³•æ¨¡æ¿ä¸ LeetCode é¢˜ç›®æ¨è"></a>è“æ¡¥æ¯ç®—æ³•æ¨¡æ¿ä¸ LeetCode é¢˜ç›®æ¨è</h1><h2 id="ğŸ§©-è“æ¡¥æ¯å¿…å­¦ç®—æ³•æ¨¡æ¿-amp-LeetCode-é¢˜ç›®æ¨è"><a href="#ğŸ§©-è“æ¡¥æ¯å¿…å­¦ç®—æ³•æ¨¡æ¿-amp-LeetCode-é¢˜ç›®æ¨è" class="headerlink" title="ğŸ§© è“æ¡¥æ¯å¿…å­¦ç®—æ³•æ¨¡æ¿ &amp; LeetCode é¢˜ç›®æ¨è"></a>ğŸ§© è“æ¡¥æ¯å¿…å­¦ç®—æ³•æ¨¡æ¿ &amp; LeetCode é¢˜ç›®æ¨è</h2><hr><h3 id="1ï¸âƒ£-æšä¸¾ï¼ˆæš´åŠ›ï¼‰"><a href="#1ï¸âƒ£-æšä¸¾ï¼ˆæš´åŠ›ï¼‰" class="headerlink" title="1ï¸âƒ£ æšä¸¾ï¼ˆæš´åŠ›ï¼‰"></a>1ï¸âƒ£ æšä¸¾ï¼ˆæš´åŠ›ï¼‰</h3><h4 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æšä¸¾ä¸¤ä¸ªæ•°å¯¹</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>        <span class="token comment">// do something</span><span class="token comment">// å…¨æ’åˆ— next_permutation</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ä½¿ç”¨å½“å‰æ’åˆ—</span><span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">next_permutation</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è"><a href="#LeetCode-æ¨è" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>46.Permutations</li><li>47.Permutations II</li><li>728.è‡ªé™¤æ•°</li><li>996.æ­£æ–¹å½¢æ‹¼å›¾</li></ul><hr><h3 id="2ï¸âƒ£-æ’åº-è‡ªå®šä¹‰æ’åº"><a href="#2ï¸âƒ£-æ’åº-è‡ªå®šä¹‰æ’åº" class="headerlink" title="2ï¸âƒ£ æ’åº + è‡ªå®šä¹‰æ’åº"></a>2ï¸âƒ£ æ’åº + è‡ªå®šä¹‰æ’åº</h3><h4 id="æ¨¡æ¿-1"><a href="#æ¨¡æ¿-1" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> Node<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> x <span class="token operator">&lt;</span> other<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Node a<span class="token punctuation">,</span> Node b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-1"><a href="#LeetCode-æ¨è-1" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>56.Merge Intervals</li><li>452.ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ</li><li>135.åˆ†å‘ç³–æœ</li></ul><hr><h3 id="3ï¸âƒ£-æœç´¢ï¼ˆDFS-BFSï¼‰"><a href="#3ï¸âƒ£-æœç´¢ï¼ˆDFS-BFSï¼‰" class="headerlink" title="3ï¸âƒ£ æœç´¢ï¼ˆDFS / BFSï¼‰"></a>3ï¸âƒ£ æœç´¢ï¼ˆDFS / BFSï¼‰</h3><h4 id="DFS-æ¨¡æ¿"><a href="#DFS-æ¨¡æ¿" class="headerlink" title="DFS æ¨¡æ¿"></a>DFS æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> v <span class="token operator">:</span> graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="BFS-æ¨¡æ¿"><a href="#BFS-æ¨¡æ¿" class="headerlink" title="BFS æ¨¡æ¿"></a>BFS æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> cur <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> next <span class="token operator">:</span> graph<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            visited<span class="token punctuation">[</span>next<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-2"><a href="#LeetCode-æ¨è-2" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>200.å²›å±¿æ•°é‡</li><li>695.å²›å±¿çš„æœ€å¤§é¢ç§¯</li><li>542.01çŸ©é˜µ</li><li>1091.äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„</li></ul><hr><h3 id="4ï¸âƒ£-è´ªå¿ƒ"><a href="#4ï¸âƒ£-è´ªå¿ƒ" class="headerlink" title="4ï¸âƒ£ è´ªå¿ƒ"></a>4ï¸âƒ£ è´ªå¿ƒ</h3><h4 id="LeetCode-æ¨è-3"><a href="#LeetCode-æ¨è-3" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>122.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</li><li>455.åˆ†å‘é¥¼å¹²</li><li>435.æ— é‡å åŒºé—´</li><li>134.åŠ æ²¹ç«™</li></ul><hr><h3 id="5ï¸âƒ£-åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰"><a href="#5ï¸âƒ£-åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰" class="headerlink" title="5ï¸âƒ£ åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰"></a>5ï¸âƒ£ åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰</h3><h4 id="0-1-èƒŒåŒ…æ¨¡æ¿"><a href="#0-1-èƒŒåŒ…æ¨¡æ¿" class="headerlink" title="0/1 èƒŒåŒ…æ¨¡æ¿"></a>0/1 èƒŒåŒ…æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span>        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="å®Œå…¨èƒŒåŒ…æ¨¡æ¿"><a href="#å®Œå…¨èƒŒåŒ…æ¨¡æ¿" class="headerlink" title="å®Œå…¨èƒŒåŒ…æ¨¡æ¿"></a>å®Œå…¨èƒŒåŒ…æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> V<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span>        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-4"><a href="#LeetCode-æ¨è-4" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>70.çˆ¬æ¥¼æ¢¯</li><li>198.æ‰“å®¶åŠ«èˆ</li><li>322.é›¶é’±å…‘æ¢</li><li>139.å•è¯æ‹†åˆ†</li></ul><hr><h3 id="6ï¸âƒ£-å‰ç¼€å’Œ-å·®åˆ†"><a href="#6ï¸âƒ£-å‰ç¼€å’Œ-å·®åˆ†" class="headerlink" title="6ï¸âƒ£ å‰ç¼€å’Œ / å·®åˆ†"></a>6ï¸âƒ£ å‰ç¼€å’Œ / å·®åˆ†</h3><h4 id="ä¸€ç»´å‰ç¼€å’Œ"><a href="#ä¸€ç»´å‰ç¼€å’Œ" class="headerlink" title="ä¸€ç»´å‰ç¼€å’Œ"></a>ä¸€ç»´å‰ç¼€å’Œ</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="äºŒç»´å‰ç¼€å’Œ"><a href="#äºŒç»´å‰ç¼€å’Œ" class="headerlink" title="äºŒç»´å‰ç¼€å’Œ"></a>äºŒç»´å‰ç¼€å’Œ</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> s<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å·®åˆ†æ•°ç»„"><a href="#å·®åˆ†æ•°ç»„" class="headerlink" title="å·®åˆ†æ•°ç»„"></a>å·®åˆ†æ•°ç»„</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">d<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+=</span> x<span class="token punctuation">;</span>d<span class="token punctuation">[</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-=</span> x<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-5"><a href="#LeetCode-æ¨è-5" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>303.åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜</li><li>370.åŒºé—´åŠ æ³•</li><li>1094.æ‹¼è½¦</li></ul><hr><h3 id="7ï¸âƒ£-å›¾è®ºåŸºç¡€"><a href="#7ï¸âƒ£-å›¾è®ºåŸºç¡€" class="headerlink" title="7ï¸âƒ£ å›¾è®ºåŸºç¡€"></a>7ï¸âƒ£ å›¾è®ºåŸºç¡€</h3><h4 id="å»ºå›¾æ¨¡æ¿"><a href="#å»ºå›¾æ¨¡æ¿" class="headerlink" title="å»ºå›¾æ¨¡æ¿"></a>å»ºå›¾æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">graph</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ‹“æ‰‘æ’åºæ¨¡æ¿"><a href="#æ‹“æ‰‘æ’åºæ¨¡æ¿" class="headerlink" title="æ‹“æ‰‘æ’åºæ¨¡æ¿"></a>æ‹“æ‰‘æ’åºæ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>indegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> u <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>indegree<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-6"><a href="#LeetCode-æ¨è-6" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>207.è¯¾ç¨‹è¡¨</li><li>210.è¯¾ç¨‹è¡¨ II</li><li>133.å…‹éš†å›¾</li></ul><hr><h3 id="8ï¸âƒ£-å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰"><a href="#8ï¸âƒ£-å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰" class="headerlink" title="8ï¸âƒ£ å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰"></a>8ï¸âƒ£ å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰</h3><h4 id="æ¨¡æ¿-2"><a href="#æ¨¡æ¿-2" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> x <span class="token operator">==</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">?</span> x <span class="token operator">:</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">union_set</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    parent<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-7"><a href="#LeetCode-æ¨è-7" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>547.çœä»½æ•°é‡</li><li>684.å†—ä½™è¿æ¥</li><li>1319.è¿é€šç½‘ç»œçš„æ“ä½œæ¬¡æ•°</li></ul><hr><h3 id="9ï¸âƒ£-æ•°å­¦-æ•°è®º"><a href="#9ï¸âƒ£-æ•°å­¦-æ•°è®º" class="headerlink" title="9ï¸âƒ£ æ•°å­¦ + æ•°è®º"></a>9ï¸âƒ£ æ•°å­¦ + æ•°è®º</h3><h4 id="å¿«é€Ÿå¹‚æ¨¡æ¿"><a href="#å¿«é€Ÿå¹‚æ¨¡æ¿" class="headerlink" title="å¿«é€Ÿå¹‚æ¨¡æ¿"></a>å¿«é€Ÿå¹‚æ¨¡æ¿</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">qmi</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> mod<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> res <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>res <span class="token operator">*</span> a <span class="token operator">%</span> mod<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>a <span class="token operator">*</span> a <span class="token operator">%</span> mod<span class="token punctuation">;</span>        b <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-8"><a href="#LeetCode-æ¨è-8" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>50.Pow(x, n)</li><li>231.2çš„å¹‚</li><li>202.å¿«ä¹æ•°</li></ul><hr><h3 id="ğŸ”Ÿ-å­—ç¬¦ä¸²å¤„ç†"><a href="#ğŸ”Ÿ-å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="ğŸ”Ÿ å­—ç¬¦ä¸²å¤„ç†"></a>ğŸ”Ÿ å­—ç¬¦ä¸²å¤„ç†</h3><h4 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">stoi</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">stoll</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">to_string</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LeetCode-æ¨è-9"><a href="#LeetCode-æ¨è-9" class="headerlink" title="LeetCode æ¨è"></a>LeetCode æ¨è</h4><ul><li>14.æœ€é•¿å…¬å…±å‰ç¼€</li><li>125.éªŒè¯å›æ–‡ä¸²</li><li>415.å­—ç¬¦ä¸²ç›¸åŠ </li><li>67.äºŒè¿›åˆ¶æ±‚å’Œ</li></ul><hr><h3 id="ğŸ”š-è¡¥å……è¿›é˜¶å»ºè®®"><a href="#ğŸ”š-è¡¥å……è¿›é˜¶å»ºè®®" class="headerlink" title="ğŸ”š è¡¥å……è¿›é˜¶å»ºè®®"></a>ğŸ”š è¡¥å……è¿›é˜¶å»ºè®®</h3><ul><li>LeetCode 307.å¯å˜åŒºåŸŸå’Œï¼ˆçº¿æ®µæ ‘ï¼‰</li><li>LeetCode 241.åŒºé—´DP</li><li>LeetCode 698.çŠ¶å‹DP</li></ul><h2 id="èµ›å‰ç»éªŒåˆ†äº«"><a href="#èµ›å‰ç»éªŒåˆ†äº«" class="headerlink" title="èµ›å‰ç»éªŒåˆ†äº«"></a>èµ›å‰ç»éªŒåˆ†äº«</h2><p>èµ›å‰ç»éªŒï¼š</p><p>[1. <a href="https://www.cnblogs.com/XiaoMo247/p/18121862">è“æ¡¥æ¯èµ›å‰çªå‡»</a>]</p><p>[2. <a href="https://wineee.github.io/post/lanqiaobie/">å…³äºè“æ¡¥æ¯ç­‰ç®—æ³•ç«èµ›çš„ç»éªŒæ€»ç»“</a>]</p><p>[3. <a href="https://blog.csdn.net/Supreme7/article/details/137639669">åŸºç¡€æ•°è®ºç¯‡</a>]</p><p>[4. <a href="https://weiambt.blog.csdn.net/article/details/137639097">å›¾è®ºæ¨¡ç‰ˆç¯‡</a>]</p><p>[5. <a href="https://zhuanlan.zhihu.com/p/489285845">è“æ¡¥æ¯èµ›å‰å‡†å¤‡</a>]</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³•å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³è§†é¢‘åŸºç¡€å­¦ä¹ </title>
      <link href="/2025/06/11/yin-shi-pin-ji-chu-xue-xi/"/>
      <url>/2025/06/11/yin-shi-pin-ji-chu-xue-xi/</url>
      
        <content type="html"><![CDATA[<h2 id="å­¦ä¹ é›·ç¥çš„åšå®¢"><a href="#å­¦ä¹ é›·ç¥çš„åšå®¢" class="headerlink" title="å­¦ä¹ é›·ç¥çš„åšå®¢"></a>å­¦ä¹ é›·ç¥çš„åšå®¢</h2><h3 id="1-RGBã€YUVåƒç´ çº§åˆ«çš„æ•°æ®çš„è½¬åŒ–ä»¥åŠå¤„ç†"><a href="#1-RGBã€YUVåƒç´ çº§åˆ«çš„æ•°æ®çš„è½¬åŒ–ä»¥åŠå¤„ç†" class="headerlink" title="1. RGBã€YUVåƒç´ çº§åˆ«çš„æ•°æ®çš„è½¬åŒ–ä»¥åŠå¤„ç†"></a>1. RGBã€YUVåƒç´ çº§åˆ«çš„æ•°æ®çš„è½¬åŒ–ä»¥åŠå¤„ç†</h3><p>åˆ†ç¦»YUV420påƒç´ æ•°æ®ä¸­çš„Y/U/Vä¸‰ä¸ªåˆ†é‡æ­¥éª¤:å…ˆè¯»å–YUVæ–‡ä»¶ï¼Œç„¶åæŒ‰ç…§YUVçš„åˆ†å¸ƒç‰¹å¾è¯»å–å‡ºæ¥å¹¶ä¸”ä¿å­˜ã€‚</p><p>å…³é”®è¯»å–ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token function">fread</span><span class="token punctuation">(</span>pic<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">*</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//Y</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span>pic<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//w*h</span>    <span class="token comment">//U</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span>pic<span class="token operator">+</span>w<span class="token operator">*</span>h<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span>fp2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//w*hçš„å1/4</span>    <span class="token comment">//V</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span>pic<span class="token operator">+</span>w<span class="token operator">*</span>h<span class="token operator">*</span><span class="token number">5</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span>fp3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//w*hçš„5/4çš„å1/4</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±äºæˆ‘æ²¡æœ‰æ‰¾åˆ°Yã€Uã€Våˆ†é‡æ•°æ®ä¿å­˜åçš„æ˜¾ç¤ºè½¯ä»¶ï¼Œå°±å­¦ä¹ å¹¶ä½¿ç”¨äº†ffmpegå°†.yæ–‡ä»¶è½¬ä¸ºpngä¹‹åæŸ¥çœ‹æ•ˆæœã€‚è½¬æ¢è¿‡ç¨‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ffmpeg <span class="token parameter variable">-s</span> 256x256 <span class="token parameter variable">-pix_fmt</span> gray <span class="token parameter variable">-f</span> rawvideo <span class="token parameter variable">-i</span> output_420_y.y lena_y.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ffmpegå‚æ•°è§£é‡Šï¼š</p><div class="table-container"><table><thead><tr><th style="text-align:left">å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:left">-s 256*256</td><td>æŒ‡å®šå›¾åƒåˆ†è¾¨ï¼Œä¸Šè¿°ç¤ºä¾‹ä¸­ä¸º256*256</td></tr><tr><td style="text-align:left">-pix_fmt gray</td><td>åˆ¶å®šåƒç´ æ ¼å¼ä¸ºå•é€šé“çš„ç°åº¦å›¾ï¼ˆgrayï¼‰</td></tr><tr><td style="text-align:left">-f rawvideo</td><td>è¾“å…¥çš„æ˜¯è£¸çš„åŸå§‹å›¾åƒæ•°æ®ï¼Œæ²¡æœ‰æ–‡ä»¶å¤´ï¼ˆY/U/Vï¼‰</td></tr><tr><td style="text-align:left">-i xxx</td><td>è¾“å…¥æ–‡ä»¶è·¯å¾„</td></tr><tr><td style="text-align:left">lena_y.png</td><td>è¾“å‡ºæ–‡ä»¶åå­—ï¼Œè‡ªåŠ¨è°ƒç”¨PNGç¼–ç å™¨ä¿å­˜ä¸ºPNGå›¾ç‰‡</td></tr></tbody></table></div><p>æ¥ä¸‹æ¥åˆ†åˆ«æµ‹è¯•äº†<code>simplest_yuv420_gray</code>ã€<code>simplest_yuv420_halfy</code>ã€<code>simplest_yuv420_border</code>ã€<code>simplest_yuv420_graybar</code>ã€<code>simplest_yuv420_psnr</code>è¿™äº›å‡½æ•°ã€‚</p><p>ï¼ˆ1ï¼‰ã€<code>simplest_yuv420_border</code>å‡½æ•°å…³é”®ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">fread</span><span class="token punctuation">(</span>pic<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">*</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//Y</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>h<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>w<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">k</span><span class="token generic class-name"><span class="token operator">&lt;</span>border<span class="token operator">||</span>k<span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token operator">-</span>border<span class="token punctuation">)</span><span class="token operator">||</span><span class="token generic-function"><span class="token function">j</span><span class="token generic class-name"><span class="token operator">&lt;</span>border<span class="token operator">||</span>j<span class="token operator">></span></span></span><span class="token punctuation">(</span>h<span class="token operator">-</span>border<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                pic<span class="token punctuation">[</span>j<span class="token operator">*</span>w<span class="token operator">+</span>k<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">255</span><span class="token punctuation">;</span><span class="token comment">//ä¿®æ”¹ä¸ºç™½è‰²</span>                <span class="token comment">//pic[j*w+k]=0;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span>pic<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">*</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹w*hå‘¨å›´çš„borderä¸ªåƒç´ çš„å€¼ï¼Œè¿™æ ·å°±åœ¨å›¾ç‰‡å‘¨å›´åŠ å…¥äº†ç™½è‰²è¾¹æ¡†ã€‚</p><p>ï¼ˆ2ï¼‰ã€å­¦ä¹ äº†PSNRï¼ŒPSNRå³å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPeak Signal to Noise Ratioï¼‰ï¼Œå®ƒæ˜¯æœ€åŸºæœ¬çš„è§†é¢‘è´¨é‡è¯„ä¼°æ–¹æ³•ä¹‹ä¸€ï¼ŒåŸºäºå›¾åƒçš„åƒç´ ç‚¹ï¼Œå€ŸåŠ©å‡æ–¹è¯¯å·®æ¥è®¡ç®—å›¾åƒå¤±çœŸæƒ…å†µï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯ä¸ç¬¦åˆäººçœ¼çš„ä¸»è§‚æ„Ÿå—ã€‚è¿˜è¦å…¶ä»–å¸¸è§çš„å›¾åƒè´¨é‡æ£€æµ‹æ–¹æ³•å¦‚SSIMï¼ˆ<strong>Structural Similarity Index</strong>ï¼Œ<strong>ç»“æ„ç›¸ä¼¼åº¦</strong>ï¼‰ç­‰ï¼Œè¿™ä¸¤ç¯‡æ–‡ç« ä¸­è¯´çš„éå¸¸è¯¦ç»†ï¼š<a href="http://zhuanlan.zhihu.com/p/120254892">è°ˆè°ˆå›¾åƒè´¨é‡é‡åŒ–è¯„ä¼°æ ‡å‡†</a>ã€<a href="https://zhuanlan.zhihu.com/p/32553977">å›¾åƒè´¨é‡è¯„ä¼°ç»¼è¿°</a>ã€‚</p><p><code>simplest_yuv420_psnr</code>å‡½æ•°çš„å…³é”®ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">fread</span><span class="token punctuation">(</span>pic1<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fread</span><span class="token punctuation">(</span>pic2<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token punctuation">,</span>fp2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> mse_sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>mse<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>psnr<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>w<span class="token operator">*</span>h<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        mse_sum<span class="token operator">+=</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">(</span>pic1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>pic2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pic1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>pic2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pix1[100], %d; pix2[100], %d\n"</span><span class="token punctuation">,</span> pic1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> pic2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    mse<span class="token operator">=</span>mse_sum<span class="token operator">/</span><span class="token punctuation">(</span>w<span class="token operator">*</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>    psnr<span class="token operator">=</span><span class="token number">10</span><span class="token operator">*</span><span class="token function">log10</span><span class="token punctuation">(</span><span class="token number">255.0</span><span class="token operator">*</span><span class="token number">255.0</span><span class="token operator">/</span>mse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%5.3f\n"</span><span class="token punctuation">,</span>psnr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·³è¿‡æ¥ä¸‹æ¥1/2</span>    <span class="token function">fseek</span><span class="token punctuation">(</span>fp1<span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fseek</span><span class="token punctuation">(</span>fp2<span class="token punctuation">,</span>w<span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// //U</span>    <span class="token comment">// fwrite(pic+w*h,1,w*h/4,fp2);</span>    <span class="token comment">// //V</span>    <span class="token comment">// fwrite(pic+w*h*5/4,1,w*h/4,fp3);</span>    <span class="token comment">// uå’Œvå„å 1/4ï¼ŒåŠ èµ·æ¥ç­‰äº1/2ï¼Œ</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-PCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†"><a href="#2-PCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†" class="headerlink" title="2. PCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†"></a>2. PCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†</h3><p>PCMï¼Œè„‰å†²ç¼–ç è°ƒåˆ¶ï¼ŒPCMé€šè¿‡å¯¹æ¨¡æ‹Ÿä¿¡æ¯è¿›è¡Œé‡‡æ ·ã€é‡åŒ–ã€ç¼–ç ä¸‰ä¸ªè¿‡ç¨‹ï¼Œå°†å£°éŸ³çš„æ¨¡æ‹Ÿä¿¡æ¯ï¼ˆç”µä¿¡å·ï¼‰è½¬ä¸ºæ•°å­—ä¿¡æ¯ï¼Œäº¤ç»™è®¡ç®—æœºå¤„ç†ï¼Œå®ƒæœ‰ä¸‰ä¸ªæœ€é‡è¦çš„ç‰¹å¾ï¼šé‡‡æ ·ç‡ã€å£°é“æ•°ã€é‡‡æ ·æ ¼å¼ï¼Œä¸¤å¤§æ¨¡å¼ï¼šæ‰“åŒ…æ¨¡å¼ã€å¹³é¢æ¨¡å¼ã€‚</p><ol><li>å£°é“å¸ƒå±€åŒ…æ‹¬ï¼šå•å£°é“ï¼ˆMonoï¼ŒMï¼‰å’Œç«‹ä½“å£°ï¼ˆStereoï¼ŒSï¼‰ï¼Œ</li><li>å¸¸è§çš„é‡‡æ ·ç‡æœ‰ï¼š44100ã€48000ã€16000ï¼Œ</li><li>é‡‡æ ·æ ¼å¼ï¼šS16leã€S32leã€fltã€dblï¼Œè¿˜æœ‰å¯¹åº”çš„xxxpï¼Œpè¡¨ç¤ºå¹³é¢æ¨¡å¼ï¼ˆPlnarï¼‰ã€‚</li></ol><p>éŸ³é¢‘æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¹Ÿæœ‰å­—èŠ‚é¡ºåºï¼Œåˆ†ä¸ºå¤§ç«¯åºï¼ˆBig Endianï¼Œbeï¼‰å’Œå°ç«¯åºï¼ˆLittle Endianï¼Œleï¼‰ä¸¤ç§ã€‚å¸¸è§çš„ä¸ºå°ç«¯å­—èŠ‚åºã€‚</p><p>æ›´å¤šè¯¦ç»†çš„ä»‹ç»å†…å®¹ï¼š<a href="https://blog.csdn.net/wkd_007/article/details/134101976">ã€éŸ³è§†é¢‘ | PCMã€‘PCMæ ¼å¼è¯¦è§£</a></p><p>æµ‹è¯•åšä¸»çš„å‡½æ•°ï¼š<code>simplest_pcm16le_split</code>ã€<code>simplest_pcm16le_halfvolumeleft</code>ã€<code>simplest_pcm16le_doublespeed</code>ã€<code>simplest_pcm16le_to_pcm8</code>ã€<code>simplest_pcm16le_cut_singlechannel</code>ã€<code>simplest_pcm16le_to_wave</code>ã€‚æ”¹å†™äº†ä¸€ä¸ªå‡½æ•°<code>simplest_pcm16le_cut_doublechannel</code>ã€‚</p><p>è¿™äº›å¤„ç†çš„æ•°æ®éƒ½æ˜¯PCMçš„åŸå§‹éŸ³é¢‘æ•°æ®ï¼Œæ¯”è¾ƒå¥½å¤„ç†ï¼Œç¡®å®šæ–‡ä»¶çš„é‡‡æ ·æ ¼å¼ä¹‹åï¼Œå°±å’Œè¯»å–æ™®é€šæ–‡ä»¶ä¸€æ ·ã€‚</p><p>ï¼ˆ1ï¼‰ã€æ”¹å–„åçš„<code>simplest_pcm16le_cut_singlechannel</code>å‡½æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">simplest_pcm16le_cut_singlechannel</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>url<span class="token punctuation">,</span><span class="token keyword">int</span> start_num<span class="token punctuation">,</span><span class="token keyword">int</span> dur_num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>FILE <span class="token operator">*</span>fp<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token string">"rb+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>FILE <span class="token operator">*</span>fp1<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"output_cut.pcm"</span><span class="token punctuation">,</span><span class="token string">"wb+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>FILE <span class="token operator">*</span>fp_stat<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"output_cut.txt"</span><span class="token punctuation">,</span><span class="token string">"wb+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>sample<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>fp<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">></span>start_num<span class="token operator">&amp;&amp;</span>cnt<span class="token operator">&lt;=</span><span class="token punctuation">(</span>start_num<span class="token operator">+</span>dur_num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">fwrite</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1</span><span class="token comment">// short samplenum = sample[1];</span><span class="token comment">// samplenum=samplenum*256;</span><span class="token comment">// samplenum=samplenum+sample[0];</span>                        <span class="token comment">// 2</span><span class="token comment">// short samplenum = sample[1]&lt;&lt;8 + sample[0];</span>            <span class="token comment">// 3</span>            <span class="token keyword">short</span> <span class="token operator">*</span>samplenum <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span> <span class="token operator">*</span><span class="token punctuation">)</span>sample<span class="token punctuation">;</span><span class="token function">fprintf</span><span class="token punctuation">(</span>fp_stat<span class="token punctuation">,</span><span class="token string">"%6d,"</span><span class="token punctuation">,</span><span class="token operator">*</span>samplenum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">%</span><span class="token number">10</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">fprintf</span><span class="token punctuation">(</span>fp_stat<span class="token punctuation">,</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">free</span><span class="token punctuation">(</span>sample<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fp_stat<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥å‡½æ•°ä¿å­˜é‡‡æ ·å€¼éƒ¨åˆ†çš„ä¸‰ç§æ•°å€¼è½¬æ¢æ–¹æ³•éƒ½æ˜¯æ­£ç¡®çš„ï¼Œç¬¬ä¸‰ç§æ˜¯ç›´æ¥è®©ç³»ç»Ÿè‡ªåŠ¨å¤„ç†å°ç«¯å­—èŠ‚åºé—®é¢˜ï¼ŒæŒ‰ç…§å°ç«¯é¡ºåºæ­£ç¡®è§£é‡Šä¸ºshortæ•°æ®ï¼Œè€Œä¸éœ€è¦åƒå‰ä¸¤ç§ä¸€æ ·å°†[1]ä½ç½®çš„æ•°æ®ç§»åŠ¨åˆ°å‰é¢ä»¥è§£é‡Šshortå‹æ•°æ®ã€‚</p><p>ï¼ˆ2ï¼‰ã€<code>simplest_pcm16le_doublespeed</code>å‡½æ•°å…³é”®ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">fread</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">%</span><span class="token number">2</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//L</span>        <span class="token function">fwrite</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//R</span>        <span class="token function">fwrite</span><span class="token punctuation">(</span>sample<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥ä»£ç ä¿å­˜å¥‡æ•°ä½ç½®çš„æ ·æœ¬ï¼Œè¿™æ ·å°±å°†æ’­æ”¾é€Ÿåº¦åŠ é€Ÿï¼Œä¹Ÿå°±æ˜¯å˜æˆäº†ä¸¤å€é€Ÿã€‚åŒæ—¶ä¸ºäº†ä¾¿äºæ›´å¥½çš„æ£€æŸ¥è¾“å‡ºçš„æ ·æœ¬å€¼çš„æ³¢å½¢å›¾å˜åŒ–ï¼Œä½¿ç”¨äº†ffmpegåº“çš„<code>showwavespic</code>æ»¤é•œï¼Œç”ŸæˆæŒ‡å®šåˆ†è¾¨ç‡çš„éŸ³é¢‘æ³¢å½¢å›¾æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ffmpeg <span class="token parameter variable">-i</span> output_l.wav <span class="token parameter variable">-filter_complex</span> <span class="token string">"showwavespic=s=1280x240"</span> <span class="token parameter variable">-c:v</span> png <span class="token parameter variable">-y</span> output_l_waveform.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘½ä»¤å‚æ•°è§£é‡Šï¼š<br>| å‘½ä»¤éƒ¨åˆ†                                  | è¯´æ˜                                                         |<br>| â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| ffmpeg                                    | FFmpeg æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†å¤šåª’ä½“æ–‡ä»¶çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒéŸ³é¢‘å’Œè§†é¢‘çš„è½¬æ¢ã€å¤„ç†å’Œæ»¤é•œåº”ç”¨ã€‚ |<br>| -i output_l.wav                           | -i å‚æ•°æŒ‡å®šè¾“å…¥æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯ output_l.wavï¼Œä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶ï¼ˆé€šå¸¸ä¸º WAV æ ¼å¼ï¼‰ã€‚FFmpeg å°†ä½¿ç”¨æ­¤æ–‡ä»¶ä½œä¸ºå¤„ç†æºã€‚ |<br>| -filter_complex â€œshowwavespic=s=1280x240â€ | -filter_complex ç”¨äºåº”ç”¨å¤æ‚çš„æ»¤é•œå¤„ç†ã€‚ ä½¿ç”¨ showwavespic æ»¤é•œï¼Œä»éŸ³é¢‘ç”Ÿæˆæ³¢å½¢å›¾ã€‚ showwavespic ç”Ÿæˆä¸€å¼ è¡¨ç¤ºéŸ³é¢‘æ³¢å½¢çš„é™æ€å›¾åƒã€‚ s=1280x240 è®¾ç½®è¾“å‡ºå›¾åƒåˆ†è¾¨ç‡ä¸º 1280 åƒç´ å®½ã€240 åƒç´ é«˜ã€‚ |<br>| -c:v png                                  | -c:v æŒ‡å®šè¾“å‡ºè§†é¢‘çš„ç¼–ç æ ¼å¼ï¼Œè¿™é‡Œä½¿ç”¨ pngï¼Œè¡¨ç¤ºè¾“å‡ºä¸ºä¸€å¼  PNG å›¾åƒã€‚ PNG æ˜¯ä¸€ç§æ— æŸå›¾åƒæ ¼å¼ï¼Œéå¸¸é€‚åˆä¿å­˜æ³¢å½¢å›¾ã€‚ |<br>| -y                                        | -y å‚æ•°æŒ‡ç¤º FFmpeg å¦‚æœè¾“å‡ºæ–‡ä»¶ï¼ˆoutput_l_waveform.pngï¼‰å·²å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨è¦†ç›–ï¼Œæ— éœ€ç”¨æˆ·ç¡®è®¤ã€‚ |<br>| output_l_waveform.png                     | è¾“å‡ºæ–‡ä»¶çš„åç§°ï¼Œç”Ÿæˆä¸€å¼ åŒ…å«è¾“å…¥éŸ³é¢‘æ³¢å½¢å¯è§†åŒ–çš„ PNG å›¾åƒã€‚  |</p><p>ï¼ˆ3ï¼‰ã€<code>simplest_pcm16le_to_pcm8</code>å‡½æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>fp<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">short</span> <span class="token operator">*</span>samplenum16<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> samplenum8<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> samplenum8_u<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">//(-32768-32767)</span>    samplenum16<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">short</span> <span class="token operator">*</span><span class="token punctuation">)</span>sample<span class="token punctuation">;</span>    samplenum8<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">*</span>samplenum16<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">8</span><span class="token punctuation">;</span>    <span class="token comment">//(0-255)</span>    samplenum8_u<span class="token operator">=</span>samplenum8<span class="token operator">+</span><span class="token number">128</span><span class="token punctuation">;</span>    <span class="token comment">//L</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>samplenum8_u<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>        samplenum16<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">short</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>sample<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    samplenum8<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">*</span>samplenum16<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">8</span><span class="token punctuation">;</span>    samplenum8_u<span class="token operator">=</span>samplenum8<span class="token operator">+</span><span class="token number">128</span><span class="token punctuation">;</span>    <span class="token comment">//R</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>samplenum8_u<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>    cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥å‡½æ•°åªå°†å·¦ã€å³å£°é“çš„16-bitä¿¡æ¯çš„é«˜å…«ä½å­—èŠ‚ä¿ç•™ä¸‹æ¥ï¼ŒåŒæ—¶ä¿®æ­£äº†<code>while(!feof(fp))</code>å¯èƒ½å¤šè¯»ä¸€å¸§çš„é£é™©ã€‚</p><p>è¿™é‡Œè§£é‡Šä¸ºä»€ä¹ˆä¿ç•™é«˜å…«ä½ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ä½å…«ä½ä¿¡æ¯ï¼š</p><p>åœ¨è½¬æ¢ä¸ºshortå‹æ•°æ®ä¹‹åï¼Œé«˜å…«ä½ä¿¡æ¯å†³å®šäº†æ³¢å½¢çš„å¤§è‡´è½®å»“ï¼ˆ<strong>æ•´ä½“å½¢çŠ¶å’Œæ–¹å‘</strong>ï¼‰ï¼Œä½å…«ä½å†³å®šæ³¢å½¢çš„ç»†èŠ‚ã€å¾®å°å˜åŒ–ï¼ˆ<strong>ç²¾ç»†ç»“æ„</strong>ï¼‰ï¼Œè¿™æ ·ä¿ç•™è™½ç„¶å¤±çœŸï¼Œä½†æ˜¯ä¾æ—§å¯ä»¥å¬æ¸…æ¥šåŸå§‹éŸ³é¢‘ï¼Œè€Œä¿ç•™ä½å…«ä½å°±åªå‰©ä¸‹å¾®å°æŠ–åŠ¨ï¼Œæ²¡æœ‰äº†ä¸»ä¿¡æ¯ï¼Œæ˜¯ä¸å¯å–çš„ã€‚</p><p>ï¼ˆ4ï¼‰ã€<code>simplest_pcm16le_to_wave</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°åŸå§‹ä»£ç ä¼šå‡ºç°è½¬ç é”™è¯¯ï¼Œæœ‰BUGï¼Œæ”¹æ­£åçš„ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span>push<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></span></span><span class="token keyword">struct</span> <span class="token class-name">WAVE_HEADER</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> fccID<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token comment">// "RIFF"</span>    <span class="token keyword">uint32_t</span> dwSize<span class="token punctuation">;</span>     <span class="token comment">// æ–‡ä»¶æ€»é•¿åº¦ - 8</span>    <span class="token keyword">char</span> fccType<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// "WAVE"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">WAVE_FMT</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> fccID<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment">// "fmt "</span>    <span class="token keyword">uint32_t</span> dwSize<span class="token punctuation">;</span>        <span class="token comment">// å›ºå®šä¸º 16</span>    <span class="token keyword">uint16_t</span> wFormatTag<span class="token punctuation">;</span>    <span class="token comment">// 1 = PCM</span>    <span class="token keyword">uint16_t</span> wChannels<span class="token punctuation">;</span>     <span class="token comment">// é€šé“æ•°</span>    <span class="token keyword">uint32_t</span> dwSamplesPerSec<span class="token punctuation">;</span>   <span class="token comment">// é‡‡æ ·ç‡</span>    <span class="token keyword">uint32_t</span> dwAvgBytesPerSec<span class="token punctuation">;</span> <span class="token comment">// æ¯ç§’å­—èŠ‚æ•°</span>    <span class="token keyword">uint16_t</span> wBlockAlign<span class="token punctuation">;</span>       <span class="token comment">// ä¸€ä¸ªé‡‡æ ·å¸§çš„å¤§å°</span>    <span class="token keyword">uint16_t</span> uiBitsPerSample<span class="token punctuation">;</span>   <span class="token comment">// æ¯ä¸ªæ ·æœ¬çš„ä½æ•°</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">WAVE_DATA</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> fccID<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token comment">// "data"</span>    <span class="token keyword">uint32_t</span> dwSize<span class="token punctuation">;</span>     <span class="token comment">// æ•°æ®å—å¤§å°ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span>pop<span class="token punctuation">)</span></span></span><span class="token comment">/** * Convert PCM16LE raw data to WAVE format * @param pcmpath      Input PCM file. * @param channels     Channel number of PCM file. * @param sample_rate  Sample rate of PCM file. * @param wavepath     Output WAVE file. */</span><span class="token keyword">int</span> <span class="token function">simplest_pcm16le_to_wave</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>pcmpath<span class="token punctuation">,</span><span class="token keyword">int</span> channels<span class="token punctuation">,</span><span class="token keyword">int</span> sample_rate<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>wavepath<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>channels<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>sample_rate<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>channels <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>sample_rate <span class="token operator">=</span> <span class="token number">44100</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token keyword">int</span> bits_per_sample <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span><span class="token keyword">unsigned</span> <span class="token keyword">short</span> m_pcmData<span class="token punctuation">;</span>    FILE <span class="token operator">*</span>fpcm<span class="token punctuation">,</span><span class="token operator">*</span>fpout<span class="token punctuation">;</span>fpcm<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span>pcmpath<span class="token punctuation">,</span><span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>fpcm <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Open pcm file error\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fpcm<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>fpout<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span>wavepath<span class="token punctuation">,</span><span class="token string">"wb+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>fpout <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Create wav file error\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fpout<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//WAVE_HEADER</span>WAVE_HEADER pcmHEADER<span class="token punctuation">;</span>    <span class="token function">memcpy</span><span class="token punctuation">(</span>pcmHEADER<span class="token punctuation">.</span>fccID<span class="token punctuation">,</span><span class="token string">"RIFF"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"RIFF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">uint32_t</span> riff_size_placeholder <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pcmHEADER<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> riff_size_placeholder<span class="token punctuation">;</span>    <span class="token function">memcpy</span><span class="token punctuation">(</span>pcmHEADER<span class="token punctuation">.</span>fccType<span class="token punctuation">,</span><span class="token string">"WAVE"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"WAVE"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//WAVE_FMT</span>WAVE_FMT pcmFMT<span class="token punctuation">;</span><span class="token function">memcpy</span><span class="token punctuation">(</span>pcmFMT<span class="token punctuation">.</span>fccID<span class="token punctuation">,</span><span class="token string">"fmt "</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"fmt "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>wFormatTag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>wChannels <span class="token operator">=</span> channels<span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>dwSamplesPerSec <span class="token operator">=</span> sample_rate<span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>dwAvgBytesPerSec <span class="token operator">=</span> sample_rate <span class="token operator">*</span> channels <span class="token operator">*</span> bits_per_sample <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>wBlockAlign <span class="token operator">=</span> channels <span class="token operator">*</span> bits_per_sample <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>    pcmFMT<span class="token punctuation">.</span>uiBitsPerSample <span class="token operator">=</span> bits_per_sample<span class="token punctuation">;</span>        <span class="token comment">//WAVE_DATA;</span>WAVE_DATA pcmDATA<span class="token punctuation">;</span>    <span class="token function">memcpy</span><span class="token punctuation">(</span>pcmDATA<span class="token punctuation">.</span>fccID<span class="token punctuation">,</span><span class="token string">"data"</span><span class="token punctuation">,</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pcmDATA<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// ç»Ÿä¸€å†™å…¥</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pcmHEADER<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pcmFMT<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_FMT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pcmDATA<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_DATA<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> buffer<span class="token punctuation">[</span><span class="token number">4096</span><span class="token punctuation">]</span><span class="token punctuation">;</span>size_t bytes_read<span class="token punctuation">,</span> total_data_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>bytes_read <span class="token operator">=</span> <span class="token function">fread</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">,</span> fpcm<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">fwrite</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> bytes_read<span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span>        total_data_size <span class="token operator">+=</span> bytes_read<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    pcmHEADER<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_HEADER<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_FMT<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_DATA<span class="token punctuation">)</span> <span class="token operator">+</span> pcmDATA<span class="token punctuation">.</span>dwSize <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">;</span>pcmDATA<span class="token punctuation">.</span>dwSize <span class="token operator">=</span> total_data_size<span class="token punctuation">;</span><span class="token function">fseek</span><span class="token punctuation">(</span>fpout<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">SEEK_SET</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pcmHEADER<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fseek</span><span class="token punctuation">(</span>fpout<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_HEADER<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_FMT<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">SEEK_SET</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pcmDATA<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>WAVE_DATA<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fpout<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fclose</span><span class="token punctuation">(</span>fpcm<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fclose</span><span class="token punctuation">(</span>fpout<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ç»“æ„ä½“çš„å£°æ˜é˜¶æ®µï¼Œè¿˜ä½¿ç”¨äº†<code>#pragma pack</code>ï¼Œè¿™æ˜¯ç”±äº<code>struct</code> ç»“æ„ä½“å¯èƒ½ä¼šè‡ªåŠ¨å¡«å……å¯¹é½å­—èŠ‚ï¼ŒåŠ å…¥è¿™ä¸ª<code>#pragma pack</code>ç»“æ„ï¼Œå¼ºåˆ¶ä¸ºå•å­—èŠ‚å¡«å……ï¼Œè®©WAVçš„æ–‡ä»¶å¤´æ ¼å¼çš„æ¯ä¸ªå­—æ®µéƒ½æœ‰å›ºå®šçš„å¤§å°å’Œä½ç½®ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šå¯¹ç»“æ„ä½“æˆå‘˜è¿›è¡Œå†…å­˜å¯¹é½æ“ä½œã€‚</p><blockquote><p><code>#pragma pack</code> æ˜¯ä¸€ä¸ªé¢„å¤„ç†æŒ‡ä»¤ï¼Œç”¨äºæŒ‡å®šæ•°æ®åœ¨å†…å­˜ä¸­çš„å¯¹é½æ–¹å¼ï¼Œpush æ˜¯å°†åŸæ¥çš„ä»£ç çš„å¯¹é½æ–¹å¼å‹æ ˆä¿å­˜ï¼Œpop æ˜¯æ¢å¤åŸæœ¬çš„å¯¹é½æ–¹å¼ã€‚</p></blockquote><hr><h3 id="3-H-264è§†é¢‘ç æµè§£æ"><a href="#3-H-264è§†é¢‘ç æµè§£æ" class="headerlink" title="3. H.264è§†é¢‘ç æµè§£æ"></a>3. H.264è§†é¢‘ç æµè§£æ</h3><p>H.264æ˜¯ä¸€ç§å¯¹è§†é¢‘è¿›è¡Œç¼–è§£ç çš„æ ‡å‡†ï¼Œç”¨äºå°†è§†é¢‘æ•°æ®è¿›è¡Œå‹ç¼©ã€‚å®ƒæ˜¯ç”±ä¸€ä¸ªä¸ªNALUç»„æˆçš„ï¼Œæ¯ä¸€ä¸ªNALUä¹‹é—´é€šè¿‡èµ·å§‹ç è¿›è¡Œåˆ†å‰²ã€‚å¯¹è§†é¢‘æ•°æ®å‹ç¼©æ—¶ï¼ŒH.264ä½¿ç”¨Iå¸§ã€På¸§ã€Bå¸§çš„æ–¹å¼ï¼ŒIå¸§å¯ä»¥ç†è§£ä¸ºå…³é”®å¸§ï¼ˆå¸§å†…å‹ç¼©ï¼‰ï¼ŒPå¸§è¡¨ç¤ºçš„æ˜¯è¿™ä¸€å¸§è·Ÿä¹‹å‰çš„ä¸€ä¸ªå…³é”®å¸§ï¼ˆæˆ–På¸§ï¼‰çš„å·®åˆ«ï¼ŒBå¸§æ˜¯åŒå‘å·®åˆ«å¸§ï¼Œä¹Ÿå°±æ˜¯Bå¸§è®°å½•çš„æ˜¯æœ¬å¸§ä¸å‰åå¸§çš„å·®åˆ«ï¼ˆå…·ä½“æ¯”è¾ƒå¤æ‚ï¼Œæœ‰4ç§æƒ…å†µï¼‰ã€‚</p><p>è¯¦ç»†ä»‹ç»ï¼š<a href="https://github.com/dreamsxin/example/blob/master/codec/H.264%E8%A7%86%E9%A2%91%E7%A0%81%E6%B5%81%E8%A7%A3%E6%9E%90.md">H.264è§†é¢‘ç æµè§£æ</a></p><hr><h3 id="4-AAC"><a href="#4-AAC" class="headerlink" title="4. AAC"></a>4. AAC</h3><p>AACåŸå§‹ç æµæ˜¯ç”±ä¸€ä¸ªä¸ªçš„ADTS <a href="https://so.csdn.net/so/search?q=frame&amp;spm=1001.2101.3001.7020">frame</a>ï¼ˆéŸ³é¢‘æ•°æ®ä¼ è¾“æµå¸§ï¼‰ç»„æˆçš„ï¼›æ¯ä¸€å¸§ç”±ADTSå¤´ï¼ˆADTS Headerï¼‰å’ŒåŸå§‹æ•°æ®å—ï¼ˆADTS ESï¼‰ç»„æˆã€‚</p><p>è¯¦ç»†ä»‹ç»ï¼š<a href="https://blog.csdn.net/weixin_43796767/article/details/116071306">AACéŸ³é¢‘ç æµè§£æ</a></p><hr><h3 id="5-FLVå°è£…æ ¼å¼è§£æ"><a href="#5-FLVå°è£…æ ¼å¼è§£æ" class="headerlink" title="5. FLVå°è£…æ ¼å¼è§£æ"></a>5. FLVå°è£…æ ¼å¼è§£æ</h3><p>FLVï¼ˆFLash Videoï¼‰æ˜¯ä¸€ç§ç½‘ç»œè§†é¢‘æ ¼å¼ï¼Œç”¨ä½œæµåª’ä½“æ ¼å¼ï¼Œä¾èµ–äº Adobe Flash æ’ä»¶è¿›è¡Œè§£æä¸æ’­æ”¾ã€‚ä½†æ˜¯æ¸æ¸çš„è¢«æŠ›å¼ƒäº†ï¼Œç°å·²è¢«æ›´åŠ å¼€æ”¾ã€å…¼å®¹æ€§æ›´å¼ºçš„ HTML5 è§†é¢‘æŠ€æœ¯æ‰€æ›¿ä»£ã€‚</p><p>æ€»ä½“ä¸Šçœ‹ï¼ŒFLVåŒ…æ‹¬æ–‡ä»¶å¤´ï¼ˆFile Headerï¼‰å’Œæ–‡ä»¶ä½“ï¼ˆFile Bodyï¼‰ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­æ–‡ä»¶ä½“ç”±ä¸€ç³»åˆ—çš„Tagç»„æˆã€‚å…¶ä¸­ï¼Œæ¯ä¸ªTagå‰é¢è¿˜åŒ…å«äº†Previous Tag Sizeå­—æ®µï¼Œè¡¨ç¤ºå‰é¢ä¸€ä¸ªTagçš„å¤§å°ã€‚Tagçš„ç±»å‹å¯ä»¥æ˜¯è§†é¢‘ã€éŸ³é¢‘å’ŒScriptï¼Œæ¯ä¸ªTagåªèƒ½åŒ…å«ä»¥ä¸Šä¸‰ç§ç±»å‹çš„æ•°æ®ä¸­çš„ä¸€ç§ã€‚</p><p>è¯¦ç»†ä»‹ç»ï¼š<a href="https://blog.csdn.net/leixiaohua1020/article/details/17934487">FLVå°è£…æ ¼å¼</a>ã€<a href="https://ffmpeg.xianwaizhiyin.net/base-knowledge/mux-flv.html">FLVå°è£…æ ¼å¼â€”éŸ³è§†é¢‘åŸºç¡€çŸ¥è¯†</a></p><p>ç”±äºåŸæ¥çš„ä»£ç ç»“æ„å¹¶æ²¡æœ‰é‚£ä¹ˆæ¸…æ™°ï¼Œæ‰€ä»¥æˆ‘ä¼˜åŒ–äº†ä»£ç ç»“æ„ï¼Œsimplest_mediadata_flv.cppã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TAG_TYPE_AUDIO</span> <span class="token expression"><span class="token number">8</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TAG_TYPE_VIDEO</span> <span class="token expression"><span class="token number">9</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TAG_TYPE_SCRIPT</span> <span class="token expression"><span class="token number">18</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span></span><span class="token keyword">struct</span> <span class="token class-name">FLV_HEADER</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">uint8_t</span> signature<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> version<span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> flags<span class="token punctuation">;</span> <span class="token comment">// TypeFlagsReserved(5 bits)+TypeFlagsAudio(1 bit)+TypeFlagsReserved(1 bit)+TypeFlagsVideo(1 bit)</span>    <span class="token keyword">uint32_t</span> header_size<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span><span class="token keyword">uint8_t</span> TagType<span class="token punctuation">;</span><span class="token keyword">uint8_t</span> DataSize<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">uint8_t</span> Timestamp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> TimestampExtended<span class="token punctuation">;</span><span class="token keyword">uint8_t</span> StreamID<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// stream id</span><span class="token punctuation">&#125;</span> TAG_HEADER<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span><span class="token keyword">uint32_t</span> <span class="token function">reverse_byte</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span><span class="token operator">*</span> p<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">uint32_t</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">uint32_t</span> shift <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token punctuation">(</span>len <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> shift<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">print_flv_header</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span> out<span class="token punctuation">,</span> FLV_HEADER <span class="token operator">*</span> flv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"============== FLV Header ==============\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"Signature:  0x %c %c %c\n"</span><span class="token punctuation">,</span> flv<span class="token operator">-></span>signature<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> flv<span class="token operator">-></span>signature<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> flv<span class="token operator">-></span>signature<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"Version:    0x %X\n"</span><span class="token punctuation">,</span> flv<span class="token operator">-></span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"Flags:      0x %X\n"</span><span class="token punctuation">,</span> flv<span class="token operator">-></span>flags<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"HeaderSize: 0x %X\n"</span><span class="token punctuation">,</span> <span class="token function">reverse_byte</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>flv<span class="token operator">-></span>header_size<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>flv<span class="token operator">-></span>header_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"========================================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">print_tag_info</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span> out<span class="token punctuation">,</span> TAG_HEADER <span class="token operator">*</span>tag_header<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string tag_type<span class="token punctuation">;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>tag_header<span class="token operator">-></span>TagType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> TAG_TYPE_SCRIPT<span class="token operator">:</span> tag_type <span class="token operator">=</span> <span class="token string">"SCRIPT"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> TAG_TYPE_AUDIO<span class="token operator">:</span> tag_type <span class="token operator">=</span> <span class="token string">"AUDI0"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> TAG_TYPE_VIDEO<span class="token operator">:</span> tag_type <span class="token operator">=</span> <span class="token string">"VIDEO"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> tag_type <span class="token operator">=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> data_size <span class="token operator">=</span> <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span>                    <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">+</span>                    tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> timestamp <span class="token operator">=</span> <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>Timestamp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span>                    <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>Timestamp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">+</span>                    tag_header<span class="token operator">-></span>Timestamp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    timestamp <span class="token operator">|=</span> <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>TimestampExtended <span class="token operator">&lt;&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"[%6s] %6d %6d |"</span><span class="token punctuation">,</span> tag_type<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data_size<span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">process_audio_tag</span><span class="token punctuation">(</span>FILE <span class="token operator">*</span>in_file<span class="token punctuation">,</span> FILE <span class="token operator">*</span>audio_file<span class="token punctuation">,</span> TAG_HEADER <span class="token operator">*</span>tag_header<span class="token punctuation">,</span> FILE <span class="token operator">*</span>out<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string audio_tag<span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> first_byte <span class="token operator">=</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> audio_format <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0xF0</span><span class="token punctuation">;</span>    audio_format <span class="token operator">>>=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sample_rate <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0x0c</span><span class="token punctuation">;</span>    sample_rate <span class="token operator">>>=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sample_size <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0x02</span><span class="token punctuation">;</span>    sample_size <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> channel <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0x01</span><span class="token punctuation">;</span>    audio_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>audio_format<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Linear PCM, platform endian"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"ADPCM"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"MP3"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Linear PCM, little endian"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Nellymoser 16-kHz mono"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Nellymoser 8-kHz mono"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Nellymoser"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"G.711 A-law logarithmic PCM"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"G.711 mu-law logarithmic PCM"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"reserved"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"AAC"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">11</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Speex"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">14</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"MP3 8-Khz"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">15</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Device-specific sound"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    audio_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>sample_rate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"5.5-kHz"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"1-kHz"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"22-kHz"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"44-kHz"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    audio_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>sample_size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"8 bit"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"16 bit"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    audio_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Mono"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"Stereo"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> audio_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> audio_tag<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> data_size <span class="token operator">=</span> <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span>                    <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span>                    tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>audio_file <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">fputc</span><span class="token punctuation">(</span>first_byte<span class="token punctuation">,</span> audio_file<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å†™å…¥ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼ˆéŸ³é¢‘ä¿¡æ¯ï¼‰</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data_size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">fputc</span><span class="token punctuation">(</span><span class="token function">fgetc</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">,</span> audio_file<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">fseek</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> data_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å·²è¯»1å­—èŠ‚</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">process_video_tag</span><span class="token punctuation">(</span>FILE <span class="token operator">*</span>in_file<span class="token punctuation">,</span> FILE <span class="token operator">*</span>video_file<span class="token punctuation">,</span> TAG_HEADER <span class="token operator">*</span>tag_header<span class="token punctuation">,</span> FLV_HEADER <span class="token operator">*</span>flv<span class="token punctuation">,</span> FILE <span class="token operator">*</span>out<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string video_tag<span class="token punctuation">;</span>    u_char first_byte <span class="token operator">=</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> frame_type <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0xF0</span><span class="token punctuation">;</span>    frame_type <span class="token operator">>>=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> codec_id <span class="token operator">=</span> first_byte <span class="token operator">&amp;</span> <span class="token number">0x0F</span><span class="token punctuation">;</span>    video_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>frame_type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"key frame "</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"inter frame "</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"disposable inter frame "</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"generated keyframe"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"video info/frame frame"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        video_tag <span class="token operator">+=</span> <span class="token string">"| "</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>codec_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"JPEG (currently unused)"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"Sorenson H.263"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"Screen video"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"On2 VP6"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"On2 VP6 with alpha channel"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"Screen video version 2"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"AVC"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span> video_tag <span class="token operator">+=</span> <span class="token string">"UNKNOWN"</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">fprintf</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> video_tag<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fseek</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    size_t data_size <span class="token operator">=</span> <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span>                    <span class="token punctuation">(</span>tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span>                    tag_header<span class="token operator">-></span>DataSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>video_file <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">fwrite</span><span class="token punctuation">(</span>tag_header<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TAG_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data_size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">fputc</span><span class="token punctuation">(</span><span class="token function">fgetc</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">,</span> video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">uint32_t</span> prev_tag_size <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TAG_HEADER<span class="token punctuation">)</span> <span class="token operator">+</span> data_size<span class="token punctuation">;</span>        <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>prev_tag_size<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>prev_tag_size<span class="token punctuation">)</span><span class="token punctuation">,</span> video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">fseek</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> data_size<span class="token punctuation">,</span> <span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">simplest_flv_parser1</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> output_a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> output_v <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    FILE <span class="token operator">*</span>in_file <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token operator">*</span>video_file <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token operator">*</span>audio_file <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    FILE <span class="token operator">*</span>myout <span class="token operator">=</span> <span class="token constant">stdout</span><span class="token punctuation">;</span>    FLV_HEADER flv<span class="token punctuation">;</span>    TAG_HEADER tag_header<span class="token punctuation">;</span>    <span class="token keyword">uint32_t</span> previous_tag_size<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>in_file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">fprintf</span><span class="token punctuation">(</span>myout<span class="token punctuation">,</span> <span class="token string">"Cannot open input file: %s\n"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>flv<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>FLV_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> in_file<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>FLV_HEADER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">fprintf</span><span class="token punctuation">(</span>myout<span class="token punctuation">,</span> <span class="token string">"Failed to read flvheader.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">fclose</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">print_flv_header</span><span class="token punctuation">(</span>myout<span class="token punctuation">,</span> <span class="token operator">&amp;</span>flv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fseek</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> <span class="token function">reverse_byte</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>flv<span class="token punctuation">.</span>header_size<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>flv<span class="token punctuation">.</span>header_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">SEEK_SET</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>previous_tag_size<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>previous_tag_size<span class="token punctuation">)</span><span class="token punctuation">,</span> in_file<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>previous_tag_size<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tag_header<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TAG_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> in_file<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TAG_HEADER<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">print_tag_info</span><span class="token punctuation">(</span>myout<span class="token punctuation">,</span> <span class="token operator">&amp;</span>tag_header<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>tag_header<span class="token punctuation">.</span>TagType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> TAG_TYPE_AUDIO<span class="token operator">:</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>output_a <span class="token operator">&amp;&amp;</span> audio_file <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    audio_file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"output.mp3"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token function">process_audio_tag</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> audio_file<span class="token punctuation">,</span> <span class="token operator">&amp;</span>tag_header<span class="token punctuation">,</span> myout<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> TAG_TYPE_VIDEO<span class="token operator">:</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>output_v <span class="token operator">&amp;&amp;</span> video_file <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    video_file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"output.flv"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>video_file<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>flv<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>FLV_HEADER<span class="token punctuation">)</span><span class="token punctuation">,</span> video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">uint32_t</span> header_tag_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                        <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>header_tag_size<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>header_tag_size<span class="token punctuation">)</span><span class="token punctuation">,</span> video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token function">process_video_tag</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> video_file<span class="token punctuation">,</span> <span class="token operator">&amp;</span>tag_header<span class="token punctuation">,</span> <span class="token operator">&amp;</span>flv<span class="token punctuation">,</span> myout<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span><span class="token operator">:</span>                <span class="token keyword">int</span> skip_size <span class="token operator">=</span> <span class="token punctuation">(</span>tag_header<span class="token punctuation">.</span>DataSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span>                                <span class="token punctuation">(</span>tag_header<span class="token punctuation">.</span>DataSize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">|</span>                                tag_header<span class="token punctuation">.</span>DataSize<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token function">fseek</span><span class="token punctuation">(</span>in_file<span class="token punctuation">,</span> skip_size<span class="token punctuation">,</span> <span class="token constant">SEEK_CUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">fprintf</span><span class="token punctuation">(</span>myout<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>video_file <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token function">fclose</span><span class="token punctuation">(</span>video_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>audio_file <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token function">fclose</span><span class="token punctuation">(</span>audio_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>in_file <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token function">fclose</span><span class="token punctuation">(</span>in_file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr>]]></content>
      
      
      <categories>
          
          <category> éŸ³è§†é¢‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éŸ³è§†é¢‘åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ–‡ä»¶æè¿°ç¬¦</title>
      <link href="/2024/12/29/linux-wen-jian-miao-shu-fu/"/>
      <url>/2024/12/29/linux-wen-jian-miao-shu-fu/</url>
      
        <content type="html"><![CDATA[<h2 id="Linuxæ–‡ä»¶æè¿°ç¬¦"><a href="#Linuxæ–‡ä»¶æè¿°ç¬¦" class="headerlink" title="Linuxæ–‡ä»¶æè¿°ç¬¦"></a>Linuxæ–‡ä»¶æè¿°ç¬¦</h2><p>Linux ç³»ç»Ÿä¸­ï¼ŒæŠŠä¸€åˆ‡éƒ½çœ‹åšæ˜¯æ–‡ä»¶ï¼Œå½“è¿›ç¨‹æ‰“å¼€ç°æœ‰æ–‡ä»¶æˆ–åˆ›å»ºæ–°æ–‡ä»¶æ—¶ï¼Œå†…æ ¸å‘è¿›ç¨‹è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼Œfdï¼‰[1, 4]ï¼Œåœ¨windowsä¸‹é¢ï¼Œè¿™ç©æ„å„¿å«file handleï¼Œå¥æŸ„ã€‚</p><p>æ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptorï¼‰å°±æ˜¯å†…æ ¸ä¸ºäº†é«˜æ•ˆç®¡ç†è¿™äº›å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶æ‰€åˆ›å»ºçš„ç´¢å¼•ï¼Œå…¶æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼ˆé€šå¸¸æ˜¯å°æ•´æ•°ï¼‰ï¼Œç”¨äºæŒ‡ä»£è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ‰§è¡ŒI/Oæ“ä½œçš„ç³»ç»Ÿè°ƒç”¨éƒ½é€šè¿‡æ–‡ä»¶æè¿°ç¬¦æ¥å®ç°ã€‚åŒæ—¶è¿˜è§„å®šç³»ç»Ÿåˆšåˆšå¯åŠ¨çš„æ—¶å€™ï¼Œ0æ˜¯æ ‡å‡†è¾“å…¥ï¼Œ1æ˜¯æ ‡å‡†è¾“å‡ºï¼Œ2æ˜¯æ ‡å‡†é”™è¯¯ã€‚è¿™æ„å‘³ç€å¦‚æœæ­¤æ—¶å»æ‰“å¼€ä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå®ƒçš„æ–‡ä»¶æè¿°ç¬¦ä¼šæ˜¯3ï¼Œå†æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ–‡ä»¶æè¿°ç¬¦å°±æ˜¯4â€¦â€¦[2]ã€‚</p><p>å¯ä»¥ç®€å•ç†è§£æˆç³»ç»Ÿç»´æŠ¤çš„æ–‡ä»¶æè¿°ç¬¦è¡¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸‹æ ‡å°±æ˜¯ç´¢å¼•ï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰ï¼Œæ•°ç»„å†…å®¹å°±æ˜¯ä¸€ä¸ªä¸ªæŒ‡å‘æ–‡ä»¶çš„æŒ‡é’ˆï¼ˆå¦‚0 -&gt; stdinï¼Œ1 -&gt; stdoutï¼Œ2-&gt; stderrï¼‰ã€‚</p><p>æŒæ¡å®ƒï¼Œæœ‰åŠ©äºæ·±å…¥ç†è§£ Linux æ–‡ä»¶ç³»ç»Ÿã€I/O æ“ä½œï¼Œ<br>ä»¥åŠè¿›ç¨‹é—´é€šä¿¡ï¼ˆå¦‚<strong>ç®¡é“ï¼ˆpipeï¼‰</strong>ã€<strong>å¥—æ¥å­—ï¼ˆSocketï¼‰</strong>ï¼‰çš„å®ç°ï¼Œå¯ä»¥å»Ubuntuç³»ç»Ÿä¸­ç®€å•å®Œæˆä¸‹é¢çš„ä¾‹å­ã€‚&lt;(ï¿£ï¸¶ï¿£)â†—[GO!]</p><h2 id="ç”¨æˆ·ç¨‹åºä¸å†…æ ¸äº¤äº’çš„åŸºæœ¬è¿‡ç¨‹"><a href="#ç”¨æˆ·ç¨‹åºä¸å†…æ ¸äº¤äº’çš„åŸºæœ¬è¿‡ç¨‹" class="headerlink" title="ç”¨æˆ·ç¨‹åºä¸å†…æ ¸äº¤äº’çš„åŸºæœ¬è¿‡ç¨‹"></a>ç”¨æˆ·ç¨‹åºä¸å†…æ ¸äº¤äº’çš„åŸºæœ¬è¿‡ç¨‹</h2><h3 id="1-æ‰“å¼€æ–‡ä»¶"><a href="#1-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="1. æ‰“å¼€æ–‡ä»¶"></a>1. æ‰“å¼€æ–‡ä»¶</h3><p>å½“ä¸€ä¸ªç”¨æˆ·ç¨‹åºéœ€è¦è®¿é—®æŸä¸ªæ–‡ä»¶æ—¶ï¼Œå®ƒä¼šé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ open()ï¼‰è¯·æ±‚å†…æ ¸æ‰“å¼€è¯¥æ–‡ä»¶ã€‚<br>å†…æ ¸ä¼šæ ¹æ®æ–‡ä»¶è·¯å¾„åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¹¶ä¸ºè¯¥æ–‡ä»¶åˆ†é…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶åœ¨å†…æ ¸ä¸­çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚<br>å†…æ ¸ç»´æŠ¤ç€ä¸€ä¸ªå«åš æ–‡ä»¶è¡¨ï¼ˆfile tableï¼‰çš„æ•°æ®ç»“æ„ï¼Œæ–‡ä»¶æè¿°ç¬¦å®é™…ä¸Šå°±æ˜¯å¯¹è¿™ä¸ªè¡¨ä¸­çš„ä¸€ä¸ªæ¡ç›®çš„å¼•ç”¨ã€‚</p><h3 id="2-ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦è¯»å†™æ–‡ä»¶"><a href="#2-ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦è¯»å†™æ–‡ä»¶" class="headerlink" title="2. ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦è¯»å†™æ–‡ä»¶"></a>2. ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦è¯»å†™æ–‡ä»¶</h3><p>ç”¨æˆ·ç¨‹åºä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦æ¥è¿›è¡Œåç»­çš„æ–‡ä»¶æ“ä½œã€‚ä¾‹å¦‚ï¼š<br>è¯»å–æ–‡ä»¶ï¼šç”¨æˆ·ç¨‹åºè°ƒç”¨ read(fd, â€¦) ç³»ç»Ÿè°ƒç”¨ï¼Œå†…æ ¸é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ fd æŸ¥æ‰¾å¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶ä»ç£ç›˜ä¸­è¯»å–æ•°æ®ï¼Œå°†æ•°æ®è¿”å›ç»™ç”¨æˆ·ç¨‹åºã€‚<br>å†™å…¥æ–‡ä»¶ï¼šç”¨æˆ·ç¨‹åºè°ƒç”¨ write(fd, â€¦) ç³»ç»Ÿè°ƒç”¨ï¼Œå†…æ ¸é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ fd æŸ¥æ‰¾æ–‡ä»¶ï¼Œå‘æ–‡ä»¶ä¸­å†™å…¥æ•°æ®ã€‚<br>æ–‡ä»¶æè¿°ç¬¦ä½¿å¾—å†…æ ¸èƒ½å¤Ÿè¯†åˆ«å“ªä¸ªæ–‡ä»¶éœ€è¦è¢«æ“ä½œï¼Œä»è€Œå®ç°æ–‡ä»¶ä¸ç¨‹åºçš„äº¤äº’ã€‚</p><h3 id="3-æ–‡ä»¶æè¿°ç¬¦ä¸æ–‡ä»¶è¡¨"><a href="#3-æ–‡ä»¶æè¿°ç¬¦ä¸æ–‡ä»¶è¡¨" class="headerlink" title="3. æ–‡ä»¶æè¿°ç¬¦ä¸æ–‡ä»¶è¡¨"></a>3. æ–‡ä»¶æè¿°ç¬¦ä¸æ–‡ä»¶è¡¨</h3><p>å†…æ ¸é€šè¿‡æ–‡ä»¶æè¿°ç¬¦å’Œæ–‡ä»¶è¡¨æ¥ç®¡ç†å·²æ‰“å¼€çš„æ–‡ä»¶ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ª æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªç´¢å¼•å¯¹åº”ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦æŒ‡å‘å†…æ ¸çš„æ–‡ä»¶è¡¨é¡¹ï¼Œæ¯ä¸ªæ–‡ä»¶è¡¨é¡¹åŒ…å«æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚å½“å‰æ–‡ä»¶æŒ‡é’ˆã€æ–‡ä»¶æƒé™ç­‰ï¼‰ã€‚</p><h3 id="4-æ–‡ä»¶æ“ä½œçš„å†…æ ¸å±‚å¤„ç†"><a href="#4-æ–‡ä»¶æ“ä½œçš„å†…æ ¸å±‚å¤„ç†" class="headerlink" title="4. æ–‡ä»¶æ“ä½œçš„å†…æ ¸å±‚å¤„ç†"></a>4. æ–‡ä»¶æ“ä½œçš„å†…æ ¸å±‚å¤„ç†</h3><p>ç”¨æˆ·ç¨‹åºå’Œå†…æ ¸ä¹‹é—´çš„äº¤äº’é€šå¸¸é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ï¼Œæ–‡ä»¶æè¿°ç¬¦æ˜¯è¿™äº›ç³»ç»Ÿè°ƒç”¨çš„æ¥å£ã€‚å†…æ ¸ä¼šæ ¹æ®æ–‡ä»¶æè¿°ç¬¦æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼š<br>æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šåˆ›å»ºæˆ–æŸ¥æ‰¾è¯¥æ–‡ä»¶çš„å†…æ ¸å¯¹è±¡ï¼Œå¹¶æ›´æ–°æ–‡ä»¶æè¿°ç¬¦ã€‚<br>å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œå†…æ ¸é€šè¿‡æ–‡ä»¶æè¿°ç¬¦åœ¨æ–‡ä»¶è¡¨ä¸­æŸ¥æ‰¾æ–‡ä»¶å¯¹è±¡ï¼Œç„¶åæ‰§è¡Œ I/O æ“ä½œï¼ˆä¾‹å¦‚è¯»å–ç£ç›˜æˆ–å†™å…¥ç£ç›˜ï¼‰ã€‚</p><h3 id="5-å…³é—­æ–‡ä»¶"><a href="#5-å…³é—­æ–‡ä»¶" class="headerlink" title="5. å…³é—­æ–‡ä»¶"></a>5. å…³é—­æ–‡ä»¶</h3><p>å½“ç”¨æˆ·ç¨‹åºå®Œæˆæ–‡ä»¶æ“ä½œåï¼Œå®ƒä¼šé€šè¿‡ç³»ç»Ÿè°ƒç”¨ close(fd) æ¥å…³é—­æ–‡ä»¶æè¿°ç¬¦ã€‚<br>å†…æ ¸ä¼šé‡Šæ”¾æ–‡ä»¶æè¿°ç¬¦æ‰€å ç”¨çš„èµ„æºï¼Œå…³é—­æ–‡ä»¶çš„æ–‡ä»¶è¡¨é¡¹ï¼Œå¹¶æ›´æ–°è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ã€‚</p><h3 id="é€šè¿‡æ–‡ä»¶æè¿°ç¬¦äº¤äº’çš„å…·ä½“ä¾‹å­"><a href="#é€šè¿‡æ–‡ä»¶æè¿°ç¬¦äº¤äº’çš„å…·ä½“ä¾‹å­" class="headerlink" title="é€šè¿‡æ–‡ä»¶æè¿°ç¬¦äº¤äº’çš„å…·ä½“ä¾‹å­"></a>é€šè¿‡æ–‡ä»¶æè¿°ç¬¦äº¤äº’çš„å…·ä½“ä¾‹å­</h3><p>å‡è®¾ä¸€ä¸ªç¨‹åºéœ€è¦ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶è¿›è¡Œå¤„ç†ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">char</span> buffer<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    ssize_t bytesRead <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> buffer<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>bytesRead <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"read"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">write</span><span class="token punctuation">(</span>STDOUT_FILENO<span class="token punctuation">,</span> buffer<span class="token punctuation">,</span> bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ–‡ä»¶æè¿°ç¬¦çš„ä½œç”¨å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤çœ‹åˆ°ï¼š</p><ul><li>æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œ<code>open()</code> ç³»ç»Ÿè°ƒç”¨å°†è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆfdï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦åœ¨å†…æ ¸ä¸­è¡¨ç¤º example.txt æ–‡ä»¶çš„å¥æŸ„ã€‚</li><li>è¯»å–æ–‡ä»¶æ—¶ï¼Œ<code>read()</code> ç³»ç»Ÿè°ƒç”¨ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦ fd æ¥è®¿é—®å†…æ ¸ä¸­çš„æ–‡ä»¶è¡¨é¡¹ï¼Œæ‰§è¡Œ I/O æ“ä½œå¹¶å°†æ–‡ä»¶æ•°æ®è¯»å–åˆ° buffer ä¸­ã€‚</li><li>å†™å…¥æ•°æ®æ—¶ï¼Œé€šè¿‡ <code>write(STDOUT_FILENO, ...)</code> è¾“å‡ºæ•°æ®ï¼ŒSTDOUT_FILENO æ˜¯æ ‡å‡†è¾“å‡ºçš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆé€šå¸¸æ˜¯ 1ï¼‰ã€‚</li><li>å…³é—­æ–‡ä»¶æ—¶ï¼Œ<code>close(fd)</code> ç³»ç»Ÿè°ƒç”¨ä¼šé‡Šæ”¾æ–‡ä»¶æè¿°ç¬¦æ‰€å ç”¨çš„èµ„æºï¼Œå‘ŠçŸ¥å†…æ ¸æ–‡ä»¶å·²ç»å…³é—­ã€‚</li></ul><p>é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ï¼Œç¨‹åºå¯ä»¥ä¸æ“ä½œç³»ç»Ÿå†…æ ¸è¿›è¡Œæœ‰æ•ˆçš„é€šä¿¡ï¼Œå®Œæˆæ–‡ä»¶ç³»ç»Ÿå’Œå…¶ä»– I/O æ“ä½œã€‚</p><h2 id="Linuxä¸ŠæŸ¥çœ‹æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨"><a href="#Linuxä¸ŠæŸ¥çœ‹æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨" class="headerlink" title="Linuxä¸ŠæŸ¥çœ‹æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨"></a>Linuxä¸ŠæŸ¥çœ‹æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨</h2><p>åœ¨ Linux ä¸Šä½¿ç”¨ vim æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡æ–‡ä»¶æè¿°ç¬¦ä¸æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“ä¾‹å­ã€‚</p><h3 id="æ‰“å¼€æ–‡ä»¶ï¼ˆä½¿ç”¨-Vimï¼‰"><a href="#æ‰“å¼€æ–‡ä»¶ï¼ˆä½¿ç”¨-Vimï¼‰" class="headerlink" title="æ‰“å¼€æ–‡ä»¶ï¼ˆä½¿ç”¨ Vimï¼‰"></a>æ‰“å¼€æ–‡ä»¶ï¼ˆä½¿ç”¨ Vimï¼‰</h3><p>é¦–å…ˆï¼Œä½ ä½¿ç”¨ vim æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼ˆä¾‹å¦‚ <code>helloworld.cpp</code>ï¼‰ï¼š<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> helloworld.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br>è¿™æ—¶ï¼ŒVim ä¼šå¯åŠ¨å¹¶æ‰“å¼€ <code>helloworld.cpp</code> æ–‡ä»¶ã€‚åœ¨å†…æ ¸ä¸­ï¼ŒVim ä¼šä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦æ¥ä¸æ–‡ä»¶ç³»ç»Ÿäº¤äº’ï¼Œå³è¯»å–å’Œç¼–è¾‘ <code>helloworld.cpp</code> æ–‡ä»¶çš„å†…å®¹ã€‚</p><hr><h3 id="åœ¨æ–°-Shell-ä¸­æŸ¥æ‰¾-Vim-è¿›ç¨‹çš„-PID"><a href="#åœ¨æ–°-Shell-ä¸­æŸ¥æ‰¾-Vim-è¿›ç¨‹çš„-PID" class="headerlink" title="åœ¨æ–° Shell ä¸­æŸ¥æ‰¾ Vim è¿›ç¨‹çš„ PID"></a>åœ¨æ–° Shell ä¸­æŸ¥æ‰¾ Vim è¿›ç¨‹çš„ PID</h3><p>æ¥ç€ï¼Œä½ å¯ä»¥æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼ˆShellï¼‰ï¼Œé€šè¿‡ <code>pidof</code> å‘½ä»¤è·å–æ­£åœ¨è¿è¡Œçš„ Vim è¿›ç¨‹çš„è¿›ç¨‹ IDï¼ˆPIDï¼‰ï¼š<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pidof <span class="token function">vim</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br>å‡è®¾è¿”å›çš„ PID æ˜¯ <code>40133</code>ï¼Œè¯´æ˜ Vim è¿›ç¨‹çš„è¿›ç¨‹å·æ˜¯ <code>40133</code>ã€‚</p><h3 id="æŸ¥çœ‹-Vim-è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦"><a href="#æŸ¥çœ‹-Vim-è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦" class="headerlink" title="æŸ¥çœ‹ Vim è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦"></a>æŸ¥çœ‹ Vim è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦</h3><p>Linux ç³»ç»Ÿä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ /proc/[pid]/fd ç›®å½•ï¼Œé‡Œé¢åˆ—å‡ºäº†è¯¥è¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ Vim è¿›ç¨‹æ‰€ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ï¼š<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ll /proc/40133/fd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br>è¿™é‡Œï¼Œ<code>40133</code> æ˜¯ä½ ä¹‹å‰é€šè¿‡ <code>pidof vim</code> å‘½ä»¤è·å¾—çš„ Vim è¿›ç¨‹çš„ PIDã€‚</p><p><code>ll</code> å‘½ä»¤ä¼šåˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå…¶ä¸­æ¯ä¸ªæ–‡ä»¶éƒ½å¯¹åº”ç€ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆæ–‡ä»¶å¥æŸ„ï¼‰ã€‚è¾“å‡ºä¼šç±»ä¼¼äºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">total <span class="token number">0</span>dr-x------ <span class="token number">2</span> allen allen  <span class="token number">0</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 ./dr-xr-xr-x <span class="token number">9</span> allen allen  <span class="token number">0</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token punctuation">..</span>/lrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">0</span> -<span class="token operator">></span> /dev/pts/8lrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">1</span> -<span class="token operator">></span> /dev/pts/8l-wx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">19</span> -<span class="token operator">></span> /home/allen/.vscode-server/data/logs/20241229T150828/ptyhost.loglrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">2</span> -<span class="token operator">></span> /dev/pts/8l-wx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">20</span> -<span class="token operator">></span> /home/allen/.vscode-server/data/logs/20241229T150828/remoteagent.loglrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">21</span> -<span class="token operator">></span> /dev/ptmxlrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">22</span> -<span class="token operator">></span> /dev/ptmxlrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">23</span> -<span class="token operator">></span> /dev/ptmxlrwx------ <span class="token number">1</span> allen allen <span class="token number">64</span> Dec <span class="token number">29</span> <span class="token number">15</span>:58 <span class="token number">4</span> -<span class="token operator">></span> /home/allen/CPP/.helloworld.cpp.swp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œçš„è¾“å‡ºè§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li><p>0ï¼Œ1ï¼Œ2ï¼šè¿™æ˜¯æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ï¼Œå®ƒä»¬é€šå¸¸ä¼šæŒ‡å‘ç»ˆç«¯è®¾å¤‡ï¼ˆå¦‚ <code>/dev/pts/8</code>ï¼‰ã€‚è¿™äº›æ–‡ä»¶æè¿°ç¬¦æ˜¯ç³»ç»Ÿé»˜è®¤æ‰“å¼€çš„ï¼Œç”¨äºå¤„ç†è¿›ç¨‹çš„ I/O æ“ä½œã€‚</p></li><li><p>4ï¼šè¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦æŒ‡å‘ä½ ç”¨ Vim æ‰“å¼€çš„æ–‡ä»¶ <code>helloworld.cpp</code>ã€‚å¯ä»¥çœ‹åˆ°ï¼Œ<code>/home/allen/CPP/.helloworld.cpp.swp</code> æ˜¯æ–‡ä»¶æè¿°ç¬¦ 4 å¯¹åº”çš„ç›®æ ‡æ–‡ä»¶ã€‚</p></li></ul><p>è¯´æ˜ï¼š</p><ul><li>åœ¨ Linux ä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½ä¼šä¸ºæ‰“å¼€çš„æ–‡ä»¶ã€ç®¡é“ã€è®¾å¤‡ã€å¥—æ¥å­—ç­‰åˆ†é…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶æè¿°ç¬¦çš„å€¼é€šå¸¸æ˜¯ä» 0 å¼€å§‹é€’å¢çš„ã€‚</li><li>æ ‡å‡†è¾“å…¥ï¼ˆ0ï¼‰ã€æ ‡å‡†è¾“å‡ºï¼ˆ1ï¼‰ã€æ ‡å‡†é”™è¯¯ï¼ˆ2ï¼‰æ˜¯ç³»ç»Ÿè‡ªåŠ¨æ‰“å¼€çš„ï¼Œè€Œæ‰“å¼€çš„æ–‡ä»¶ <code>helloworld.cpp</code> åœ¨ Vim è¿›ç¨‹ä¸­ä¼šè¢«åˆ†é…åˆ°æ–‡ä»¶æè¿°ç¬¦ 3 åŠä»¥åã€‚</li></ul><p>å¯ä»¥çœ‹åˆ°æ–°æ‰“å¼€çš„ <code>helloworld.cpp</code> çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œç«Ÿç„¶æ˜¯4ï¼Œè€Œä¸æ˜¯ä»3å¼€å§‹ï¼Œè¿™é‡Œé¢æœ‰ä¸€ç•ªå­¦é—®ï¼Œæ¶‰åŠ    <code>vim</code> çš„åŸç†ã€‚å› ä¸ºvimè¿™ç§ç¼–è¾‘å™¨çš„åŸç†æ˜¯å…ˆæ‰“å¼€æºæ–‡ä»¶å¹¶æ‹·è´ï¼Œç„¶åå…³é—­æºæ–‡ä»¶å†æ‰“å¼€è‡ªå·±çš„å‰¯æœ¬ï¼Œä¿®æ”¹å®Œæ–‡ä»¶ä¿å­˜çš„æ—¶å€™ç›´æ¥å°†å‰¯æœ¬é‡å‘½åè¦†ç›–æºæ–‡ä»¶ã€‚æ‰€ä»¥æ‰“å¼€æºæ–‡ä»¶çš„æ—¶å€™ç”¨çš„æ–‡ä»¶æè¿°ç¬¦3ï¼Œç„¶åæ‰“å¼€è‡ªå·±çš„å‰¯æœ¬æ˜¯æ—¶å€™å°±è¯¥ç”¨æ–‡ä»¶æè¿°ç¬¦4äº†ï¼Œç„¶åå…³é—­æºæ–‡ä»¶ï¼Œæ–‡ä»¶æè¿°ç¬¦3å°±è¢«é‡Šæ”¾äº†ï¼Œæˆ‘ä»¬æŸ¥çœ‹çš„æ—¶å€™å°±åªå‰©ä¸‹äº†4ï¼Œè¿™é‡Œå®ƒæŒ‡å‘çš„æ˜¯vimåˆ›å»ºçš„å‰¯æœ¬æ–‡ä»¶[3]ï¼ˆè¿™é‡Œæœ‰æ›´è¯¦ç»†çš„è§£é‡Šï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªé€šä¿—çš„ç†è§£ï¼‰ã€‚</p><h3 id="æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦çš„å…·ä½“ä¿¡æ¯"><a href="#æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦çš„å…·ä½“ä¿¡æ¯" class="headerlink" title="æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦çš„å…·ä½“ä¿¡æ¯"></a>æ£€æŸ¥æ–‡ä»¶æè¿°ç¬¦çš„å…·ä½“ä¿¡æ¯</h3><p>å¯ä»¥é€šè¿‡æŸ¥çœ‹ç¬¦å·é“¾æ¥æ¥äº†è§£æ›´å¤šç»†èŠ‚ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥ç”¨ <code>readlink</code> å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘çš„æ–‡ä»¶è·¯å¾„ï¼š<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">readlink /proc/40133/fd/4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><h2 id="æ·±å…¥ç†è§£-Linux-ä¸­çš„æ–‡ä»¶æè¿°ç¬¦åŠå…¶èƒŒåçš„æ•°æ®ç»“æ„"><a href="#æ·±å…¥ç†è§£-Linux-ä¸­çš„æ–‡ä»¶æè¿°ç¬¦åŠå…¶èƒŒåçš„æ•°æ®ç»“æ„" class="headerlink" title="æ·±å…¥ç†è§£ Linux ä¸­çš„æ–‡ä»¶æè¿°ç¬¦åŠå…¶èƒŒåçš„æ•°æ®ç»“æ„"></a>æ·±å…¥ç†è§£ Linux ä¸­çš„æ–‡ä»¶æè¿°ç¬¦åŠå…¶èƒŒåçš„æ•°æ®ç»“æ„</h2><p>è¦æ·±å…¥ç†è§£ Linux ä¸­çš„æ–‡ä»¶æè¿°ç¬¦åŠå…¶èƒŒåçš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å†…æ ¸å¦‚ä½•é€šè¿‡ä¸‰ä¸ªæ ¸å¿ƒæ•°æ®ç»“æ„æ¥ç®¡ç†æ–‡ä»¶æè¿°ç¬¦ï¼š</p><ol><li><strong>è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨</strong>ï¼ˆProcess File Descriptor Tableï¼‰</li><li><strong>ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</strong>ï¼ˆSystem-wide Open File Tableï¼‰</li><li><strong>æ–‡ä»¶ç³»ç»Ÿçš„ i-node è¡¨</strong>ï¼ˆFile System i-node Tableï¼‰</li></ol><p>è¿™ä¸‰ä¸ªæ•°æ®ç»“æ„[4]å…±åŒå·¥ä½œï¼Œä½¿å¾— Linux ç³»ç»Ÿèƒ½å¤Ÿé«˜æ•ˆåœ°ç®¡ç†æ–‡ä»¶ I/O æ“ä½œï¼Œå¹¶ç¡®ä¿æ¯ä¸ªè¿›ç¨‹å¯¹æ–‡ä»¶çš„è®¿é—®æ˜¯ç‹¬ç«‹ä¸”æœ‰åºçš„ã€‚</p><hr><h3 id="1-è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨"><a href="#1-è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨" class="headerlink" title="1. è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨"></a>1. è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨</h3><p>æ¯ä¸ªè¿è¡Œä¸­çš„è¿›ç¨‹éƒ½æœ‰ä¸€ä¸ª <strong>è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰</strong>ï¼Œå®ƒåŒ…å«äº†ä¸è¿›ç¨‹ç›¸å…³çš„å„ç§ä¿¡æ¯ã€‚åœ¨è¿™ä¸ª PCB ä¸­ï¼Œ<strong>æ–‡ä»¶æè¿°ç¬¦è¡¨</strong>ï¼ˆä¹Ÿç§°ä¸º <strong>æ–‡ä»¶æè¿°ç¬¦æ•°ç»„</strong>ï¼‰æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ•°æ®ç»“æ„ã€‚</p><ul><li><p><strong>æ–‡ä»¶æè¿°ç¬¦è¡¨çš„åŠŸèƒ½</strong>ï¼šæ¯ä¸ªè¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨è®°å½•ç€è¯¥è¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚æ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå®ƒå¯¹åº”ç€è¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ã€å¥—æ¥å­—ã€ç®¡é“ç­‰èµ„æºã€‚</p></li><li><p><strong>è¡¨çš„ç»“æ„</strong>ï¼šæ–‡ä»¶æè¿°ç¬¦è¡¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦å¯¹åº”æ•°ç»„ä¸­çš„ä¸€ä¸ªä½ç½®ã€‚ä¾‹å¦‚ï¼Œæ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯é»˜è®¤åˆ†åˆ«å¯¹åº”æ–‡ä»¶æè¿°ç¬¦ 0ã€1ã€2ï¼Œè€Œå…¶ä»–æ–‡ä»¶åˆ™ç”±å†…æ ¸ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªè¾ƒå¤§çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚ 3ã€4ã€5 ç­‰ã€‚</p></li><li><p><strong>è¿›ç¨‹ç‹¬ç«‹æ€§</strong>ï¼šè¿›ç¨‹çº§æ–‡ä»¶æè¿°ç¬¦è¡¨æ˜¯è¿›ç¨‹ç§æœ‰çš„ã€‚ä¸åŒè¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œè¿›ç¨‹ A ä½¿ç”¨æ–‡ä»¶æè¿°ç¬¦ 3 æ‰“å¼€çš„æ–‡ä»¶ï¼Œè¿›ç¨‹ B å¦‚æœä¹Ÿæ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯èƒ½ä¹Ÿä¼šè¢«åˆ†é…æ–‡ä»¶æè¿°ç¬¦ 3ã€‚å®ƒä»¬çš„æ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„æ˜¯ä¸åŒçš„æ–‡ä»¶èµ„æºã€‚</p></li></ul><p><strong>è¿›ç¨‹çº§æ–‡ä»¶æè¿°ç¬¦è¡¨çš„å…³é”®ç‚¹</strong>ï¼š</p><ul><li>æ¯ä¸ªè¿›ç¨‹éƒ½ç»´æŠ¤ä¸€ä¸ªè‡ªå·±çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ã€‚</li><li>æ–‡ä»¶æè¿°ç¬¦è¡¨çš„æ¯ä¸ªæ¡ç›®å¯¹åº”ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æˆ–èµ„æºã€‚</li><li>æ–‡ä»¶æè¿°ç¬¦è¡¨å­˜å‚¨çš„åªæ˜¯æ–‡ä»¶æè¿°ç¬¦ä¸å†…æ ¸å†…éƒ¨æ–‡ä»¶å¯¹è±¡çš„å¼•ç”¨ã€‚</li></ul><hr><h3 id="2-ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨"><a href="#2-ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨" class="headerlink" title="2. ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨"></a>2. ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</h3><p>ç³»ç»Ÿçº§çš„ <strong>æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</strong> æ˜¯å†…æ ¸ç»´æŠ¤çš„ä¸€ä¸ªå…¨å±€æ•°æ®ç»“æ„ï¼Œç”¨æ¥ç®¡ç†ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹å…±äº«çš„æ–‡ä»¶èµ„æºã€‚æ¯å½“ä¸€ä¸ªè¿›ç¨‹æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šåœ¨æ­¤è¡¨ä¸­åˆ›å»ºä¸€é¡¹è®°å½•ï¼Œè¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶è¢«æ‰“å¼€ã€‚</p><p><strong>è¯¥è¡¨ä¸­çš„æ¯é¡¹è®°å½•åŒ…å«ä»¥ä¸‹ä¿¡æ¯</strong>ï¼š</p><ul><li><p><strong>å½“å‰æ–‡ä»¶åç§»é‡</strong>ï¼šæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå½“å‰çš„è¯»å–æˆ–å†™å…¥ä½ç½®ã€‚å½“è¿›ç¨‹æ‰§è¡Œ <code>read()</code> æˆ– <code>write()</code> æ“ä½œæ—¶ï¼Œå†…æ ¸ä¼šæ ¹æ®è¯¥æ–‡ä»¶çš„åç§»é‡è¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚åœ¨æ¯æ¬¡è¯»å–æ—¶ï¼Œåç§»é‡ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>lseek()</code> ç³»ç»Ÿè°ƒç”¨æ˜¾å¼åœ°ä¿®æ”¹åç§»é‡ã€‚</p></li><li><p><strong>æ‰“å¼€æ–‡ä»¶æ—¶çš„æ ‡è¯†</strong>ï¼šç”± <code>open()</code> ç³»ç»Ÿè°ƒç”¨çš„ <code>flags</code> å‚æ•°æŒ‡å®šï¼Œå¦‚åªè¯»ã€åªå†™ã€è¯»å†™ç­‰ã€‚å†…æ ¸åœ¨æ‰“å¼€æ–‡ä»¶æ—¶ä¼šè®°å½•è¿™äº›æ ‡è¯†ï¼Œç”¨äºåç»­çš„è®¿é—®æ§åˆ¶ã€‚</p></li><li><p><strong>æ–‡ä»¶è®¿é—®æ¨¡å¼</strong>ï¼šå½“è¿›ç¨‹é€šè¿‡ <code>open()</code> æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šè®°å½•æ–‡ä»¶çš„è®¿é—®æ¨¡å¼ï¼ˆå¦‚åªè¯»æ¨¡å¼ <code>O_RDONLY</code>ï¼Œåªå†™æ¨¡å¼ <code>O_WRONLY</code>ï¼Œè¯»å†™æ¨¡å¼ <code>O_RDWR</code>ï¼‰ä»¥åŠå…¶ä»–è®¿é—®æƒé™ï¼ˆå¦‚ <code>O_APPEND</code>ã€<code>O_NONBLOCK</code> ç­‰ï¼‰ã€‚</p></li><li><p><strong>ä¸ä¿¡å·é©±åŠ¨ç›¸å…³çš„è®¾ç½®</strong>ï¼šæŸäº›æ–‡ä»¶ï¼ˆå¦‚ç»ˆç«¯è®¾å¤‡ï¼‰å¯ä»¥é€šè¿‡ä¿¡å·é©±åŠ¨æ¨¡å¼è¿›è¡Œ I/O æ“ä½œã€‚è¿™äº›è®¾ç½®ä¼šè®°å½•åœ¨ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ï¼Œä»¥ä¾¿å†…æ ¸åœ¨åˆé€‚çš„æ—¶æœºå¤„ç†ä¿¡å·ã€‚</p></li><li><p><strong>ä¸æ–‡ä»¶çš„ i-node å…³è”</strong>ï¼šç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨é¡¹ä¼šä¿å­˜æŒ‡å‘æ–‡ä»¶ç³»ç»Ÿ <strong>i-node</strong> è¡¨é¡¹çš„æŒ‡é’ˆã€‚i-node è¡¨é¡¹åŒ…å«äº†è¯¥æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆå¦‚æ–‡ä»¶å¤§å°ã€æƒé™ã€æ—¶é—´æˆ³ç­‰ï¼‰ã€‚</p></li></ul><p><strong>å…³é”®ç‚¹</strong>ï¼š</p><ul><li>æ¯ä¸ªè¿›ç¨‹æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿçº§æ‰“å¼€æ–‡ä»¶è¡¨ä¼šåˆ›å»ºç›¸åº”çš„è®°å½•ã€‚</li><li>æ‰€æœ‰è¿›ç¨‹å…±äº«ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼Œé€šè¿‡è¿™ä¸ªè¡¨æ¥ç®¡ç†æ–‡ä»¶çš„åç§»é‡å’Œè®¿é—®æ¨¡å¼ç­‰ä¿¡æ¯ã€‚</li></ul><hr><h3 id="3-æ–‡ä»¶ç³»ç»Ÿçš„-i-node-è¡¨"><a href="#3-æ–‡ä»¶ç³»ç»Ÿçš„-i-node-è¡¨" class="headerlink" title="3. æ–‡ä»¶ç³»ç»Ÿçš„ i-node è¡¨"></a>3. æ–‡ä»¶ç³»ç»Ÿçš„ i-node è¡¨</h3><p><strong>i-node</strong> æ˜¯ <strong>ç´¢å¼•èŠ‚ç‚¹</strong>ï¼ˆIndex Nodeï¼‰çš„ç¼©å†™ï¼Œæ˜¯æ–‡ä»¶ç³»ç»Ÿç”¨æ¥å­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ i-nodeï¼Œi-node ä¸å­˜å‚¨æ–‡ä»¶çš„å†…å®¹ï¼Œè€Œæ˜¯å­˜å‚¨ä¸æ–‡ä»¶ç›¸å…³çš„å„ç§å±æ€§å’Œå…ƒæ•°æ®ã€‚</p><p><strong>i-node è¡¨åŒ…å«ä»¥ä¸‹å†…å®¹</strong>ï¼š</p><ul><li><p><strong>æ–‡ä»¶ç±»å‹</strong>ï¼šä¾‹å¦‚æ™®é€šæ–‡ä»¶ã€ç›®å½•æ–‡ä»¶ã€ç¬¦å·é“¾æ¥ã€å¥—æ¥å­—ã€FIFO ç­‰ã€‚</p></li><li><p><strong>æ–‡ä»¶æƒé™</strong>ï¼šè¡¨ç¤ºæ–‡ä»¶çš„è®¿é—®æƒé™ï¼ˆå¦‚è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼‰ã€‚</p></li><li><p><strong>æ–‡ä»¶å¤§å°</strong>ï¼šæ–‡ä»¶çš„å®é™…å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰ã€‚</p></li><li><p><strong>æ—¶é—´æˆ³</strong>ï¼šåŒ…æ‹¬æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´å’Œè®¿é—®æ—¶é—´ï¼ˆå¦‚ <code>ctime</code>ã€<code>mtime</code>ã€<code>atime</code> ç­‰ï¼‰ã€‚</p></li><li><p><strong>æŒ‡å‘æ–‡ä»¶æ•°æ®å—çš„æŒ‡é’ˆ</strong>ï¼ši-node ä¼šå­˜å‚¨æŒ‡å‘æ–‡ä»¶å®é™…æ•°æ®å—çš„æŒ‡é’ˆï¼ˆå¯¹äºå°æ–‡ä»¶ç›´æ¥å­˜å‚¨æŒ‡é’ˆï¼Œå¯¹äºå¤§æ–‡ä»¶ä½¿ç”¨é—´æ¥å—ï¼‰ã€‚è¿™äº›æŒ‡é’ˆå¸®åŠ©æ“ä½œç³»ç»Ÿåœ¨ç£ç›˜ä¸Šå®šä½æ–‡ä»¶å†…å®¹ã€‚</p></li><li><p><strong>æ–‡ä»¶é”åˆ—è¡¨</strong>ï¼šå¦‚æœæ–‡ä»¶è¢«åŠ é”ï¼Œi-node ä¼šå­˜å‚¨ä¸€ä¸ªæŒ‡å‘é”ä¿¡æ¯çš„æŒ‡é’ˆã€‚</p></li><li><p><strong>å¼•ç”¨è®¡æ•°</strong>ï¼šè®°å½•æœ‰å¤šå°‘ä¸ªè¿›ç¨‹æˆ–æ–‡ä»¶æè¿°ç¬¦æ­£åœ¨ä½¿ç”¨è¯¥æ–‡ä»¶ã€‚å¦‚æœå¼•ç”¨è®¡æ•°ä¸º 0ï¼Œåˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶å¯ä»¥è¢«åˆ é™¤ã€‚</p></li></ul><p><strong>i-node çš„å…³é”®ç‚¹</strong>ï¼š</p><ul><li>i-node å­˜å‚¨æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œè€Œä¸å­˜å‚¨æ–‡ä»¶çš„å®é™…å†…å®¹ã€‚</li><li>æ¯ä¸ªæ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­éƒ½æœ‰å”¯ä¸€çš„ i-nodeã€‚</li><li>æ–‡ä»¶çš„å†…å®¹ç”±ç£ç›˜ä¸Šçš„æ•°æ®å—æ¥å­˜å‚¨ï¼Œè€Œ i-node ä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘è¿™äº›æ•°æ®å—çš„æŒ‡é’ˆã€‚</li></ul><hr><h3 id="æ–‡ä»¶æè¿°ç¬¦å¦‚ä½•ååŒå·¥ä½œ"><a href="#æ–‡ä»¶æè¿°ç¬¦å¦‚ä½•ååŒå·¥ä½œ" class="headerlink" title="æ–‡ä»¶æè¿°ç¬¦å¦‚ä½•ååŒå·¥ä½œ"></a>æ–‡ä»¶æè¿°ç¬¦å¦‚ä½•ååŒå·¥ä½œ</h3><p>æ–‡ä»¶æè¿°ç¬¦è¡¨ã€ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨å’Œ i-node è¡¨ç›¸äº’åä½œæ¥ç®¡ç†æ–‡ä»¶èµ„æºï¼š</p><ol><li><p><strong>è¿›ç¨‹çº§æ–‡ä»¶æè¿°ç¬¦è¡¨</strong> å­˜å‚¨è¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå®ƒæ˜¯è¿›ç¨‹ç§æœ‰çš„ã€‚å½“è¿›ç¨‹é€šè¿‡ <code>open()</code> æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šåœ¨è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­åˆ†é…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå¹¶ä¸”è¯¥æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘ <strong>ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</strong> ä¸­çš„ä¸€ä¸ªè®°å½•ã€‚</p></li><li><p><strong>ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</strong> å­˜å‚¨æ‰€æœ‰æ‰“å¼€æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶åç§»é‡ã€è®¿é—®æ¨¡å¼ç­‰ï¼Œå¹¶ä¸”æ¯ä¸ªè¡¨é¡¹éƒ½ä¼šæŒ‡å‘å¯¹åº”æ–‡ä»¶çš„ <strong>i-node</strong>ã€‚</p></li><li><p><strong>i-node è¡¨</strong> å­˜å‚¨æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆå¦‚æƒé™ã€å¤§å°ç­‰ï¼‰ä»¥åŠæ–‡ä»¶å†…å®¹æ‰€åœ¨çš„ç£ç›˜ä½ç½®ã€‚æ¯ä¸ªæ‰“å¼€çš„æ–‡ä»¶éƒ½ä¼šé€šè¿‡ i-node æ¥è®¿é—®æ–‡ä»¶çš„å®é™…æ•°æ®ã€‚</p></li></ol><p>å½“è¿›ç¨‹è¿›è¡Œæ–‡ä»¶æ“ä½œæ—¶ï¼ˆå¦‚ <code>read()</code>ã€<code>write()</code>ï¼‰ï¼Œæ“ä½œé¦–å…ˆé€šè¿‡è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨æŸ¥æ‰¾å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œç„¶ååœ¨ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­æŸ¥æ‰¾è¯¥æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶é€šè¿‡ i-node è®¿é—®æ–‡ä»¶çš„å®é™…æ•°æ®ã€‚</p><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨</strong>ï¼šæ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹ç»´æŠ¤ï¼Œè®°å½•å½“å‰è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</li><li><strong>ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨</strong>ï¼šæ‰€æœ‰è¿›ç¨‹å…±äº«ï¼Œè®°å½•æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯å’Œ i-node å¼•ç”¨ã€‚</li><li><strong>æ–‡ä»¶ç³»ç»Ÿçš„ i-node è¡¨</strong>ï¼šè®°å½•æ–‡ä»¶çš„å…ƒæ•°æ®å’Œå®é™…æ•°æ®çš„ä½ç½®ä¿¡æ¯ã€‚</li></ul><p>è¿™ä¸‰ä¸ªæ•°æ®ç»“æ„åä½œï¼Œä½¿å¾— Linux ç³»ç»Ÿèƒ½å¤Ÿé«˜æ•ˆä¸”çµæ´»åœ°ç®¡ç†æ–‡ä»¶ I/O æ“ä½œï¼Œç¡®ä¿è¿›ç¨‹ä¹‹é—´çš„æ–‡ä»¶è®¿é—®ç‹¬ç«‹ä¸”æœ‰åºï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨å¤šè¿›ç¨‹ç¯å¢ƒä¸­æ­£ç¡®åœ°ç®¡ç†æ–‡ä»¶èµ„æºã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>[1ã€<a href="https://zhuanlan.zhihu.com/p/143430585">ç†è§£Linuxçš„æ–‡ä»¶æè¿°ç¬¦FDä¸Inode</a>]<br>[2ã€<a href="https://wiyi.org/linux-file-descriptor.html">ç†è§£linuxä¸­çš„file descriptor(æ–‡ä»¶æè¿°ç¬¦)</a>]<br>[3ã€<a href="https://yushuaige.github.io/2020/08/14/%E5%BD%BB%E5%BA%95%E5%BC%84%E6%87%82%20Linux%20%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6%EF%BC%88fd%EF%BC%89/">å½»åº•å¼„æ‡‚ Linux ä¸‹çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆfdï¼‰</a>]<br>[4ã€<a href="https://c.biancheng.net/view/3066.html">Linuxæ–‡ä»¶æè¿°ç¬¦åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a>]</p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux topæŒ‡ä»¤</title>
      <link href="/2024/12/28/linux-top-zhi-ling/"/>
      <url>/2024/12/28/linux-top-zhi-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="topæŒ‡ä»¤æ¦‚è¿°"><a href="#topæŒ‡ä»¤æ¦‚è¿°" class="headerlink" title="topæŒ‡ä»¤æ¦‚è¿°"></a>topæŒ‡ä»¤æ¦‚è¿°</h2><p><code>top</code> æ˜¯ Linux ç³»ç»Ÿä¸­ç”¨äºå®æ—¶ç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œè¿›ç¨‹ä¿¡æ¯çš„å‘½ä»¤ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»ã€‚å®ƒæä¾›äº†ç³»ç»Ÿèµ„æºçš„åŠ¨æ€è§†å›¾ï¼ŒåŒ…æ‹¬ CPUã€å†…å­˜ã€è¿è¡Œä¸­çš„è¿›ç¨‹ç­‰ã€‚</p><p>è¿™ä¸ªæŒ‡ä»¤å¯ä»¥è¯´æ˜¯Linuxä¸­æœ€åŸºæœ¬çš„å·¥å…·äº†ï¼Œç”¨æ¥ç›‘è§†ç³»ç»Ÿçš„å®æ—¶è¿è¡ŒçŠ¶æ€ï¼Œç±»ä¼¼çš„ç¨‹åºè¿˜æœ‰å¾ˆå¤šï¼Œåƒæ˜¯<code>htop</code>ã€<code>gtop</code>ï¼Œéƒ½æ˜¯è¡ç”Ÿç‰ˆã€‚åŸºæœ¬æ¥è¯´ï¼Œtopå¤Ÿç”¨äº†ã€‚</p><p>æ•´ç†å­¦ä¹ çš„Linux æŒ‡ä»¤çš„çŸ¥è¯†ã€‚è¿™ç§æŒ‡ä»¤ä¹Ÿä¸ç”¨å®Œå…¨æŒæ¡ï¼ŒçŸ¥é“åŸºæœ¬çš„ç”¨æ³•å°±å¯ä»¥ï¼Œäº†è§£ä¸€äº›å¿«æ·é”®ï¼Œæé«˜å·¥ä½œæ•ˆç‡ï¼Œè‡ªå·±åœ¨Ubuntuæˆ–è€…WSLé‡Œé¢å¤šå°è¯•ä¸€äº›ï¼Œè¿™æ‰æ˜¯é‡è¦çš„&lt;(ï¿£ï¸¶ï¿£)â†—[GO!]ã€‚</p><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">top</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¾“å‡ºä¼šæ˜¾ç¤ºç³»ç»ŸçŠ¶æ€çš„å®æ—¶æ›´æ–°åˆ—è¡¨ï¼ŒæŒ‰é»˜è®¤çš„åˆ·æ–°é—´éš”ï¼ˆé€šå¸¸æ˜¯3ç§’ï¼‰æ›´æ–°ã€‚</p><h2 id="å¸¸è§å¿«æ·é”®"><a href="#å¸¸è§å¿«æ·é”®" class="headerlink" title="å¸¸è§å¿«æ·é”®"></a>å¸¸è§å¿«æ·é”®</h2><p>åœ¨ top çš„ç•Œé¢ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®è¿›è¡Œäº¤äº’æ“ä½œï¼ˆæ³¨æ„åŒºåˆ†å¤§å°å†™ï¼Œå¤šå¤šå°è¯•ï¼‰ï¼š</p><h3 id="æ’åºç›¸å…³"><a href="#æ’åºç›¸å…³" class="headerlink" title="æ’åºç›¸å…³"></a>æ’åºç›¸å…³</h3><p>æŒ‰ä¸‹gï¼Œå¯ä»¥é€‰æ‹©1-4è¿™å‡ ç§æ’åºå­—æ®µï¼Œä¸‹é¢çš„éƒ½åŒ…æ‹¬äº†<br>Pï¼šæŒ‰ CPU ä½¿ç”¨ç‡æ’åºï¼ˆé»˜è®¤ï¼‰ã€‚<br>Mï¼šæŒ‰å†…å­˜ä½¿ç”¨ç‡æ’åºã€‚<br>Tï¼šæŒ‰è¿è¡Œæ—¶é—´æ’åºã€‚</p><h3 id="è¿›ç¨‹æ§åˆ¶"><a href="#è¿›ç¨‹æ§åˆ¶" class="headerlink" title="è¿›ç¨‹æ§åˆ¶"></a>è¿›ç¨‹æ§åˆ¶</h3><p>kï¼šç»ˆæ­¢æŸä¸ªè¿›ç¨‹ï¼Œä¼šæç¤ºè¾“å…¥ PIDã€‚<br>rï¼šé‡æ–°è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ï¼ˆä¿®æ”¹ nice å€¼ï¼‰ã€‚</p><h3 id="æ˜¾ç¤ºé€‰é¡¹"><a href="#æ˜¾ç¤ºé€‰é¡¹" class="headerlink" title="æ˜¾ç¤ºé€‰é¡¹"></a>æ˜¾ç¤ºé€‰é¡¹</h3><p>hï¼šæ˜¾ç¤ºå¸®åŠ©èœå•ã€‚<br>1ï¼šæ˜¾ç¤ºæ¯ä¸ª CPU çš„ä½¿ç”¨æƒ…å†µã€‚<br>cï¼šæ˜¾ç¤ºæˆ–éšè—è¿›ç¨‹çš„å®Œæ•´å‘½ä»¤è·¯å¾„ã€‚<br>qï¼šé€€å‡º topã€‚</p><h3 id="è¿‡æ»¤ä¸æœç´¢"><a href="#è¿‡æ»¤ä¸æœç´¢" class="headerlink" title="è¿‡æ»¤ä¸æœç´¢"></a>è¿‡æ»¤ä¸æœç´¢</h3><p>/ï¼šæŸ¥æ‰¾ç‰¹å®šçš„è¿›ç¨‹ã€‚<br>nï¼šè®¾ç½®æ˜¾ç¤ºçš„è¿›ç¨‹æ•°é‡ã€‚</p><h3 id="å¸¸ç”¨ç»„åˆæ¨è"><a href="#å¸¸ç”¨ç»„åˆæ¨è" class="headerlink" title="å¸¸ç”¨ç»„åˆæ¨è"></a>å¸¸ç”¨ç»„åˆæ¨è</h3><p>æŒ‰å†…å­˜ä½¿ç”¨æ’åºï¼šM<br>æŒ‰ CPU ä½¿ç”¨æ’åºï¼šP<br>ç›‘æ§æŸç”¨æˆ·çš„ä»»åŠ¡ï¼šu + ç”¨æˆ·å<br>å®æ—¶æŸ¥çœ‹å¤šæ ¸ CPU çŠ¶æ€ï¼š1<br>é«˜äº®æ’åºå­—æ®µï¼šx</p><h2 id="è¾“å‡ºå­—æ®µè¯´æ˜"><a href="#è¾“å‡ºå­—æ®µè¯´æ˜" class="headerlink" title="è¾“å‡ºå­—æ®µè¯´æ˜"></a>è¾“å‡ºå­—æ®µè¯´æ˜</h2><p>top ç•Œé¢é¡¶éƒ¨å’Œè¿›ç¨‹åˆ—è¡¨åˆ†åˆ«åŒ…å«ç³»ç»Ÿæ‘˜è¦å’Œå…·ä½“è¿›ç¨‹ä¿¡æ¯ï¼š</p><h3 id="ç³»ç»Ÿæ‘˜è¦"><a href="#ç³»ç»Ÿæ‘˜è¦" class="headerlink" title="ç³»ç»Ÿæ‘˜è¦"></a>ç³»ç»Ÿæ‘˜è¦</h3><p>uptimeï¼šç³»ç»Ÿå·²è¿è¡Œæ—¶é—´ã€‚<br>load averageï¼šç³»ç»Ÿè´Ÿè½½ï¼ˆæœ€è¿‘1ã€5ã€15åˆ†é’Ÿçš„å¹³å‡å€¼ï¼‰ã€‚<br>tasksï¼šä»»åŠ¡æ€»æ•°åŠå…¶çŠ¶æ€ï¼ˆè¿è¡Œã€ç¡çœ ã€åœæ­¢ã€åƒµå°¸ç­‰ï¼‰ã€‚<br>%Cpu(s)ï¼šCPU ä½¿ç”¨æƒ…å†µï¼ˆç”¨æˆ·ã€ç³»ç»Ÿã€ç©ºé—²ç­‰ï¼‰ã€‚<br>Mem å’Œ Swapï¼šç‰©ç†å†…å­˜å’Œäº¤æ¢åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µã€‚<br>ä¾‹å¦‚ä¸‹é¢çš„ä¿¡æ¯ï¼š<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">top</span> - <span class="token number">15</span>:32:32 up <span class="token number">54</span> min,  <span class="token number">1</span> user,  load average: <span class="token number">0.11</span>, <span class="token number">0.09</span>, <span class="token number">0.06</span>Tasks:  <span class="token number">67</span> total,   <span class="token number">1</span> running,  <span class="token number">66</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">0.3</span> us,  <span class="token number">0.3</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">99.4</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.1</span> si,  <span class="token number">0.0</span> stMiB Mem <span class="token builtin class-name">:</span>   <span class="token number">7878.3</span> total,   <span class="token number">5671.9</span> free,   <span class="token number">1544.3</span> used,    <span class="token number">662.1</span> buff/cacheMiB Swap:   <span class="token number">2048.0</span> total,   <span class="token number">2048.0</span> free,      <span class="token number">0.0</span> used.   <span class="token number">6035.3</span> avail Mem<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>ï¼ˆ1ï¼‰ç³»ç»Ÿä¿¡æ¯<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">top</span> - <span class="token number">15</span>:32:32 up <span class="token number">54</span> min, <span class="token number">1</span> user, load average: <span class="token number">0.11</span>, <span class="token number">0.09</span>, <span class="token number">0.06</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><ul><li>å½“å‰æ—¶é—´ï¼š15:32:32 </li><li>ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼šå·²ç»è¿è¡Œäº† 54 åˆ†é’Ÿã€‚ </li><li>å½“å‰ç™»å½•ç”¨æˆ·æ•°ï¼š1 ä¸ªç”¨æˆ·ã€‚ </li><li>è´Ÿè½½å‡å€¼ (load average)ï¼šè¿‡å» 1 åˆ†é’Ÿï¼š0.11 ; è¿‡å» 5 åˆ†é’Ÿï¼š0.09 ; &gt; è¿‡å» 15 åˆ†é’Ÿï¼š0.06;</li></ul><p>è§£é‡Šï¼šè´Ÿè½½å‡å€¼è¶Šä½ï¼Œç³»ç»Ÿå‹åŠ›è¶Šå°ï¼›å½“å‰è´Ÿè½½éå¸¸ä½ã€‚<br>ï¼ˆ2ï¼‰ä»»åŠ¡çŠ¶æ€<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Tasks: <span class="token number">67</span> total, <span class="token number">1</span> running, <span class="token number">66</span> sleeping, <span class="token number">0</span> stopped, <span class="token number">0</span> zombie<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><ul><li>æ€»ä»»åŠ¡æ•°ï¼š67 ä¸ªã€‚ </li><li>è¿è¡Œä¸­çš„ä»»åŠ¡ï¼š1 ä¸ªä»»åŠ¡å¤„äºè¿è¡ŒçŠ¶æ€ã€‚ </li><li>ç¡çœ ä¸­çš„ä»»åŠ¡ï¼š66 ä¸ªä»»åŠ¡å¤„äºç¡çœ çŠ¶æ€ï¼ˆç­‰å¾…äº‹ä»¶è§¦å‘ï¼‰ã€‚ </li><li>åœæ­¢çš„ä»»åŠ¡ï¼š0 ä¸ªä»»åŠ¡è¢«åœæ­¢ã€‚ </li><li>åƒµå°¸ä»»åŠ¡ï¼š0 ä¸ªåƒµå°¸è¿›ç¨‹ã€‚ </li></ul><p>è§£é‡Šï¼šç³»ç»Ÿå¤§å¤šæ•°ä»»åŠ¡å¤„äºç©ºé—²æˆ–å¾…æœºçŠ¶æ€ï¼Œè´Ÿè½½è½»ã€‚<br>ï¼ˆ3ï¼‰CPUä½¿ç”¨ç‡<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token number">0.3</span> us, <span class="token number">0.3</span> sy, <span class="token number">0.0</span> ni, <span class="token number">99.4</span> id, <span class="token number">0.0</span> wa, <span class="token number">0.0</span> hi, <span class="token number">0.1</span> si, <span class="token number">0.0</span> st<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><ul><li>usï¼ˆç”¨æˆ·ç©ºé—´ï¼‰ï¼š0.3% çš„ CPU ç”¨äºç”¨æˆ·ç¨‹åºã€‚</li><li>syï¼ˆç³»ç»Ÿç©ºé—´ï¼‰ï¼š0.3% çš„ CPU ç”¨äºå†…æ ¸æ“ä½œã€‚</li><li>niï¼ˆä¼˜å…ˆçº§ï¼‰ï¼š0.0% çš„ CPU ç”¨äºè°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ã€‚</li><li>idï¼ˆç©ºé—²ï¼‰ï¼š99.4% çš„ CPU å¤„äºç©ºé—²çŠ¶æ€ã€‚</li><li>waï¼ˆIOç­‰å¾…ï¼‰ï¼š0.0% çš„ CPU ç­‰å¾… IO æ“ä½œå®Œæˆã€‚</li><li>hiï¼ˆç¡¬ä¸­æ–­ï¼‰ï¼š0.0% çš„ CPU ç”¨äºç¡¬ä»¶ä¸­æ–­å¤„ç†ã€‚</li><li>siï¼ˆè½¯ä¸­æ–­ï¼‰ï¼š0.1% çš„ CPU ç”¨äºè½¯ä»¶ä¸­æ–­å¤„ç†ã€‚</li><li>stï¼ˆè™šæ‹ŸåŒ–å·å–æ—¶é—´ï¼‰ï¼š0.0% çš„ CPU è¢«è™šæ‹Ÿæœºå ç”¨ã€‚</li></ul><p>è§£é‡Šï¼šCPU ä½¿ç”¨ç‡éå¸¸ä½ï¼Œç³»ç»Ÿå¤§éƒ¨åˆ†æ—¶é—´å¤„äºç©ºé—²çŠ¶æ€ã€‚<br>ï¼ˆ4ï¼‰å†…å­˜ä½¿ç”¨<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">MiB Mem <span class="token builtin class-name">:</span> <span class="token number">7878.3</span> total, <span class="token number">5671.9</span> free, <span class="token number">1544.3</span> used, <span class="token number">662.1</span> buff/cache<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><ul><li>æ€»å†…å­˜ï¼š7878.3 MiBã€‚</li><li>ç©ºé—²å†…å­˜ï¼š5671.9 MiBï¼Œçº¦ 72% çš„å†…å­˜ç©ºé—²ã€‚</li><li>å·²ç”¨å†…å­˜ï¼š1544.3 MiBï¼Œçº¦ 19% çš„å†…å­˜æ­£åœ¨è¢«ä½¿ç”¨ã€‚</li><li>ç¼“å­˜/ç¼“å†²åŒºï¼š662.1 MiBï¼Œè¢«ç³»ç»Ÿç¼“å­˜ä½¿ç”¨çš„å†…å­˜ã€‚</li></ul><p>è§£é‡Šï¼šå†…å­˜åˆ©ç”¨ç‡è¾ƒä½ï¼Œç³»ç»Ÿå†…å­˜èµ„æºå……è¶³ã€‚</p><p>ï¼ˆ5ï¼‰äº¤æ¢åˆ†åŒº (Swap) ä½¿ç”¨<br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">MiB Swap: <span class="token number">2048.0</span> total, <span class="token number">2048.0</span> free, <span class="token number">0.0</span> used. <span class="token number">6035.3</span> avail Mem<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></p><ul><li>æ€»äº¤æ¢åˆ†åŒºå¤§å°ï¼š2048.0 MiBã€‚</li><li>ç©ºé—²äº¤æ¢åˆ†åŒºï¼š2048.0 MiBã€‚</li><li>å·²ç”¨äº¤æ¢åˆ†åŒºï¼š0.0 MiBã€‚</li><li>å¯ç”¨å†…å­˜ï¼š6035.3 MiBï¼ŒåŒ…å«ç‰©ç†ç©ºé—²å†…å­˜å’Œç¼“å†²å†…å­˜ã€‚</li></ul><p>è§£é‡Šï¼šç³»ç»Ÿæ²¡æœ‰ä½¿ç”¨äº¤æ¢åˆ†åŒºï¼Œç‰©ç†å†…å­˜è¶³ä»¥åº”å¯¹å½“å‰ä»»åŠ¡ã€‚<br>ï¼ˆ6ï¼‰æ€»ç»“<br>å½“å‰ç³»ç»ŸçŠ¶æ€éå¸¸è½»æ¾ï¼š</p><ul><li>CPU ä¸»è¦å¤„äºç©ºé—²çŠ¶æ€ï¼ˆ99.4%ï¼‰ã€‚</li><li>å†…å­˜å’Œäº¤æ¢åˆ†åŒºä½¿ç”¨ç‡ä½ï¼Œèµ„æºå……è¶³ã€‚</li><li>ç³»ç»Ÿè´Ÿè½½éå¸¸ä½ï¼ˆè´Ÿè½½å‡å€¼è¿œä½äº 1ï¼‰ã€‚</li><li>æ²¡æœ‰åƒµå°¸è¿›ç¨‹æˆ– IO ç“¶é¢ˆã€‚</li></ul><h3 id="è¿›ç¨‹ä¿¡æ¯"><a href="#è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="è¿›ç¨‹ä¿¡æ¯"></a>è¿›ç¨‹ä¿¡æ¯</h3><p>PIDï¼šè¿›ç¨‹ IDã€‚<br>USERï¼šè¿è¡Œè¯¥è¿›ç¨‹çš„ç”¨æˆ·ã€‚<br>PR å’Œ NIï¼šä¼˜å…ˆçº§å’Œ nice å€¼ã€‚<br>VIRTã€RESã€SHRï¼šè™šæ‹Ÿå†…å­˜ã€å¸¸é©»å†…å­˜å’Œå…±äº«å†…å­˜ä½¿ç”¨æƒ…å†µã€‚<br>%CPU å’Œ %MEMï¼šè¿›ç¨‹çš„ CPU å’Œå†…å­˜ä½¿ç”¨ç‡ã€‚<br>TIME+ï¼šè¿›ç¨‹ç´¯è®¡ä½¿ç”¨ CPU çš„æ—¶é—´ã€‚<br>COMMANDï¼šè¿è¡Œçš„å‘½ä»¤æˆ–è¿›ç¨‹åç§°ã€‚</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p>[<a href="https://tigercosmos.xyz/post/2020/04/unix/top-usage/">Unix/Linux TOP æŒ‡ä»¤ä½¿ç”¨è¯¦è§£</a>]<br>[<a href="https://www.cnblogs.com/peida/archive/2012/12/24/2831353.html">æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼ˆ44ï¼‰ï¼štopå‘½ä»¤</a>]<br>[<a href="https://manpages.ubuntu.com/manpages/oracular/en/man1/top.1.html">top manual</a>]</p>]]></content>
      
      
      <categories>
          
          <category> LinuxåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬</title>
      <link href="/2024/12/24/zu-he-shu-xue-zhi-shi-dian-gai-gua/"/>
      <url>/2024/12/24/zu-he-shu-xue-zhi-shi-dian-gai-gua/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬"><a href="#ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬" class="headerlink" title="ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬"></a>ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬</h1><p>æ˜å¤©ä¸‹åˆç»„åˆæ•°å­¦è€ƒè¯•ï¼Œæ•´ç†ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œè¯¾æœ¬æ˜¯ï¼šç»„åˆæ•°å­¦(ç¬¬5ç‰ˆ)å¢å¼€æ¾„å¢åæ˜ç¼–è‘—</p><h2 id="ç¬¬ä¸€ç« æ’åˆ—ä¸ç»„åˆ"><a href="#ç¬¬ä¸€ç« æ’åˆ—ä¸ç»„åˆ" class="headerlink" title="ç¬¬ä¸€ç« æ’åˆ—ä¸ç»„åˆ"></a>ç¬¬ä¸€ç« æ’åˆ—ä¸ç»„åˆ</h2><p>å…è®¸é‡å¤çš„ç»„åˆ P20</p><p><img src="https://s2.loli.net/2024/12/24/bKNise2JQUvVDq8.png" alt=""></p><p>çº¿æ€§æ–¹ç¨‹ç»„æ•´æ•°è§£ä¸ªæ•° P21</p><p><img src="https://s2.loli.net/2024/12/24/MuFOdAf4bvs35St.png" alt=""></p><p>åœ†æ¡Œæ’åˆ—çš„å…¬å¼ï¼Œä¾‹é¢˜ï¼Œä¸‹é¢çš„å…¬å¼æœ‰è¯¯</p><p><img src="https://s2.loli.net/2024/12/24/lVPbg52KCoU9Wkx.png" alt=""></p><p>ä¾‹é¢˜2</p><p><img src="https://s2.loli.net/2024/12/24/ElPqg9ISHNTGOzU.png" alt=""></p><p>å­—å…¸åºæ³•ï¼Œç”»æ ‘çŠ¶å›¾æˆ–è€…ä½¿ç”¨å…¬å¼</p><p>æ•°å­¦å½’çº³æ³•è¯æ˜é¢˜ï¼Œä¾‹é¢˜</p><p><img src="https://s2.loli.net/2024/12/24/6hQwnyHCfJN9uze.png" alt=""></p><h2 id="ç¬¬äºŒç« é€’æ¨å…³ç³»å’Œæ¯å‡½æ•°"><a href="#ç¬¬äºŒç« é€’æ¨å…³ç³»å’Œæ¯å‡½æ•°" class="headerlink" title="ç¬¬äºŒç« é€’æ¨å…³ç³»å’Œæ¯å‡½æ•°"></a>ç¬¬äºŒç« é€’æ¨å…³ç³»å’Œæ¯å‡½æ•°</h2><p>è¿™é‡Œé¢˜å‹å’Œå†…å®¹æ¯”è¾ƒéš¾ï¼Œéœ€è¦å¤šåšé¢˜ï¼Œç†Ÿæ‚‰å„ç§é¢˜å‹ï¼ˆç»™å‡ºå·²çŸ¥æ— ç©·åºåˆ—æ±‚æ¯å‡½æ•°ï¼Œå·²çŸ¥æ¯å‡½æ•°æ±‚é€’æ¨å…³ç³»æˆ–æ˜¯æ±‚å®ƒçš„ç¬¬ä¸€äºŒé¡¹a0ã€a1ï¼Œé€’æ¨å…³ç³»ç­‰å·å³è¾¹ç­‰äº0ï¼Œé€’æ¨å…³ç³»ç­‰å·å³è¾¹ç­‰äºå¸¸æ•°ï¼Œé€’æ¨å…³ç³»ç­‰å·å³è¾¹ç­‰äºå‡ çš„næ¬¡æ–¹çš„å½¢å¼ï¼‰</p><p>æ¯å‡½æ•°å®šä¹‰ P46</p><p><img src="https://s2.loli.net/2024/12/24/5HiGPRS1jbtm8ON.png" alt=""></p><p>ä½¿ç”¨çš„æ³°å‹’å…¬å¼  P47</p><p><img src="https://s2.loli.net/2024/12/24/82Jd3olvnrkFb5V.png" alt=""></p><p>çº¿æ€§å¸¸ç³»æ•°é½æ¬¡é€’æ¨å…³ç³» P55</p><p><img src="https://s2.loli.net/2024/12/24/p2IcMR7eAPzGbuB.png" alt=""></p><p>ä¸‰ç§ï¼šä¸åŒå®æ•°æ ¹ã€ä¸åŒå¤æ•°æ ¹ã€äºŒé‡æ ¹</p><p>å¸¸ç³»æ•°éé½æ¬¡é€’æ¨å…³ç³» P62ã€ ä¾‹é¢˜2-17ï¼Œ2-18 P65</p><p><img src="https://s2.loli.net/2024/12/24/bYihmWd26uZ7zO1.png" alt=""></p><p>ç¬¬ä¸€ç¬¬äºŒç±» Strling å…¬å¼ P102</p><p><img src="https://s2.loli.net/2024/12/24/yJcaG3PUobHuYRL.png" alt=""></p><p>å¸¸ç”¨æ€§è´¨ï¼šç†è§£è®°å¿†ï¼ˆæ¯”å¦‚ç¬¬å…­ä¸ªæ€§è´¨çš„è¯æ˜ï¼‰ P102</p><p><img src="https://s2.loli.net/2024/12/24/CAfZv9qdOaFBtSX.png" alt=""></p><p>ä¸Šé¢ç¬¬å…­ä¸ªæ€§è´¨çš„è¯æ˜</p><p><img src="https://s2.loli.net/2024/12/24/s9tfewF7ijkvqNR.png" alt=""></p><p>ç¬¬äºŒç±»Strlingæ•°æ»¡è¶³çš„é€’æ¨å…³ç³» P103</p><p><img src="https://s2.loli.net/2024/12/24/j3t9cNUKbRBanHg.png" alt=""></p><h2 id="ç¬¬ä¸‰ç« å®¹æ–¥åŸç†å’Œé¸½å·¢åŸç†"><a href="#ç¬¬ä¸‰ç« å®¹æ–¥åŸç†å’Œé¸½å·¢åŸç†" class="headerlink" title="ç¬¬ä¸‰ç« å®¹æ–¥åŸç†å’Œé¸½å·¢åŸç†"></a>ç¬¬ä¸‰ç« å®¹æ–¥åŸç†å’Œé¸½å·¢åŸç†</h2><p>å®¹æ–¥åŸç†ï¼šéŸ¦æ©å›¾ï¼Œ<script type="math/tex">A_1, A_2, ...</script>å°†è¿™äº›é›†åˆçš„ç»å¯¹å€¼å†™å‡ºæ¥ï¼Œäº¤é›†ä¹Ÿå†™å‡ºæ¥ï¼Œç„¶åç”»å›¾ã€‚è¢«æ•´é™¤çš„æ•°çš„æ•°ç›®çš„æ³¨æ„è¦ç•™ä¸‹æœ€å°å…¬çº¦æ•°ï¼Œæ¯”å¦‚10000èƒ½è¢«4å’Œ6æ•´é™¤çš„æ•°çš„æ•°ç›®ï¼š10000/(4<em>6/2)=833ï¼ˆå‘ä¸‹å–æ•´ï¼Œfloor(10000/(4\</em>6/2))ï¼‰.</p><p>ä¾‹é¢˜ï¼š</p><p><img src="https://s2.loli.net/2024/12/24/wzy8lLpUXoMRWsB.png" alt=""></p><p>é¸½å·¢åŸç†ï¼šn+1åªé¸½å­é£å‘nä¸ªé¸½å·¢ï¼Œä¸€å®šå­˜åœ¨ä¸¤åªé¸½å­é£å‘äº†åŒä¸€ä¸ªé¸½å·¢ã€‚å…ˆåˆ’åˆ†å¥½é›†åˆï¼Œå¯ä»¥æŒ‰ä¸ªä½æ•°ã€ä½™æ•°ã€å¥‡å¶æ•°â€¦â€¦</p><p>è¯æ˜é¢˜å¾ˆéš¾ï¼Œå¦‚ï¼š</p><p><img src="https://s2.loli.net/2024/12/24/fU7L53CTtDMZubE.png" alt="å®¹æ–¥åŸç†è¯æ˜é¢˜"></p><p>æ£‹ç›˜å¤šé¡¹å¼å’Œæœ‰é™åˆ¶æ¡ä»¶çš„æ’åˆ— P130</p><p><img src="https://s2.loli.net/2024/12/24/FfqoxTQbGR1WiDt.png" alt="æ£‹ç›˜å¤šé¡¹å¼çš„ä¸‰ä¸ªå…¬å¼"></p><p>ä¸€äº›å¯ä»¥æ‰‹åŠ¨æ¨å¯¼çš„æ£‹ç›˜å¤šé¡¹å¼ P130</p><p><img src="https://s2.loli.net/2024/12/24/wi4mStejdbYvu7X.png" alt=""></p><p>æ£‹ç›˜å¤šé¡¹å¼çš„ç¬¬å››ä¸ªå…¬å¼ï¼šç®€åŒ–è®¡ç®— P131</p><p><img src="https://s2.loli.net/2024/12/24/NMEPrcbtdZTjWSI.png" alt=""></p><p>æœ‰ç¦åŒºçš„æ’åˆ—</p><p><img src="https://s2.loli.net/2024/12/24/O46Xbmswk9oayS8.png" alt=""></p><p>ä¾‹å¦‚ï¼š<script type="math/tex">1+4x+4x^2+x^3</script>ï¼Œæ–¹æ¡ˆæ•°æ˜¯ï¼š3!-4*2!+4*1!-0!=1ç§</p><h2 id="ç¬¬å››ç« Burnsideå¼•ç†å’ŒPoylaå®šç†"><a href="#ç¬¬å››ç« Burnsideå¼•ç†å’ŒPoylaå®šç†" class="headerlink" title="ç¬¬å››ç« Burnsideå¼•ç†å’ŒPoylaå®šç†"></a>ç¬¬å››ç« Burnsideå¼•ç†å’ŒPoylaå®šç†</h2><p>å‰é¢ç¾¤å’ŒåŸŸçš„æ¦‚å¿µå¾ˆéš¾ç†è§£</p><p>Poylaå®šç† P186</p><p><img src="https://s2.loli.net/2024/12/24/pMyVdvoSO1Tfwzt.png" alt=""></p><p>ä¾‹é¢˜ï¼Œä¸å¥½ç†è§£ï¼š</p><p><img src="https://s2.loli.net/2024/12/24/OMNQqZKPBIoearn.png" alt=""></p><h2 id="ç¬¬äº”ç« åŒºç»„è®¾è®¡"><a href="#ç¬¬äº”ç« åŒºç»„è®¾è®¡" class="headerlink" title="ç¬¬äº”ç« åŒºç»„è®¾è®¡"></a>ç¬¬äº”ç« åŒºç»„è®¾è®¡</h2><p>æ‹‰ä¸æ–¹ä¸æ­£äº¤æ‹‰ä¸æ–¹ï¼Œæ„å»ºæ­£äº¤æ‹‰ä¸æ–¹çš„è¿‡ç¨‹ï¼ˆå†™å‡ºåŠ æ³•å’Œä¹˜æ³•ä¸‰çº¿è¡¨ï¼Œæ³¨æ„å–ä½™æ“ä½œï¼‰ P205</p><p><img src="https://s2.loli.net/2024/12/24/tCsZLSEBrMya3qg.png" alt=""></p><p>BIBDï¼Œå‡åŒ€ä¸å®Œå…¨çš„åŒºç»„è®¾è®¡ï¼Œè®°ä½ä¸¤ä¸ªå…¬å¼</p><p><img src="https://s2.loli.net/2024/12/24/8M93FiowOgcHrDY.png" alt=""></p><p>æ¯ä¸ªæ¡ä»¶çš„é¦–å­—æ¯å«ä¹‰ï¼š</p><ol><li>b - <strong>Blocksï¼ˆåŒºç»„æ•°ï¼‰</strong>ï¼šåŒºç»„çš„æ€»æ•°ã€‚</li><li>v - <strong>Varietiesï¼ˆå¤„ç†æ•°ï¼‰</strong>ï¼šå®éªŒä¸­çš„ä¸åŒå¤„ç†ç§ç±»æ•°ç›®ã€‚</li><li>r - <strong>Repetitionï¼ˆé‡å¤æ¬¡æ•°ï¼‰</strong>ï¼šæ¯ä¸ªå¤„ç†åœ¨æ‰€æœ‰åŒºç»„ä¸­çš„å‡ºç°æ¬¡æ•°ã€‚</li><li>k - <strong>Keysï¼ˆåŒºç»„å¤§å°ï¼‰</strong>ï¼šæ¯ä¸ªåŒºç»„ä¸­åˆ†é…çš„å¤„ç†æ•°é‡ã€‚</li><li>Î» - <strong>Linksï¼ˆç»„åˆé¢‘ç‡ï¼‰</strong>ï¼šæ¯å¯¹å¤„ç†ç»„åˆåœ¨åŒºç»„ä¸­å…±åŒå‡ºç°çš„æ¬¡æ•°ã€‚</li></ol><p>ç¬¬ä¸€ä¸ªå…¬å¼ä»£è¡¨å…ƒç´ å‡ºç°çš„æ€»å’Œ </p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p>[<a href="https://www.cnblogs.com/mooleetzi/p/11330256.html">ç»„åˆæ•°å­¦å¸¸ç”¨å…¬å¼æ€»ç»“</a>]</p><p>[<a href="https://github.com/allenmirac/StudyinDailyLife">ç»„åˆæ•°å­¦(ç¬¬5ç‰ˆ)å¢å¼€æ¾„å¢åæ˜ç¼–è‘—</a>]</p><p>[<a href="https://github.com/allenmirac/StudyinDailyLife">ç»„åˆæ•°å­¦è¯¾åä¹ é¢˜åŠå†å¹´è¯•é¢˜æ€è·¯ä¸ç­”æ¡ˆ</a>]</p>]]></content>
      
      
      <categories>
          
          <category> ç»„åˆæ•°å­¦çŸ¥è¯†ç‚¹æ¦‚æ‹¬ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»„åˆæ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„ŸçŸ¥æœº</title>
      <link href="/2024/12/20/gan-zhi-ji/"/>
      <url>/2024/12/20/gan-zhi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="æ„ŸçŸ¥æœº"><a href="#æ„ŸçŸ¥æœº" class="headerlink" title="æ„ŸçŸ¥æœº"></a>æ„ŸçŸ¥æœº</h2><p>é‡æ–°å­¦ä¹ äº†ä¸‹æ„ŸçŸ¥æœºçš„åŸºç¡€ï¼Œè‡ªå·±å®ç°äº†ä¸€éä»£ç ï¼Œæ‰‹ç®—äº†ä¸‹é¢çš„æ›´æ–°å‚æ•°çš„è¿‡ç¨‹ï¼Œå¯¹æ„ŸçŸ¥æœºæ¨¡å‹çš„äº†è§£æ›´æ·±å…¥äº†ã€‚æ„ŸçŸ¥æœºå­¦ä¹ çš„å¯¹å¶å½¢å¼è¿˜æ²¡æœ‰çœ‹å®Œã€‚</p><p>å¯¼å¸ˆä¸Šæ¬¡æ‰¹è¯„çš„åŸºç¡€æ˜¯ä¸æ˜¯å°±æ˜¯æŒ‡è¿™ç§ï¼Œä½†æ˜¯è¿™ç§ä¸œè¥¿æ˜¯å¦è€ƒè™‘çš„å¤ªæ·±å…¥äº†ï¼Œä¸éœ€è¦äº†è§£è¿™ä¹ˆå¤šå†…å®¹ï¼Œä¼šç”¨å°±å¯ä»¥ï¼Œæ‰€ä»¥åœ¨çŠ¹è±«æ˜¯å¦åƒä¸‹é¢è¿™æ ·æ›´æ–°ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹åç»­ç« èŠ‚ï¼ˆæ•´ç†è¦èŠ±å¥½ä¹…çš„æ—¶é—´( â€¢Ì€ Ï‰ â€¢Ì )âœ§ï¼‰ã€‚è®ºæ–‡ä»»åŠ¡ä¾æ—§åœ¨å‹ç€(â”¬â”¬ï¹â”¬â”¬)ï¼Œè¿˜æ˜¯ç»§ç»­å¿«é€Ÿçœ‹å®Œä¹¦ï¼Œè®ºæ–‡ä¹Ÿä¸èƒ½è½ä¸‹&lt;(ï¿£ï¸¶ï¿£)â†—[GO!]</p><p>æ„ŸçŸ¥æœºå­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ç§ç»å…¸ç®—æ³•ï¼Œç”¨äºçº¿æ€§å¯åˆ†æ•°æ®çš„åˆ†ç±»ï¼Œæ˜¯äºŒåˆ†ç±»çš„çº¿æ€§åˆ†ç±»æ¨¡å‹ï¼Œè¾“å…¥æ—¶å®ä¾‹çš„ç‰¹å¾å‘é‡ï¼Œè¾“å‡ºå¯ä»¥å–+1 å’Œ -1äºŒå€¼ã€‚</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¸®åŠ©ç†è§£æ„ŸçŸ¥æœºå­¦ä¹ çš„è¿‡ç¨‹ï¼š</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªäºŒç»´å¹³é¢ä¸Šçš„æ•°æ®é›†ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>ç±»åˆ« +1 ï¼ˆæ­£ç±»ï¼‰ï¼šç‚¹ (2,3) å’Œ (3,4)</li><li>ç±»åˆ« âˆ’1 ï¼ˆè´Ÿç±»ï¼‰ï¼šç‚¹ (1,1) å’Œ (2,1)</li></ul><p>ç›®æ ‡æ˜¯å­¦ä¹ ä¸€ä¸ªç›´çº¿åˆ†ç±»å™¨ï¼Œå°†è¿™ä¸¤ç±»åˆ†å¼€ã€‚æ„ŸçŸ¥æœºæ¨¡å‹çš„å‡è®¾å½¢å¼ä¸ºï¼š</p><script type="math/tex; mode=display">y = \text{sign}(w_1x_1 + w_2x_2 + b)</script><p>å…¶ä¸­ï¼š</p><ul><li><script type="math/tex">w_1, w_2</script> æ˜¯æ„ŸçŸ¥æœºçš„æƒé‡ï¼›</li><li><script type="math/tex">b</script> æ˜¯åç½®ï¼›</li><li><script type="math/tex">{sign}(\cdot)</script> æ˜¯ç¬¦å·å‡½æ•°ï¼Œç”¨äºç¡®å®šåˆ†ç±»ã€‚</li></ul><hr><h3 id="æ„ŸçŸ¥æœºå­¦ä¹ æ­¥éª¤"><a href="#æ„ŸçŸ¥æœºå­¦ä¹ æ­¥éª¤" class="headerlink" title="æ„ŸçŸ¥æœºå­¦ä¹ æ­¥éª¤"></a><strong>æ„ŸçŸ¥æœºå­¦ä¹ æ­¥éª¤</strong></h3><ol><li><p><strong>åˆå§‹åŒ–å‚æ•°</strong><br> åˆå§‹åŒ–<script type="math/tex">w_1 = 0, w_2 = 0, b = 0</script>ã€‚</p></li><li><p><strong>éå†æ ·æœ¬å¹¶æ›´æ–°å‚æ•°</strong><br> å¯¹äºæ¯ä¸ªæ ·æœ¬ <script type="math/tex">(x_1, x_2)</script> å’Œå…¶å¯¹åº”çš„æ ‡ç­¾ yï¼Œæ ¹æ®ä»¥ä¸‹è§„åˆ™æ›´æ–°æƒé‡å’Œåç½®ï¼š</p><script type="math/tex; mode=display">w \leftarrow w + \eta y x</script><script type="math/tex; mode=display">b \leftarrow b + \eta y</script><p>å…¶ä¸­ï¼Œ<script type="math/tex">\eta</script> æ˜¯å­¦ä¹ ç‡ï¼ˆå‡è®¾<script type="math/tex">\eta = 1</script>ï¼‰ã€‚</p></li><li><p><strong>å¾ªç¯æ›´æ–°ç›´åˆ°åˆ†ç±»æ­£ç¡®</strong><br> ä¸æ–­é‡å¤ä»¥ä¸Šæ›´æ–°ï¼Œç›´åˆ°æ‰€æœ‰æ ·æœ¬åˆ†ç±»æ­£ç¡®ã€‚</p></li></ol><h3 id="ç¬¬1è½®æ›´æ–°"><a href="#ç¬¬1è½®æ›´æ–°" class="headerlink" title="ç¬¬1è½®æ›´æ–°"></a>ç¬¬1è½®æ›´æ–°</h3><p>åˆå§‹å‚æ•°ï¼š</p><script type="math/tex; mode=display">w_1 = 0, \; w_2 = 0, \; b = 0</script><p>éå†æ ·æœ¬å¹¶é€ä¸€æ›´æ–°ï¼š</p><ol><li><p><strong>æ ·æœ¬ (2,3),y=+1ï¼š</strong></p><p>åˆ†ç±»é”™è¯¯ï¼Œæ›´æ–°å‚æ•°ï¼š</p><script type="math/tex; mode=display">w_1 = 0 + 1 \cdot 2 = 2, w_2 = 0 + 1 \cdot 3 = 3, b = 0 + 1 \cdot 1 = 1</script></li><li><p><strong>æ ·æœ¬ (1,1),y=âˆ’1ï¼š</strong></p><p>z=2â‹…1+3â‹…1+1=6, yâ€²=sign(6)=+1</p><p>é¢„æµ‹é”™è¯¯ï¼Œæ›´æ–°å‚æ•°ï¼š</p><script type="math/tex; mode=display">w_1\leftarrow w_1 + \eta y x_1 = 2 + 1 \cdot (-1) \cdot 1 = 1</script><script type="math/tex; mode=display">w_2\leftarrow w_2 + \eta y x_2 = 3 + 1 \cdot (-1) \cdot 1 = 2</script><script type="math/tex; mode=display">b \leftarrow b + \eta y = 1 + 1 \cdot (-1) = 0</script><p>æ›´æ–°åå‚æ•°ä¸ºï¼š</p><script type="math/tex; mode=display">w_1 = 1, \; w_2 = 2, \; b = 0</script></li><li><p><strong>æ ·æœ¬ (3,4),y=+1(3, 4), y = +1ï¼š</strong></p><p>z=1â‹…3+2â‹…4+0=11, yâ€²=sign(11)=+1</p><p>é¢„æµ‹æ­£ç¡®ï¼Œæ— éœ€æ›´æ–°ã€‚</p></li><li><p><strong>æ ·æœ¬ (2,1),y=âˆ’1(2, 1), y = -1ï¼š</strong></p><p>z=1â‹…2+2â‹…1+0=4, yâ€²=sign(4)=+1</p><p>é¢„æµ‹é”™è¯¯ï¼Œæ›´æ–°å‚æ•°ï¼š</p><script type="math/tex; mode=display">w_1 \leftarrow w_1 + \eta y x_1 = 1 + 1 \cdot (-1) \cdot 2 = -1</script><script type="math/tex; mode=display">w_2 \leftarrow w_2 + \eta y x_2 = 2 + 1 \cdot (-1) \cdot 1 = 1</script><script type="math/tex; mode=display">b \leftarrow b + \eta y = 0 + 1 \cdot (-1) = -1</script><p>æ›´æ–°åå‚æ•°ä¸ºï¼š</p><script type="math/tex; mode=display">w_1 = -1, \; w_2 = 1, \; b = -1</script></li></ol><hr><h3 id="ç¬¬2è½®éå†"><a href="#ç¬¬2è½®éå†" class="headerlink" title="ç¬¬2è½®éå†"></a><strong>ç¬¬2è½®éå†</strong></h3><ol><li><p><strong>æ ·æœ¬ (2,3),y=+1(2, 3), y = +1ï¼š</strong></p><script type="math/tex; mode=display">z = -1 \cdot 2 + 1 \cdot 3 - 1 = 0, \quad y' = \text{sign}(0) = +1</script><p>é¢„æµ‹æ­£ç¡®ï¼Œæ— éœ€æ›´æ–°ã€‚</p></li><li><p><strong>æ ·æœ¬ (1,1),y=âˆ’1(1, 1), y = -1ï¼š</strong></p><script type="math/tex; mode=display">z = -1 \cdot 1 + 1 \cdot 1 - 1 = -1, \quad y' = \text{sign}(-1) = -1</script><p>é¢„æµ‹æ­£ç¡®ï¼Œæ— éœ€æ›´æ–°ã€‚</p></li><li><p><strong>æ ·æœ¬ (3,4),y=+1(3, 4), y = +1ï¼š</strong></p><script type="math/tex; mode=display">z = -1 \cdot 3 + 1 \cdot 4 - 1 = 0, \quad y' = \text{sign}(0) = +1</script><p>é¢„æµ‹æ­£ç¡®ï¼Œæ— éœ€æ›´æ–°ã€‚</p></li><li><p><strong>æ ·æœ¬ (2,1),y=âˆ’1(2, 1), y = -1ï¼š</strong></p><script type="math/tex; mode=display">z = -1 \cdot 2 + 1 \cdot 1 - 1 = -2, \quad y' = \text{sign}(-2) = -1</script><p>é¢„æµ‹æ­£ç¡®ï¼Œæ— éœ€æ›´æ–°ã€‚</p></li></ol><p>åœ¨ <strong>é»˜è®¤æƒ…å†µä¸‹</strong>ï¼Œå½“ z=0 æ—¶ï¼Œçº¦å®š sign(0)=+1ã€‚</p><hr><h3 id="åˆ†ç±»å™¨æ”¶æ•›"><a href="#åˆ†ç±»å™¨æ”¶æ•›" class="headerlink" title="åˆ†ç±»å™¨æ”¶æ•›"></a><strong>åˆ†ç±»å™¨æ”¶æ•›</strong></h3><p>åœ¨ç¬¬2è½®éå†åï¼Œæ‰€æœ‰æ ·æœ¬å‡åˆ†ç±»æ­£ç¡®ï¼Œæœ€ç»ˆåˆ†ç±»å™¨å‚æ•°ä¸ºï¼š</p><script type="math/tex; mode=display">w_1 = -1, \; w_2 = 1, \; b = -1</script><p><strong>æœ€ç»ˆåˆ†ç±»å™¨ï¼š</strong></p><script type="math/tex; mode=display">y = \text{sign}(-x_1 + x_2 - 1)</script><p>å¯¹åº”çš„åˆ†å‰²çº¿ä¸ºï¼š</p><script type="math/tex; mode=display">x_2 - x_1 - 1 = 0 \quad \text{æˆ–} \quad x_2 = x_1 + 1</script><h3 id="æ›´æ–°æƒé‡è¿‡ç¨‹çš„ç†è§£"><a href="#æ›´æ–°æƒé‡è¿‡ç¨‹çš„ç†è§£" class="headerlink" title="æ›´æ–°æƒé‡è¿‡ç¨‹çš„ç†è§£"></a>æ›´æ–°æƒé‡è¿‡ç¨‹çš„ç†è§£</h3><p>æ›´æ–°æƒé‡çš„è¿‡ç¨‹å®é™…ä¸Šæ˜¯å°†åˆ†ç±»è¶…å¹³é¢å‘è¯¯åˆ†ç±»ç‚¹çš„ä¸€ä¾§ç§»åŠ¨ï¼Œä»¥å‡å°‘è¯¯åˆ†ç±»æ ·æœ¬çš„ç¬¦å·è·ç¦»ã€‚å…·ä½“æ¥è¯´ï¼š</p><ol><li><p><strong>è¯¯åˆ†ç±»ç‚¹çš„ä½ç½®</strong>ï¼š</p><ul><li>å¯¹äºä¸€ä¸ªè¯¯åˆ†ç±»ç‚¹ï¼Œå…¶ç¬¦å·è·ç¦» <script type="math/tex">y_i (\mathbf{w}^\top \mathbf{x}_i + b) \leq 0</script>ã€‚è¿™æ„å‘³ç€å½“å‰åˆ†ç±»è¶…å¹³é¢æ— æ³•æ­£ç¡®åˆ’åˆ†è¯¥ç‚¹ï¼ˆä¾‹å¦‚ï¼Œæ­£ç±»ç‚¹åœ¨è¶…å¹³é¢è´Ÿä¾§ï¼Œæˆ–è´Ÿç±»ç‚¹åœ¨è¶…å¹³é¢æ­£ä¾§ï¼‰ã€‚</li></ul></li><li><p><strong>æƒé‡æ›´æ–°å…¬å¼</strong>ï¼š</p><ul><li>æ›´æ–°å…¬å¼ä¸ºï¼š <script type="math/tex">\mathbf{w} \leftarrow \mathbf{w} + \eta y_i \mathbf{x}_i</script> å…¶ä¸­ï¼ŒÎ·\etaÎ· æ˜¯å­¦ä¹ ç‡ï¼Œ<script type="math/tex">y_i</script>æ˜¯æ ‡ç­¾ï¼Œ<script type="math/tex">\mathbf{x}_i</script> æ˜¯è¯¯åˆ†ç±»æ ·æœ¬çš„ç‰¹å¾ã€‚</li></ul></li><li><p><strong>æ›´æ–°çš„ç›´è§‚å«ä¹‰</strong>ï¼š</p><ul><li>å¦‚æœ<script type="math/tex">y_i = 1</script>ï¼ˆæ­£ç±»ç‚¹è¢«è¯¯åˆ†ç±»ä¸ºè´Ÿç±»ï¼‰ï¼Œæ›´æ–°æ–¹å‘ä¸ºæ­£å‘ç§»åŠ¨<script type="math/tex">\mathbf{x}_i</script>ï¼Œå°†è¶…å¹³é¢å‘è¯¥ç‚¹é è¿‘ã€‚</li><li>å¦‚æœ <script type="math/tex">y_i = -1</script>ï¼ˆè´Ÿç±»ç‚¹è¢«è¯¯åˆ†ç±»ä¸ºæ­£ç±»ï¼‰ï¼Œæ›´æ–°æ–¹å‘ä¸ºè´Ÿå‘ç§»åŠ¨ <script type="math/tex">\mathbf{x}_i</script>ï¼Œä½¿è¶…å¹³é¢è¿œç¦»è¯¥ç‚¹ã€‚</li></ul><p>è¿™ç§è°ƒæ•´ä½¿å¾—è¯¯åˆ†ç±»ç‚¹åœ¨æ›´æ–°åæ›´æ¥è¿‘æ­£ç¡®ä¾§ï¼ˆå³ç¬¦å·è·ç¦» <script type="math/tex">y_i (\mathbf{w}^\top \mathbf{x}_i + b)</script> å¢å¤§ï¼‰ã€‚</p></li><li><p><strong>åç½®çš„ä½œç”¨</strong>ï¼š</p><ul><li><p>åç½®æ›´æ–°å…¬å¼ä¸ºï¼š</p><script type="math/tex; mode=display">b \leftarrow b + \eta y_i</script><ul><li>è¿™ç›¸å½“äºå¹³ç§»è¶…å¹³é¢æ•´ä½“ï¼Œè€Œä¸æ”¹å˜å…¶æ–¹å‘ã€‚</li><li>åç½®è°ƒæ•´ç¡®ä¿è¯¯åˆ†ç±»ç‚¹åœ¨æ›´æ–°åæ›´åŠ è´´è¿‘æ­£ç¡®åˆ†ç±»ä¾§ã€‚</li></ul></li></ul></li><li><p><strong>æ•´ä½“æ•ˆæœ</strong>ï¼š</p><ul><li>æƒé‡æ›´æ–°æ¨åŠ¨è¶…å¹³é¢æœå‘ä¿®æ­£è¯¯åˆ†ç±»ç‚¹çš„æ–¹å‘ç§»åŠ¨ã€‚</li><li>é€šè¿‡é€æ­¥è°ƒæ•´ï¼Œæœ€ç»ˆçš„åˆ†ç±»è¶…å¹³é¢ä¼šä½¿è¯¯åˆ†ç±»æ ·æœ¬è¶Šæ¥è¶Šå°‘ï¼Œç›´åˆ°æ‰€æœ‰æ ·æœ¬æ­£ç¡®åˆ†ç±»ï¼ˆæˆ–è¾¾åˆ°åœæ­¢æ¡ä»¶ï¼‰ã€‚</li></ul></li></ol><h3 id="å­¦ä¹ ç­–ç•¥æŸå¤±å‡½æ•°"><a href="#å­¦ä¹ ç­–ç•¥æŸå¤±å‡½æ•°" class="headerlink" title="å­¦ä¹ ç­–ç•¥æŸå¤±å‡½æ•°"></a>å­¦ä¹ ç­–ç•¥æŸå¤±å‡½æ•°</h3><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨æŸå¤±å‡½æ•°ã€‚åœ¨æ„ŸçŸ¥æœºå­¦ä¹ ä¸­ï¼ŒæŸå¤±å‡½æ•°çš„é€‰æ‹©å†³å®šäº†å­¦ä¹ ç­–ç•¥çš„ä¼˜åŒ–ç›®æ ‡ã€‚æ„ŸçŸ¥æœºä½¿ç”¨çš„æ˜¯<strong>æ„ŸçŸ¥æœºæŸå¤±å‡½æ•°</strong>ï¼Œè¿™æ˜¯ä¸“ä¸ºçº¿æ€§åˆ†ç±»é—®é¢˜è®¾è®¡çš„ä¸€ç§ç®€å•æŸå¤±å‡½æ•°ã€‚</p><p><strong>ç¬¬ä¸€ç§æŸå¤±å‡½æ•°</strong>ï¼š</p><p>æ„ŸçŸ¥æœºçš„æŸå¤±å‡½æ•°ä¸ºï¼š</p><script type="math/tex; mode=display">L(w, b) = -\sum_{i \in \mathcal{M}} y_i \cdot (w^\top x_i + b)</script><p>å…¶ä¸­ï¼š</p><ul><li>Mæ˜¯æ‰€æœ‰è¢«åˆ†ç±»é”™è¯¯çš„æ ·æœ¬é›†åˆï¼›</li><li><script type="math/tex">y_i</script>æ˜¯æ ·æœ¬ i çš„çœŸå®æ ‡ç­¾ï¼›</li><li><script type="math/tex">w^\top x_i + b</script>æ˜¯æ ·æœ¬çš„é¢„æµ‹å¾—åˆ†ã€‚</li></ul><p><strong>å…³é”®ç‚¹ï¼š</strong>åªæœ‰åˆ†ç±»é”™è¯¯çš„æ ·æœ¬æ‰ä¼šäº§ç”ŸæŸå¤±ã€‚</p><p><strong>ç¬¬äºŒç§æŸå¤±å‡½æ•°</strong>ï¼š</p><p>å¦‚æœæ„ŸçŸ¥æœºçš„æŸå¤±å‡½æ•°æ˜¯æ‰€æœ‰è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢ Sçš„æ€»è·ç¦»ï¼Œé‚£ä¹ˆæŸå¤±å‡½æ•°çš„å½¢å¼ä¼šä¸å‡ ä½•è·ç¦»ç›¸å…³ã€‚</p><h3 id="åŸºäºè¯¯åˆ†ç±»ç‚¹çš„æ€»è·ç¦»æŸå¤±å‡½æ•°"><a href="#åŸºäºè¯¯åˆ†ç±»ç‚¹çš„æ€»è·ç¦»æŸå¤±å‡½æ•°" class="headerlink" title="åŸºäºè¯¯åˆ†ç±»ç‚¹çš„æ€»è·ç¦»æŸå¤±å‡½æ•°"></a><strong>åŸºäºè¯¯åˆ†ç±»ç‚¹çš„æ€»è·ç¦»æŸå¤±å‡½æ•°</strong></h3><p>å¦‚æœæŸå¤±å‡½æ•°æ˜¯è¯¯åˆ†ç±»ç‚¹åˆ°è¶…å¹³é¢çš„æ€»è·ç¦»ï¼Œåˆ™å¯ä»¥å†™ä¸ºï¼š</p><script type="math/tex; mode=display">L(w, b) = \sum_{i \in \mathcal{M}} \frac{-y_i (w^\top x_i + b)}{\|w\|},</script><p>å…¶ä¸­ï¼š</p><ul><li>M æ˜¯æ‰€æœ‰è¢«è¯¯åˆ†ç±»çš„æ ·æœ¬é›†åˆï¼›</li><li><script type="math/tex">y_i (w^\top x_i + b) \leq 0</script>è¡¨ç¤ºæ ·æœ¬ i è¢«è¯¯åˆ†ç±»ï¼›</li><li>åˆ†å­éƒ¨åˆ† <script type="math/tex">-y_i (w^\top x_i + b)</script>æ˜¯ç‚¹ <script type="math/tex">x_i</script> åˆ°è¶…å¹³é¢çš„ç¬¦å·è·ç¦»ï¼›</li><li>åˆ†æ¯ <script type="math/tex">\|w\|</script> ä½¿å¾—è·ç¦»è§„èŒƒåŒ–ä¸ºå‡ ä½•è·ç¦»ã€‚</li></ul><h3 id="æœ€ç»ˆä»£ç å®ç°"><a href="#æœ€ç»ˆä»£ç å®ç°" class="headerlink" title="æœ€ç»ˆä»£ç å®ç°"></a>æœ€ç»ˆä»£ç å®ç°</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">class</span> <span class="token class-name">PerceptronWithPerceptronLoss</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> input_dim<span class="token punctuation">,</span> learning_rate<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>w <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>input_dim<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.01</span> <span class="token comment"># åˆå§‹åŒ–éšæœºæƒé‡</span>        self<span class="token punctuation">.</span>b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.01</span> <span class="token comment"># éšæœºåˆå§‹åŒ–åç½®</span>        self<span class="token punctuation">.</span>lr <span class="token operator">=</span> <span class="token number">0.01</span>        <span class="token comment"># margin: å³ä½¿æ‰€æœ‰æ ·æœ¬éƒ½è¢«æ­£ç¡®åˆ†ç±»ï¼Œä¹Ÿä¼šè¿›è¡Œå°‘é‡è®­ç»ƒè¿­ä»£</span>    <span class="token comment"># è¿™ç§æ”¹åŠ¨å¯ä»¥è®©æ¨¡å‹åœ¨æ—©æœŸè®­ç»ƒé˜¶æ®µå¯¹é è¿‘åˆ†ç•Œé¢çš„æ ·æœ¬è¿›è¡Œä¼˜åŒ–</span>    <span class="token comment"># æå‡æ¨¡å‹çš„å†³ç­–è¾¹ç•Œç¨³å®šæ€§ã€‚</span>    <span class="token keyword">def</span> <span class="token function">compute_loss</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> margin<span class="token operator">=</span><span class="token number">1e-5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        score <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>X<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token operator">+</span>self<span class="token punctuation">.</span>b<span class="token punctuation">)</span>        mask <span class="token operator">=</span> score <span class="token operator">&lt;=</span> margin        total_loss <span class="token operator">=</span> <span class="token operator">-</span>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">[</span>mask<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> total_loss<span class="token punctuation">,</span> mask        <span class="token keyword">def</span> <span class="token function">update_parameters</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mask<span class="token punctuation">)</span><span class="token punctuation">:</span>        misclassified_X <span class="token operator">=</span> X<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>        misclassified_y <span class="token operator">=</span> y<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>        self<span class="token punctuation">.</span>w <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>misclassified_y<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">]</span><span class="token operator">*</span>misclassified_X<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>lr        self<span class="token punctuation">.</span>b <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>misclassified_y<span class="token punctuation">)</span><span class="token operator">*</span>self<span class="token punctuation">.</span>lr        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>w<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> epochs<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> tolerance<span class="token operator">=</span><span class="token number">1e-4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        prev_loss <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> epoch <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>            loss<span class="token punctuation">,</span> mask <span class="token operator">=</span> self<span class="token punctuation">.</span>compute_loss<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">)</span>            <span class="token keyword">if</span> loss <span class="token operator">&lt;</span> tolerance <span class="token keyword">or</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>prev_loss <span class="token operator">-</span> loss<span class="token punctuation">)</span> <span class="token operator">&lt;</span> tolerance<span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Converged at epoch </span><span class="token interpolation"><span class="token punctuation">&#123;</span>epoch<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>                <span class="token keyword">break</span>            self<span class="token punctuation">.</span>update_parameters<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mask<span class="token punctuation">)</span>            prev_loss <span class="token operator">=</span> loss            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Epoch </span><span class="token interpolation"><span class="token punctuation">&#123;</span>epoch<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">&#125;</span></span><span class="token string">, Loss </span><span class="token interpolation"><span class="token punctuation">&#123;</span>loss<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">predict</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> np<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>X<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token operator">+</span>self<span class="token punctuation">.</span>b<span class="token punctuation">)</span>    X <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>y <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>model <span class="token operator">=</span> PerceptronWithPerceptronLoss<span class="token punctuation">(</span>input_dim<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> learning_rate<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">)</span>model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> epochs<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Final weights:"</span><span class="token punctuation">,</span> model<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Final bias:"</span><span class="token punctuation">,</span> model<span class="token punctuation">.</span>b<span class="token punctuation">)</span>predicts <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Predict:"</span><span class="token punctuation">,</span> predicts<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªå®ç°å¯¹åŸå§‹æ„ŸçŸ¥æœºç®—æ³•åšäº†ä¸€äº›æ”¹è¿›ï¼Œå°¤å…¶æ˜¯å¼•å…¥äº† <strong>margin å‚æ•°</strong> æ¥ä¼˜åŒ–æ¨¡å‹è®­ç»ƒã€‚è¿™å¯ä»¥åœ¨è®­ç»ƒåˆæœŸå¢å¼ºæ¨¡å‹å¯¹é è¿‘å†³ç­–è¾¹ç•Œçš„æ ·æœ¬çš„æ•æ„Ÿæ€§ï¼Œä½¿å¾—æ¨¡å‹æ”¶æ•›åˆ°æ›´ç¨³å¥çš„å†³ç­–è¾¹ç•Œã€‚ä»¥ä¸‹æ˜¯ä»£ç è¿è¡Œçš„å…³é”®ç‚¹å’Œè§£é‡Šï¼š</p><hr><h4 id="å…³é”®ç‚¹è§£æ"><a href="#å…³é”®ç‚¹è§£æ" class="headerlink" title="å…³é”®ç‚¹è§£æ"></a><strong>å…³é”®ç‚¹è§£æ</strong></h4><h5 id="1-éšæœºåˆå§‹åŒ–æƒé‡å’Œåç½®"><a href="#1-éšæœºåˆå§‹åŒ–æƒé‡å’Œåç½®" class="headerlink" title="1. éšæœºåˆå§‹åŒ–æƒé‡å’Œåç½®"></a>1. <strong>éšæœºåˆå§‹åŒ–æƒé‡å’Œåç½®</strong></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>w <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>input_dim<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.01</span>self<span class="token punctuation">.</span>b <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.01</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æƒé‡ w å’Œåç½® bè¢«éšæœºåˆå§‹åŒ–ä¸ºè¾ƒå°å€¼ï¼Œé€šå¸¸æœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒå†ä¹˜ä»¥ 0.01ã€‚</li><li>è¿™æ ·çš„åˆå§‹åŒ–é¿å…äº†åŸå§‹å®ç°ä¸­å…¨é›¶åˆå§‹åŒ–å¯¼è‡´çš„æ¢¯åº¦ä¸ºé›¶é—®é¢˜ï¼ŒåŒæ—¶ç¡®ä¿åˆå§‹çŠ¶æ€å…·æœ‰è¶³å¤Ÿçš„å°æ‰°åŠ¨ã€‚</li></ul><hr><h5 id="2-åŠ å…¥-margin-å‚æ•°"><a href="#2-åŠ å…¥-margin-å‚æ•°" class="headerlink" title="2. åŠ å…¥ margin å‚æ•°"></a>2. <strong>åŠ å…¥ margin å‚æ•°</strong></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">compute_loss</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> margin<span class="token operator">=</span><span class="token number">1e-5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    score <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>X<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment"># è¯¯åˆ†ç±»ä¹‹åæ‰ä¼šå‡ºç°è´Ÿæ•°çš„æƒ…å†µ</span>    mask <span class="token operator">=</span> score <span class="token operator">&lt;=</span> margin <span class="token comment"># è¡¨ç¤ºè¯¯åˆ†ç±»çš„ä½ç½®</span>    total_loss <span class="token operator">=</span> <span class="token operator">-</span>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">[</span>mask<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> total_loss<span class="token punctuation">,</span> mask<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ä½œç”¨ï¼š<ul><li>å³ä½¿æ‰€æœ‰æ ·æœ¬éƒ½è¢«æ­£ç¡®åˆ†ç±»ï¼ˆscore &gt; 0ï¼‰ï¼Œmargin çš„å­˜åœ¨ç¡®ä¿å†³ç­–è¾¹ç•Œä»ç„¶å¯¹é è¿‘è¾¹ç•Œçš„æ ·æœ¬è¿›è¡Œä¼˜åŒ–ã€‚</li><li>è¿™å¯ä»¥æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å¾—å†³ç­–è¾¹ç•Œæ›´åŠ ç¨³å¥ã€‚</li></ul></li></ul><hr><h5 id="3-å‚æ•°æ›´æ–°"><a href="#3-å‚æ•°æ›´æ–°" class="headerlink" title="3. å‚æ•°æ›´æ–°"></a>3. <strong>å‚æ•°æ›´æ–°</strong></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">update_parameters</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> mask<span class="token punctuation">)</span><span class="token punctuation">:</span>    misclassified_X <span class="token operator">=</span> X<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>    misclassified_y <span class="token operator">=</span> y<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>    self<span class="token punctuation">.</span>w <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>misclassified_y<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> misclassified_X<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>lr    self<span class="token punctuation">.</span>b <span class="token operator">+=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>misclassified_y<span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>lr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>ä½œç”¨ï¼š</strong><ul><li>ä»…å¯¹è¯¯åˆ†ç±»æˆ–è¾¹ç•Œé™„è¿‘çš„æ ·æœ¬ï¼ˆç”± maskmask å®šä¹‰ï¼‰è¿›è¡Œæƒé‡å’Œåç½®æ›´æ–°ï¼Œæå‡è®¡ç®—æ•ˆç‡ã€‚</li><li>æ›´æ–°å…¬å¼éµå¾ªæ„ŸçŸ¥æœºè§„åˆ™ï¼Œå³æœè¯¯åˆ†ç±»æ ·æœ¬æ–¹å‘è°ƒæ•´å†³ç­–è¾¹ç•Œã€‚</li></ul></li></ul><hr><h5 id="4-è®­ç»ƒæ”¶æ•›æ¡ä»¶"><a href="#4-è®­ç»ƒæ”¶æ•›æ¡ä»¶" class="headerlink" title="4. è®­ç»ƒæ”¶æ•›æ¡ä»¶"></a>4. <strong>è®­ç»ƒæ”¶æ•›æ¡ä»¶</strong></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> loss <span class="token operator">&lt;</span> tolerance <span class="token keyword">or</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>prev_loss <span class="token operator">-</span> loss<span class="token punctuation">)</span> <span class="token operator">&lt;</span> tolerance<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Converged at epoch </span><span class="token interpolation"><span class="token punctuation">&#123;</span>epoch<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token keyword">break</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>ä½œç”¨ï¼š<ul><li>å½“æ€»æŸå¤± lossä½äºè®¾å®šé˜ˆå€¼ toleranceï¼Œæˆ–è€…å½“å‰æŸå¤±å’Œä¸Šä¸€è½®æŸå¤±çš„å˜åŒ–å¹…åº¦å°äºé˜ˆå€¼æ—¶ï¼Œè®¤ä¸ºæ¨¡å‹å·²æ”¶æ•›ã€‚</li><li>è¿™ç§æ–¹æ³•å¯ä»¥é˜²æ­¢è®­ç»ƒé™·å…¥æ— é™è¿­ä»£ã€‚</li></ul></li></ul><hr><h5 id="5-é¢„æµ‹"><a href="#5-é¢„æµ‹" class="headerlink" title="5. é¢„æµ‹"></a>5. <strong>é¢„æµ‹</strong></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">predict</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> X<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> np<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>X<span class="token punctuation">,</span> self<span class="token punctuation">.</span>w<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>ä½œç”¨ï¼š<ul><li>æ ¹æ®å½“å‰æƒé‡å’Œåç½®è®¡ç®—æ¯ä¸ªæ ·æœ¬çš„å¾—åˆ†ï¼Œå¹¶é€šè¿‡ç¬¦å·å‡½æ•° sign(z) å°†å¾—åˆ†è½¬æ¢ä¸ºç±»åˆ«æ ‡ç­¾ã€‚</li></ul></li></ul><hr><h4 id="è¿è¡Œç»“æœåˆ†æ"><a href="#è¿è¡Œç»“æœåˆ†æ" class="headerlink" title="è¿è¡Œç»“æœåˆ†æ"></a><strong>è¿è¡Œç»“æœåˆ†æ</strong></h4><ol><li><p><strong>åˆå§‹æƒé‡å’Œåç½®ï¼š</strong> éšæœºåˆå§‹åŒ–å¯¼è‡´æ¯æ¬¡è¿è¡Œç»“æœå¯èƒ½ä¸åŒï¼Œä½† margin çš„å¼•å…¥ç¡®ä¿å³ä¾¿åˆå§‹å€¼ä¸åŒï¼Œæœ€ç»ˆæ¨¡å‹çš„è¡¨ç°ä¼šè¾ƒä¸ºç¨³å¥ã€‚</p></li><li><p><strong>è®­ç»ƒè¿‡ç¨‹ï¼š</strong></p><ul><li>è¾“å‡ºçš„æƒé‡ w å’Œåç½® b ä¼šé€æ¸è°ƒæ•´ï¼Œç›´åˆ°æ‰€æœ‰æ ·æœ¬æ­£ç¡®åˆ†ç±»ï¼Œæˆ–è€…é è¿‘è¾¹ç•Œçš„æ ·æœ¬æ»¡è¶³ margin è¦æ±‚ã€‚</li><li>å¦‚æœæ‰€æœ‰æ ·æœ¬æ—©æœŸå°±æ»¡è¶³è¦æ±‚ï¼Œè®­ç»ƒè¿‡ç¨‹å¯èƒ½ä¼šæå‰ç»ˆæ­¢ã€‚</li></ul></li><li><p><strong>é¢„æµ‹ç»“æœï¼š</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">Predict<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">1.</span> <span class="token operator">-</span><span class="token number">1.</span>  <span class="token number">1.</span> <span class="token operator">-</span><span class="token number">1.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>è¯´æ˜æ¨¡å‹æˆåŠŸå­¦ä¹ åˆ°æ•°æ®çš„çº¿æ€§åˆ†å‰²è§„åˆ™ã€‚</li></ul></li></ol><hr><h4 id="æ”¹è¿›åçš„ä¼˜ç‚¹"><a href="#æ”¹è¿›åçš„ä¼˜ç‚¹" class="headerlink" title="æ”¹è¿›åçš„ä¼˜ç‚¹"></a><strong>æ”¹è¿›åçš„ä¼˜ç‚¹</strong></h4><ul><li><strong>ç¨³å¥æ€§æå‡ï¼š</strong> margin ç¡®ä¿æ¨¡å‹åœ¨æ—©æœŸå¯¹é è¿‘å†³ç­–è¾¹ç•Œçš„æ ·æœ¬è¿›è¡Œä¼˜åŒ–ï¼Œå¢å¼ºäº†åˆ†ç•Œé¢çš„é²æ£’æ€§ã€‚</li><li><strong>é˜²æ­¢é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼š</strong> éšæœºåˆå§‹åŒ–é¿å…æƒé‡å’Œåç½®å‡ä¸ºé›¶æ—¶æ¨¡å‹æ— æ³•æ›´æ–°çš„é—®é¢˜ã€‚</li><li><strong>é«˜æ•ˆæ€§ï¼š</strong> æ¯æ¬¡ä»…æ›´æ–°è¯¯åˆ†ç±»æ ·æœ¬ï¼Œæœ‰æ•ˆå‡å°‘æ— å…³è®¡ç®—ã€‚</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h3><ul><li><strong>æ¯æ¬¡éšæœºåˆå§‹åŒ–ä¼šå¯¼è‡´è®­ç»ƒç»“æœä¸åŒï¼Œä¸»è¦å› ä¸ºåˆå§‹å‚æ•°å½±å“äº†ä¼˜åŒ–è·¯å¾„å’Œå†³ç­–è¾¹ç•Œçš„ä½ç½®ã€‚</strong></li><li><strong>å¯ä»¥é€šè¿‡å›ºå®šéšæœºç§å­ã€æ­£åˆ™åŒ–ã€å¤šæ¬¡è®­ç»ƒå–å¹³å‡ç­‰æ–¹æ³•å‡å°è¿™ç§éšæœºæ€§ã€‚</strong></li><li>å¦‚æœæ•°æ®çº¿æ€§å¯åˆ†ï¼Œä¸åŒçš„éšæœºåˆå§‹åŒ–åªä¼šå½±å“æœ€ç»ˆåˆ†ç•Œé¢çš„å…·ä½“ä½ç½®ï¼Œä½†æ‰€æœ‰åˆ†ç•Œé¢éƒ½èƒ½æ­£ç¡®åˆ†ç±»æ•°æ®ã€‚å¦‚æœæ•°æ®ä¸å¯çº¿æ€§åˆ†å‰²ï¼Œéšæœºåˆå§‹åŒ–çš„å½±å“ä¼šæ›´å¤§ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æ­£åˆ™åŒ–æˆ–æ”¹ç”¨å…¶ä»–æ–¹æ³•ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DLåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP çš„thisæŒ‡é’ˆè¾¨æ</title>
      <link href="/2024/12/19/cpp-de-this-zhi-zhen-bian-xi/"/>
      <url>/2024/12/19/cpp-de-this-zhi-zhen-bian-xi/</url>
      
        <content type="html"><![CDATA[<h2 id="C-çš„-this-æŒ‡é’ˆ"><a href="#C-çš„-this-æŒ‡é’ˆ" class="headerlink" title="C++ çš„ this æŒ‡é’ˆ"></a>C++ çš„ this æŒ‡é’ˆ</h2><p>æŒ‡é’ˆåœ¨è¿™é‡Œé¢æ˜¯éå¸¸éš¾ç†è§£çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¦æ ¹æ®ä¾‹å­ï¼Œè‡ªå·±å®è·µã€‚<br>åœ¨ä½ æ²¡æœ‰å»å…·ä½“äº†è§£ä¹‹å‰ï¼Œä¸è¦è½»æ˜“ä¸‹ç»“è®ºã€‚<br>æœ€è¿‘ï¼Œçœ‹äº†ã€Šåœ¨å±±çš„é‚£è¾¹ã€‹ï¼Œåˆæœ‰ä¸€ç‚¹æ–°æ„Ÿæ‚Ÿ( â€¢Ì€ Ï‰ â€¢Ì )âœ§</p><h3 id="thisæŒ‡é’ˆ"><a href="#thisæŒ‡é’ˆ" class="headerlink" title="thisæŒ‡é’ˆ"></a>thisæŒ‡é’ˆ</h3><p>è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œæˆå‘˜å‡½æ•°é€šè¿‡ä¸€ä¸ªåä¸º this çš„éšå¼å‚æ•°æ¥è®¿é—®è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œç”¨è¯·æ±‚è¯¥å‡½æ•°çš„å¯¹è±¡åœ°å€åˆå§‹åŒ– this ï¼Œthis çš„æŒ‡å‘æ€»æ˜¯è‡ªå·±è¿™ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ this æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//å¾—åˆ°thisçš„åœ°å€</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//å¾—åˆ°thisçš„åœ°å€</span><span class="token punctuation">&#123;</span>Box box<span class="token punctuation">;</span><span class="token keyword">this</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>box<span class="token punctuation">;</span> <span class="token comment">// error: lvalue required as left operand of assignment</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ C++ ä¸­ï¼Œ<code>this</code> æŒ‡é’ˆæ˜¯ä¸€ä¸ªéšå¼ä¼ é€’ç»™éé™æ€æˆå‘˜å‡½æ•°çš„å¸¸é‡æŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚ä»¥ä¸‹æ˜¯å¯¹ä½ çš„ä»£ç å’Œ <code>this</code> çš„ç‰¹æ€§æ€»ç»“ï¼š</p><h4 id="ç‰¹æ€§ï¼š"><a href="#ç‰¹æ€§ï¼š" class="headerlink" title="ç‰¹æ€§ï¼š"></a>ç‰¹æ€§ï¼š</h4><ol><li><strong><code>this</code> æ˜¯ä¸€ä¸ªéšå¼æŒ‡é’ˆ</strong>ï¼š<ul><li>æ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°éƒ½æœ‰ä¸€ä¸ªéšå¼çš„ <code>this</code> æŒ‡é’ˆï¼Œç”¨æ¥è®¿é—®è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„å¯¹è±¡ã€‚</li><li><code>this</code> æŒ‡é’ˆçš„ç±»å‹ä¸º <code>ClassName* const</code>ï¼Œå³å¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚</li></ul></li><li><strong><code>this</code> æŒ‡é’ˆçš„ç”¨é€”</strong>ï¼š<ul><li>è®¿é—®æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€‚</li><li>è¿”å›å¯¹è±¡è‡ªèº«çš„åœ°å€ã€‚</li><li>åœ¨éœ€è¦å¯¹è±¡æŒ‡é’ˆçš„åœºæ™¯ä¸‹ä¼ é€’ <code>this</code>ã€‚</li></ul></li><li><strong>é™æ€æˆå‘˜å‡½æ•°ä¸­æ²¡æœ‰ <code>this</code> æŒ‡é’ˆ</strong>ï¼š<ul><li>é™æ€æˆå‘˜å‡½æ•°ä¸ä¸ä»»ä½•ç‰¹å®šå¯¹è±¡ç»‘å®šï¼Œå› æ­¤æ²¡æœ‰ <code>this</code> æŒ‡é’ˆã€‚</li></ul></li></ol><hr><h4 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h4><ol><li><p><strong>æ­£ç¡®çš„ç”¨æ³•</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿”å›å½“å‰å¯¹è±¡çš„åœ°å€</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li>å‡½æ•°ä¸­ <code>this</code> æŒ‡é’ˆæŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚</li><li>è¿”å› <code>this</code> æ—¶å³è¿”å›è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡åœ°å€ã€‚</li><li>è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç”¨æ³•ã€‚</li></ul></li><li><p><strong>é”™è¯¯çš„ç”¨æ³•</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    Box box<span class="token punctuation">;</span>    <span class="token keyword">this</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>box<span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯: èµ‹å€¼æ“ä½œè¯•å›¾ä¿®æ”¹ `this`</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é”™è¯¯åŸå› </strong>ï¼š</p><ul><li><code>this</code> æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚</li><li><code>this</code> çš„ä½œç”¨æ˜¯å›ºå®šæŒ‡å‘å½“å‰è°ƒç”¨å¯¹è±¡ï¼Œä»»ä½•è¯•å›¾ä¿®æ”¹ <code>this</code> éƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li></ul></li></ol><hr><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li><code>this</code> æŒ‡é’ˆçš„å€¼æ˜¯æ— æ³•æ›´æ”¹çš„ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡ã€‚</li><li>å¦‚æœéœ€è¦è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡çš„åœ°å€ï¼Œåº”è¯¥ç›´æ¥è¿”å›æ–°å¯¹è±¡çš„åœ°å€è€Œä¸æ˜¯è¯•å›¾ä¿®æ”¹ <code>this</code>ã€‚</li></ul><p>æ­£ç¡®ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box<span class="token operator">*</span> <span class="token function">create_new_box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Box<span class="token operator">*</span> box <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> box<span class="token punctuation">;</span> <span class="token comment">// è¿”å›æ–°å¯¹è±¡çš„åœ°å€</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆä»¥åŠL1æ­£åˆ™åŒ–çš„æ¨¡æ‹Ÿè¿‡ç¨‹</title>
      <link href="/2024/12/16/li-jie-zheng-ze-hua-lai-fang-zhi-mo-xing-guo-ni-he-yi-ji-l1-zheng-ze-hua-de-mo-ni-guo-cheng/"/>
      <url>/2024/12/16/li-jie-zheng-ze-hua-lai-fang-zhi-mo-xing-guo-ni-he-yi-ji-l1-zheng-ze-hua-de-mo-ni-guo-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆä»¥åŠL1æ­£åˆ™åŒ–çš„æ¨¡æ‹Ÿè¿‡ç¨‹"><a href="#ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆä»¥åŠL1æ­£åˆ™åŒ–çš„æ¨¡æ‹Ÿè¿‡ç¨‹" class="headerlink" title="ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆä»¥åŠL1æ­£åˆ™åŒ–çš„æ¨¡æ‹Ÿè¿‡ç¨‹"></a>ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆä»¥åŠL1æ­£åˆ™åŒ–çš„æ¨¡æ‹Ÿè¿‡ç¨‹</h2><p>å…¶å®è¿™ä¸ªæ˜¯ç¬¬äºŒæ¬¡çœ‹äº†ï¼Œé‡æ–°åœ¨çœ‹å¦å¤–ä¸€æœ¬ä¹¦ï¼Œã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ã€‚<br>è¿·èŒ«ï¼Œä¸çŸ¥é“çœ‹è¿™äº›è¿˜æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯å»çœ‹è®­ç»ƒä»£ç è¿˜æ˜¯çœ‹ä¸æ‡‚ï¼Œåˆ°åº•æ€ä¹ˆå›äº‹å•Šï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦åŠ é‚£äº›æ¨¡å—ï¼Œå®³(â”¬â”¬ï¹â”¬â”¬)<br>å¿«é€Ÿè¿‡ä¸€éè¿™æœ¬ä¹¦ï¼Œç„¶åå›åˆ°è®ºæ–‡ä¸Šé¢æ¥    &lt;(ï¿£ï¸¶ï¿£)â†—[GO!]</p><h2 id="å¦‚ä½•ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆ"><a href="#å¦‚ä½•ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆ" class="headerlink" title="å¦‚ä½•ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆ"></a>å¦‚ä½•ç†è§£æ­£åˆ™åŒ–æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆ</h2><p>ç†è§£æ­£åˆ™åŒ–å¦‚ä½•é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œåˆ†æï¼š</p><h3 id="1-è¿‡æ‹Ÿåˆçš„æ¦‚å¿µ"><a href="#1-è¿‡æ‹Ÿåˆçš„æ¦‚å¿µ" class="headerlink" title="1. è¿‡æ‹Ÿåˆçš„æ¦‚å¿µ"></a>1. <strong>è¿‡æ‹Ÿåˆçš„æ¦‚å¿µ</strong></h3><p>è¿‡æ‹Ÿåˆæ˜¯æŒ‡æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨æœªè§çš„æ•°æ®ï¼ˆæµ‹è¯•æ•°æ®ï¼‰ä¸Šè¡¨ç°ä¸ä½³çš„ç°è±¡ã€‚è¿‡æ‹Ÿåˆé€šå¸¸å‘ç”Ÿåœ¨æ¨¡å‹è¿‡äºå¤æ‚æ—¶ï¼Œå³æ¨¡å‹å…·æœ‰è¿‡å¤šçš„å‚æ•°æˆ–è€…ç‰¹å¾ï¼Œä½¿å…¶èƒ½å¤Ÿâ€œè®°ä½â€è®­ç»ƒæ•°æ®ä¸­çš„å™ªå£°è€Œä¸æ˜¯å­¦ä¹ åˆ°æ•°æ®çš„çœŸå®æ¨¡å¼ã€‚</p><h3 id="2-æ­£åˆ™åŒ–çš„åŸºæœ¬åŸç†"><a href="#2-æ­£åˆ™åŒ–çš„åŸºæœ¬åŸç†" class="headerlink" title="2. æ­£åˆ™åŒ–çš„åŸºæœ¬åŸç†"></a>2. <strong>æ­£åˆ™åŒ–çš„åŸºæœ¬åŸç†</strong></h3><p>æ­£åˆ™åŒ–é€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥æƒ©ç½šé¡¹ï¼Œæ¥é™åˆ¶æ¨¡å‹çš„å¤æ‚åº¦ã€‚å¸¸è§çš„æ­£åˆ™åŒ–æ–¹æ³•æœ‰L1ï¼ˆLassoï¼‰å’ŒL2ï¼ˆRidgeï¼‰æ­£åˆ™åŒ–ï¼Œå®ƒä»¬åˆ†åˆ«é€šè¿‡ä¸åŒæ–¹å¼æƒ©ç½šæ¨¡å‹å‚æ•°ã€‚</p><ul><li><p><strong>L1 æ­£åˆ™åŒ–</strong>ï¼šå¢åŠ æ¨¡å‹å‚æ•°ç»å¯¹å€¼çš„å’Œä½œä¸ºæƒ©ç½šé¡¹ï¼Œä¿ƒä½¿ä¸€äº›å‚æ•°ä¸ºé›¶ï¼Œä»è€Œè¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚è¿™æœ‰åŠ©äºå»é™¤ä¸é‡è¦çš„ç‰¹å¾ï¼Œä½¿æ¨¡å‹æ›´åŠ ç®€æ´ã€‚</p></li><li><p><strong>L2 æ­£åˆ™åŒ–</strong>ï¼šå¢åŠ æ¨¡å‹å‚æ•°å¹³æ–¹å’Œä½œä¸ºæƒ©ç½šé¡¹ï¼Œé¼“åŠ±æ¨¡å‹å‚æ•°çš„æ•´ä½“å‡å°ã€‚è¿™æ„å‘³ç€å³ä½¿æ¨¡å‹ä½¿ç”¨äº†æ‰€æœ‰ç‰¹å¾ï¼Œå‚æ•°çš„å€¼ä¹Ÿä¸ä¼šè¿‡å¤§ï¼Œä»è€Œå‡å°å¯¹è®­ç»ƒæ•°æ®çš„æ•æ„Ÿæ€§ã€‚</p></li></ul><h3 id="3-é€šè¿‡å¢åŠ æƒ©ç½šé¡¹è°ƒæ•´æŸå¤±å‡½æ•°"><a href="#3-é€šè¿‡å¢åŠ æƒ©ç½šé¡¹è°ƒæ•´æŸå¤±å‡½æ•°" class="headerlink" title="3. é€šè¿‡å¢åŠ æƒ©ç½šé¡¹è°ƒæ•´æŸå¤±å‡½æ•°"></a>3. <strong>é€šè¿‡å¢åŠ æƒ©ç½šé¡¹è°ƒæ•´æŸå¤±å‡½æ•°</strong></h3><p>åœ¨æ­£åˆ™åŒ–çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹çš„æŸå¤±å‡½æ•°é€šå¸¸è¢«ä¿®æ”¹ä¸ºï¼š</p><script type="math/tex; mode=display">\text{Loss} = \text{Loss}_{\text{original}} + \lambda \cdot \text{Penalty}</script><p>å…¶ä¸­ï¼Œ<script type="math/tex">\lambda</script>æ˜¯æ­£åˆ™åŒ–å‚æ•°ï¼Œç”¨äºæ§åˆ¶æƒ©ç½šé¡¹çš„å¼ºåº¦ã€‚è¾ƒå¤§çš„<script type="math/tex">\lambda</script>å€¼ä¼šå¢åŠ æƒ©ç½šï¼Œä½¿å¾—æ¨¡å‹æ›´åŠ ç®€å•ï¼Œä»è€Œé™ä½è¿‡æ‹Ÿåˆçš„é£é™©ã€‚</p><h3 id="4-æ•ˆæœå’Œç›´è§‚ç†è§£"><a href="#4-æ•ˆæœå’Œç›´è§‚ç†è§£" class="headerlink" title="4. æ•ˆæœå’Œç›´è§‚ç†è§£"></a>4. <strong>æ•ˆæœå’Œç›´è§‚ç†è§£</strong></h3><ul><li><p><strong>æ¨¡å‹å¤æ‚åº¦</strong>ï¼šæ­£åˆ™åŒ–ç›¸å½“äºåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­å¼•å…¥äº†å¯¹æ¨¡å‹å¤æ‚åº¦çš„çº¦æŸï¼Œä¿ƒä½¿æ¨¡å‹åœ¨é€‰æ‹©ç‰¹å¾å’Œå­¦ä¹ å‚æ•°æ—¶æ›´åŠ è°¨æ…ã€‚è¿™ç§è°¨æ…ä½¿å¾—æ¨¡å‹æ›´æœ‰å¯èƒ½å­¦ä¹ åˆ°æ›´å…·ä»£è¡¨æ€§çš„ç‰¹å¾ï¼Œè€Œä¸æ˜¯è®­ç»ƒæ•°æ®ä¸­çš„å¶ç„¶æ¨¡å¼ã€‚</p></li><li><p><strong>æ³›åŒ–èƒ½åŠ›</strong>ï¼šé€šè¿‡æ­£åˆ™åŒ–ï¼Œæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å¾—åˆ°æå‡ï¼Œèƒ½æ›´å¥½åœ°é€‚åº”æ–°çš„ã€æœªè§çš„æ•°æ®ã€‚è¿™æ˜¯å› ä¸ºæ­£åˆ™åŒ–å¸®åŠ©æ¨¡å‹æ›´å…³æ³¨æ•°æ®çš„æ•´ä½“ç»“æ„ï¼Œè€Œéä¸ªåˆ«å™ªå£°æˆ–å¼‚å¸¸å€¼ã€‚</p></li></ul><h3 id="5-è°ƒèŠ‚ä¸éªŒè¯"><a href="#5-è°ƒèŠ‚ä¸éªŒè¯" class="headerlink" title="5. è°ƒèŠ‚ä¸éªŒè¯"></a>5. <strong>è°ƒèŠ‚ä¸éªŒè¯</strong></h3><p>æ­£åˆ™åŒ–å‚æ•°çš„é€‰æ‹©è‡³å…³é‡è¦ã€‚é€šè¿‡äº¤å‰éªŒè¯ç­‰æŠ€æœ¯ï¼Œå¯ä»¥æ‰¾åˆ°æœ€ä½³çš„<script type="math/tex">\lambda</script>å€¼ï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šéƒ½èƒ½ä¿æŒè‰¯å¥½çš„æ€§èƒ½ï¼Œä»è€Œè¾¾åˆ°é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ•ˆæœã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ­£åˆ™åŒ–é€šè¿‡æƒ©ç½šæ¨¡å‹å¤æ‚åº¦ï¼Œæœ‰æ•ˆé™ä½äº†æ¨¡å‹å¯¹è®­ç»ƒæ•°æ®çš„è¿‡åº¦æ‹Ÿåˆï¼Œä½¿å¾—æ¨¡å‹åœ¨æœªè§æ•°æ®ä¸Šè¡¨ç°æ›´åŠ ç¨³å¥ã€‚ç†è§£è¿™ä¸€è¿‡ç¨‹æœ‰åŠ©äºåœ¨å®é™…å»ºæ¨¡ä¸­é€‰æ‹©åˆé€‚çš„æ­£åˆ™åŒ–ç­–ç•¥ï¼Œä¼˜åŒ–æ¨¡å‹çš„æ€§èƒ½ã€‚</p><h2 id="L1æ­£åˆ™åŒ–å¯ä»¥è®©æ¨¡å‹å‚æ•°çš„å€¼ä¸º0çš„åŸå› "><a href="#L1æ­£åˆ™åŒ–å¯ä»¥è®©æ¨¡å‹å‚æ•°çš„å€¼ä¸º0çš„åŸå› " class="headerlink" title="L1æ­£åˆ™åŒ–å¯ä»¥è®©æ¨¡å‹å‚æ•°çš„å€¼ä¸º0çš„åŸå› "></a>L1æ­£åˆ™åŒ–å¯ä»¥è®©æ¨¡å‹å‚æ•°çš„å€¼ä¸º0çš„åŸå› </h2><p>L1æ­£åˆ™åŒ–èƒ½å¤Ÿä¿ƒä½¿ä¸€äº›æ¨¡å‹å‚æ•° <script type="math/tex">w_i</script> çš„å€¼ä¸ºé›¶çš„åŸç†ä¸»è¦ä½“ç°åœ¨å…¶æŸå¤±å‡½æ•°çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­ã€‚ä»¥ä¸‹æ˜¯å¯¹è¿™ä¸€åŸç†çš„è¯¦ç»†è§£é‡ŠåŠç¤ºä¾‹ã€‚</p><h3 id="åŸç†è§£é‡Š"><a href="#åŸç†è§£é‡Š" class="headerlink" title="åŸç†è§£é‡Š"></a>åŸç†è§£é‡Š</h3><p>L1æ­£åˆ™åŒ–é€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥å‚æ•°çš„ç»å¯¹å€¼ä¹‹å’Œä½œä¸ºæƒ©ç½šé¡¹ï¼Œä¿ƒä½¿æ¨¡å‹å‚æ•°çš„æŸäº›å€¼è¶‹è¿‘äºé›¶ã€‚å…¶æŸå¤±å‡½æ•°å½¢å¼ä¸ºï¼š</p><script type="math/tex; mode=display">\text{Loss} = \text{Loss}_{\text{original}} + \lambda \cdot \sum_{i=1}^{n} |w_i|</script><p>è¿™é‡Œï¼Œ<script type="math/tex">\lambda</script>æ˜¯æ­£åˆ™åŒ–å¼ºåº¦çš„è¶…å‚æ•°ï¼Œæ§åˆ¶æƒ©ç½šé¡¹çš„å½±å“åŠ›ã€‚</p><ol><li><p><strong>ç»å¯¹å€¼çš„æ€§è´¨</strong>ï¼šç»å¯¹å€¼å‡½æ•°åœ¨åŸç‚¹æ˜¯ä¸å¯å¯¼çš„ï¼Œè¿™æ„å‘³ç€å½“ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦ä¸‹é™ï¼‰è¯•å›¾æ›´æ–°å‚æ•° <script type="math/tex">w_i</script> æ—¶ï¼ŒæŸäº›å‚æ•°å¯èƒ½ä¼šç›´æ¥è¾¾åˆ°é›¶ã€‚è¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿåœ¨å‚æ•°çš„æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œæƒ©ç½šé¡¹ä½¿å¾—æŸäº›å‚æ•°çš„æ›´æ–°å¹…åº¦å‡å°åˆ°é›¶ã€‚</p></li><li><p><strong>ç›®æ ‡å‡½æ•°çš„å‡ ä½•å½¢çŠ¶</strong>ï¼šL1æ­£åˆ™åŒ–çš„æƒ©ç½šé¡¹å½¢æˆçš„ç­‰é«˜çº¿æ˜¯è±å½¢ï¼ˆæˆ–æ­£æ–¹å½¢ï¼‰ï¼Œä¸æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿ç›¸äº¤æ—¶ï¼Œå¾€å¾€ä¼šåœ¨åæ ‡è½´ä¸Šæ¥è§¦ï¼Œè¿™æ„å‘³ç€æ¨¡å‹çš„æŸäº›å‚æ•°å°†è¢«æ¨è‡³é›¶ã€‚è¿™æ˜¯å› ä¸ºåœ¨æœ€ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œç»å¯¹å€¼å‡½æ•°çš„â€œå°–è§’â€ä¼šå¯¼è‡´æŸäº›å‚æ•°åœ¨æœ€ä¼˜è§£å¤„ä¸ºé›¶ã€‚</p></li><li><p><strong>å‡¸ä¼˜åŒ–çš„æ•ˆæœ</strong>ï¼šL1æ­£åˆ™åŒ–çš„ç›®æ ‡å‡½æ•°æ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œä¼˜åŒ–æ—¶å®¹æ˜“æ”¶æ•›åˆ°å±€éƒ¨æœ€ä¼˜è§£ï¼Œè¿›è€Œæœ‰å¯èƒ½å‡ºç°éƒ¨åˆ†å‚æ•°è¢«æ”¶ç¼©åˆ°é›¶çš„ç°è±¡ã€‚</p></li></ol><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¯´æ˜å¦‚ä½•é€šè¿‡L1æ­£åˆ™åŒ–ä¿ƒä½¿å‚æ•°ä¸ºé›¶ã€‚</p><h4 id="ä¾‹å­è®¾å®š"><a href="#ä¾‹å­è®¾å®š" class="headerlink" title="ä¾‹å­è®¾å®š"></a>ä¾‹å­è®¾å®š</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹ï¼Œå…¶æ¨¡å‹å½¢å¼ä¸ºï¼š</p><script type="math/tex; mode=display">y = w_1 x_1 + w_2 x_2 + b</script><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªå°çš„æ•°æ®é›†æ¥è®­ç»ƒæ¨¡å‹ï¼š</p><div class="table-container"><table><thead><tr><th><script type="math/tex">x_1</script></th><th><script type="math/tex">x_2</script></th><th><script type="math/tex">y</script></th></tr></thead><tbody><tr><td>1</td><td>2</td><td>3</td></tr><tr><td>2</td><td>3</td><td>5</td></tr><tr><td>3</td><td>4</td><td>7</td></tr><tr><td>4</td><td>5</td><td>9</td></tr><tr><td>5</td><td>6</td><td>11</td></tr></tbody></table></div><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><ol><li><p><strong>æŸå¤±å‡½æ•°</strong>ï¼š</p><ul><li>åŸå§‹æŸå¤±å‡½æ•°ï¼ˆå‡æ–¹è¯¯å·®ï¼‰ä¸ºï¼š</li></ul><script type="math/tex; mode=display">\text{Loss}_{\text{original}} = \frac{1}{n} \sum (y_i - (w_1 x_{1,i} + w_2 x_{2,i} + b))^2</script></li><li><p><strong>åŠ å…¥L1æ­£åˆ™åŒ–</strong>ï¼š</p><ul><li>å‡è®¾æˆ‘ä»¬è®¾ç½® <script type="math/tex">\lambda = 0.1</script>ï¼Œé‚£ä¹ˆåŠ å…¥L1æ­£åˆ™åŒ–åçš„æŸå¤±å‡½æ•°ä¸ºï¼š</li></ul><script type="math/tex; mode=display">\text{Loss} = \frac{1}{n} \sum (y_i - (w_1 x_{1,i} + w_2 x_{2,i} + b))^2 + 0.1 (|w_1| + |w_2|)</script></li><li><p><strong>è®­ç»ƒè¿‡ç¨‹</strong>ï¼š</p><ul><li>åœ¨ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç­‰ä¼˜åŒ–ç®—æ³•è¿›è¡Œè®­ç»ƒæ—¶ï¼Œæ›´æ–°å‚æ•° <script type="math/tex">w_1</script> å’Œ <script type="math/tex">w_2</script> çš„æ­¥éª¤åŒ…æ‹¬è®¡ç®—åŸå§‹æŸå¤±çš„æ¢¯åº¦å’ŒL1æƒ©ç½šçš„æ¢¯åº¦ã€‚</li><li>ç”±äºL1æ­£åˆ™åŒ–çš„ç‰¹æ€§ï¼Œå½“ä¼˜åŒ–ç®—æ³•è°ƒæ•´ <script type="math/tex">w_1</script> å’Œ <script type="math/tex">w_2</script> æ—¶ï¼ŒæŸäº›å‚æ•°çš„å€¼å¯èƒ½ä¼šè¢«æ¨åˆ°é›¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <script type="math/tex">w_1</script> çš„å½±å“ç›¸å¯¹è¾ƒå°ï¼Œä¼˜åŒ–è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç°ä¿æŒ<script type="math/tex">w_1 = 0</script> èƒ½å¤Ÿæ˜¾è‘—é™ä½æŸå¤±ã€‚</li></ul></li></ol><h4 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h4><p>ç»è¿‡å¤šæ¬¡è¿­ä»£ï¼Œæœ€ç»ˆå¯èƒ½å¾—åˆ°  <script type="math/tex">w_1 = 0</script> å’Œ<script type="math/tex">w_2 = 2</script>ï¼Œè¿™æ„å‘³ç€åœ¨è¿™ä¸ªç‰¹å®šçš„è®­ç»ƒä¸­ï¼Œç‰¹å¾ <script type="math/tex">x_1</script> å¯¹ç›®æ ‡å˜é‡ <script type="math/tex">y</script> çš„é¢„æµ‹å¹¶æ²¡æœ‰æ˜¾è‘—è´¡çŒ®ï¼Œæ¨¡å‹å°†å…¶å®Œå…¨å¿½ç•¥ã€‚</p><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>L1æ­£åˆ™åŒ–é€šè¿‡æƒ©ç½šå‚æ•°çš„ç»å¯¹å€¼ï¼Œä¿ƒä½¿æŸäº›å‚æ•°çš„å€¼ä¸ºé›¶ï¼Œè¿™ä¸»è¦æºäºå…¶æŸå¤±å‡½æ•°çš„å‡ ä½•ç‰¹æ€§å’Œä¼˜åŒ–è¿‡ç¨‹ä¸­çš„ç‰¹æ€§ã€‚é€šè¿‡è®­ç»ƒï¼Œæ¨¡å‹èƒ½å¤Ÿè‡ªåŠ¨é€‰æ‹©å¯¹é¢„æµ‹æœ€æœ‰ç”¨çš„ç‰¹å¾ï¼Œä»è€Œæé«˜å…¶åœ¨æœªè§æ•°æ®ä¸Šçš„æ³›åŒ–èƒ½åŠ›ã€‚</p><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>linear_model <span class="token keyword">import</span> Lasso<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>linear_model <span class="token keyword">import</span> LinearRegression<span class="token comment"># ç”Ÿæˆæ•°æ®</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>X <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>y <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># å®šä¹‰L1æ­£åˆ™åŒ–å¼ºåº¦</span>lambda_l1 <span class="token operator">=</span> <span class="token number">0.1</span><span class="token comment"># ç»˜åˆ¶æŸå¤±å‡½æ•°çš„ç­‰é«˜çº¿</span><span class="token keyword">def</span> <span class="token function">plot_contours</span><span class="token punctuation">(</span>lambdas<span class="token punctuation">)</span><span class="token punctuation">:</span>    w1_range <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>    w2_range <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>    W1<span class="token punctuation">,</span> W2 <span class="token operator">=</span> np<span class="token punctuation">.</span>meshgrid<span class="token punctuation">(</span>w1_range<span class="token punctuation">,</span> w2_range<span class="token punctuation">)</span>    <span class="token comment"># è®¡ç®—æŸå¤±å€¼</span>    loss <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>W1<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        loss <span class="token operator">+=</span> <span class="token punctuation">(</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span>W1 <span class="token operator">*</span> X<span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> W2 <span class="token operator">*</span> X<span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span>    loss <span class="token operator">=</span> loss <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">+</span> lambdas <span class="token operator">*</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>W1<span class="token punctuation">)</span> <span class="token operator">+</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>W2<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ·»åŠ L1æƒ©ç½š</span>    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    contour <span class="token operator">=</span> plt<span class="token punctuation">.</span>contour<span class="token punctuation">(</span>W1<span class="token punctuation">,</span> W2<span class="token punctuation">,</span> loss<span class="token punctuation">,</span> levels<span class="token operator">=</span>np<span class="token punctuation">.</span>logspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'viridis'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>clabel<span class="token punctuation">(</span>contour<span class="token punctuation">,</span> inline<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Loss Contours with L1 Regularization'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'w1'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'w2'</span><span class="token punctuation">)</span>    <span class="token comment"># ç»˜åˆ¶L1æƒ©ç½šçš„çº¦æŸ</span>    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span>lambda_l1<span class="token punctuation">,</span> <span class="token operator">-</span>lambda_l1<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'r--'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'L1 constraint'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>lambda_l1<span class="token punctuation">,</span> <span class="token operator">-</span>lambda_l1<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'r--'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>fill_betweenx<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span>lambda_l1<span class="token punctuation">,</span> lambda_l1<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>lambda_l1<span class="token punctuation">,</span> lambda_l1<span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>axhline<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>axvline<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># è®­ç»ƒçº¿æ€§å›å½’æ¨¡å‹</span>model <span class="token operator">=</span> LinearRegression<span class="token punctuation">(</span><span class="token punctuation">)</span>model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Linear Regression Coefficients: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>model<span class="token punctuation">.</span>coef_<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token comment"># è®­ç»ƒL1æ­£åˆ™åŒ–çš„æ¨¡å‹</span>lasso_model <span class="token operator">=</span> Lasso<span class="token punctuation">(</span>alpha<span class="token operator">=</span>lambda_l1<span class="token punctuation">)</span>lasso_model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'L1 Regularization Coefficients: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>lasso_model<span class="token punctuation">.</span>coef_<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token comment"># ç»˜åˆ¶ç­‰é«˜çº¿</span>plot_contours<span class="token punctuation">(</span>lambda_l1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Output</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Linear Regression Coefficients: <span class="token punctuation">[</span><span class="token number">1</span>. <span class="token number">1</span>.<span class="token punctuation">]</span>L1 Regularization Coefficients: <span class="token punctuation">[</span><span class="token number">1</span>.9500000e+00 <span class="token number">8</span>.8817842e-17<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªè¾“å‡ºçš„å«ä¹‰æ˜¯ï¼Œç»è¿‡ <strong>L1 æ­£åˆ™åŒ–</strong>ï¼ˆLasso å›å½’ï¼‰åï¼Œæ¨¡å‹çš„å›å½’ç³»æ•°ä¸ºï¼š</p><ul><li><strong><code>1.9500000e+00</code></strong>ï¼šç¬¬ä¸€ä¸ªç‰¹å¾ <script type="math/tex">x_1</script> çš„å›å½’ç³»æ•°å¤§çº¦ä¸º <strong>1.95</strong>ï¼Œè¡¨ç¤ºè¿™ä¸ªç‰¹å¾å¯¹é¢„æµ‹ç›®æ ‡ <script type="math/tex">y</script> æœ‰è¾ƒå¤§çš„å½±å“ã€‚</li><li><strong><code>8.8817842e-17</code></strong>ï¼šç¬¬äºŒä¸ªç‰¹å¾ <script type="math/tex">x_2</script> çš„å›å½’ç³»æ•°éå¸¸æ¥è¿‘äº <strong>0</strong>ï¼Œè¿™ä¸ªå€¼å¯ä»¥è¢«è®¤ä¸ºæ˜¯æ•°å€¼ç²¾åº¦è¯¯å·®ã€‚å®é™…ä¸Šï¼ŒL1 æ­£åˆ™åŒ–å·²ç»å°†è¯¥ç‰¹å¾çš„ç³»æ•°å‹ç¼©ä¸º <strong>0</strong>ï¼Œè¡¨æ˜ <script type="math/tex">x_2</script> å¯¹ç›®æ ‡å€¼ <script type="math/tex">y</script> å‡ ä¹æ²¡æœ‰å½±å“ï¼Œæ¨¡å‹å¿½ç•¥äº†è¿™ä¸ªç‰¹å¾ã€‚</li></ul><hr><h4 id="ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªç³»æ•°æ¥è¿‘äº-0ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªç³»æ•°æ¥è¿‘äº-0ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªç³»æ•°æ¥è¿‘äº 0ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç¬¬äºŒä¸ªç³»æ•°æ¥è¿‘äº 0ï¼Ÿ</h4><p>è¿™æ­£æ˜¯ <strong>L1 æ­£åˆ™åŒ–</strong> çš„ä½œç”¨ï¼</p><ul><li>L1 æ­£åˆ™åŒ–é€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­æ·»åŠ  <script type="math/tex">\lambda \sum |w_i|</script> æƒ©ç½šé¡¹ï¼Œé¼“åŠ±ä¸é‡è¦çš„ç‰¹å¾æƒé‡ <script type="math/tex">w</script> æ¥è¿‘ 0 æˆ–ç›´æ¥ä¸º 0ã€‚</li><li>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¨¡å‹é€šè¿‡æ­£åˆ™åŒ–å‘ç° <script type="math/tex">x_2</script> å¯¹é¢„æµ‹ç›®æ ‡ <script type="math/tex">y</script> çš„å½±å“è¾ƒå°ï¼Œå› æ­¤å°†å…¶ç³»æ•° <script type="math/tex">w_2</script>å‹ç¼©åˆ°æ¥è¿‘ 0ã€‚</li></ul><hr><h4 id="æ•°å€¼è§£é‡Š"><a href="#æ•°å€¼è§£é‡Š" class="headerlink" title="æ•°å€¼è§£é‡Š"></a>æ•°å€¼è§£é‡Š</h4><ol><li><p><strong><code>1.9500000e+00</code></strong>ï¼š</p><ul><li>æŒ‡æ•°å½¢å¼è¡¨ç¤º <script type="math/tex">1.95 \times 10^0 = 1.95</script>ï¼Œè¯´æ˜ <script type="math/tex">w_1</script> æ˜¯æ¥è¿‘ 1.95 çš„éé›¶å€¼ã€‚</li></ul></li><li><p><strong><code>8.8817842e-17</code></strong>ï¼š</p><ul><li>æŒ‡æ•°å½¢å¼è¡¨ç¤º <script type="math/tex">8.88 \times 10^{-17}</script>ï¼Œéå¸¸æ¥è¿‘ 0ï¼Œæ˜¯è®¡ç®—ä¸­çš„æµ®ç‚¹æ•°è¯¯å·®ã€‚</li><li>å®é™…æ„ä¹‰ä¸Šï¼Œå®ƒç­‰ä»·äº 0ï¼Œè¡¨ç¤ºæ¨¡å‹å·²ç»å‰”é™¤äº†è¯¥ç‰¹å¾ã€‚</li></ul></li></ol><hr><h4 id="æ­£åˆ™åŒ–çš„æ•ˆæœ"><a href="#æ­£åˆ™åŒ–çš„æ•ˆæœ" class="headerlink" title="æ­£åˆ™åŒ–çš„æ•ˆæœ"></a>æ­£åˆ™åŒ–çš„æ•ˆæœ</h4><ul><li><p><strong>æ™®é€šçº¿æ€§å›å½’</strong>ï¼š<br>ä¸è¿›è¡Œæ­£åˆ™åŒ–çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªç‰¹å¾å¯èƒ½éƒ½ä¼šå¾—åˆ°è¾ƒå¤§çš„éé›¶ç³»æ•°ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">Linear Regression Coefficients: [1. 1.]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¡¨ç¤ºä¸¤ä¸ªç‰¹å¾å¯¹ <script type="math/tex">y</script> çš„è´¡çŒ®ç›¸ç­‰ã€‚</p></li><li><p><strong>L1 æ­£åˆ™åŒ–ï¼ˆLassoï¼‰</strong>ï¼š<br>åœ¨ L1 æ­£åˆ™åŒ–ä¸‹ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨é€‰æ‹©å¯¹ç›®æ ‡å€¼å½±å“å¤§çš„ç‰¹å¾ï¼Œè€Œå¿½ç•¥å…¶ä»–ä¸é‡è¦çš„ç‰¹å¾ï¼Œå¯èƒ½å¾—åˆ°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">L1 Regularization Coefficients: [1.95 0.]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¡¨ç¤º <script type="math/tex">x_2</script> å¯¹ <script type="math/tex">y</script> å‡ ä¹æ²¡æœ‰è´¡çŒ®ï¼Œè¢«å‹ç¼©ä¸º 0ã€‚</p></li></ul><hr><h4 id="æ¨¡å‹è§£é‡Š"><a href="#æ¨¡å‹è§£é‡Š" class="headerlink" title="æ¨¡å‹è§£é‡Š"></a>æ¨¡å‹è§£é‡Š</h4><p>æœ€ç»ˆï¼Œå¸¦ L1 æ­£åˆ™åŒ–çš„æ¨¡å‹å…¬å¼å¯ä»¥å†™ä¸ºï¼š</p><script type="math/tex; mode=display">y = 1.95 \cdot x_1 + 0 \cdot x_2</script><p>è¿™è¯´æ˜æ¨¡å‹å®Œå…¨ä¾èµ– <script type="math/tex">x_1</script> æ¥é¢„æµ‹ <script type="math/tex">y</script>ï¼Œä»è€Œå®ç°äº†ç‰¹å¾é€‰æ‹©å’Œæ¨¡å‹çš„ç®€åŒ–.</p>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å†…å­˜å¸ƒå±€ä»¥åŠå¸¸ç”¨å…³é”®å­—</title>
      <link href="/2024/12/05/c-nei-cun-bu-ju-yi-ji-chang-yong-guan-jian-zi/"/>
      <url>/2024/12/05/c-nei-cun-bu-ju-yi-ji-chang-yong-guan-jian-zi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="C-å†…å­˜å¸ƒå±€ä»¥åŠå¸¸ç”¨å…³é”®å­—"><a href="#C-å†…å­˜å¸ƒå±€ä»¥åŠå¸¸ç”¨å…³é”®å­—" class="headerlink" title="C++å†…å­˜å¸ƒå±€ä»¥åŠå¸¸ç”¨å…³é”®å­—"></a>C++å†…å­˜å¸ƒå±€ä»¥åŠå¸¸ç”¨å…³é”®å­—</h2><h2 id="C-çš„å†…å­˜ç©ºé—´"><a href="#C-çš„å†…å­˜ç©ºé—´" class="headerlink" title="C++çš„å†…å­˜ç©ºé—´"></a>C++çš„å†…å­˜ç©ºé—´</h2><p>ä»£ç å­˜å‚¨åŒºåŸŸï¼šå¸¸é‡åŒºã€ä»£ç åŒºã€é™æ€åŒºï¼ˆå…¨å±€åŒºï¼‰ã€å †åŒºã€æ ˆåŒº</p><p>æ ˆåŒºå‘ä¸‹å¢é•¿ï¼Œå †åŒºå‘ä¸Šå¢é•¿ã€‚<strong>æ ˆç”±ç³»ç»Ÿç®¡ç†ï¼Œæ²¡æœ‰å†…å­˜ç¢ç‰‡ï¼Œæ¯ä¸ªå…ƒç´ ä¹‹é—´éƒ½æ˜¯è¿ç»­çš„ï¼Œå¤§å°æ¯”è¾ƒå°ï¼Œ8kï¼Œå¯ä»¥ä¿®æ”¹ç³»ç»Ÿå‚æ•°</strong>ï¼Œå †åŒºå­˜å‚¨åŠ¨æ€å¼€è¾Ÿçš„å˜é‡ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªå†…æ ¸ç©ºé—´ï¼Œä½†æ˜¯å®ƒä¸ä¸ç”¨æˆ·ç›´æ¥äº¤äº’ï¼ˆå†…æ ¸åŒºï¼‰ã€‚</p><p><img src="https://s2.loli.net/2024/12/05/ThemXq4PYIn5rDZ.png" alt="C++çš„å†…å­˜ç©ºé—´"></p><h2 id="å¸¸ç”¨å…³é”®å­—"><a href="#å¸¸ç”¨å…³é”®å­—" class="headerlink" title="å¸¸ç”¨å…³é”®å­—"></a>å¸¸ç”¨å…³é”®å­—</h2><h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><p>ä¿®é¥°å±€éƒ¨å˜é‡ï¼šå±€éƒ¨å˜é‡çš„å­˜å‚¨åŒºåŸŸæ”¹å˜ã€å˜ä¸ºé™æ€åŒºï¼Œç”Ÿå‘½å‘¨æœŸæ”¹ä¸ºç¨‹åºç»“æŸæ‰é”€æ¯ã€‚</p><p>ä¿®é¥°å…¨å±€å˜é‡ï¼šå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è®¿é—®ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è®¿é—®ï¼Œ <strong>extern å¤–éƒ¨å£°æ˜</strong>ä¹Ÿä¸å¯ä»¥ã€‚</p><p>ä¿®é¥°æˆå‘˜å˜é‡ï¼šé™æ€æˆå‘˜å˜é‡ä¸å±äºå®ä½“çš„ç±»å¯¹è±¡ï¼Œè¦åœ¨ç±»å¤–åˆå§‹åŒ–</p><p>ä¿®é¥°æˆå‘˜å‡½æ•°ï¼šé™æ€å‡½æ•°<strong>å±äºç±»ä¸å±äºç±»å¯¹è±¡</strong> éœ€è¦é€šè¿‡ç±»ä½œç”¨åŸŸè°ƒç”¨ <strong>å‡½æ•°æ— thisæŒ‡é’ˆ</strong>(é™æ€æˆå‘˜å‡½æ•°ä»…èƒ½è®¿é—®é™æ€çš„æ•°æ®æˆå‘˜ï¼Œä¸èƒ½è®¿é—®éé™æ€çš„æ•°æ®æˆå‘˜ï¼Œä¹Ÿä¸èƒ½è®¿é—®éé™æ€çš„æˆå‘˜å‡½æ•°)</p><h3 id="define"><a href="#define" class="headerlink" title="#define"></a>#define</h3><p>å¸¦å‚æ•°çš„å®å®šä¹‰å¯ä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œåœ¨è¿è¡Œæ—¶åªæ˜¯ç®€å•çš„å±•å¼€ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">SQUARE</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Square of a: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">SQUARE</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Square of a+1: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">SQUARE</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç ä¼šè¢«å±•å¼€ä¸ºï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Square of a: "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Square of a+1: "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åŒæ ·é€»è¾‘ä½¿ç”¨å‡½æ•°å®ç°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è™½ç„¶ <code>inline</code> å‡½æ•°ä¹Ÿå¯èƒ½é¿å…å‡½æ•°è°ƒç”¨å¼€é”€ï¼Œä½†å…¶è¡Œä¸ºæ˜¯åœ¨<strong>ç¼–è¯‘é˜¶æ®µ</strong>ç”±ç¼–è¯‘å™¨å†³å®šï¼›è€Œå®å®šä¹‰æ˜¯åœ¨<strong>é¢„å¤„ç†é˜¶æ®µ</strong>ç›´æ¥å±•å¼€ã€‚å› æ­¤ï¼Œå®å±•å¼€æ¯”å‡½æ•°è°ƒç”¨æ›´åŠ ç®€å•ç›´æ¥ã€‚</p><h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>ç”³æ˜ä¸€ä¸ªå¸¸é‡ï¼Œåœ¨ç¼–è¯‘æœŸé—´å¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿å…¶å€¼åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä¸èƒ½è¢«ä¿®æ”¹ã€‚</p><p>å®ƒè¿˜å¯ä»¥åº”ç”¨äºæŒ‡é’ˆã€å‡½æ•°å½¢å‚å’Œæˆå‘˜å‡½æ•°ç­‰ä¸åŒåœºæ™¯ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•ç¤ºä¾‹</strong></p><ol><li><p><strong>å®šä¹‰å¸¸é‡</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰ä¸€ä¸ªæ•´å‹å¸¸é‡</span>a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>           <span class="token comment">// é”™è¯¯ï¼Œå°è¯•ä¿®æ”¹å¸¸é‡çš„å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œå¦‚æœè¯•å›¾ä¿®æ”¹ <code>a</code> çš„å€¼ï¼Œä¼šæŠ¥é”™ï¼š<br><em>â€œassignment of read-only variable â€˜aâ€™â€</em></p></li><li><p><strong>æŒ‡é’ˆä¸­çš„ <code>const</code></strong>ï¼š <code>const</code> åœ¨æŒ‡é’ˆä¸Šä¸‹æ–‡ä¸­éå¸¸çµæ´»ï¼Œå…·ä½“å«ä¹‰å–å†³äºå…¶ä½ç½®ï¼ˆéœ€è¦æ³¨æ„ç†è§£å“¦ï¼š</p><ul><li><p><strong>æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸å¯å˜</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ˜¯åªè¯»çš„</span><span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>           <span class="token comment">// é”™è¯¯</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>            <span class="token comment">// æ­£ç¡®ï¼Œå¯ä»¥ä¿®æ”¹æŒ‡é’ˆæœ¬èº«</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>æŒ‡é’ˆæœ¬èº«ä¸å¯å˜</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// æŒ‡é’ˆæœ¬èº«æ˜¯å¸¸é‡ï¼Œä¸èƒ½æŒ‡å‘å…¶ä»–åœ°å€</span><span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>           <span class="token comment">// æ­£ç¡®</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>            <span class="token comment">// é”™è¯¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>å€¼å’ŒæŒ‡é’ˆå‡ä¸å¯å˜</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// å€¼å’ŒæŒ‡é’ˆéƒ½ä¸å¯æ›´æ”¹</span><span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>                <span class="token comment">// é”™è¯¯</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>                 <span class="token comment">// é”™è¯¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>å‡½æ•°å‚æ•°ä¸­çš„ <code>const</code></strong>ï¼š</p><ul><li><p><strong>ä¼ å€¼å‚æ•°</strong>ï¼š å¦‚æœå‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œ<code>const</code> ä¿®é¥°æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºä¼ å…¥çš„å€¼æœ¬èº«å°±æ˜¯å‰¯æœ¬ï¼Œä¿®æ”¹ä¸ä¼šå½±å“åŸå§‹å˜é‡ã€‚</p></li><li><p><strong>ä¼ å¼•ç”¨å‚æ•°</strong>ï¼š ä½¿ç”¨ <code>const</code> ä¿®é¥°å¼•ç”¨ï¼Œå¯ä»¥ä¿æŠ¤åŸå§‹æ•°æ®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cppå¤åˆ¶ä»£ç void print(const std::string&amp; str) &#123;    &#x2F;&#x2F; str æ˜¯åªè¯»çš„    std::cout &lt;&lt; str &lt;&lt; std::endl;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¥½å¤„ï¼š</p><ul><li>é¿å…æ‹·è´ï¼Œæé«˜æ€§èƒ½ã€‚</li><li>é˜²æ­¢å‡½æ•°å†…éƒ¨ä¿®æ”¹ä¼ å…¥çš„æ•°æ®ã€‚</li></ul></li></ul></li><li><p><strong>æˆå‘˜å‡½æ•°ä¸­çš„ <code>const</code></strong>ï¼š å½“ä¸€ä¸ªæˆå‘˜å‡½æ•°åé¢æ·»åŠ  <code>const</code> ä¿®é¥°ç¬¦æ—¶ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°<strong>ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„ä»»ä½•æˆå‘˜å˜é‡</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token comment">// åªè¯»æ“ä½œ</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœå°è¯•åœ¨ <code>const</code> æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹ä»»ä½•é <code>mutable</code> çš„æˆå‘˜å˜é‡ï¼Œç¼–è¯‘ä¼šæŠ¥é”™ã€‚</p></li><li><p><strong><code>const</code> å’Œæ•°ç»„</strong>ï¼š å£°æ˜åªè¯»çš„æ•°ç»„ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// æ•°ç»„çš„å†…å®¹æ˜¯åªè¯»çš„</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>                 <span class="token comment">// é”™è¯¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h3 id="mutable"><a href="#mutable" class="headerlink" title="mutable"></a>mutable</h3><p>mutableä¸ºå¯å˜çš„ï¼Œæ˜“å˜çš„è·ŸC++ä¸­çš„constæ˜¯åä¹‰è¯ã€‚è¢«mutableä¿®é¥°çš„å˜é‡(mutableæ™ºèƒ½ç”¨äºä¿®é¥°ç±»çš„éé™æ€æ•°æ®æˆå‘˜)<strong>ï¼Œå°†æ°¸è¿œå¤„äºå¯å˜çš„çŠ¶æ€</strong>, å³ä½¿åœ¨ä¸€ä¸ªconstå‡½æ•°ä¸­</p><p><strong><code>mutable</code> çš„ç”¨æ³•ç¤ºä¾‹</strong></p><ol><li><strong>æ™®é€šç±»çš„ <code>mutable</code> æˆå‘˜</strong></li></ol><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">mutable</span> <span class="token keyword">int</span> logCount<span class="token punctuation">;</span>  <span class="token comment">// ç”¨äºç»Ÿè®¡æ—¥å¿—è®°å½•æ¬¡æ•°ï¼Œå¯å˜</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">logCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">void</span> <span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> message<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>        <span class="token operator">++</span>logCount<span class="token punctuation">;</span>  <span class="token comment">// å³ä½¿åœ¨ const å‡½æ•°ä¸­ï¼Œä¹Ÿå…è®¸ä¿®æ”¹</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Log: "</span> <span class="token operator">&lt;&lt;</span> message <span class="token operator">&lt;&lt;</span> <span class="token string">" (Log #"</span> <span class="token operator">&lt;&lt;</span> logCount <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> Logger logger<span class="token punctuation">;</span>  <span class="token comment">// å£°æ˜ä¸€ä¸ª constå¯¹è±¡</span>    logger<span class="token punctuation">.</span><span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token string">"Program started"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä¾ç„¶å¯ä»¥ä¿®æ”¹logCount</span>    logger<span class="token punctuation">.</span><span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token string">"Processing data"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¾“å‡º</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Log: Program started <span class="token punctuation">(</span>Log <span class="token comment">#1)</span>Log: Processing data <span class="token punctuation">(</span>Log <span class="token comment">#2)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼š</p><ul><li>ç±»çš„ <code>logCount</code> æˆå‘˜å˜é‡æ˜¯ç”¨ <code>mutable</code> ä¿®é¥°çš„ã€‚</li><li>å³ä½¿ <code>Logger</code> å¯¹è±¡æ˜¯ <code>const</code>ï¼Œ<code>logCount</code> ä»ç„¶å¯ä»¥åœ¨ <code>logMessage</code> å‡½æ•°ä¸­è¢«ä¿®æ”¹ã€‚</li></ul><hr><ol><li><strong>åœ¨ <code>const</code> å¯¹è±¡ä¸­çš„ <code>mutable</code> ä½¿ç”¨</strong></li></ol><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">mutable</span> <span class="token keyword">int</span> counter<span class="token punctuation">;</span>  <span class="token comment">// å¯å˜æˆå‘˜</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>        <span class="token operator">++</span>counter<span class="token punctuation">;</span>  <span class="token comment">// ä¿®æ”¹å¯å˜æˆå‘˜</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> counter<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> MyClass obj<span class="token punctuation">;</span>  <span class="token comment">// å£°æ˜ const å¯¹è±¡</span>    obj<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¿®æ”¹ mutable æˆå‘˜</span>    obj<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Counter: "</span> <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span><span class="token function">getCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¾“å‡º</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Counter: <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ <code>mutable</code> æ—¶åº”æ˜ç¡®éœ€æ±‚ï¼Œé€šå¸¸ç”¨äºè¾…åŠ©æ€§çš„ã€ä¸å½±å“å¯¹è±¡é€»è¾‘çŠ¶æ€çš„æ•°æ®æˆå‘˜ã€‚ä¾‹å¦‚ï¼š</p><ul><li>ç¼“å­˜è®¡ç®—å€¼ã€‚</li><li>æ—¥å¿—æˆ–è°ƒè¯•è®¡æ•°å™¨ã€‚</li></ul><p><strong>ä¸ <code>const_cast</code> çš„å¯¹æ¯”</strong>ï¼š</p><ul><li><code>mutable</code> æ˜¯åœ¨ç±»è®¾è®¡é˜¶æ®µæ˜ç¡®æŒ‡å®šçš„â€œå¯å˜æ€§â€ã€‚</li><li><code>const_cast</code> æ˜¯ä¸´æ—¶ç§»é™¤ <code>const</code> é™åˆ¶ï¼Œå¸¸ç”¨äºç‰¹æ®Šéœ€æ±‚ã€‚</li></ul><h3 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h3><p>ç”¨é€”ï¼š 1ã€ä¸ºåç§°å¤æ‚çš„å˜é‡åˆ›å»ºåˆ«åï¼› 2ã€åˆ›å»ºä¸å¹³å°æ— å…³çš„å˜é‡ï¼Œå½“è·¨å¹³å°æ—¶ï¼Œåªè¦æ”¹ä¸‹ typedef æœ¬èº«å°±è¡Œï¼Œä¸ç”¨å¯¹å…¶ä»–æºç åšä»»ä½•ä¿®æ”¹ã€‚ å¦å¤–ï¼Œå› ä¸ºtypedefæ˜¯å®šä¹‰äº†ä¸€ç§ç±»å‹çš„æ–°åˆ«åï¼Œä¸æ˜¯ç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæ‰€ä»¥å®ƒæ¯”å®æ¥å¾—ç¨³å¥ï¼ˆè™½ç„¶ç”¨å®æœ‰æ—¶ä¹Ÿå¯ä»¥å®Œæˆä»¥ä¸Šçš„ç”¨é€”ï¼‰ã€‚ æ¯”å¦‚ï¼š<a href="https://en.cppreference.com/w/cpp/types/size_t">size_tçš„ä»‹ç»</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// åœ¨vsä¸­ï¼Œshort 2ä¸ªå­—èŠ‚ï¼Œint 4ä¸ªï¼Œlongä¹Ÿæ˜¯4ä¸ªï¼Œlong long 8ä¸ª</span><span class="token keyword">typedef</span> <span class="token keyword">short</span> <span class="token keyword">int16_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token keyword">int32_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token keyword">int64_t</span><span class="token punctuation">;</span><span class="token comment">// åœ¨Linuxä¸‹ï¼Œshort 2ä¸ªï¼Œint 4 ä¸ªï¼Œlong 8ä¸ªï¼Œlong long ä¹Ÿæ˜¯8ä¸ª</span><span class="token keyword">typedef</span> <span class="token keyword">short</span> <span class="token keyword">int16_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token keyword">int32_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">int64_t</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥åœ¨ç¨‹åºæºç ä¸­ï¼Œåªä½¿ç”¨è¿™äº›åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜çš„åˆ«åã€‚ å‚è€ƒï¼š<a href="https://www.cnblogs.com/Solomon-xm/articles/9140576.html">typedefç”¨æ³•è¯¦è§£</a></p><h2 id="æ€»ç»“ä¸å»ºè®®"><a href="#æ€»ç»“ä¸å»ºè®®" class="headerlink" title="æ€»ç»“ä¸å»ºè®®"></a>æ€»ç»“ä¸å»ºè®®</h2><ul><li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæ˜ç¡®å †å’Œæ ˆçš„ç”¨é€”ï¼ŒåŠ¨æ€å†…å­˜éœ€åŠæ—¶é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li><li><strong>å…³é”®å­—ä½¿ç”¨</strong>ï¼š<ul><li>ç”¨ <code>static</code> ç®¡ç†å˜é‡ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸã€‚</li><li>ä¼˜å…ˆä½¿ç”¨ <code>inline</code> å’Œ <code>constexpr</code> æ›¿ä»£å®å®šä¹‰ã€‚</li><li>ç”¨ <code>const</code> æå‡ä»£ç çš„å®‰å…¨æ€§å’Œä¼˜åŒ–æ€§èƒ½ã€‚</li><li>è°¨æ…ä½¿ç”¨ <code>mutable</code>ï¼Œä»…åœ¨å¿…è¦æ—¶æ”¾å®½ <code>const</code> é™åˆ¶ã€‚</li><li>ç”¨ <code>typedef</code> æˆ–ç°ä»£ <code>using</code> æé«˜ç±»å‹å®šä¹‰çš„çµæ´»æ€§ã€‚</li></ul></li></ul><p>æ‘ä¸Šæ˜¥æ ‘è¯´ï¼šâ€œè·‘æ­¥æ—¶æˆ‘ä»€ä¹ˆéƒ½ä¸æƒ³ï¼Œåªæ˜¯å¥”è·‘ã€‚è·‘æ­¥æ—¶æˆ‘åªæ„Ÿå—è·‘æ­¥æœ¬èº«ã€‚â€</p><p>ç¼–ç¨‹æ—¶äº¦å¦‚æ­¤ï¼Œä¸“æ³¨å†™å¥½æ¯æ®µä»£ç ï¼Œæ„Ÿå—è¯­è¨€çš„ç²¾å¦™ä¸åŠ›é‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++çš„æ™ºèƒ½æŒ‡é’ˆ</title>
      <link href="/2024/11/30/c-de-zhi-neng-zhi-zhen/"/>
      <url>/2024/11/30/c-de-zhi-neng-zhi-zhen/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="C-çš„æ™ºèƒ½æŒ‡é’ˆ"><a href="#C-çš„æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="C++çš„æ™ºèƒ½æŒ‡é’ˆ"></a>C++çš„æ™ºèƒ½æŒ‡é’ˆ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>C++STLï¼ˆStandard Template Libraryï¼‰ä¸€å…±æä¾›äº†å››ç§æŒ‡é’ˆï¼šauto_ptrã€unique_ptrã€shared_ptr å’Œ weak_ptrï¼Œå…¶ä¸­auto_ptræ˜¯c++98æä¾›çš„ï¼ŒC++11 å·²å°†å…¶æ‘’å¼ƒï¼Œå¹¶æå‡ºäº† unique_ptr æ›¿ä»£ auto_ptrã€‚</p><h2 id="1ã€unique-ptr"><a href="#1ã€unique-ptr" class="headerlink" title="1ã€unique_ptr"></a>1ã€unique_ptr</h2><p>ç‹¬å çš„æŒ‡é’ˆï¼Œåªå¯ä»¥è‡ªå·±ä½¿ç”¨ï¼Œå®ƒæŒ‡å‘çš„å¯¹è±¡åªå¯ä»¥ä»–ä¸€ä¸ªäººä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨moveå°†ä½¿ç”¨æƒè½¬ç§»ï¼Œå¦‚ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> ptr1<span class="token operator">=</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>string<span class="token operator">></span></span></span> <span class="token punctuation">(</span><span class="token string">"12345"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>ptr1<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token keyword">auto</span> ptr2<span class="token operator">=</span>std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>ptr1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// cout&lt;&lt;*ptr1&lt;&lt;endl;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>ptr2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// 12345</span><span class="token comment">// 12345</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆçš„æ–¹æ³•ï¼šé€šè¿‡æ„é€ å‡½æ•°æŒ‡å®šã€é€šè¿‡ reset æ–¹æ³•é‡æ–°æŒ‡å®šã€é€šè¿‡ release æ–¹æ³•é‡Šæ”¾æ‰€æœ‰æƒã€é€šè¿‡ç§»åŠ¨è¯­ä¹‰è½¬ç§»æ‰€æœ‰æƒï¼ˆmoveï¼‰ï¼Œunique_ptr è¿˜å¯èƒ½æ²¡æœ‰å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸º emptyã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#include &lt;iostream></span><span class="token comment">#include &lt;memory></span>using namespace std<span class="token punctuation">;</span>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    unique_ptr<span class="token operator">&lt;</span>int<span class="token operator">></span> p1<span class="token punctuation">;</span>    p1.reset<span class="token punctuation">(</span>new int<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">))</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>*p<span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span><span class="token operator">&lt;</span>endl<span class="token punctuation">;</span>    unique_ptr<span class="token operator">&lt;</span>int<span class="token operator">></span> p2<span class="token punctuation">(</span>new int<span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">))</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>*p<span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span><span class="token operator">&lt;</span>endl<span class="token punctuation">;</span>    int *p3<span class="token operator">=</span>p1.release<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>*p<span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span><span class="token operator">&lt;</span>endl<span class="token punctuation">;</span>    unique_ptr<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token assign-left variable">p4</span><span class="token operator">=</span>move<span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>*p<span class="token operator"><span class="token file-descriptor important">4</span>&lt;</span><span class="token operator">&lt;</span>endl<span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>// <span class="token number">123</span>// <span class="token number">1234</span>// <span class="token number">123</span>// <span class="token number">1234</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€auto-ptr"><a href="#2ã€auto-ptr" class="headerlink" title="2ã€auto_ptr"></a>2ã€auto_ptr</h2><h4 id="å¼•å…¥é—®é¢˜"><a href="#å¼•å…¥é—®é¢˜" class="headerlink" title="å¼•å…¥é—®é¢˜"></a>å¼•å…¥é—®é¢˜</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">auto_ptr<span class="token operator">&lt;</span> string<span class="token operator">></span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">string</span> <span class="token punctuation">(</span><span class="token string">"string1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>auto_ptr<span class="token operator">&lt;</span>string<span class="token operator">></span> p2<span class="token punctuation">;</span>p2<span class="token operator">=</span>p1<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä¸Šé¢çš„æŒ‡é’ˆæ˜¯æ™®é€šçš„æŒ‡é’ˆï¼Œé‚£ä¹ˆå°±ä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯deleteçš„æ—¶å€™ä¼šåˆ é™¤æœ‰ä¸¤æ¬¡ï¼Œ<strong>è§£å†³æ–¹æ¡ˆæœ‰å¤šç§ï¼š</strong></p><p>1ã€é‡è½½å¤åˆ¶è¿ç®—ç¬¦ï¼Œå°†å…¶å®šä¹‰ä¸ºæ·±å¤åˆ¶ï¼Œè¿™æ ·ä»–ä»¬ä¿©å°±ä¼šæŒ‡å‘ä¸åŒçš„åœ°æ–¹ï¼Œç¼ºç‚¹æ˜¯ä¼šæµªè´¹ç©ºé—´ã€‚</p><p>2ã€å»ºç«‹æ‰€æœ‰å…¨æ¦‚å¿µã€‚å°†æŒ‡é’ˆå®šä¹‰ä¸ºåªå¯ä»¥æœ‰ä¸€ä¸ªå¯¹è±¡æ‹¥æœ‰ï¼Œèµ‹å€¼è¿ç®—ç¬¦ç›´æ¥å°†æ‰€æœ‰æƒè½¬ç§»ã€‚è¿™å°±æ˜¯ç”¨äº auto_ptr å’Œ unique_ptr çš„ç­–ç•¥ï¼Œä½† unique_ptr çš„ç­–ç•¥æ›´ä¸¥æ ¼ã€‚</p><p>3ã€åˆ›å»ºæ™ºèƒ½æ›´é«˜çš„æŒ‡é’ˆï¼Œè·Ÿè¸ªå¼•ç”¨ç‰¹å®šå¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆæ•°ã€‚è¿™ç§°ä¸ºå¼•ç”¨è®¡æ•°ã€‚ä¾‹å¦‚ï¼Œèµ‹å€¼æ—¶ï¼Œè®¡æ•°å°†åŠ  1ï¼Œè€ŒæŒ‡é’ˆè¿‡æœŸæ—¶ï¼Œè®¡æ•°å°†å‡ 1,ã€‚å½“å‡ä¸º 0 æ—¶æ‰è°ƒç”¨ deleteã€‚è¿™æ˜¯ shared_ptr é‡‡ç”¨çš„ç­–ç•¥ã€‚</p><h2 id="3ã€shared-ptr"><a href="#3ã€shared-ptr" class="headerlink" title="3ã€shared_ptr"></a>3ã€shared_ptr</h2><p>shared_ptr æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œ<strong>å…è®¸å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå®šä¹‰åœ¨ memory æ–‡ä»¶ä¸­ï¼Œå‘½åç©ºé—´ä¸º stdã€‚shared_ptr åˆ©ç”¨å¼•ç”¨è®¡æ•°çš„æ–¹å¼å®ç°äº†å¯¹æ‰€ç®¡ç†çš„å¯¹è±¡çš„æ‰€æœ‰æƒçš„åˆ†äº«ï¼Œå³å…è®¸å¤šä¸ª shared_ptr å…±åŒç®¡ç†åŒä¸€ä¸ªå¯¹è±¡ã€‚åƒ shared_ptr è¿™ç§æ™ºèƒ½æŒ‡é’ˆï¼Œã€ŠEffective C++ã€‹ç§°ä¹‹ä¸ºâ€œå¼•ç”¨è®¡æ•°å‹æ™ºèƒ½æŒ‡é’ˆâ€ï¼ˆreference-counting smart pointerï¼ŒRCSPï¼‰ã€‚</p><p>shared_ptr æ˜¯ä¸ºäº†è§£å†³ auto_ptr åœ¨å¯¹è±¡æ‰€æœ‰æƒä¸Šçš„å±€é™æ€§ï¼ˆauto_ptr æ˜¯ç‹¬å çš„ï¼‰ï¼Œåœ¨ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„æœºåˆ¶ä¸Šæä¾›äº†å¯ä»¥<strong>å…±äº«æ‰€æœ‰æƒçš„</strong>æ™ºèƒ½æŒ‡é’ˆï¼Œå½“ç„¶è¿™éœ€è¦é¢å¤–çš„å¼€é”€ï¼š ï¼ˆ1ï¼‰shared_ptr å¯¹è±¡é™¤äº†åŒ…æ‹¬ä¸€ä¸ªæ‰€æ‹¥æœ‰å¯¹è±¡çš„æŒ‡é’ˆå¤–ï¼Œè¿˜å¿…é¡»åŒ…æ‹¬ä¸€ä¸ªå¼•ç”¨è®¡æ•°ä»£ç†å¯¹è±¡çš„æŒ‡é’ˆï¼› ï¼ˆ2ï¼‰æ—¶é—´ä¸Šçš„å¼€é”€ä¸»è¦åœ¨åˆå§‹åŒ–å’Œæ‹·è´æ“ä½œä¸Šï¼Œ * å’Œ -&gt; æ“ä½œç¬¦é‡è½½çš„å¼€é”€è·Ÿ auto_ptr æ˜¯ä¸€æ ·ï¼› ï¼ˆ3ï¼‰å¼€é”€å¹¶ä¸æ˜¯æˆ‘ä»¬ä¸ä½¿ç”¨ shared_ptr çš„ç†ç”±,ï¼Œæ°¸è¿œä¸è¦è¿›è¡Œä¸æˆç†Ÿçš„ä¼˜åŒ–ï¼Œç›´åˆ°æ€§èƒ½åˆ†æå™¨å‘Šè¯‰ä½ è¿™ä¸€ç‚¹ã€‚</p><p>å¯ä»¥ä½¿ç”¨è¾…åŠ©ç±»æ¥å®ç°è¯¥æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒçš„<strong>å…·ä½“åšæ³•</strong>å¦‚ä¸‹ï¼š ï¼ˆaï¼‰å½“åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆç±»çš„æ–°å¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–æŒ‡é’ˆï¼Œ<strong>å¹¶å°†å¼•ç”¨è®¡æ•°è®¾ç½®ä¸º1ï¼›</strong> ï¼ˆbï¼‰å½“èƒ½æ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬æ—¶ï¼Œ<strong>æ‹·è´æ„é€ å‡½æ•°</strong>å¤åˆ¶å‰¯æœ¬çš„æŒ‡å‘è¾…åŠ©ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¹¶å¢åŠ è¾…åŠ©ç±»å¯¹è±¡å¯¹åŸºç¡€ç±»å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆåŠ 1ï¼‰ï¼› ï¼ˆcï¼‰ä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦å¯¹ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¤„ç†å¤æ‚ä¸€ç‚¹ï¼šå…ˆä½¿å·¦æ“ä½œæ•°çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼ˆä¸ºä½•å‡ 1ï¼šå› ä¸ºæŒ‡é’ˆå·²ç»æŒ‡å‘åˆ«çš„åœ°æ–¹ï¼‰ï¼Œå¦‚æœå‡1åå¼•ç”¨è®¡æ•°ä¸º 0ï¼Œåˆ™é‡Šæ”¾æŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡å†…å­˜ã€‚ç„¶åå¢åŠ å³æ“ä½œæ•°æ‰€æŒ‡å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆä¸ºä½•å¢åŠ ï¼šå› ä¸ºæ­¤æ—¶åšæ“ä½œæ•°æŒ‡å‘å¯¹è±¡å³å³æ“ä½œæ•°æŒ‡å‘å¯¹è±¡ï¼‰ï¼› ï¼ˆdï¼‰å®Œæˆææ„å‡½æ•°ï¼šè°ƒç”¨ææ„å‡½æ•°æ—¶ï¼Œææ„å‡½æ•°å…ˆä½¿å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå¦‚æœå‡è‡³ 0 åˆ™ delete å¯¹è±¡ã€‚</p><h4 id="æ¥å£ï¼š"><a href="#æ¥å£ï¼š" class="headerlink" title="æ¥å£ï¼š"></a>æ¥å£ï¼š</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> xVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> yVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">x</span><span class="token punctuation">(</span>xVal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>yVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> y<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">int</span> xVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> x <span class="token operator">=</span> xVal<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">int</span> yVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> y <span class="token operator">=</span> yVal<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å®ç°ï¼š</strong> </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">SmartPtr</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token comment">//æ„é€ å‡½æ•°</span><span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> rp <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token function">SmartPtr</span><span class="token punctuation">(</span>Point <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">rp</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">RefPtr</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token keyword">const</span> SmartPtr <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">rp</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span>rp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">++</span>rp<span class="token operator">-></span>count<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"in copy constructor"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// é‡è½½èµ‹å€¼è¿ç®—ç¬¦</span>SmartPtr<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> SmartPtr<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token operator">++</span>rhs<span class="token punctuation">.</span>rp<span class="token operator">-></span>count<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rp <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>rp<span class="token operator">-></span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">delete</span> rp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rp <span class="token operator">=</span> rhs<span class="token punctuation">.</span>rp<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"in assignment operator"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// é‡è½½->æ“ä½œç¬¦</span>Point<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> rp<span class="token operator">-></span>p<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// é‡è½½*æ“ä½œç¬¦</span>Point<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>rp<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>rp<span class="token operator">-></span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">delete</span> rp<span class="token punctuation">;</span><span class="token keyword">else</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¿˜æœ‰"</span> <span class="token operator">&lt;&lt;</span> rp<span class="token operator">-></span>count <span class="token operator">&lt;&lt;</span> <span class="token string">"ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>RefPtr<span class="token operator">*</span> rp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€weak-ptr"><a href="#4ã€weak-ptr" class="headerlink" title="4ã€weak_ptr"></a>4ã€weak_ptr</h2><p>è¿™ä¸ªæ™ºèƒ½æŒ‡é’ˆåªèƒ½ç®—æ˜¯ä¸€ä¸ªè¾…åŠ©ç±»çš„æŒ‡é’ˆï¼Œæ²¡æœ‰é‡è½½ operator<em> å’Œ operator-&gt; ï¼Œå› æ­¤å–åä¸º weakï¼Œè¡¨æ˜å…¶æ˜¯åŠŸèƒ½è¾ƒå¼±çš„æ™ºèƒ½æŒ‡é’ˆã€‚<em>*å®ƒçš„æœ€å¤§ä½œç”¨åœ¨äºååŠ© shared_ptr å·¥ä½œï¼Œå¯è·å¾—èµ„æºçš„è§‚æµ‹æƒï¼Œåƒæ—è§‚è€…é‚£æ ·è§‚æµ‹èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚è§‚å¯Ÿè€…æ„å‘³ç€ weak_ptr åªå¯¹ shared_ptr è¿›è¡Œå¼•ç”¨ï¼Œè€Œä¸æ”¹å˜å…¶å¼•ç”¨è®¡æ•°ï¼Œå½“è¢«è§‚å¯Ÿçš„ shared_ptr å¤±æ•ˆåï¼Œç›¸åº”çš„ weak_ptr ä¹Ÿç›¸åº”å¤±æ•ˆã€‚</em></em></p><p>è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œç”¨æ³•ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">weak_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> w<span class="token punctuation">;</span> <span class="token comment">//åˆ›å»ºç©º weak_ptrï¼Œå¯ä»¥æŒ‡å‘ç±»å‹ä¸º T çš„å¯¹è±¡</span>weak_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">w</span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸ shared_ptr æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ï¼Œshared_ptr å¼•ç”¨è®¡æ•°ä¸å˜ã€‚Tå¿…é¡»èƒ½è½¬æ¢ä¸º sp æŒ‡å‘çš„ç±»å‹</span>w<span class="token operator">=</span>p<span class="token punctuation">;</span><span class="token comment">//p å¯ä»¥æ˜¯ shared_ptr æˆ– weak_ptrï¼Œèµ‹å€¼å w ä¸ p å…±äº«å¯¹è±¡</span>w<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°† w ç½®ç©º</span>w<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›ä¸ w å…±äº«å¯¹è±¡çš„ shared_ptr çš„æ•°é‡</span>w<span class="token punctuation">.</span><span class="token function">expired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è‹¥ w.use_count() ä¸º 0ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span>w<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœ expired() ä¸º trueï¼Œè¿”å›ä¸€ä¸ªç©º shared_ptrï¼Œå¦åˆ™è¿”å›éç©º shared_ptr</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>weak_ptr å¯¹è±¡å¼•ç”¨èµ„æºæ—¶ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿé€šè¿‡ lock() æ–¹æ³•æ¥åˆ¤æ–­å®ƒæ‰€ç®¡ç†çš„èµ„æºæ˜¯å¦è¢«é‡Šæ”¾ã€‚</p><h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><p><a href="https://blog.csdn.net/K346K346/article/details/81478223?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165743267316781432922953%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165743267316781432922953&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-81478223-null-null.142%5Ev32%5Eexperiment_2_v1,185%5Ev2%5Econtrol&amp;utm_term=c%2B%2B%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88&amp;spm=1018.2226.3001.4187">C++ STL å››ç§æ™ºèƒ½æŒ‡é’ˆ_æ‹å–µå¤§é²¤é±¼çš„åšå®¢-CSDNåšå®¢_æ™ºèƒ½æŒ‡é’ˆ</a></p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å´æ©è¾¾æœºå™¨å­¦ä¹ </title>
      <link href="/2024/11/16/wu-en-da-ji-qi-xue-xi/"/>
      <url>/2024/11/16/wu-en-da-ji-qi-xue-xi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å´æ©è¾¾æœºå™¨å­¦ä¹ "><a href="#å´æ©è¾¾æœºå™¨å­¦ä¹ " class="headerlink" title="å´æ©è¾¾æœºå™¨å­¦ä¹ "></a>å´æ©è¾¾æœºå™¨å­¦ä¹ </h1><p>å†™çš„æ¯”è¾ƒä¹±ï¼Œå¯¹äºä¸€äº›ä¸æ‡‚çš„é—®é¢˜éƒ½è®°å½•åœ¨ä¸‹é¢äº†</p><p>ä¸€ä¸ªäººåœ¨ä¸æ¥è§¦å¯¹æ–¹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼ï¼Œå’Œå¯¹æ–¹è¿›è¡Œä¸€ç³»åˆ—çš„é—®ç­”ï¼å¦‚æœåœ¨ç›¸å½“é•¿æ—¶é—´å†…ï¼Œä»–æ— æ³•æ ¹æ®è¿™äº›é—®é¢˜åˆ¤æ–­å¯¹æ–¹æ˜¯äººè¿˜æ˜¯è®¡ç®—æœºï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºè¿™ä¸ªè®¡ç®—æœºæ˜¯æ™ºèƒ½çš„ï¼<br>                                                                                                                                                                                â€”â€”é˜¿å…°Â·å›¾çµï¼ˆAlan Turingï¼‰<br>                                                                                                                                                        ã€ŠComputing Machinery and Intelligence ã€‹</p><p><img src="https://s2.loli.net/2024/10/02/ypk341ajhPZQoCU.png" alt="äººå·¥æ™ºèƒ½å‘å±•å²"></p><p>ps: æ‘˜è‡ª é‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020. P5</p><h2 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h2><p>cost functionï¼Œæ‰€æœ‰æ ·æœ¬è¯¯å·®çš„å¹³å‡ï¼Œä¸æŸå¤±å‡½æ•°ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œloss functionæ˜¯å®šä¹‰åœ¨å•ä¸ªæ ·æœ¬ä¸Šçš„è¯¯å·®ã€‚</p><p>å¸¸ç”¨çš„æ˜¯<font color=red>å¹³æ–¹è¯¯å·®ä»£ä»·å‡½æ•°</font></p><p>è¿™é‡Œè§£é‡Šä»€ä¹ˆæ˜¯ä»£ä»·ï¼Œä»£ä»·å°±æ˜¯é¢„æµ‹å€¼ä¸å®é™…å€¼ä¹‹é—´çš„å·®è·ï¼Œå¯¹äºå¤šä¸ªæ ·æœ¬æ¥è¯´å°±æ˜¯ä»£ä»·ä¹‹å’Œï¼Œä½†æ˜¯å¯¹äºæ€ä¹ˆå¤„ç†è¿™ä¸ªå’Œï¼Œæœ‰ä¸€å®šçš„é—¨é“ï¼Œéœ€è¦è§£å†³<strong>æ­£è´Ÿå€¼ã€æ•°æ®é‡</strong>ä¸costä¹‹é—´çš„å…³ç³»ï¼Œæœ€ç»ˆæ‰é‡‡å–äº†ä¸‹é¢çš„å‡½æ•°</p><p><img src="https://s2.loli.net/2024/09/15/UaRFvuoTnki7P9G.png" alt="ä»£ä»·å‡½æ•°"></p><p>å…¶ä¸­å¹³æ–¹é¡¹å¯ä»¥æŠµæ¶ˆè¯¯å·®å€¼æ­£è´Ÿæ•°å¸¦æ¥çš„å½±å“ï¼Œmæ˜¯æ ·æœ¬é‡ï¼Œå»ºç«‹äº†ä»£ä»·ï¼ˆcostï¼‰ä¸æ ·æœ¬é‡ä¹‹é—´çš„å…³ç³»ï¼›1/2æ˜¯ä¸ºäº†åœ¨å¯¹w,bæ±‚åå¯¼ï¼ˆpartial derivativeï¼‰å¯ä»¥ç®€åŒ–å¼å­ã€‚</p><p><a href="https://www.cnblogs.com/geaozhang/p/11442343.html">https://www.cnblogs.com/geaozhang/p/11442343.html</a></p><h2 id="åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›"><a href="#åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›" class="headerlink" title="åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›"></a>åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›</h2><p>è§‚å¯Ÿç›®æ ‡å‡½æ•°çš„æŸå¤±å‡½æ•°å€¼çš„å˜åŒ–æƒ…å†µï¼Œ</p><ol><li>æ¢¯åº¦çš„èŒƒæ•°ï¼šå½“æ¢¯åº¦çš„èŒƒæ•°è¶‹è¿‘äºé›¶æ—¶ï¼Œå¯ä»¥è®¤ä¸ºç®—æ³•å·²ç»æ”¶æ•›ã€‚è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ã€‚</li><li>ç›®æ ‡å‡½æ•°å€¼çš„å˜åŒ–</li><li>è¿­ä»£æ¬¡æ•°ï¼Œè®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°</li><li>æ”¶æ•›æ›²çº¿å›¾ï¼Œçœ‹å›¾è¯´è¯</li></ol><h2 id="æ¿€æ´»å‡½æ•°"><a href="#æ¿€æ´»å‡½æ•°" class="headerlink" title="æ¿€æ´»å‡½æ•°"></a>æ¿€æ´»å‡½æ•°</h2><p>ç†è§£ä¸äº†ä¸ºä»€ä¹ˆè¦å°†è¾“å‡ºå˜æˆéçº¿æ€§çš„ï¼Œå¦‚ä½•ç†è§£ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»å‡½æ•°ï¼Ÿå¦‚æœä½ ä¸²è”å‡ ä¸ªçº¿æ€§å˜æ¢ï¼Œå¾—åˆ°çš„æœ€åä¾æ—§æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œä¾‹å¦‚ï¼Œf(x)=3x+1, g(x)=2x+2,ä¸²è”è¿™ä¸¤ä¸ªå‡½æ•°å¾—åˆ°çš„æ˜¯ä¸€ä¸ªf(g(x))=6x+7ï¼Œå› æ­¤ï¼Œå¦‚æœåœ¨å±‚ä¹‹é—´æ²¡æœ‰ä¸€äº›éçº¿æ€§ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯æ·±å±‚å †å ä¹Ÿç­‰æ•ˆäºå•å±‚ï¼Œä½ æ— æ³•ç”¨å®ƒè§£å†³éå¸¸å¤æ‚çš„é—®é¢˜ã€‚ç›¸åï¼Œå…·æœ‰éçº¿æ€§æ¿€æ´»çš„è¶³å¤Ÿå¤§çš„ DNN åœ¨ç†è®ºä¸Šå¯ä»¥é€¼è¿‘ä»»ä½•è¿ç»­å‡½æ•°ã€‚ï¼ˆè¿™ç§è§£é‡Šå¤ªå¸…å•¦ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸èƒ½ç†è§£ä¸²è”èµ·æ¥æœ‰ä»€ä¹ˆç”¨å¤„ï¼Œå„ä¸ªç¥ç»å±‚æ¬¡ä¹‹é—´ä¸ºä»€ä¹ˆéœ€è¦ä¸²è”ä»¥åŠä¸²è”å’Œæ±‚å¯¼æ˜¯ä»€ä¹ˆå…³ç³»ï¼‰</p><ol><li>Sigmoidæ¿€æ´»å‡½æ•°ï¼Œä¹Ÿå«Så½¢å‡½æ•°<br><img src="https://bkimg.cdn.bcebos.com/formula/c652f9ceaee0518a93007ca80c51c934.svg" alt="Sigmoid"></li><li><p>ReLuå‡½æ•°<br><img src="https://bkimg.cdn.bcebos.com/formula/061b8705cd0dd363c1752fe0d9db0faa.svg" alt="img"></p></li><li><p>Tanhå‡½æ•°<br><img src="https://bkimg.cdn.bcebos.com/formula/27dc16c40e8ca243c251fe1048fe68a9.svg" alt="img"></p></li></ol><p>Blogï¼š<a href="https://www.cnblogs.com/XDU-Lakers/p/10557496.html">https://www.cnblogs.com/XDU-Lakers/p/10557496.html</a></p><h2 id="è®¾ç½®å­¦ä¹ ç‡"><a href="#è®¾ç½®å­¦ä¹ ç‡" class="headerlink" title="è®¾ç½®å­¦ä¹ ç‡"></a>è®¾ç½®å­¦ä¹ ç‡</h2><p>å­¦ä¹ ç‡Alphaï¼Œå°±æ˜¯è®¾ç½®æ¢¯åº¦ä¸‹é™çš„æ¯ä¸€æ­¥çš„é€Ÿç‡ï¼Œä¸èƒ½è¿‡å¿«ä¹Ÿä¸èƒ½è¿‡æ…¢</p><h2 id="é€»è¾‘å›å½’"><a href="#é€»è¾‘å›å½’" class="headerlink" title="é€»è¾‘å›å½’"></a>é€»è¾‘å›å½’</h2><p>æ²¡çœ‹æ‡‚</p><p>ä¸ºäº†ä½¿åå‘ä¼ æ’­æ­£å¸¸å·¥ä½œï¼ŒRumelhart å’Œä»–çš„åŒäº‹å¯¹ MLP çš„æ¶æ„è¿›è¡Œäº†å…³é”®æ›´æ”¹ï¼šä»–ä»¬ç”¨é€»è¾‘å‡½æ•°æ›¿æ¢äº†é˜¶è·ƒå‡½æ•°ï¼Œ<em>Ïƒ</em>(<em>z</em>) = 1 / (1 + exp(â€“<em>z</em>))ï¼Œä¹Ÿç§°ä¸º S å½¢å‡½æ•°ã€‚</p><h2 id="åå‘ä¼ æ’­çš„å·¥ä½œåŸç†"><a href="#åå‘ä¼ æ’­çš„å·¥ä½œåŸç†" class="headerlink" title="åå‘ä¼ æ’­çš„å·¥ä½œåŸç†"></a>åå‘ä¼ æ’­çš„å·¥ä½œåŸç†</h2><p>åœ¨ 1970 å¹´ï¼Œä¸€ä½åå« Seppo Linnainmaa çš„ç ”ç©¶äººå‘˜åœ¨ä»–çš„ç¡•å£«è®ºæ–‡ä¸­ä»‹ç»äº†ä¸€ç§è‡ªåŠ¨é«˜æ•ˆè®¡ç®—æ‰€æœ‰æ¢¯åº¦çš„æŠ€æœ¯ã€‚è¿™ä¸ªç®—æ³•ç°åœ¨è¢«ç§°ä¸º<em>åå‘æ¨¡å¼è‡ªåŠ¨å¾®åˆ†</em>ï¼ˆæˆ–ç®€ç§°<em>åå‘æ¨¡å¼è‡ªåŠ¨å¾®åˆ†</em>ï¼‰ã€‚é€šè¿‡ç½‘ç»œçš„ä¸¤æ¬¡éå†ï¼ˆ<strong>ä¸€æ¬¡å‰å‘ï¼Œä¸€æ¬¡åå‘</strong>ï¼‰ï¼Œå®ƒèƒ½å¤Ÿè®¡ç®—ç¥ç»ç½‘ç»œä¸­æ¯ä¸ªæ¨¡å‹å‚æ•°çš„è¯¯å·®æ¢¯åº¦ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå¯ä»¥æ‰¾å‡ºå¦‚ä½•è°ƒæ•´æ¯ä¸ªè¿æ¥æƒé‡å’Œæ¯ä¸ªåå·®ä»¥å‡å°‘ç¥ç»ç½‘ç»œçš„è¯¯å·®ã€‚ç„¶åå¯ä»¥ä½¿ç”¨è¿™äº›æ¢¯åº¦æ‰§è¡Œæ¢¯åº¦ä¸‹é™æ­¥éª¤ã€‚å¦‚æœé‡å¤è¿™ä¸ªè‡ªåŠ¨è®¡ç®—æ¢¯åº¦å’Œæ¢¯åº¦ä¸‹é™æ­¥éª¤çš„è¿‡ç¨‹ï¼Œç¥ç»ç½‘ç»œçš„è¯¯å·®å°†é€æ¸ä¸‹é™ï¼Œç›´åˆ°æœ€ç»ˆè¾¾åˆ°æœ€å°å€¼ã€‚è¿™ç§åå‘æ¨¡å¼è‡ªåŠ¨å¾®åˆ†å’Œæ¢¯åº¦ä¸‹é™çš„ç»„åˆç°åœ¨è¢«ç§°ä¸º<font color=red><em>åå‘ä¼ æ’­</em></font>ï¼ˆæˆ–ç®€ç§°<em>åå‘ä¼ æ’­</em>ï¼‰ã€‚</p><ul><li>å®ƒä¸€æ¬¡å¤„ç†ä¸€ä¸ªå°æ‰¹é‡ï¼ˆä¾‹å¦‚ï¼Œæ¯ä¸ªåŒ…å« 32 ä¸ªå®ä¾‹ï¼‰ï¼Œå¹¶å¤šæ¬¡éå†æ•´ä¸ªè®­ç»ƒé›†ã€‚æ¯æ¬¡éå†ç§°ä¸º<em>çºªå…ƒ</em>ã€‚</li><li>æ¯ä¸ªå°æ‰¹é‡é€šè¿‡è¾“å…¥å±‚è¿›å…¥ç½‘ç»œã€‚ç„¶åï¼Œç®—æ³•è®¡ç®—å°æ‰¹é‡ä¸­æ¯ä¸ªå®ä¾‹çš„ç¬¬ä¸€ä¸ªéšè—å±‚ä¸­æ‰€æœ‰ç¥ç»å…ƒçš„è¾“å‡ºã€‚ç»“æœä¼ é€’åˆ°ä¸‹ä¸€å±‚ï¼Œè®¡ç®—å…¶è¾“å‡ºå¹¶ä¼ é€’åˆ°ä¸‹ä¸€å±‚ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°å¾—åˆ°æœ€åä¸€å±‚çš„è¾“å‡ºï¼Œå³è¾“å‡ºå±‚ã€‚è¿™æ˜¯<em>å‰å‘ä¼ é€’</em>ï¼šå®ƒä¸è¿›è¡Œé¢„æµ‹å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æ‰€æœ‰ä¸­é—´ç»“æœéƒ½è¢«ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦ç”¨äºåå‘ä¼ é€’ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œç®—æ³•æµ‹é‡ç½‘ç»œçš„è¾“å‡ºè¯¯å·®ï¼ˆå³ï¼Œä½¿ç”¨æ¯”è¾ƒæœŸæœ›è¾“å‡ºå’Œç½‘ç»œå®é™…è¾“å‡ºçš„æŸå¤±å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€äº›è¯¯å·®åº¦é‡ï¼‰ã€‚</li><li>ç„¶åè®¡ç®—æ¯ä¸ªè¾“å‡ºåå·®å’Œæ¯ä¸ªè¿æ¥åˆ°è¾“å‡ºå±‚çš„è¿æ¥å¯¹è¯¯å·®çš„è´¡çŒ®ã€‚è¿™æ˜¯é€šè¿‡åº”ç”¨<em>é“¾å¼æ³•åˆ™</em>ï¼ˆå¯èƒ½æ˜¯å¾®ç§¯åˆ†ä¸­æœ€åŸºæœ¬çš„è§„åˆ™ï¼‰è¿›è¡Œåˆ†æçš„ï¼Œä½¿å¾—è¿™ä¸€æ­¥éª¤å¿«é€Ÿè€Œç²¾ç¡®ã€‚</li><li>ç„¶åï¼Œç®—æ³•æµ‹é‡æ¯ä¸ªä¸‹ä¸€å±‚ä¸­æ¯ä¸ªè¿æ¥è´¡çŒ®çš„è¯¯å·®é‡ï¼Œå†æ¬¡ä½¿ç”¨é“¾å¼æ³•åˆ™ï¼Œå‘åå·¥ä½œç›´åˆ°è¾¾åˆ°è¾“å…¥å±‚ã€‚æ­£å¦‚å‰é¢è§£é‡Šçš„é‚£æ ·ï¼Œè¿™ä¸ªåå‘ä¼ é€’æœ‰æ•ˆåœ°æµ‹é‡äº†ç½‘ç»œä¸­æ‰€æœ‰è¿æ¥æƒé‡å’Œåå·®çš„è¯¯å·®æ¢¯åº¦ï¼Œé€šè¿‡ç½‘ç»œå‘åä¼ æ’­è¯¯å·®æ¢¯åº¦ï¼ˆå› æ­¤ç®—æ³•çš„åç§°ï¼‰ã€‚</li><li>æœ€åï¼Œç®—æ³•æ‰§è¡Œæ¢¯åº¦ä¸‹é™æ­¥éª¤ï¼Œè°ƒæ•´ç½‘ç»œä¸­æ‰€æœ‰è¿æ¥æƒé‡ï¼Œä½¿ç”¨åˆšåˆšè®¡ç®—çš„è¯¯å·®æ¢¯åº¦ã€‚</li></ul><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/apachecn/p/18006162">https://www.cnblogs.com/apachecn/p/18006162</a></p><h2 id="numpy-dot-versus-matmul"><a href="#numpy-dot-versus-matmul" class="headerlink" title="numpy dot versus matmul"></a>numpy dot versus matmul</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token comment"># Define two vectors for the dot product</span>vector_a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>vector_b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># Calculate the dot product</span>dot_result <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>vector_a<span class="token punctuation">,</span> vector_b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Dot Product: </span><span class="token interpolation"><span class="token punctuation">&#123;</span>dot_result<span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token comment"># Define two matrices for matrix multiplication</span>matrix_a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>matrix_b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># Perform matrix multiplication</span>matmul_result <span class="token operator">=</span> np<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>matrix_a<span class="token punctuation">,</span> matrix_b<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Matrix Multiplication:"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>matmul_result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>resultï¼š</p><p>Dot Product: 41<br>Matrix Multiplication:<br>[[ 58  64]<br> [139 154]]</p><p>They serve different purposes and are used for distinct mathematical operations. <code>np.dot()</code> calculates the dot product between two arrays, whereas <code>np.matmul()</code> is specifically designed for matrix multiplication.</p><h2 id="æ­£åˆ™åŒ–ã€åå·®å’Œæ–¹å·®"><a href="#æ­£åˆ™åŒ–ã€åå·®å’Œæ–¹å·®" class="headerlink" title="æ­£åˆ™åŒ–ã€åå·®å’Œæ–¹å·®"></a>æ­£åˆ™åŒ–ã€åå·®å’Œæ–¹å·®</h2><p><strong>æ­£åˆ™åŒ–ç³»æ•°çš„é€‰æ‹©</strong></p><p>é€‰æ‹©æ­£åˆ™åŒ–ç³»æ•°Î» çš„å€¼æ—¶ä¹Ÿéœ€è¦æ€è€ƒæ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚ä¸çŸ¥é“å¦‚ä½•ç†è§£æ­£è§„åŒ–</p><p><img src="https://i.loli.net/2018/12/01/5c0270d201ec5.png" alt="é€‰æ‹©æ­£åˆ™åŒ–ç³»æ•°"></p><p>é€šå¸¸ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ç³»åˆ—çš„æƒ³è¦æµ‹è¯•çš„ Î» å€¼ï¼Œé€šå¸¸æ˜¯ 0-10 ä¹‹é—´çš„å‘ˆç° 2 å€å…³ç³»çš„å€¼ï¼ˆå¦‚ï¼š0,0.01,0.02,0.04,0.08,0.15,0.32,0.64,1.28,2.56,5.12,10 å…± 12 ä¸ªï¼‰ã€‚ æˆ‘ä»¬åŒæ ·æŠŠæ•°æ®åˆ†ä¸ºè®­ç»ƒé›†ã€äº¤å‰éªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚</p><p>ä¹‹ååˆ©ç”¨å…¬å¼ï¼ˆçœ‹ä¸æ‡‚å…¬å¼ï¼‰ï¼š</p><p><img src="https://i.loli.net/2018/12/01/5c02716ba966d.png" alt="æ­£åˆ™åŒ–"></p><p>æ¥é€‰æ‹©Î»ï¼Œæ­¥éª¤æ˜¯ï¼š</p><ol><li>ä½¿ç”¨è®­ç»ƒé›†è®­ç»ƒ12ä¸ªä¸åŒç¨‹åº¦çš„æ­£åˆ™åŒ–çš„æ¨¡å‹</li><li>ç”¨12ä¸ªæ¨¡å‹åˆ†åˆ«å¯¹äº¤å‰éªŒè¯é›†è®¡ç®—å‡ºäº¤å‰éªŒè¯è¯¯å·®ï¼Œé€‰æ‹©è¯¯å·®æœ€å°çš„æ¨¡å‹</li></ol><p>å¾—å‡ºçš„ç»“æœå›¾ï¼š<a href="https://momodel.github.io/mlbook/09/09-5.html">https://momodel.github.io/mlbook/09/09-5.html</a></p><h2 id="å¤„ç†å€¾æ–œæ•°æ®é›†"><a href="#å¤„ç†å€¾æ–œæ•°æ®é›†" class="headerlink" title="å¤„ç†å€¾æ–œæ•°æ®é›†"></a>å¤„ç†å€¾æ–œæ•°æ®é›†</h2><p>æ•°æ®ä¸å¹³è¡¡ï¼Œæ¯”å¦‚å¤„ç†ä¸åˆæ ¼äº§å“ï¼Œåˆæ ¼ç‡ä½96.4%ï¼Œå¦‚æœæ¯æ¬¡é¢„æµ‹ç»“æœéƒ½æ˜¯åˆæ ¼ï¼Œå‡†ç¡®ç‡å°±å¯ä»¥è¾¾åˆ°96.4%ï¼Œæ˜¾ç„¶è¿™ç§åšæ³•æ˜¯ä¸å¯¹çš„ã€‚</p><p>å¯ä»¥é‡‡ç”¨æ··æ·†çŸ©é˜µæ¥å¤„ç†è¿™ç§åˆ†ç±»é—®é¢˜ï¼Œå¯¹äºç»™å®šçš„ç±»åˆ«ï¼Œ ç²¾ç¡®åº¦å’Œå¬å›ç‡çš„ä¸åŒç»„åˆå¯ä»¥ç»™å‡ºä¸åŒçš„æ„ä¹‰ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ROCæ›²çº¿æ¥é¢„æµ‹ã€‚</p><p>é«˜è´¨é‡å›ç­”ï¼š<a href="https://towardsdatascience.com/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28">https://towardsdatascience.com/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28</a></p><h2 id="å†³ç­–æ ‘"><a href="#å†³ç­–æ ‘" class="headerlink" title="å†³ç­–æ ‘"></a>å†³ç­–æ ‘</h2><p>Decision Treeæ˜¯ä¸€ç§è§£å†³åˆ†ç±»é—®é¢˜çš„ç®—æ³•ï¼Œç›‘ç£å­¦ä¹ ä¸»è¦æœ‰ä¸¤ç§ä»»åŠ¡ï¼šåˆ†ç±»ï¼ˆè¿ç»­ï¼‰ã€å›å½’ï¼ˆç¦»æ•£ï¼‰ã€‚</p><p>å†³ç­–æ ‘ç®—æ³•é‡‡ç”¨æ ‘ç»“æ„ï¼Œå±‚å±‚æ¨ç†æ¥å®ç°æœ€ç»ˆçš„åˆ†ç±»ã€‚</p><p>å†³ç­–æ ‘å­¦ä¹ çš„ä¸‰ä¸ªæ­¥éª¤ï¼šç‰¹å¾é€‰æ‹©ã€å†³ç­–æ ‘ç”Ÿæˆã€å†³ç­–æ ‘å‰ªæï¼ˆè§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œéšæœºæ£®æ—å¾ˆå¤§ç¨‹åº¦å‡å°‘è¿‡æ‹Ÿåˆï¼‰ã€‚</p><p>ä¸‰ç§å…¸å‹çš„å†³ç­–æ ‘ç®—æ³•ï¼šID3ï¼ˆé‡‡ç”¨ä¿¡æ¯å¢ç›Šï¼‰ã€C4.5ï¼ˆæ”¹è¿›ã€é‡‡ç”¨ä¿¡æ¯å¢ç›Šæ¯”ï¼‰ã€CARTï¼ˆé‡‡ç”¨åŸºå°¼ç³»æ•°ï¼Œ<strong>CARTæ ‘å…¨ç§°Classification And Regression Trees</strong>ï¼‰</p><p><strong>å…³äºä¿¡æ¯å¢ç›Šçš„ç†è§£ï¼š</strong></p><p>ç†µï¼šè¡¨ç¤ºéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§</p><p>æ¡ä»¶ç†µï¼šåœ¨ä¸€ä¸ªæ¡ä»¶ä¸‹ã€éšæœºå˜é‡çš„ä¸ç¡®å®šæ€§èƒ½</p><p>ä¿¡æ¯å¢ç›Šï¼šç†µ-æ¡ä»¶ç†µï¼Œè¡¨ç¤ºæ˜¯åœ¨ä¸€ä¸ªæ¡ä»¶ä¸‹ï¼Œä¿¡æ¯ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ã€‚</p><p>è¯¦ç»†è§£é‡Šï¼š<a href="https://www.zhihu.com/question/22104055">https://www.zhihu.com/question/22104055</a></p><h2 id="One-Hotç¼–ç "><a href="#One-Hotç¼–ç " class="headerlink" title="One-Hotç¼–ç "></a>One-Hotç¼–ç </h2><p>ç‹¬çƒ­ç¼–ç ï¼Œæ„æ€å°±æ˜¯å¦‚æœæ˜¯ç›¸åº”ç¼–ç ä½å°±æ˜¯1ï¼Œå¦‚æœå¦ç›¸åº”ç¼–ç ä½å°±æ˜¯0ï¼Œæ¯”å¦‚ç”·å¥³å°±å¯ä»¥ç”¨ç¼–ç ï¼š01ã€10ï¼Œå†æ¯”å¦‚æ“ä½œç³»ç»Ÿçš„é‡‡ç”¨ä½ç¤ºå›¾æ¥è¡¨ç¤ºç£ç›˜ä¸­ä¸€ä¸ªç›˜å—çš„ä½¿ç”¨æƒ…å†µã€‚</p><h2 id="å›å½’æ ‘"><a href="#å›å½’æ ‘" class="headerlink" title="å›å½’æ ‘"></a>å›å½’æ ‘</h2><p>æ„å»ºæ–¹å¼çš„æ ¸å¿ƒï¼šåˆ‡åˆ†æ–¹å¼ä¸å±æ€§é€‰æ‹©</p><p> é€’å½’äºŒåˆ†æ³•</p><p><a href="https://www.showmeai.tech/article-detail/192">https://www.showmeai.tech/article-detail/192</a></p><h2 id="How-to-understand-clustering"><a href="#How-to-understand-clustering" class="headerlink" title="How to understand clustering"></a>How to understand clustering</h2><p>è¿™æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ çš„ç®—æ³•ï¼ˆä¸classificationæœ€å¤§çš„åŒºåˆ«ï¼‰ï¼Œå°†ä¸åŒæ€§è´¨çš„æ•°æ®åˆ†æˆå‡ ä¸ªç›¸åŒç±»å‹çš„æ•°æ®ï¼Œå¦‚ä½•è¯„å®šç›¸åŒç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥æœ‰ä¸‹é¢è¿™äº›æ ‡å‡†ï¼šEuclidean distance, Cosine similarity, Manhattan distance, etc.</p><p>èšç±»ç®—æ³•çš„åˆ†ç±»ï¼š</p><ol><li>Centroid-based Clustering (Partitioning methods)</li><li>Density-based Clustering (Model-based methods)</li><li>Connectivity-based Clustering (Hierarchical clustering)</li><li>Distribution-based Clustering</li></ol><p><a href="https://www.geeksforgeeks.org/clustering-in-machine-learning/#what-is-clustering-">Clustering in Machine Learning - GeeksforGeeks</a></p><h2 id="å¼‚å¸¸æ£€æµ‹ç®—æ³•"><a href="#å¼‚å¸¸æ£€æµ‹ç®—æ³•" class="headerlink" title="å¼‚å¸¸æ£€æµ‹ç®—æ³•"></a>å¼‚å¸¸æ£€æµ‹ç®—æ³•</h2><p>æ‰¾åˆ°ä¸æ•°æ®é›†åˆ†å¸ƒä¸ä¸€è‡´çš„ç®—æ³•ï¼Œç¦»ç¾¤ç‚¹ã€å¼‚å¸¸å€¼æ£€æµ‹</p><p>ä¸€èˆ¬é’ˆå¯¹æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹ï¼Œå› ä¸ºå¼‚å¸¸ç‚¹å¸¸å¸¸æ˜¯æ²¡æœ‰æ ‡ç­¾çš„</p><p>æ— ç›‘ç£å¼‚å¸¸æ£€æµ‹ç®—æ³•çš„æ€æƒ³ï¼š</p><p>1ã€åŸºäºèšç±»çš„ç®—æ³•</p><p>2ã€åŸºäºç»Ÿè®¡çš„ç®—æ³•</p><p>3ã€åŸºäºæ·±åº¦çš„æ–¹æ³•</p><p>4ã€åŸºäºåˆ†ç±»æ¨¡å‹</p><p>5ã€åŸºäºåå·®çš„æ–¹æ³•</p><p>6ã€åŸºäºé‡æ„çš„ç®—æ³•</p><p>7ã€åŸºäºç¥ç»ç½‘ç»œçš„ç®—æ³•</p><h2 id="ä¸‘å°é¸­å®šç†"><a href="#ä¸‘å°é¸­å®šç†" class="headerlink" title="ä¸‘å°é¸­å®šç†"></a>ä¸‘å°é¸­å®šç†</h2><p>ä¸‘å°é¸­å®šç†ï¼ˆUgly Duckling Theoremï¼‰æ˜¯1969 å¹´ç”±æ¸¡è¾¹æ…§æå‡ºçš„[Watanabe,1969]ï¼â€œä¸‘å°é¸­ä¸ç™½å¤©é¹…ä¹‹é—´çš„åŒºåˆ«å’Œä¸¤åªç™½å¤©é¹…ä¹‹é—´çš„åŒºåˆ«ä¸€æ ·å¤§â€ï¼è¿™ä¸ªå®šç†åˆçœ‹å¥½åƒä¸ç¬¦åˆå¸¸è¯†ï¼Œä½†æ˜¯ä»”ç»†æ€è€ƒåæ˜¯éå¸¸æœ‰é“ç†çš„ï¼å› ä¸ºä¸–ç•Œä¸Šä¸å­˜åœ¨ç›¸ä¼¼æ€§çš„å®¢è§‚æ ‡å‡†ï¼Œä¸€åˆ‡ç›¸ä¼¼æ€§çš„æ ‡å‡†éƒ½æ˜¯ä¸»è§‚çš„ï¼å¦‚æœä»ä½“å‹å¤§å°æˆ–å¤–è²Œçš„è§’åº¦æ¥çœ‹ï¼Œä¸‘å°é¸­å’Œç™½å¤©é¹…çš„åŒºåˆ«å¤§äºä¸¤åªç™½å¤©é¹…çš„åŒºåˆ«ï¼›ä½†æ˜¯å¦‚æœä»åŸºå› çš„è§’åº¦æ¥çœ‹ï¼Œä¸‘å°é¸­ä¸å®ƒçˆ¶æ¯çš„å·®åˆ«è¦å°äºå®ƒçˆ¶æ¯å’Œå…¶ä»–ç™½å¤©é¹…ä¹‹é—´çš„å·®åˆ«ï¼</p><p>è¿™é‡Œçš„â€œä¸‘å°é¸­â€æ˜¯æŒ‡ç™½å¤©é¹…çš„å¹¼é›ï¼Œè€Œä¸æ˜¯â€œä¸‘é™‹çš„å°é¸­å­â€ï¼æ¸¡è¾¹æ…§ï¼ˆ1910ï½1993ï¼‰ï¼Œç¾ç±æ—¥æœ¬å­¦è€…ï¼Œç†è®ºç‰©ç†å­¦å®¶ï¼Œä¹Ÿæ˜¯æ¨¡å¼è¯†åˆ«çš„æœ€æ—©ç ”ç©¶è€…ä¹‹ä¸€ï¼</p><p>ç›¸ä¼¼æ€§çš„è¯„å®šä¹Ÿéœ€è¦ä¸»è§‚æ ‡å‡†ï¼Œè®­ç»ƒç»“æœçš„ç›¸ä¼¼æ€§ä¹Ÿè¦é’ˆå¯¹å…·ä½“æƒ…å†µã€‚</p><p>ps: æ‘˜è‡ª é‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020.</p><h2 id="è¶…å‚æ•°"><a href="#è¶…å‚æ•°" class="headerlink" title="è¶…å‚æ•°"></a>è¶…å‚æ•°</h2><p>è¶…å‚æ•°ï¼ˆHyperparameterï¼‰æ˜¯æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ä¸­éœ€è¦åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰è®¾ç½®çš„å‚æ•°ï¼Œè€Œä¸æ˜¯é€šè¿‡æ¨¡å‹è®­ç»ƒè‡ªåŠ¨å­¦ä¹ çš„å‚æ•°ã€‚å®ƒä»¬å½±å“æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹å’Œæ€§èƒ½è¡¨ç°ï¼Œé€šå¸¸éœ€è¦é€šè¿‡å®éªŒå’Œè°ƒä¼˜æ¥é€‰æ‹©æœ€ä½³å€¼ã€‚</p><p>è¶…å‚æ•°å’Œæ¨¡å‹å‚æ•°çš„åŒºåˆ«æ˜¯ï¼š</p><ul><li><strong>æ¨¡å‹å‚æ•°</strong>ï¼šæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ä»æ•°æ®ä¸­å­¦ä¹ å¾—åˆ°çš„å‚æ•°ï¼Œä¾‹å¦‚çº¿æ€§å›å½’ä¸­çš„æƒé‡æˆ–ç¥ç»ç½‘ç»œä¸­çš„æƒé‡å’Œåç½®ã€‚</li><li><strong>è¶…å‚æ•°</strong>ï¼šåœ¨è®­ç»ƒä¹‹å‰è®¾å®šçš„å‚æ•°ï¼Œå†³å®šäº†æ¨¡å‹çš„ç»“æ„å’Œè®­ç»ƒè¿‡ç¨‹ï¼Œå¦‚å­¦ä¹ ç‡ã€æ‰¹é‡å¤§å°ï¼ˆbatch sizeï¼‰ã€éšè—å±‚çš„æ•°é‡ç­‰ã€‚</li></ul><p>å¸¸è§çš„è¶…å‚æ•°åŒ…æ‹¬ï¼š</p><ol><li><strong>å­¦ä¹ ç‡ï¼ˆLearning Rateï¼‰</strong>ï¼šæ§åˆ¶æ¯æ¬¡æ›´æ–°æ¨¡å‹å‚æ•°çš„æ­¥é•¿ã€‚</li><li><strong>æ‰¹é‡å¤§å°ï¼ˆBatch Sizeï¼‰</strong>ï¼šæ¯æ¬¡æ›´æ–°æ¨¡å‹æ—¶ä½¿ç”¨çš„æ ·æœ¬æ•°é‡ã€‚</li><li><strong>ä¼˜åŒ–å™¨ç±»å‹ï¼ˆOptimizerï¼‰</strong>ï¼šç”¨äºæ›´æ–°æ¨¡å‹å‚æ•°çš„æ–¹æ³•ï¼Œå¦‚SGDã€Adamç­‰ã€‚</li><li><strong>æ­£åˆ™åŒ–å‚æ•°ï¼ˆRegularization Parameterï¼‰</strong>ï¼šæ§åˆ¶æ¨¡å‹å¤æ‚åº¦çš„å‚æ•°ï¼Œç”¨äºé˜²æ­¢è¿‡æ‹Ÿåˆã€‚</li><li><strong>éšè—å±‚æ•°é‡å’Œå•å…ƒæ•°é‡</strong>ï¼šå¯¹äºç¥ç»ç½‘ç»œï¼Œå®šä¹‰æ¯å±‚éšè—å±‚çš„ç¥ç»å…ƒæ•°é‡å’Œéšè—å±‚çš„ä¸ªæ•°ã€‚</li></ol><p>è°ƒä¼˜è¶…å‚æ•°é€šå¸¸é€šè¿‡äº¤å‰éªŒè¯æˆ–ç½‘æ ¼æœç´¢ç­‰æŠ€æœ¯è¿›è¡Œï¼Œä»¥æ‰¾åˆ°æ¨¡å‹æ€§èƒ½çš„æœ€ä½³é…ç½®ã€‚</p><h2 id="æ¢¯åº¦ä¸‹é™ç®—æ³•"><a href="#æ¢¯åº¦ä¸‹é™ç®—æ³•" class="headerlink" title="æ¢¯åº¦ä¸‹é™ç®—æ³•"></a>æ¢¯åº¦ä¸‹é™ç®—æ³•</h2><p>åœ¨å…·ä½“ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ä¸åŒçš„å˜ç§ï¼Œå³ï¼šbatchã€mini-batchã€Stochasticã€‚å…¶ä¸»è¦åŒºåˆ«æ˜¯ä¸åŒçš„å˜å½¢åœ¨è®­ç»ƒæ•°æ®çš„é€‰æ‹©ä¸Šã€‚</p><p><strong>æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•</strong>(Batch Gradient Descent)é’ˆå¯¹çš„æ˜¯æ•´ä¸ªæ•°æ®é›†ï¼Œé€šè¿‡å¯¹æ‰€æœ‰çš„æ ·æœ¬çš„è®¡ç®—æ¥æ±‚è§£æ¢¯åº¦çš„æ–¹å‘ã€‚åœ¨æ¯æ¬¡è¿­ä»£æ—¶éœ€è¦è®¡ç®—æ¯ä¸ªæ ·æœ¬ä¸ŠæŸå¤±å‡½æ•°çš„æ¢¯åº¦å¹¶æ±‚å’Œã€‚å½“è®­ç»ƒé›†ä¸­çš„æ ·æœ¬æ•°é‡ğ‘ å¾ˆå¤§æ—¶ï¼Œç©ºé—´å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œæ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¼€é”€ä¹Ÿå¾ˆå¤§ã€‚</p><p>mini-batch GDï¼šåœ¨ä¸Šè¿°çš„æ‰¹æ¢¯åº¦çš„æ–¹å¼ä¸­æ¯æ¬¡è¿­ä»£éƒ½è¦ä½¿ç”¨åˆ°æ‰€æœ‰çš„æ ·æœ¬ï¼Œå¯¹äºæ•°æ®é‡ç‰¹åˆ«å¤§çš„æƒ…å†µï¼Œå¦‚å¤§è§„æ¨¡çš„æœºå™¨å­¦ä¹ åº”ç”¨ï¼Œæ¯æ¬¡è¿­ä»£æ±‚è§£æ‰€æœ‰æ ·æœ¬éœ€è¦èŠ±è´¹å¤§é‡çš„è®¡ç®—æˆæœ¬ã€‚æ˜¯å¦å¯ä»¥åœ¨æ¯æ¬¡çš„è¿­ä»£è¿‡ç¨‹ä¸­<strong>åˆ©ç”¨éƒ¨åˆ†æ ·æœ¬ä»£æ›¿æ‰€æœ‰çš„æ ·æœ¬</strong>å‘¢ï¼ŸåŸºäºè¿™æ ·çš„æ€æƒ³ï¼Œä¾¿å‡ºç°äº†mini-batchçš„æ¦‚å¿µã€‚</p><p>BGDå’ŒSGDçš„å¯¹æ¯”ï¼š<strong>æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•</strong>ç›¸å½“äºæ˜¯ä»çœŸå®æ•°æ®åˆ†å¸ƒä¸­é‡‡é›†ğ‘ ä¸ªæ ·æœ¬ï¼Œå¹¶ç”±å®ƒä»¬è®¡ç®—å‡ºæ¥çš„ç»éªŒé£é™©çš„æ¢¯åº¦æ¥è¿‘ä¼¼æœŸæœ›é£é™©çš„æ¢¯åº¦ï¼ä¸ºäº†å‡å°‘æ¯æ¬¡è¿­ä»£çš„è®¡ç®—å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ¯æ¬¡è¿­ä»£æ—¶åªé‡‡é›†ä¸€ä¸ªæ ·æœ¬ï¼Œè®¡ç®—è¿™ä¸ªæ ·æœ¬æŸå¤±å‡½æ•°çš„æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°ï¼Œå³<strong>éšæœºæ¢¯åº¦ä¸‹é™æ³•</strong>ã€‚åœ¨<strong>éå‡¸ä¼˜åŒ–é—®é¢˜</strong>ä¸­ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ›´å®¹æ˜“é€ƒç¦»å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚</p><p>SGDä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œæ¯”å¦‚å¯èƒ½ä¼šå¯¼è‡´æ”¶æ•›ä¸ç¨³å®šå’Œæ”¶æ•›é€Ÿåº¦è¾ƒæ…¢ã€‚å› æ­¤ï¼Œè®¸å¤šç ”ç©¶è€…å’Œå·¥ç¨‹å¸ˆä¼šä½¿ç”¨ SGD çš„å˜ç§ï¼Œå¦‚ <strong>åŠ¨é‡ï¼ˆMomentumï¼‰</strong>ã€<strong>Nesterov åŠ é€Ÿæ¢¯åº¦ï¼ˆNesterov Accelerated Gradientï¼‰</strong>ã€<strong>Adam</strong> ç­‰ä¼˜åŒ–å™¨ï¼Œæ¥å…‹æœè¿™äº›ç¼ºç‚¹ã€‚</p><p><strong>è®¡ç®—æ¢¯åº¦çš„è¿‡ç¨‹</strong>ï¼šåœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œåå‘æ¨¡å¼ã€å‰å‘æ¨¡å¼éƒ½æ˜¯éƒ½æ˜¯åº”ç”¨é“¾å¼æ³•åˆ™çš„æ¢¯åº¦ç´¯è®¡æ–¹å¼ï¼Œåå‘æ¨¡å¼æ˜¯æ›´ä¸ºæœ‰æ•ˆçš„è®¡ç®—æ¨¡å¼ã€‚åœ¨è®¡ç®—æ—¶ï¼Œå‰å‘ä¼ æ’­æ—¶ä¼šæœ‰ä¸€ä¸ªè®¡ç®—å›¾ä¿å­˜ç€æ‰€æœ‰æ“ä½œèŠ‚ç‚¹çš„åŠå…¶ä¹‹é—´çš„å…³ç³»ï¼Œè¿™æ ·åœ¨åå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦æ—¶ï¼ˆå³è°ƒç”¨backwradå‡½æ•°ï¼‰ï¼ŒPyTorch ä»æŸå¤±å‡½æ•°ï¼ˆé€šå¸¸æ˜¯è®¡ç®—å›¾çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼‰å¼€å§‹ï¼Œæ²¿ç€è®¡ç®—å›¾å‘åéå†ã€‚åœ¨æ¯ä¸ªèŠ‚ç‚¹ï¼ŒPyTorch ä¼šè®¡ç®—å½“å‰èŠ‚ç‚¹çš„è¾“å‡ºå¯¹è¾“å…¥èŠ‚ç‚¹çš„å¯¼æ•°ï¼ˆå³æ¢¯åº¦ï¼‰ï¼Œå¹¶å°†è¿™äº›æ¢¯åº¦ç´¯åŠ åˆ°æ¯ä¸ªè¾“å…¥çš„ <code>.grad</code> å±æ€§ä¸­ã€‚</p><p>å¯¹äºå¤åˆå‡½æ•° <script type="math/tex">f(x; w,b)=\frac{1}{e^{-(wx+b)}+1}</script> çš„è®¡ç®—å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://s2.loli.net/2024/10/27/J5zfGqeyHURiSVo.png" alt="è®¡ç®—å›¾"></p><p>å‚è€ƒï¼šé‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020.</p><p>Blogï¼š<a href="https://blog.csdn.net/cs24k1993/article/details/79120579">æ‰¹æ¢¯åº¦ä¸‹é™æ³•(Batch Gradient Descent )ï¼Œå°æ‰¹æ¢¯åº¦ä¸‹é™ (Mini-Batch GD)ï¼Œéšæœºæ¢¯åº¦ä¸‹é™ (Stochastic GD)</a>ï¼Œé‡Œé¢æœ‰å‡ å¼ éå¸¸å½¢è±¡çš„å›¾ç‰‡</p><p><a href="https://paperswithcode.com/method/sgd-with-momentum">SGD with Momentum</a> æ²¡çœ‹å®Œ</p><p><a href="https://blog.csdn.net/weixin_53765658/article/details/136668114">æ·±åº¦å­¦ä¹ ç¬”è®°:è¯¦è§£ä¼˜åŒ–å™¨ä¹‹éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰</a> æ²¡çœ‹å®Œ</p><h2 id="éå‡¸ä¼˜åŒ–é—®é¢˜"><a href="#éå‡¸ä¼˜åŒ–é—®é¢˜" class="headerlink" title="éå‡¸ä¼˜åŒ–é—®é¢˜"></a>éå‡¸ä¼˜åŒ–é—®é¢˜</h2><p>åœ¨ä¼˜åŒ–é—®é¢˜ä¸­ï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ä½¿ç›®æ ‡å‡½æ•°è¾¾åˆ°æœ€å°å€¼æˆ–æœ€å¤§å€¼çš„å˜é‡é›†ã€‚å‡¸ä¼˜åŒ–é—®é¢˜æ¶‰åŠçš„å‡½æ•°å…·æœ‰å‡¸æ€§è´¨ï¼Œå³å‡½æ•°å›¾åƒä¸Šçš„ä¸¤ç‚¹è¿çº¿åœ¨å‡½æ•°å›¾åƒçš„ä¸Šæ–¹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå±€éƒ¨æœ€å°å€¼ä¹Ÿæ˜¯å…¨å±€æœ€å°å€¼ï¼Œä¼˜åŒ–é—®é¢˜ç›¸å¯¹è¾ƒä¸ºç®€å•ã€‚ç„¶è€Œï¼Œéå‡¸ä¼˜åŒ–é—®é¢˜æ¶‰åŠçš„å‡½æ•°å›¾åƒå¯èƒ½å‡ºç°ä¸Šä¸‹å‡¹å‡¸ï¼Œå­˜åœ¨å¤šä¸ªå±€éƒ¨æå°/å¤§å€¼ï¼Œä»è€Œä½¿é—®é¢˜å˜å¾—å¤æ‚è€Œæœ‰è¶£ã€‚</p><h2 id="ç¥ç»ç½‘ç»œçš„ä¸‰ä¸ªæ¦‚å¿µï¼šBatchã€Epochã€Iteration"><a href="#ç¥ç»ç½‘ç»œçš„ä¸‰ä¸ªæ¦‚å¿µï¼šBatchã€Epochã€Iteration" class="headerlink" title="ç¥ç»ç½‘ç»œçš„ä¸‰ä¸ªæ¦‚å¿µï¼šBatchã€Epochã€Iteration"></a>ç¥ç»ç½‘ç»œçš„ä¸‰ä¸ªæ¦‚å¿µï¼šBatchã€Epochã€Iteration</h2><p>Batchè¡¨ç¤ºæ‰¹æ¬¡ï¼ŒIterationè¡¨ç¤ºè¿­ä»£ï¼ŒEpochè¡¨ç¤ºä¸€ä»£</p><p>Batchï¼šbatch_sizeå°†å½±å“åˆ°æ¨¡å‹çš„ä¼˜åŒ–ç¨‹åº¦ï¼Œé€‰æ‹©batch_sizeæ˜¯ä¸ºäº†åœ¨å†…å­˜æ•ˆç‡å’Œå†…å­˜å®¹é‡ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œ</p><p>batch_sizeé€‰æ‹©æ€»ç»“ï¼šè¿‡å°ï¼Œè®­ç»ƒæ•°æ®ä¼šéš¾ä»¥æ”¶æ•›ï¼Œä»è€Œå¯¼è‡´underfittingï¼›å¢å¤§ï¼Œç›¸å¯¹å¤„ç†é€Ÿåº¦åŠ å¿«ï¼Œæ‰€éœ€å†…å­˜å®¹é‡å¢åŠ ã€‚æ‰€ä»¥éœ€è¦æƒè¡¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„batch_sizeã€‚</p><p>Epochï¼šæ˜¯æŒ‡å°†å…¨éƒ¨çš„æ ·æœ¬ï¼ˆæ‰€ä»¥çš„batchï¼‰éƒ½å®Œæˆä¸€æ¬¡forward+ä¸€æ¬¡backwardï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªepochæ˜¯ä¸å¤Ÿçš„ï¼Œåœ¨å¤šä¸ªepochåï¼Œæ¨¡å‹çš„weightå’Œbiasä¼šé€æ¸çš„æ›´æ–°ï¼Œè¾¾åˆ°ç†æƒ³çŠ¶æ€ã€‚  </p><p>Iterationï¼šä¸€ä¸ª<code>iteration</code>åŒ…æ‹¬äº†ä¸€ä¸ª<code>step</code>ä¸­å‰å‘ä¼ æ’­ã€æŸå¤±è®¡ç®—ã€åå‘ä¼ æ’­å’Œå‚æ•°æ›´æ–°çš„æµç¨‹ï¼Œæœ‰<code>batch_size</code>ä¸ªiterationã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼šè®­ç»ƒæ ·æœ¬æ•°é‡10000ï¼Œbatch_size=100ï¼Œä¸€å…±100ä¸ªBatchï¼Œä¸€ä¸ªBatchæœ‰100ä¸ªIterationï¼Œä¸€ä¸ªEpochæœ‰100ä¸ªBarchçš„è®­ç»ƒè¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨æ¯ä¸ªBatchéƒ½ä¼šå»æ›´æ–°weightå’Œbiasã€‚</p><p>å‚è€ƒï¼š<a href="https://www.zhihu.com/question/43673341">https://www.zhihu.com/question/43673341</a></p><h2 id="æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"><a href="#æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜" class="headerlink" title="æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"></a>æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜</h2><h3 id="é—®é¢˜äº§ç”Ÿçš„åŸå› "><a href="#é—®é¢˜äº§ç”Ÿçš„åŸå› " class="headerlink" title="é—®é¢˜äº§ç”Ÿçš„åŸå› "></a>é—®é¢˜äº§ç”Ÿçš„åŸå› </h3><p>å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Networkï¼ŒRNNï¼‰æ˜¯ä¸€ç±»å…·æœ‰çŸ­æœŸè®°å¿†èƒ½åŠ›çš„ç¥ç»ç½‘ç»œï¼åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ï¼Œç¥ç»å…ƒä¸ä½†å¯ä»¥æ¥å—å…¶ä»–ç¥ç»å…ƒçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æ¥å—è‡ªèº«çš„ä¿¡æ¯ï¼Œå½¢æˆå…·æœ‰ç¯è·¯çš„ç½‘ç»œç»“æ„ã€‚</p><p>åœ¨RNNä¸­ï¼Œæ¢¯åº¦è®¡ç®—æ—¶éœ€è¦æ²¿æ—¶é—´æ­¥åå‘ä¼ æ’­ï¼ˆBPTTï¼ŒBackpropagation Through Timeï¼‰ï¼Œè¿™ä¸ªç®—æ³•å³æŒ‰ç…§æ—¶é—´çš„é€†åºå°†æ¢¯åº¦ä¿¡æ¯ä¸€æ­¥æ­¥åœ°å¾€å‰ä¼ é€’ï¼å½“è¾“å…¥åºåˆ—æ¯”è¾ƒé•¿æ—¶äº†ï¼Œæ—¶é—´æ­¥å±•å¼€å¯¼è‡´çš„<strong>é•¿é“¾ä¹˜ç§¯</strong>ä¼šå­˜åœ¨æ¢¯åº¦çˆ†ç‚¸å’Œæ¶ˆå¤±é—®é¢˜ï¼Œä¹Ÿç§°ä¸ºé•¿ç¨‹ä¾èµ–é—®é¢˜ã€‚</p><p><img src="https://s2.loli.net/2024/11/06/53eNQXLIskyMFW6.png" alt="ç®€å•çš„å‰é¦ˆç¥ç»ç½‘ç»œ"></p><p>ä¸Šå›¾æ˜¯ä¸€ä¸ªç®€å•çš„å¾ªç¯ç¥ç»ç½‘ç»œï¼Œåªæœ‰ä¸€ä¸ªéšè—å±‚çš„ç¥ç»ç½‘ç»œï¼Œ<script type="math/tex">ğ’‰_ğ‘¡</script> ä¸ä»…å’Œå½“å‰æ—¶åˆ»çš„è¾“å…¥<script type="math/tex">ğ’™_ğ‘¡</script> ç›¸å…³ï¼Œä¹Ÿå’Œä¸Šä¸€ä¸ªæ—¶åˆ»çš„éšè—å±‚çŠ¶æ€<script type="math/tex">ğ’‰_{ğ‘¡âˆ’1}</script>ç›¸å…³</p><p><img src="https://s2.loli.net/2024/11/06/tJHswL5PTy1G6Oi.png" alt="æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸"></p><h3 id="åˆ†ææ­¥éª¤"><a href="#åˆ†ææ­¥éª¤" class="headerlink" title="åˆ†ææ­¥éª¤"></a>åˆ†ææ­¥éª¤</h3><p><img src="https://s2.loli.net/2024/11/06/THbBFXl3ghcQN5w.png" alt="åˆ†ææ­¥éª¤"></p><p>åˆ†æï¼š</p><p>1ã€ä½¿ç”¨äº†ä¸€ä¸ª4å±‚çš„å‰é¦ˆç¥ç»ç½‘ç»œæ¥æ¨¡æ‹Ÿå±•å¼€çš„RNNã€‚</p><p>2ã€è‹¥æ¿€æ´»å‡½æ•°æ˜¯Sigmoidï¼Œæ±‚æ¢¯åº¦çš„æœ€å¤§å€¼æ˜¯0.25ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œè¿™æ—¶å€™ç½‘ç»œå°±å­¦ä¹ ä¸åˆ°ä¸œè¥¿äº†ï¼Œå³æ— æ³•æ›´æ–°æ¢¯åº¦ã€‚</p><p>3ã€è‹¥æƒé‡è®¾ç½®è¿‡å¤§äº†ï¼Œå¯èƒ½å‡ºç°æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œæ¢¯åº¦å˜æˆNaNã€‚</p><p>æ³¨ï¼šæœ€åç­‰å¼æ‹¬å·ä¸­æ ¹æ®ä¸åŒçš„æ¿€æ´»å‡½æ•°æœ‰ä¸åŒçš„å¯¼æ•°ã€‚</p><p>Blog:</p><p><a href="https://medium.com/metaor-artificial-intelligence/the-exploding-and-vanishing-gradients-problem-in-time-series-6b87d558d22">https://medium.com/metaor-artificial-intelligence/the-exploding-and-vanishing-gradients-problem-in-time-series-6b87d558d22</a></p><p><a href="https://www.linkedin.com/advice/3/how-do-you-deal-vanishing-exploding-gradient">https://www.linkedin.com/advice/3/how-do-you-deal-vanishing-exploding-gradient</a></p><p><a href="https://www.cnblogs.com/XDU-Lakers/p/10557496.html">https://www.cnblogs.com/XDU-Lakers/p/10557496.html</a></p><p><a href="https://www.cnblogs.com/imreW/p/17366268.html">https://www.cnblogs.com/imreW/p/17366268.html</a></p><p><a href="https://www.cnblogs.com/zf-blog/p/12793019.html">https://www.cnblogs.com/zf-blog/p/12793019.html</a></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸»è¦å°†å¹³æ—¶é‡åˆ°çš„é—®é¢˜æ¥è®°å½•ï¼Œå¹¶ä¸”åŠ ä»¥è¡¥å……å’Œæ•´ç†ï¼Œå‚è€ƒäº†å¤šæœ¬ä¹¦ç±ï¼Œ</p><p>å¦‚ï¼šé‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020.ä»¥åŠ è‰¾ä¼¯ç‰¹æ·±åº¦å­¦ä¹  ä¸­æ–‡ç‰ˆ[aibbt.com]ç­‰</p><p>å¯¹äºè®¸å¤šçš„åšå®¢ä¸­æ¯”è¾ƒå¥½ç†è§£çš„å†…å®¹ä¹Ÿè¿›è¡Œäº†æ‘˜å½•(*\^_^*)</p><p>å¯å¿™ï¼Œå¯é—²ï¼Œå¯æ€¥ï¼Œå¯ç¼“ã€‚</p><p>å¼ å¼›ä¹‹é—´ï¼Œä¾¿æ˜¯ç”Ÿæ´»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RNNä¸­çš„æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜</title>
      <link href="/2024/11/11/rnn-zhong-de-ti-du-xiao-shi-yu-ti-du-bao-zha-wen-ti/"/>
      <url>/2024/11/11/rnn-zhong-de-ti-du-xiao-shi-yu-ti-du-bao-zha-wen-ti/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"><a href="#æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜" class="headerlink" title="æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"></a>æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸é—®é¢˜</h2><p>å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Networkï¼ŒRNNï¼‰æ˜¯ä¸€ç±»å…·æœ‰çŸ­æœŸè®°å¿†èƒ½åŠ›çš„ç¥ç»ç½‘ç»œï¼åœ¨å¾ªç¯ç¥ç»ç½‘ç»œä¸­ï¼Œç¥ç»å…ƒä¸ä½†å¯ä»¥æ¥å—å…¶ä»–ç¥ç»å…ƒçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æ¥å—è‡ªèº«çš„ä¿¡æ¯ï¼Œå½¢æˆå…·æœ‰ç¯è·¯çš„ç½‘ç»œç»“æ„ã€‚</p><p>åœ¨RNNä¸­ï¼Œæ¢¯åº¦è®¡ç®—æ—¶éœ€è¦æ²¿æ—¶é—´æ­¥åå‘ä¼ æ’­ï¼ˆBPTTï¼ŒBackpropagation Through Timeï¼‰ï¼Œè¿™ä¸ªç®—æ³•å³æŒ‰ç…§æ—¶é—´çš„é€†åºå°†æ¢¯åº¦ä¿¡æ¯ä¸€æ­¥æ­¥åœ°å¾€å‰ä¼ é€’ï¼å½“è¾“å…¥åºåˆ—æ¯”è¾ƒé•¿æ—¶äº†ï¼Œæ—¶é—´æ­¥å±•å¼€å¯¼è‡´çš„<strong>é•¿é“¾ä¹˜ç§¯</strong>ä¼šå­˜åœ¨æ¢¯åº¦çˆ†ç‚¸å’Œæ¶ˆå¤±é—®é¢˜ï¼Œä¹Ÿç§°ä¸ºé•¿ç¨‹ä¾èµ–é—®é¢˜ã€‚</p><p><img src="https://i-blog.csdnimg.cn/direct/bb91f1cda5004e5ab6515c0da7a44ba3.png" alt="ç®€å•çš„å‰é¦ˆç¥ç»ç½‘ç»œ"></p><p>ä¸Šå›¾æ˜¯ä¸€ä¸ªç®€å•çš„å¾ªç¯ç¥ç»ç½‘ç»œï¼Œåªæœ‰ä¸€ä¸ªéšè—å±‚çš„ç¥ç»ç½‘ç»œï¼Œğ’‰_ğ‘¡ä¸ä»…å’Œå½“å‰æ—¶åˆ»çš„è¾“å…¥ğ’™_ğ‘¡ ç›¸å…³ï¼Œä¹Ÿå’Œä¸Šä¸€ä¸ªæ—¶åˆ»çš„éšè—å±‚çŠ¶æ€ğ’‰_{ğ‘¡âˆ’1} ç›¸å…³</p><p><img src="https://i-blog.csdnimg.cn/direct/e22ce116b84a438d81f7c962133dfe1a.png" alt="æ¢¯åº¦æ¶ˆå¤±ä¸çˆ†ç‚¸"></p><h3 id="åˆ†ææ­¥éª¤"><a href="#åˆ†ææ­¥éª¤" class="headerlink" title="åˆ†ææ­¥éª¤"></a>åˆ†ææ­¥éª¤</h3><p><img src="https://i-blog.csdnimg.cn/direct/fd6a6c3c096747c6893cbd13cc237cc8.png" alt="åˆ†ææ­¥éª¤"></p><p>åˆ†æï¼š</p><p>1ã€ä½¿ç”¨äº†ä¸€ä¸ª4å±‚çš„å‰é¦ˆç¥ç»ç½‘ç»œæ¥æ¨¡æ‹Ÿå±•å¼€çš„RNNã€‚</p><p>2ã€è‹¥æ¿€æ´»å‡½æ•°æ˜¯Sigmoidï¼Œæ±‚æ¢¯åº¦çš„æœ€å¤§å€¼æ˜¯0.25ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œè¿™æ—¶å€™ç½‘ç»œå°±å­¦ä¹ ä¸åˆ°ä¸œè¥¿äº†ï¼Œå³æ— æ³•æ›´æ–°æ¢¯åº¦ã€‚</p><p>3ã€è‹¥æƒé‡è®¾ç½®è¿‡å¤§äº†ï¼Œå¯èƒ½å‡ºç°æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œæ¢¯åº¦å˜æˆNaNã€‚</p><p>æ³¨ï¼šæœ€åç­‰å¼æ‹¬å·ä¸­æ ¹æ®ä¸åŒçš„æ¿€æ´»å‡½æ•°æœ‰ä¸åŒçš„å¯¼æ•°ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>ä»ä¸Šé¢çš„åˆ†æè¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œäº§ç”Ÿæ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±çš„åŸå› æœ‰ä»¥ä¸‹3ä¸ªè§’åº¦ï¼š<br> 1ã€æ¿€æ´»å‡½æ•°<br> 2ã€åˆå§‹åŒ–çš„æƒé‡è¿‡å¤§<br> 3ã€ç½‘ç»œå±‚æ•°å¤ªæ·±<br> æ‰€ä»¥è§£å†³æ–¹æ¡ˆä¹Ÿæ˜¯ä»è¿™ä¸‰ä¸ªæ–¹é¢æ¥å¤„ç†<br> 1ã€ç”¨ReLUã€Leaky-ReLUã€P-ReLUã€R-ReLUã€Maxoutç­‰æ›¿ä»£sigmoidå‡½æ•°<br> 2ã€ç”¨Batch Normalizationï¼Œæ‰¹é‡å½’ä¸€åŒ–ã€‚<br> 3ã€LSTMçš„ç»“æ„è®¾è®¡ä¹Ÿå¯ä»¥æ”¹å–„RNNä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæ¯ä¸ªè®°å¿†å•å…ƒ(å›¾ä¸­A)ä¸­åŒ…æ‹¬ç»†èƒçŠ¶æ€(Ct)ï¼Œé—å¿˜é—¨ï¼Œè¾“å…¥é—¨å’Œè¾“å‡ºé—¨ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯åœ¨çœ‹å®Œï¼š<br>1ã€ææ²å­¦AI<br>2ã€é‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ <br>åå¯¹RNNçš„æ¢¯åº¦çˆ†ç‚¸ä¸æ¶ˆå¤±çš„ç†è®ºåˆ†æï¼Œæ¥ä¸‹æ¥å¯ä»¥é€šè¿‡è®ºæ–‡ä»¥åŠå…·ä½“ä»£ç æ¥åˆ†æ</p>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ä¸­stringåº•å±‚å®ç°ä¹‹SSO</title>
      <link href="/2024/11/01/c-zhong-string-di-ceng-shi-xian-zhi-sso/"/>
      <url>/2024/11/01/c-zhong-string-di-ceng-shi-xian-zhi-sso/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="stringåº•å±‚å®ç°ä¹‹SSO"><a href="#stringåº•å±‚å®ç°ä¹‹SSO" class="headerlink" title="stringåº•å±‚å®ç°ä¹‹SSO"></a>stringåº•å±‚å®ç°ä¹‹SSO</h2><p><a href="https://cplusplus.com/reference/string/string/string/">stringçš„æ„é€ å‡½æ•°</a></p><p><a href="https://www.ccppcoding.com/archives/1199">å‚è€ƒèµ„æ–™</a></p><p>Simple String Optimizationï¼Œæœ€å°å­—ç¬¦ä¸²ä¼˜åŒ–ï¼ŒåŸºæœ¬åŸç†æ˜¯ï¼š<strong>å½“åˆ†é…çš„å­—èŠ‚æ•°å°äº16å­—èŠ‚çš„æ—¶å€™ï¼Œç›´æ¥ä»æ ˆä¸Šè¿›è¡Œè¿›è¡Œå†…å­˜åˆ†é…ï¼Œå¦‚æœå¤§äº16å­—èŠ‚ï¼Œåˆ™åœ¨å †ä¸Šè¿›è¡Œå†…å­˜åˆ†é…ã€‚</strong></p><p>éªŒè¯ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;stdlib.h&gt;using namespace std;void *operator new(size_t n)&#123;    cout&lt;&lt;&quot;new size&#x3D;&quot;&lt;&lt;n;    return malloc(n);&#125;void operator delete(void* p)&#123;    free(p);&#125;int main()&#123;    for(int i&#x3D;0; i&lt;30; i++)&#123;        cout&lt;&lt;&quot;i&#x3D;&quot;&lt;&lt;i&lt;&lt;&quot;: &quot;&lt;&lt;string(i, &#39;&#x3D;&#39;)&lt;&lt;endl;    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå¯¹newè¿›è¡Œäº†é‡è½½ï¼Œä»¥ä¾¿æˆ‘ä»¬è§‚å¯Ÿæ˜¯å¦è°ƒç”¨çš„newã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@***********************:~<span class="token comment"># g++ -o test test.cpp </span>root@***********************:~<span class="token comment"># ./test</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>: <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>: <span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">2</span>: <span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">3</span>: <span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">4</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">5</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">6</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">7</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">8</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">9</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">10</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">11</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">12</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">13</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">14</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">15</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">16</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">17</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">17</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">18</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">18</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">19</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">19</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">20</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">20</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">21</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">21</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">22</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">22</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">23</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">23</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">24</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">24</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">25</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">25</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">26</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">26</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">27</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">27</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">28</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">28</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">29</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">29</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">30</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™å°±è¯´æ˜å½“å­—ç¬¦ä¸²é•¿åº¦å°äº16æ—¶ï¼Œæ˜¯åœ¨æ ˆä¸Šé¢åˆ†é…å†…å­˜ï¼Œå¤§äº16çš„æ—¶å€™ï¼Œåœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨äº†newæ–¹æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¥¿ç“œä¹¦ä¹¦æœ¬å†…å®¹æ‚è°ˆ</title>
      <link href="/2024/10/19/xi-gua-shu-shu-ben-nei-rong-za-tan/"/>
      <url>/2024/10/19/xi-gua-shu-shu-ben-nei-rong-za-tan/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="è¥¿ç“œä¹¦ä¹¦æœ¬å†…å®¹æ‚è°ˆ"><a href="#è¥¿ç“œä¹¦ä¹¦æœ¬å†…å®¹æ‚è°ˆ" class="headerlink" title="è¥¿ç“œä¹¦ä¹¦æœ¬å†…å®¹æ‚è°ˆ"></a>è¥¿ç“œä¹¦ä¹¦æœ¬å†…å®¹æ‚è°ˆ</h1><p>æŠŠåœˆå­å˜å°ï¼ŒæŠŠè¯­é€Ÿæ”¾ç¼“ï¼ŒæŠŠå¿ƒæ”¾å®½ï¼ŒæŠŠç”Ÿæ´»æ‰“ç†å¥½</p><p>åªèƒ½è¯´å¿«é€Ÿè¿‡äº†ä¸€éï¼ŒèŠ±äº†ä¸€ä¸ªå¤šæ˜ŸæœŸå§ï¼Œç„¶ååè¾¹çš„å†…å®¹æ˜¯ä¸€ç‚¹ä¹Ÿçœ‹ä¸æ‡‚äº†ï¼ˆèƒ½å‘ç°å‰é¢è®°å¾—æ¯”è¾ƒè¯¦ç»†ï¼Œåˆ°äº†åè¾¹æ˜¯çœ‹ä¸æ‡‚ä¸€ç‚¹äº†ï¼Œè„‘å£³ç—›QWQ</p><p>å°±ä¸åƒæ˜¯ä¸€æœ¬æ–°æ‰‹çš„å…¥é—¨ä¹¦ç±ï¼Œå¤ªéš¾å—äº†à²¥_à²¥ï¼Œäº†è§£æ¦‚å¿µè¿™æœ¬ä¹¦ä¹Ÿä¸é€‚åˆï¼Œè¿˜æ˜¯è½¬ä¸ºçœ‹ã€Šé‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹å’Œææ²åŠ¨æ‰‹å­¦AIè¯¾çš„å®è·µéƒ¨åˆ†ï¼Œà² _à² </p><h2 id="ç¬¬ä¸€ç« -ç»ªè®º"><a href="#ç¬¬ä¸€ç« -ç»ªè®º" class="headerlink" title="ç¬¬ä¸€ç«  ç»ªè®º"></a>ç¬¬ä¸€ç«  ç»ªè®º</h2><p>1ã€é¢„é¢„æµ‹çš„å€¼æ˜¯ç¦»æ•£å€¼ï¼Œè¿™ç±»å­¦ä¹ ä»»åŠ¡å«åšâ€œåˆ†ç±»â€ï¼Œå¦‚â€œå¥½ç“œâ€ï¼Œâ€œåç“œâ€ï¼›è‹¥é¢„é¢„æµ‹çš„å€¼æ˜¯è¿ç»­å€¼ï¼Œè¿™ç±»å­¦ä¹ ä»»åŠ¡ç§°ä¸ºâ€œå›å½’â€ã€‚</p><p>2ã€å­¦å¾—æ¨¡å‹é€‚ç”¨äºæ–°æ ·æœ¬çš„èƒ½åŠ›ï¼Œå«åšâ€œæ³›åŒ–â€ï¼Œæ³›åŒ–èƒ½åŠ›å¥½ï¼Œèƒ½æ›´å¥½çš„é€‚ç”¨æ–°æ ·æœ¬ã€‚</p><p>3ã€è¥¿ç“œé—®é¢˜çš„å‡è®¾ç©ºé—´è‡ªé¡¶å‘ä¸‹ã€è‡ªåº•å‘ä¸Šã€‚</p><p>4ã€å½’çº³åå¥½ï¼Œå¯¹å‡è®¾ç©ºé—´è¿›è¡Œé€‰æ‹©çš„å¯å‘å¼åå¥½ï¼Œç”¨ä¸€èˆ¬æ€§çš„åŸåˆ™æ¥å¼•å¯¼åå¥½ï¼Œå¦‚â€å¥¥å¡å§†å‰ƒåˆ€â€œæ³•ï¼ˆOccamâ€˜s razorï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„ã€è‡ªç„¶ç§‘å­¦ç ”ç©¶ä¸­æœ€åŸºæœ¬çš„åŸåˆ™ï¼Œå³â€œè‹¥æœ‰å¤šä¸ªå‡è®¾ä¸è§‚å¯Ÿä¸€è‡´ï¼Œåˆ™é€‰æ‹©æœ€ç®€å•çš„é‚£ä¸ªâ€ï¼Œé€‰æ‹©æ›´ä¸ºå¹³æ»‘çš„æ›²çº¿ã€‚</p><p>5ã€ä¸åŒç®—æ³•é’ˆå¯¹ä¸åŒé—®é¢˜æœ‰ä¸åŒçš„æ‹Ÿåˆæ€§ï¼Œå°½ç®¡çœ‹èµ·æ¥å¾ˆå·®çš„ç®—æ³•ï¼ˆç¬¨æ‹™çš„ç®—æ³•ï¼‰ä¹Ÿæœ‰éå¸¸æ‹Ÿåˆçš„æ•°æ®ï¼Œã€‚</p><p>6ã€æ‰€æœ‰ç®—æ³•çš„æœŸæœ›æ€§èƒ½éƒ½å·®ä¸å¤šï¼ŒEè¡¨ç¤ºæœŸæœ›ï¼Œä¸‹è¡¨oteè¡¨ç¤ºè®­ç»ƒé›†å¤–è¯¯å·®ï¼ˆOut of Training set Errorï¼‰ï¼ŒE<sub>ote</sub>(L<sub>a</sub>|X,f)è¡¨ç¤ºçš„å°±æ˜¯ç»™å®šæ•°æ®é›†å’ŒçœŸå®ç›®æ ‡å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œç®—æ³•L<sub>a</sub>çš„è®­ç»ƒé›†å¤–è¯¯å·®çš„è®¡ç®—æ–¹å¼ã€‚ï¼ˆå…¬å¼çœŸçš„å¥½éš¾å•Šï¼Œè„‘å£³ç—›QWQï¼‰</p><p><img src="https://s2.loli.net/2024/09/07/UArh6fMqCBjR8tw.png" alt="å­¦ä¹ ç®—æ³•çš„æ€»è¯¯å·®"></p><p>7ã€NFLå®šç†ï¼ˆ<font color=red>No Free Lunch</font>ï¼‰ï¼Œé’ˆå¯¹å…·ä½“çš„é—®é¢˜è°ˆè®ºç®—æ³•çš„ä¼˜åŠ£ï¼Œè£ç¼åšè¡£æœ</p><p><img src="https://s2.loli.net/2024/09/07/FblyvzxMQLVcs6A.png" alt="NFLå®šç†"></p><p>8ã€å†å²å‘å±•è¿‡ç¨‹ï¼Œé€»è¾‘ç†è®ºæ¨ç†â€”&gt;â€çŸ¥è¯†æœŸâ€(äººä¸ºçš„å»æ•™ç”µè„‘çŸ¥è¯†)â€”&gt;è‡ªä¸»å­¦ä¹ çŸ¥è¯†ï¼ŒäºŒåä¸–çºªå…«åå¹´ä»£æ˜¯æœºå™¨å­¦ä¹ æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„å­¦ç§‘é¢†åŸŸã€å„ç§æœºå™¨å­¦ä¹ æŠ€æœ¯ç™¾èŠ±é½æ”¾ã€‚è·³æ£‹ç¨‹åºçš„å‘å±•å†å²ï¼š<a href="https://blog.creaders.net/u/5477/202405/487515.html">https://blog.creaders.net/u/5477/202405/487515.html</a></p><p>9ã€ä¸€äº›é—ªå…‰çš„æ€æƒ³ï¼Œâ€œè¿ç§»å­¦ä¹ â€ï¼ˆTransfer Learningï¼‰ï¼Œâ€œç±»æ¯”å­¦ä¹ â€ï¼ˆLearning By Analogyï¼‰ï¼Œâ€œæ·±åº¦å­¦ä¹ â€ï¼ˆDeeping Learningï¼‰</p><p>10ã€è¯¾åä¹ é¢˜çœ‹çš„å¤´ç–¼ï¼Œå®Œå…¨çœ‹ä¸æ‡‚ï¼Œä¹ é¢˜1.2ç›´æ¥å¯ä»¥ç”¨ä»£ç æ¥è§£å†³äº†ï¼Œå‰å®³</p><p>11ã€æœºå™¨å­¦ä¹ çš„åˆ«ç§°ï¼Œè¨ç¼ªå°”ï¼ˆç ”åˆ¶äº†ä¸€ä¸ªè¥¿æ´‹è·³æ£‹ç¨‹åºï¼‰å°†å…¶å®šä¹‰ä¸ºâ€œ<font color=red>ä¸æ˜¾ç¤ºç¼–ç¨‹èµ‹äºˆè®¡ç®—æœºèƒ½åŠ›çš„ç ”ç©¶é¢†åŸŸ</font>â€ã€‚</p><h2 id="ç¬¬äºŒç« -æ¨¡å‹è¯„ä¼°ä¸é€‰æ‹©"><a href="#ç¬¬äºŒç« -æ¨¡å‹è¯„ä¼°ä¸é€‰æ‹©" class="headerlink" title="ç¬¬äºŒç«  æ¨¡å‹è¯„ä¼°ä¸é€‰æ‹©"></a>ç¬¬äºŒç«  æ¨¡å‹è¯„ä¼°ä¸é€‰æ‹©</h2><ol><li><p>æœ¯è¯­ï¼šè¯¯å·®ï¼ˆerrorï¼‰ï¼Œè®­ç»ƒè¯¯å·®ï¼ˆtraining errorï¼‰å’Œç»éªŒè¯¯å·®ï¼ˆempirical errorï¼‰æ˜¯æŒ‡å­¦ä¹ å™¨åœ¨è®­ç»ƒé›†ä¸Šå¾—åˆ°çš„è¯¯å·®ï¼›æ³›åŒ–è¯¯å·®ï¼ˆgeneralization errorï¼‰ï¼›è¿‡æ‹Ÿåˆï¼ˆoverfittingï¼‰æ˜¯å½“å­¦ä¹ å™¨æŠŠè®­ç»ƒæ ·æœ¬å­¦å¾—â€œå¤ªå¥½â€äº†çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½å·²ç»æŠŠè®­ç»ƒæ ·æœ¬è‡ªèº«çš„ä¸€äº›ç‰¹ç‚¹å½“ä½œäº†æ‰€æœ‰æ½œåœ¨æ ·æœ¬éƒ½å½“æˆäº†å…·æœ‰çš„ä¸€èˆ¬æ€§è´¨ï¼›ç›¸å¯¹çš„æ˜¯æ¬ æ‹Ÿåˆï¼ˆunderfittingï¼‰ã€‚</p></li><li><p>è¿›è¡Œæ¨¡å‹è¯„ä¼°æ—¶ï¼Œéœ€è¦ä½¿ç”¨ç‰¹å®šçš„æ–¹æ³•æ¥å®ç°è®­ç»ƒé›†Så’Œæµ‹è¯•é›†Tçš„åˆ’åˆ†ï¼Œå¹¶ä¸”è®­ç»ƒé›†ä¸æµ‹è¯•é›†å°½å¯èƒ½äº’æ–¥ã€‚æ¨¡å‹è¯„ä¼°æ˜¯é€šè¿‡å®éªŒæµ‹è¯•æ¥å¯¹å­¦ä¹ å™¨çš„æ³›åŒ–è¯¯å·®è¿›è¡Œè¯„ä¼°ï¼Œåœ¨ç°å®ä»»åŠ¡ä¸­å¾€å¾€è¿˜ä¼šè€ƒè™‘æ—¶é—´å¼€é”€ã€å­˜å‚¨å¼€é”€ã€å¯è§£é‡Šæ€§ç­‰æ–¹é¢çš„å› ç´ ï¼Œè¿™é‡Œæš‚ä¸”åªè€ƒè™‘æ³›åŒ–è¯¯å·®ã€‚å…ˆäº¤å‰éªŒè¯é›†é€‰æ‹©æ¨¡å‹ï¼Œç„¶åè®­ç»ƒé›†è®­ç»ƒæ¨¡å‹ï¼Œæœ€åæµ‹è¯•é›†è¯„ä¼°æ¨¡å‹</p></li><li><p>è¯„ä¼°æ–¹æ³•ï¼šè¯„ä¼°æ–¹æ³•ä¸èƒ½ç†è§£ï¼Œç¬¬äºŒæ¬¡çœ‹æœ‰äº†ä¸‹é¢çš„ä¸€äº›ç†è§£ã€‚<br><strong>è®­ç»ƒé›†ï¼ˆTraining Setï¼‰</strong>ï¼šç”¨äº<strong>è®­ç»ƒ</strong>æ¨¡å‹ã€‚</p><p><strong>éªŒè¯é›†ï¼ˆValidation Setï¼‰</strong>ï¼šç”¨äº<strong>è°ƒæ•´å’Œé€‰æ‹©</strong>æ¨¡å‹ã€‚</p><p><strong>æµ‹è¯•é›†ï¼ˆTest Setï¼‰</strong>ï¼šç”¨äº<strong>è¯„ä¼°</strong>æœ€ç»ˆçš„æ¨¡å‹ã€‚</p><p>å½“æˆ‘ä»¬æ‹¿åˆ°æ•°æ®ä¹‹åï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æŠŠæ•°æ®åˆ†æˆè¿™æ ·çš„ä¸‰ä»½ï¼šè®­ç»ƒé›†ï¼ˆ60%ï¼‰ï¼ŒéªŒè¯é›†ï¼ˆ20%ï¼‰ï¼Œæµ‹è¯•é›†ï¼ˆ20%ï¼‰ã€‚ç”¨è®­ç»ƒé›†è®­ç»ƒå‡ºæ¨¡å‹ï¼Œç„¶åç”¨éªŒè¯é›†éªŒè¯æ¨¡å‹ï¼Œæ ¹æ®æƒ…å†µä¸æ–­è°ƒæ•´æ¨¡å‹ï¼Œé€‰å‡ºå…¶ä¸­æœ€å¥½çš„æ¨¡å‹ï¼Œè®°å½•æœ€å¥½çš„æ¨¡å‹çš„å„é¡¹é€‰æ‹©ï¼Œç„¶åæ®æ­¤å†ç”¨ï¼ˆè®­ç»ƒé›†+éªŒè¯é›†ï¼‰æ•°æ®è®­ç»ƒå‡ºä¸€ä¸ªæ–°æ¨¡å‹ï¼Œä½œä¸ºæœ€ç»ˆçš„æ¨¡å‹ï¼Œæœ€åç”¨æµ‹è¯•é›†<font color='red'>è¯„ä¼°</font>æœ€ç»ˆçš„æ¨¡å‹ã€‚</p><ol><li><strong>ç•™ä¸€æ³•ï¼ˆLeave One Out Cross Validationï¼ŒLOOCVï¼‰</strong>ï¼šmä¸ªæ ·æœ¬é›†åˆï¼Œæ‹¿å‡ºä¸€ä¸ªä½œä¸ºéªŒè¯é›†ï¼Œå‰©ä½™m-1ä¸ªä½œä¸ºè®­ç»ƒé›†ï¼Œè¿™æ ·è¿›è¡Œmæ¬¡å½“éƒ½çš„è®­ç»ƒå’ŒéªŒè¯ï¼Œæœ€åå°†mæ¬¡éªŒè¯ç»“æœå–å¹³å‡å€¼ï¼Œä½œä¸ºéªŒè¯è¯¯å·®ã€‚<strong>ç¼ºç‚¹æ˜¯è®¡ç®—é‡å¤§ï¼Œä¸€èˆ¬ä¸ä½œä¸ºå®é™…ä½¿ç”¨</strong></li><li><strong>KæŠ˜äº¤å‰éªŒè¯æ³•ï¼ˆK-Fold Cross Validationï¼‰</strong>ï¼šæŠŠæ•°æ®é›†åˆ†æˆKä»½ï¼Œæ¯ä¸ªå­é›†äº’ä¸ç›¸äº¤ä¸”å¤§å°ç›¸åŒï¼Œä¾æ¬¡ä»Kä»½ä¸­é€‰å‡º1ä»½ä½œä¸ºéªŒè¯é›†ï¼Œå…¶ä½™K-1ä»½ä½œä¸ºè®­ç»ƒé›†ï¼Œè¿™æ ·è¿›è¡ŒKæ¬¡å•ç‹¬çš„æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œæœ€åå°†Kæ¬¡éªŒè¯ç»“æœå–å¹³å‡å€¼ï¼Œä½œä¸ºæ­¤æ¨¡å‹çš„éªŒè¯è¯¯å·®ã€‚å½“K=mæ—¶ï¼Œå°±å˜ä¸ºç•™ä¸€æ³•ã€‚å¯è§ç•™ä¸€æ³•æ˜¯KæŠ˜äº¤å‰éªŒè¯çš„<strong>ç‰¹ä¾‹</strong>ã€‚æ ¹æ®ç»éªŒï¼Œ<strong>Kä¸€èˆ¬å–10</strong>ã€‚ï¼ˆåœ¨å„ç§çœŸå®æ•°æ®é›†ä¸Šè¿›è¡Œå®éªŒå‘ç°ï¼Œ10æŠ˜äº¤å‰éªŒè¯åœ¨åå·®å’Œæ–¹å·®ä¹‹é—´å–å¾—äº†æœ€ä½³çš„å¹³è¡¡ã€‚ï¼‰</li><li><strong>å¤šæ¬¡KæŠ˜äº¤å‰éªŒè¯ï¼ˆRepeated K-Fold Cross Validationï¼‰</strong>ï¼šæ¯æ¬¡ç”¨ä¸åŒçš„åˆ’åˆ†æ–¹å¼åˆ’åˆ†æ•°æ®é›†ï¼Œæ¯æ¬¡åˆ’åˆ†å®Œåçš„å…¶ä»–æ­¥éª¤å’ŒKæŠ˜äº¤å‰éªŒè¯ä¸€æ ·ã€‚ä¾‹å¦‚ï¼š10 æ¬¡ 10 æŠ˜äº¤å‰éªŒè¯ï¼Œå³æ¯æ¬¡è¿›è¡Œ10æ¬¡æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œè¿™æ ·ä¸€å…±åš10æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ€»å…±åš100æ¬¡æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œæœ€åå°†ç»“æœå¹³å‡ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯è®©ç»“æœæ›´ç²¾ç¡®ä¸€äº›ã€‚ï¼ˆç ”ç©¶å‘ç°ï¼Œé‡å¤KæŠ˜äº¤å‰éªŒè¯å¯ä»¥æé«˜æ¨¡å‹è¯„ä¼°çš„ç²¾ç¡®åº¦ï¼ŒåŒæ—¶ä¿æŒè¾ƒå°çš„åå·®ã€‚ï¼‰</li></ol></li><li><p>æ€§èƒ½åº¦é‡ï¼š</p><ol><li><p>é”™è¯¯ç‡ä¸ç²¾åº¦</p></li><li><p>æŸ¥å‡†ç‡Pä¸æŸ¥å…¨ç‡Rï¼šä¸€ç»„çŸ›ç›¾çš„åº¦é‡ï¼Œä»¥Pä¸ºçºµè½´ï¼ŒRä¸ºæ¨ªè½´ï¼Œå¾—åˆ°çš„æ›²çº¿ä¸ºP-Ræ›²çº¿å›¾å¹³è¡¡ç‚¹ï¼ˆBreak Even Pointï¼‰æ˜¯æŸ¥å‡†ç‡=æŸ¥å…¨ç‡ï¼ŒæŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡æ˜¯<strong>ä¸€å¯¹â€œé±¼â€ä¸â€œç†ŠæŒâ€</strong>ï¼Œä¸€æŠŠæ¥è¯´ï¼ŒæŸ¥å‡†ç‡é«˜æ—¶ï¼ŒæŸ¥å…¨ç‡å¾€å¾€åä½ï¼›è€ŒæŸ¥å…¨ç‡é«˜æ—¶ï¼ŒæŸ¥å‡†ç‡å¾€å¾€åä½ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæƒ³å°†åƒåœ¾é‚®ä»¶éƒ½é€‰å–å‡ºæ¥ï¼Œå¯ä»¥å°†æ‰€æœ‰é‚®ä»¶éƒ½æ ‡ç­¾ä¸ºåƒåœ¾é‚®ä»¶ï¼Œé‚£ä¹ˆæŸ¥å…¨ç‡å°±æ¥è¿‘äº1ï¼Œä½†è¿™æ ·æŸ¥å‡†ç‡å°±ä¼šæ¯”è¾ƒä½ï¼›å¦‚æœå¸Œæœ›åˆ†ç±»åƒåœ¾é‚®ä»¶çš„æŸ¥å‡†ç‡è¶³å¤Ÿé«˜ï¼Œé‚£ä¹ˆå¯ä»¥è®©åˆ†ç±»å™¨å°½å¯èƒ½æŒ‘é€‰æœ€æœ‰æŠŠæ¡çš„åƒåœ¾é‚®ä»¶ï¼Œä½†è¿™æ ·å¾€å¾€ä¼šæœ‰å¤§é‡çš„åƒåœ¾é‚®ä»¶æˆä¸ºæ¼ç½‘ä¹‹é±¼ï¼Œæ­¤æ—¶æŸ¥å…¨ç‡å°±ä¼šæ¯”è¾ƒä½ã€‚</p></li><li><p>F1åº¦é‡ï¼šF1æ˜¯åŸºäºæŸ¥å‡†ç‡ä¸æŸ¥å…¨ç‡çš„è°ƒå’Œå¹³å‡(harmonic mean)å®šä¹‰çš„ï¼Œèƒ½å¤Ÿè¡¨è¾¾å¯¹äºæŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡ çš„ä¸åŒåå¥½ã€‚<br><img src="https://s2.loli.net/2024/09/12/R6CYgjEoa2yBhqF.png" alt="P-Ræ›²çº¿å›¾"><br><img src="https://i-blog.csdnimg.cn/blog_migrate/8f2cacd1d19ca535ba447d751a1e9fb1.jpeg" alt="F1åº¦é‡"></p></li><li><p>å½“Î²&gt;0æ—¶ï¼Œåº¦é‡äº†æŸ¥å…¨ç‡å’ŒæŸ¥å‡†ç‡çš„ç›¸å¯¹é‡è¦æ€§ã€‚Î²=1ï¼Œé€€åŒ–ä¸ºæ ‡å‡†çš„F1</p></li><li><p>äºŒåˆ†ç±»é—®é¢˜å¾—å‡ºçš„åˆ†ç±»ç»“æœå¯ä»¥å¾—å‡ºâ€œæ··æ·†çŸ©é˜µâ€ã€‚</p></li><li><p>ROCæ›²çº¿å’ŒAUCï¼ˆåº¦é‡åˆ†ç±»ä¸­çš„éå‡è¡¡æ€§ï¼‰ï¼Œ</p></li><li><p>ROC å…³æ³¨ä¸¤ä¸ªæŒ‡æ ‡ï¼š</p><p>TPRï¼ˆTrue Positive Rateï¼‰è¡¨ç¤ºåœ¨æ‰€æœ‰å®é™…ä¸ºæ­£ä¾‹ï¼ˆé˜³æ€§ï¼‰çš„æ ·æœ¬ä¸­ï¼Œè¢«æ­£ç¡®åœ°åˆ¤æ–­ä¸ºæ­£ä¾‹çš„æ¯”ç‡ï¼Œå³ï¼š</p><pre><code>TPR=TP/(TP + FN)</code></pre><p>FPRï¼ˆ False Positive Rateï¼‰è¡¨ç¤ºåœ¨æ‰€æœ‰å®é™…ä¸ºåä¾‹ï¼ˆé˜´æ€§ï¼‰çš„æ ·æœ¬ä¸­ï¼Œè¢«é”™è¯¯åœ°åˆ¤æ–­ä¸ºæ­£ä¾‹çš„æ¯”ç‡ï¼Œå³ï¼š</p><pre><code>FPR=FP/(FP + TNï¼‰</code></pre><p><strong><em>\</em>AUCå€¼**</strong>ï¼ˆArea Unser the Curveï¼‰æ˜¯ROCæ›²çº¿ä¸‹çš„é¢ç§¯</p></li></ol></li></ol><p><img src="https://i-blog.csdnimg.cn/blog_migrate/c6aeafc9bf3e9bb77a73427f37cd4e1b.jpeg" alt="ROCæ›²çº¿"></p><h2 id="ç¬¬ä¸‰ç« -çº¿æ€§æ¨¡å‹"><a href="#ç¬¬ä¸‰ç« -çº¿æ€§æ¨¡å‹" class="headerlink" title="ç¬¬ä¸‰ç«  çº¿æ€§æ¨¡å‹"></a>ç¬¬ä¸‰ç«  çº¿æ€§æ¨¡å‹</h2><ol><li>çº¿æ€§å›å½’ï¼ˆlinear regressionï¼‰ï¼šè¯•å›¾å®Œæˆä¸€æ¡ç›´çº¿f(x)=wx+bï¼Œå¹¶ä¸”ä½¿å¾—f(x)æ¥è¿‘yï¼Œå¦‚ä½•è¡¡é‡ä»–ä»¬ä¹‹é—´çš„å·®è·ï¼Œé‡‡ç”¨å‡æ–¹è¯¯å·®çš„æ–¹å¼ï¼ˆæœ€å¸¸ç”¨çš„æ€§èƒ½åº¦é‡ï¼‰ï¼Œåœ¨çº¿æ€§å›å½’ä¸­ï¼ŒåŸºäºå‡æ–¹è¯¯å·®æœ€å°åŒ–æ¥è¿›è¡Œæ¨¡å‹æ±‚è§£çš„æ–¹æ³•å«åšâ€œæœ€å°äºŒä¹˜æ³•â€ï¼Œæœ€å°äºŒä¹˜æ³•å°±æ˜¯è¯•å›¾æ‰¾åˆ°ä¸€æ¡ç›´çº¿ï¼Œä½¿æ‰€æœ‰æ ·æœ¬åˆ°ç›´çº¿çš„æ¬§å¼è·ç¦»ä¹‹å’Œæœ€å°ã€‚å¯¹åº”çš„ï¼Œå¤šå…ƒçº¿æ€§å›å½’ï¼ˆmultivariate linear regressionï¼‰å°±æ˜¯å¯¹åº”äºå¤šä¸ªwå’Œå¤šä¸ªxï¼Œä»¥å‘é‡å½¢å¼æ¥å¤„ç†ï¼Œ</li><li>å¯¹æ•°å‡ ç‡å›å½’ï¼Œä½¿ç”¨Sigmoidæ¿€æ´»å‡½æ•°</li></ol><h2 id="ç¬¬å››ç« -å†³ç­–æ ‘"><a href="#ç¬¬å››ç« -å†³ç­–æ ‘" class="headerlink" title="ç¬¬å››ç«  å†³ç­–æ ‘"></a>ç¬¬å››ç«  å†³ç­–æ ‘</h2><p>Decision Treeæ˜¯ä¸€ç§è§£å†³åˆ†ç±»é—®é¢˜çš„ç®—æ³•ï¼Œç›‘ç£å­¦ä¹ ä¸»è¦æœ‰ä¸¤ç§ä»»åŠ¡ï¼šåˆ†ç±»ï¼ˆè¿ç»­ï¼‰ã€å›å½’ï¼ˆç¦»æ•£ï¼‰ã€‚</p><p>å†³ç­–æ ‘ç®—æ³•é‡‡ç”¨æ ‘ç»“æ„ï¼Œå±‚å±‚æ¨ç†æ¥å®ç°æœ€ç»ˆçš„åˆ†ç±»ã€‚</p><p>å†³ç­–æ ‘å­¦ä¹ çš„ä¸‰ä¸ªæ­¥éª¤ï¼šç‰¹å¾é€‰æ‹©ã€å†³ç­–æ ‘ç”Ÿæˆã€å†³ç­–æ ‘å‰ªæï¼ˆè§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œéšæœºæ£®æ—å¾ˆå¤§ç¨‹åº¦å‡å°‘è¿‡æ‹Ÿåˆï¼‰ã€‚</p><p>ä¸‰ç§å…¸å‹çš„å†³ç­–æ ‘ç®—æ³•ï¼šID3ï¼ˆé‡‡ç”¨ä¿¡æ¯å¢ç›Šï¼‰ã€C4.5ï¼ˆæ”¹è¿›ã€é‡‡ç”¨ä¿¡æ¯å¢ç›Šæ¯”ï¼‰ã€CARTï¼ˆé‡‡ç”¨åŸºå°¼ç³»æ•°ï¼Œ<strong>CARTæ ‘å…¨ç§°Classification And Regression Trees</strong>ï¼‰</p><p><strong>å…³äºä¿¡æ¯å¢ç›Šçš„ç†è§£ï¼š</strong></p><p>ç†µï¼šè¡¨ç¤ºéšæœºå˜é‡çš„ä¸ç¡®å®šæ€§</p><p>æ¡ä»¶ç†µï¼šåœ¨ä¸€ä¸ªæ¡ä»¶ä¸‹ã€éšæœºå˜é‡çš„ä¸ç¡®å®šæ€§èƒ½</p><p>ä¿¡æ¯å¢ç›Šï¼šç†µ-æ¡ä»¶ç†µï¼Œè¡¨ç¤ºæ˜¯åœ¨ä¸€ä¸ªæ¡ä»¶ä¸‹ï¼Œä¿¡æ¯ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ã€‚</p><p>è¯¦ç»†è§£é‡Šï¼š<a href="https://www.zhihu.com/question/22104055">ä¿¡æ¯å¢ç›Šåˆ°åº•æ€ä¹ˆç†è§£å‘¢ï¼Ÿ</a></p><p>å‰ªæå¤„ç†ï¼Œå‰ªææ˜¯å†³ç­–æ ‘å­¦ä¹ ç®—æ³•ç”¨äºå¯¹ä»˜è¿‡æ‹Ÿåˆçš„ä¸»è¦æ‰‹æ®µï¼ŒåŸºæœ¬ç­–ç•¥åŒ…æ‹¬é¢„å‰ªæã€åå‰ªæã€‚è¿™é‡Œè¿‡æ‹Ÿåˆæ˜¯æŒ‡åˆ†æ”¯è¿‡å¤šï¼Œè®­ç»ƒç»“æœâ€œå¤ªå¥½äº†â€</p><h2 id="ç¬¬äº”ç« -ç¥ç»ç½‘ç»œ"><a href="#ç¬¬äº”ç« -ç¥ç»ç½‘ç»œ" class="headerlink" title="ç¬¬äº”ç«  ç¥ç»ç½‘ç»œ"></a>ç¬¬äº”ç«  ç¥ç»ç½‘ç»œ</h2><p>ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§æ¨¡ä»¿äººè„‘ç¥ç»ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹ï¼Œç§°ä¸ºäººå·¥ç¥ç»ç½‘ç»œï¼Œç®€ç§°ç¥ç»ç½‘ç»œï¼åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œç¥ç»ç½‘ç»œæ˜¯æŒ‡ç”±å¾ˆå¤šäººå·¥ç¥ç»å…ƒæ„æˆçš„ç½‘ç»œç»“æ„æ¨¡å‹ï¼Œè¿™äº›äººå·¥ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥å¼ºåº¦æ˜¯å¯å­¦ä¹ çš„å‚æ•°ï¼</p><p>äººè„‘ç¥ç»å…ƒç»“æ„ï¼Œå…¸å‹çš„ç¥ç»å…ƒç»“æ„å¯ä»¥åˆ†ä¸ºç»†èƒä½“å’Œç»†èƒçªèµ·ï¼š<br>ï¼ˆ1ï¼‰ ç»†èƒä½“ï¼ˆSomaï¼‰ä¸­çš„ç¥ç»ç»†èƒè†œä¸Šæœ‰å„ç§å—ä½“å’Œç¦»å­é€šé“ï¼Œèƒè†œçš„å—ä½“å¯ä¸ç›¸åº”çš„åŒ–å­¦ç‰©è´¨ç¥ç»é€’è´¨ç»“åˆï¼Œå¼•èµ·ç¦»å­é€šé€æ€§åŠè†œå†…å¤–ç”µä½å·®å‘ç”Ÿæ”¹å˜ï¼Œäº§ç”Ÿç›¸åº”çš„ç”Ÿç†æ´»åŠ¨ï¼šå…´å¥‹æˆ–æŠ‘åˆ¶ï¼<br>ï¼ˆ2ï¼‰ ç»†èƒçªèµ·æ˜¯ç”±ç»†èƒä½“å»¶ä¼¸å‡ºæ¥çš„ç»†é•¿éƒ¨åˆ†ï¼Œåˆå¯åˆ†ä¸ºæ ‘çªå’Œè½´çªï¼<br>a ) æ ‘çªï¼ˆDendriteï¼‰å¯ä»¥æ¥æ”¶åˆºæ¿€å¹¶å°†å…´å¥‹ä¼ å…¥ç»†èƒä½“ï¼æ¯ä¸ªç¥ç»å…ƒå¯ä»¥æœ‰ä¸€æˆ–å¤šä¸ªæ ‘çªï¼<br>b ) è½´çªï¼ˆAxonï¼‰å¯ä»¥æŠŠè‡ªèº«çš„å…´å¥‹çŠ¶æ€ä»èƒä½“ä¼ é€åˆ°å¦ä¸€ä¸ªç¥ç»å…ƒæˆ–å…¶ä»–ç»„ç»‡ï¼æ¯ä¸ªç¥ç»å…ƒåªæœ‰ä¸€ä¸ªè½´çªï¼</p><p><img src="https://s2.loli.net/2024/10/02/oRNp8IiHZY2jaQh.png" alt="å…¸å‹çš„ç¥ç»å…ƒç»“æ„"></p><p>äººå·¥ç¥ç»ç½‘ç»œæ˜¯ä¸ºæ¨¡æ‹Ÿäººè„‘ç¥ç»ç½‘ç»œè€Œè®¾è®¡çš„ä¸€ç§è®¡ç®—æ¨¡å‹ï¼Œå®ƒä»ç»“æ„ã€å®ç°æœºç†å’ŒåŠŸèƒ½ä¸Šæ¨¡æ‹Ÿäººè„‘ç¥ç»ç½‘ç»œï¼äººå·¥ç¥ç»ç½‘ç»œä¸ç”Ÿç‰©ç¥ç»å…ƒç±»ä¼¼ï¼Œç”±å¤šä¸ªèŠ‚ç‚¹ï¼ˆäººå·¥ç¥ç»å…ƒï¼‰äº’ç›¸è¿æ¥è€Œæˆï¼Œå¯ä»¥ç”¨æ¥å¯¹æ•°æ®ä¹‹é—´çš„å¤æ‚å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚</p><p>ç¥ç»ç½‘ç»œçš„ä¸åŒèŠ‚ç‚¹çš„è¿æ¥è¢«èµ‹äºˆäº†ä¸åŒçš„æƒé‡ï¼Œæ¯ä¸ªæƒé‡ä»£è¡¨äº†ä¸€ä¸ªèŠ‚ç‚¹å¯¹å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å½±å“å¤§å°ï¼Œç»è¿‡æƒé‡ç»¼åˆè®¡ç®—ï¼Œå°†å…¶è¾“å…¥åˆ°ä¸€ä¸ªæ¿€æ´»å‡½æ•°ä¸­å¾—åˆ°ä¸€ä¸ª<font color='red'>æ–°çš„æ´»æ€§å€¼ï¼ˆå…´å¥‹æˆ–æŠ‘åˆ¶ï¼‰</font>ã€‚</p><p><img src="https://s2.loli.net/2024/10/02/YsZC9IbMovPrG5d.png" alt="å…¸å‹çš„ç¥ç»å…ƒç»“æ„"></p><p>å‚è€ƒï¼šé‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020.</p><h2 id="ç¬¬å…­ç« -æ”¯æŒå‘é‡æœº"><a href="#ç¬¬å…­ç« -æ”¯æŒå‘é‡æœº" class="headerlink" title="ç¬¬å…­ç«  æ”¯æŒå‘é‡æœº"></a>ç¬¬å…­ç«  æ”¯æŒå‘é‡æœº</h2><p>æ”¯æŒå‘é‡æœºï¼ˆSupport Vector Machineï¼ŒSVMï¼‰æ˜¯ä¸€ä¸ªç»å…¸çš„äºŒåˆ†ç±»ç®—æ³•ï¼Œå…¶æ‰¾åˆ°çš„åˆ†å‰²è¶…å¹³é¢å…·æœ‰æ›´å¥½çš„é²æ£’æ€§ã€‚</p><p>é¦–å…ˆå®šä¹‰é—´éš”Î³è¡¨ç¤ºæ•´ä¸ªæ•°æ®é›†åœ°æ‰€æœ‰æ ·æœ¬åˆ°åˆ†å‰²è¶…å¹³é¢åœ°æœ€å°è·ç¦»ï¼ŒÎ³è¶Šå¤§ï¼Œå…¶åˆ†å‰²è¶…å¹³é¢å¯¹ä¸¤ä¸ªæ•°æ®é›†åœ°åˆ’åˆ†å°±è¶Šç¨³å®šï¼Œä¸å®¹æ˜“æ”¶åˆ°å™ªå£°åœ°å¹²æ‰°ã€‚æ”¯æŒå‘é‡æœºçš„ç›®æ ‡å°±æ˜¯<font color='red'><strong>å¯»æ‰¾ä¸€ä¸ªè¶…å¹³é¢ä½¿å¾—Î³æœ€å¤§</strong></font>ã€‚</p><p><img src="https://s2.loli.net/2024/10/03/ucNXTIil9OGFsx7.png" alt="SVMç¤ºä¾‹"></p><p>æ‘˜è‡ª é‚±é”¡é¹ï¼Œç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ<a href="https://nndl.github.io/">https://nndl.github.io/</a>, 2020.</p><h2 id="ç¬¬ä¸ƒç« -è´å¶æ–¯åˆ†ç±»å™¨"><a href="#ç¬¬ä¸ƒç« -è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="ç¬¬ä¸ƒç«  è´å¶æ–¯åˆ†ç±»å™¨"></a>ç¬¬ä¸ƒç«  è´å¶æ–¯åˆ†ç±»å™¨</h2><p>è´å¶æ–¯åˆ†ç±»æ˜¯ä¸€ç±»åˆ†ç±»ç®—æ³•çš„æ€»ç§°ï¼Œè´å¶æ–¯ç®—æ³•æ˜¯è¿™ç±»ç®—æ³•çš„æ ¸å¿ƒï¼Œ</p><p><strong>æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum Likelihood Estimationï¼ŒMLEï¼‰å’Œè´å¶æ–¯ä¼°è®¡ï¼ˆBayesian Estimationï¼‰æ˜¯ç»Ÿè®¡æ¨æ–­ä¸­ä¸¤ç§æœ€å¸¸ç”¨çš„å‚æ•°ä¼°è®¡æ–¹æ³•</strong>ï¼Œè¿™ä¸¤ç§æ–¹æ³•ï¼Œä¹Ÿåˆ†åˆ«æ˜¯é¢‘ç‡æ´¾å’Œè´å¶æ–¯æ´¾çš„è§‚ç‚¹</p><p>æœºå™¨å­¦ä¹ æ‰€è¦å®ç°çš„æ˜¯åŸºäºæœ‰é™çš„è®­ç»ƒæ ·æœ¬å°½å¯èƒ½å‡†ç¡®çš„ä¼°è®¡åéªŒæ¦‚ç‡p(c|x)ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥è·å–è¿™ä¸ªæ¦‚ç‡ï¼š</p><ol><li>åˆ¤åˆ«å¼æ¨¡å‹ï¼Œé€šè¿‡ç›´æ¥å»ºæ¨¡æ¥è·å–åéªŒæ¦‚ç‡</li><li>ç”Ÿæˆå¼æ¨¡å‹ï¼Œé€šè¿‡è”åˆæ¦‚ç‡æ¨¡å‹æ¥å»ºæ¨¡ï¼Œç„¶åå†è·å¾—åéªŒæ¦‚ç‡ï¼Œè´å¶æ–¯æ–¹æ³•å°±æ˜¯åŸºäºè¿™ä¸ªæ¨¡å‹</li></ol><p>è´å¶æ–¯ç†è®ºæ¨¡å‹çš„<strong>æœ€ä¼˜</strong>æ€§ï¼Œé€‰æ‹©åéªŒæ¦‚ç‡ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªä½œä¸ºé¢„æµ‹ç»“æœ</p><p><strong>åˆ†ç±»ï¼š</strong>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ã€åŠæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼ˆç‹¬ä¾èµ–ä¼°è®¡ã€TANã€AODEï¼‰ã€è´å¶æ–¯ç½‘ã€‚</p><p>é€šä¿—æ¥è®²ï¼Œé€šè¿‡å…ˆéªŒæ¦‚ç‡çš„è®¡ç®—åæ¥è·å¾—åéªŒæ¦‚ç‡çš„è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯é€šè¿‡å·²çŸ¥çš„ç»éªŒæ¥åˆ¤æ–­åæ¥çš„äº‹æƒ…ï¼Œç»éªŒè¶Šå¤šï¼Œé¢„æµ‹å¾—åˆ°çš„ä¸œè¥¿ä¹Ÿå°±è¶Šå‡†ã€‚</p><p>è¿™ç§åˆ†ç±»æ–¹å¼æœ‰ä¸€å®šçš„ç¼ºç‚¹ï¼Œæ ¹æœ¬åŸå› æ˜¯ï¼Œåœ¨å†³ç­–è¿‡ç¨‹ä¸­å‡è®¾å¤ªå¼ºäº†ï¼Œè€Œä¸”å¯èƒ½é¢ä¸´ç»´åº¦ç¾éš¾ï¼Œè¦è€ƒè™‘çš„ç‰¹å¾è¿‡å¤šã€‚</p><p><a href="https://blog.csdn.net/m0_59596937/article/details/128877355">8ç§å¼‚å¸¸æ£€æµ‹ç®—æ³•</a></p><p>è¯¾åå°æ•…äº‹ï¼Œè´å¶æ–¯æ€ä¹ˆæœ‰è¿™ä¹ˆå¤šè°œå›¢ï¼Œè¿™ä¹Ÿèƒ½å‡ºåï¼Œä»–ä»äº‹æ•°å­¦ç ”ç©¶çš„ç›®çš„æ˜¯ä¸ºäº†è¯æ˜ä¸Šå¸çš„å­˜åœ¨ï¼ˆç¬‘ã€‚</p><h2 id="ç¬¬å…«ç« -é›†æˆå­¦ä¹ "><a href="#ç¬¬å…«ç« -é›†æˆå­¦ä¹ " class="headerlink" title="ç¬¬å…«ç«  é›†æˆå­¦ä¹ "></a>ç¬¬å…«ç«  é›†æˆå­¦ä¹ </h2><p>ç²—ç•¥çœ‹äº†ä¸€ä¸‹</p><p><a href="https://easyai.tech/ai-definition/ensemble-learning/">é›†æˆå­¦ä¹ </a></p><h2 id="ç¬¬ä¹ç« -èšç±»"><a href="#ç¬¬ä¹ç« -èšç±»" class="headerlink" title="ç¬¬ä¹ç«  èšç±»"></a>ç¬¬ä¹ç«  èšç±»</h2><p>è¿™æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ çš„ç®—æ³•ï¼ˆä¸classificationæœ€å¤§çš„åŒºåˆ«ï¼‰ï¼Œå°†ä¸åŒæ€§è´¨çš„æ•°æ®åˆ†æˆå‡ ä¸ªç›¸åŒç±»å‹çš„æ•°æ®ï¼Œå¦‚ä½•è¯„å®šç›¸åŒç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥æœ‰ä¸‹é¢è¿™äº›æ ‡å‡†ï¼šEuclidean distance, Cosine similarity, Manhattan distance, etc.</p><p>èšç±»ç®—æ³•çš„åˆ†ç±»ï¼š</p><ol><li>Centroid-based Clustering (Partitioning methods)</li><li>Density-based Clustering (Model-based methods)</li><li>Connectivity-based Clustering (Hierarchical clustering)</li><li>Distribution-based Clustering</li></ol><p><a href="https://www.geeksforgeeks.org/clustering-in-machine-learning/#what-is-clustering-">Clustering in Machine Learning - GeeksforGeeks</a></p><h2 id="ç¬¬åç« -é™ç»´ä¸åº¦é‡å­¦ä¹ "><a href="#ç¬¬åç« -é™ç»´ä¸åº¦é‡å­¦ä¹ " class="headerlink" title="ç¬¬åç«  é™ç»´ä¸åº¦é‡å­¦ä¹ "></a>ç¬¬åç«  é™ç»´ä¸åº¦é‡å­¦ä¹ </h2><p><a href="https://ins.sjtu.edu.cn/people/xuzhiqin/2020opti/2020machinelearning/%E7%BB%9F%E8%AE%A1%E8%AE%A1%E7%AE%97%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AD%A6%E7%94%9F%E6%95%B4%E7%90%86%E7%9A%84%E8%AE%B2%E4%B9%89/%E7%AC%AC%E5%8D%81%E4%B8%80%E8%AE%B2%E9%99%8D%E7%BB%B4%E4%B8%8E%E5%BA%A6%E9%87%8F%E5%AD%A6%E4%B9%A0.pdf">ç¬¬åä¸€è®²é™ç»´ä¸åº¦é‡å­¦ä¹ </a></p><h2 id="ç¬¬åä¸€ç« -ç‰¹å¾é€‰æ‹©ä¸ç¨€ç–å­¦ä¹ "><a href="#ç¬¬åä¸€ç« -ç‰¹å¾é€‰æ‹©ä¸ç¨€ç–å­¦ä¹ " class="headerlink" title="ç¬¬åä¸€ç«  ç‰¹å¾é€‰æ‹©ä¸ç¨€ç–å­¦ä¹ "></a>ç¬¬åä¸€ç«  ç‰¹å¾é€‰æ‹©ä¸ç¨€ç–å­¦ä¹ </h2><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ç‰¹å¾é€‰æ‹©æ˜¯ä¸€ä¸ªé‡è¦çš„â€œ<strong>æ•°æ®é¢„å¤„ç†</strong>â€ï¼ˆ<strong>data</strong> <strong>preprocessing</strong>ï¼‰è¿‡ç¨‹ï¼Œå³è¯•å›¾ä»æ•°æ®é›†çš„æ‰€æœ‰ç‰¹å¾ä¸­æŒ‘é€‰å‡ºä¸å½“å‰å­¦ä¹ ä»»åŠ¡ç›¸å…³çš„ç‰¹å¾å­é›†ï¼Œæ¥ç€å†åˆ©ç”¨æ•°æ®å­é›†æ¥è®­ç»ƒå­¦ä¹ å™¨ï¼›ç¨€ç–å­¦ä¹ åˆ™æ˜¯å›´ç»•ç€ç¨€ç–çŸ©é˜µçš„ä¼˜è‰¯æ€§è´¨ï¼Œæ¥å®Œæˆç›¸åº”çš„å­¦ä¹ ä»»åŠ¡ã€‚</p><p>ç‰¹å¾é€‰æ‹©ä¸€èˆ¬åœ¨è·å¾—æ•°æ®ä¹‹åé¦–å…ˆéœ€è¦è¿›è¡Œçš„ï¼Œå› ä¸ºåœ¨å®é™…ä»»åŠ¡ä¸­ç»å¸¸ä¼šé‡åˆ°ç»´æ•°ç¾éš¾é—®é¢˜ï¼Œå…¶ä¸­æå–çš„ç‰¹å¾è¿‡å¤šï¼Œå¤§å¤šæ•°å¯èƒ½éƒ½æ˜¯å†—ä½™çš„ï¼Œæ‰€ä»¥è¦æå–å‡ºé‡è¦ç‰¹å¾æ¥å‡å°‘ç»´æ•°ã€‚</p><p><a href="https://github.com/Vay-keen/Machine-learning-learning-notes/blob/master/%E5%91%A8%E5%BF%97%E5%8D%8E%E3%80%8AMachine%20Learning%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(13">å‘¨å¿—åã€ŠMachine Learningã€‹å­¦ä¹ ç¬”è®°(13)â€”ç‰¹å¾é€‰æ‹©ä¸ç¨€ç–å­¦ä¹ </a>â€”%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E4%B8%8E%E7%A8%80%E7%96%8F%E5%AD%A6%E4%B9%A0.md)</p><h2 id="ç¬¬åäºŒç« -è®¡ç®—å­¦ä¹ ç†è®º"><a href="#ç¬¬åäºŒç« -è®¡ç®—å­¦ä¹ ç†è®º" class="headerlink" title="ç¬¬åäºŒç«  è®¡ç®—å­¦ä¹ ç†è®º"></a>ç¬¬åäºŒç«  è®¡ç®—å­¦ä¹ ç†è®º</h2><p>é¡¾åæ€ä¹‰ï¼ŒComputational learning theoryç ”ç©¶çš„æ˜¯å…³äºé€šè¿‡è®¡ç®—æ¥è¿›è¡Œå­¦ä¹ çš„ç†è®ºï¼Œåˆ†æå­¦ä¹ äººç‰©çš„å›°éš¾æœ¬è´¨ï¼Œä¸ºå­¦ä¹ ç®—æ³•æä¾›ç†è®ºä¿è¯ï¼Œå¹¶æ ¹æ®åˆ†æç»“æœæŒ‡å¯¼ç®—æ³•è®¾è®¡ã€‚</p><p>PACï¼ˆProbably Approximately Correctï¼Œ<font color='red'>å¯èƒ½è¿‘ä¼¼æ­£ç¡®</font>ï¼‰ å­¦ä¹ å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ol><li>è¿‘ä¼¼æ­£ç¡®ï¼ˆApproximately Correctï¼‰ï¼šæ³›åŒ–é”™è¯¯å°äºä¸€ä¸ªç•Œé™ï¼Œä¸€èˆ¬ä¸º1/2ï¼Œå³ï¼Œ0 &lt; ğœ– &lt;1/2ï¼›æœºå™¨å­¦ä¹ ä¸­ä¸€ä¸ªå¾ˆå…³é”®çš„é—®é¢˜æ˜¯æœŸæœ›é”™è¯¯å’Œç»éªŒé”™è¯¯ä¹‹é—´çš„å·®å¼‚ï¼Œç§°ä¸ºæ³›åŒ–é”™è¯¯ï¼ˆGeneralization Errorï¼‰ï¼æ³›åŒ–é”™è¯¯å¯ä»¥è¡¡é‡ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹ğ‘“ æ˜¯å¦å¯ä»¥å¾ˆå¥½åœ°æ³›åŒ–åˆ°æœªçŸ¥æ•°æ®ï¼</li><li>å¯èƒ½ï¼ˆProbablyï¼‰ï¼šä¸€ä¸ªå­¦ä¹ ç®—æ³•<font color='red'>å¯èƒ½</font>ä»¥ä¸€å®šçš„æ¦‚ç‡å­¦ä¹ åˆ°è¿™æ ·ä¸€ä¸ªè¿‘ä¼¼æ­£ç¡®çš„å‡è®¾ã€‚</li></ol><h2 id="ç¬¬åä¸‰ç« -åŠç›‘ç£å­¦ä¹ "><a href="#ç¬¬åä¸‰ç« -åŠç›‘ç£å­¦ä¹ " class="headerlink" title="ç¬¬åä¸‰ç«  åŠç›‘ç£å­¦ä¹ "></a>ç¬¬åä¸‰ç«  åŠç›‘ç£å­¦ä¹ </h2><p>åœ¨è®¸å¤šMLçš„å®é™…åº”ç”¨ä¸­ï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°æµ·é‡çš„æ— ç±»æ ‡ç­¾çš„æ ·ä¾‹ï¼Œä½†éœ€è¦ä½¿ç”¨ç‰¹æ®Šè®¾å¤‡æˆ–ç»è¿‡æ˜‚è´µä¸”ç”¨æ—¶éå¸¸é•¿çš„å®éªŒè¿‡ç¨‹è¿›è¡Œäººå·¥æ ‡è®°æ‰èƒ½å¾—åˆ°æœ‰ç±»æ ‡ç­¾çš„æ ·æœ¬ï¼Œç”±æ­¤äº§ç”Ÿäº†æå°‘é‡çš„æœ‰ç±»æ ‡ç­¾çš„æ ·æœ¬å’Œè¿‡å‰©çš„æ— ç±»æ ‡ç­¾çš„æ ·ä¾‹ã€‚å› æ­¤ï¼Œäººä»¬å°è¯•å°†å¤§é‡çš„æ— ç±»æ ‡ç­¾çš„æ ·ä¾‹åŠ å…¥åˆ°æœ‰é™çš„æœ‰ç±»æ ‡ç­¾çš„æ ·æœ¬ä¸­ä¸€èµ·è®­ç»ƒæ¥è¿›è¡Œå­¦ä¹ ï¼ŒæœŸæœ›èƒ½å¯¹å­¦ä¹ æ€§èƒ½èµ·åˆ°æ”¹è¿›çš„ä½œç”¨ï¼Œç”±æ­¤äº§ç”Ÿäº†åŠç›‘ç£å­¦ä¹ (Semi-supervised Learning)ã€‚</p><p>åœ¨åšåŠç›‘ç£å­¦ä¹ (Semi-supervised Learning)çš„æ—¶å€™é€šå¸¸çš„æƒ…æ™¯å¦‚ä¸‹ï¼š</p><ol><li>unlabeled dataçš„æ•°é‡è¦è¿œå¤§äºlabel data</li><li>ç›´æ¨åŠç›‘ç£å­¦ä¹ (Semi-supervised Learning)åªå¤„ç†æ ·æœ¬ç©ºé—´å†…ç»™å®šçš„è®­ç»ƒæ•°æ®ï¼Œåˆ©ç”¨è®­ç»ƒæ•°æ®ä¸­æœ‰ç±»æ ‡ç­¾çš„æ ·æœ¬å’Œæ— ç±»æ ‡ç­¾çš„æ ·ä¾‹è¿›è¡Œè®­ç»ƒï¼Œé¢„æµ‹è®­ç»ƒæ•°æ®ä¸­æ— ç±»æ ‡ç­¾çš„æ ·ä¾‹çš„ç±»æ ‡ç­¾</li><li>å½’çº³åŠç›‘ç£å­¦ä¹ (Semi-supervised Learning)å¤„ç†æ•´ä¸ªæ ·æœ¬ç©ºé—´ä¸­æ‰€æœ‰ç»™å®šå’ŒæœªçŸ¥çš„æ ·ä¾‹ï¼ŒåŒæ—¶åˆ©ç”¨è®­ç»ƒæ•°æ®ä¸­æœ‰ç±»æ ‡ç­¾çš„æ ·æœ¬å’Œæ— ç±»æ ‡ç­¾çš„æ ·ä¾‹ï¼Œä»¥åŠæœªçŸ¥çš„æµ‹è¯•æ ·ä¾‹ä¸€èµ·è¿›è¡Œè®­ç»ƒï¼Œä¸ä»…é¢„æµ‹è®­ç»ƒæ•°æ®ä¸­æ— ç±»æ ‡ç­¾çš„æ ·ä¾‹çš„ç±»æ ‡ç­¾ï¼Œæ›´ä¸»è¦çš„æ˜¯é¢„æµ‹æœªçŸ¥çš„æµ‹è¯•æ ·ä¾‹çš„ç±»æ ‡ç­¾ã€‚</li></ol><p>åŠç›‘ç£å­¦ä¹ çš„éœ€æ±‚éå¸¸å¼ºçƒˆï¼Œå› ä¸ºåœ¨ç°å®åº”ç”¨ä¸­å¾€å¾€èƒ½å¤Ÿå¾ˆå®¹æ˜“çš„æ”¶é›†åˆ°å¤§é‡æ²¡æœ‰æ ‡è®°çš„æ ·æœ¬ã€‚</p><h2 id="ç¬¬åå››ç« -æ¦‚ç‡å›¾æ¨¡å‹"><a href="#ç¬¬åå››ç« -æ¦‚ç‡å›¾æ¨¡å‹" class="headerlink" title="ç¬¬åå››ç«  æ¦‚ç‡å›¾æ¨¡å‹"></a>ç¬¬åå››ç«  æ¦‚ç‡å›¾æ¨¡å‹</h2><p>æ¦‚ç‡å›¾æ¨¡å‹ï¼ˆprobabilistic graphical model, PGMï¼‰ï¼Œæ˜¯ä¸€ç§å­¦ä¹ ä»»åŠ¡çš„æ¡†æ¶æè¿°ï¼Œå®ƒå°†å­¦ä¹ ä»»åŠ¡å½’ç»“ä¸ºè®¡ç®—å˜é‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå·§å¦™çš„ç»“åˆäº†å›¾è®ºå’Œæ¦‚ç‡è®ºã€‚</p><p>æŒ‰ç…§æ¦‚ç‡å›¾ä¸­å˜é‡å…³ç³»çš„ä¸åŒï¼Œæ¦‚ç‡å›¾æ¨¡å‹å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>è´å¶æ–¯ç½‘ç»œï¼šæœ‰å‘å›¾æ¨¡å‹ï¼Œä½¿ç”¨æœ‰å‘æ— ç¯å›¾è¡¨è¾¾å…³ç³»ï¼ˆé€šå¸¸ï¼Œå˜é‡é—´å­˜åœ¨æ˜¾å¼çš„å› æœå…³ç³»ï¼‰</li><li>é©¬å°”ç§‘å¤«ç½‘ç»œï¼šæ— å‘å›¾æ¨¡å‹ï¼Œä½¿ç”¨æ— å›¾è¡¨è¾¾å…³ç³»ï¼ˆé€šå¸¸ï¼Œå˜é‡é—´å­˜æœ‰å…³ç³»ï¼Œä½†æ˜¯éš¾ä»¥æ˜¾å¼è¡¨è¾¾ï¼‰</li></ul><p><a href="https://longaspire.github.io/blog/%E6%A6%82%E7%8E%87%E5%9B%BE%E6%A8%A1%E5%9E%8B%E6%80%BB%E8%A7%88">æ¦‚ç‡å›¾æ¨¡å‹æ€»è§ˆ</a></p><h2 id="ç¬¬åäº”ç« -è§„åˆ™å­¦ä¹ "><a href="#ç¬¬åäº”ç« -è§„åˆ™å­¦ä¹ " class="headerlink" title="ç¬¬åäº”ç«  è§„åˆ™å­¦ä¹ "></a>ç¬¬åäº”ç«  è§„åˆ™å­¦ä¹ </h2><p>æœºå™¨å­¦ä¹ ä¸­çš„â€œ<strong>è§„åˆ™</strong>â€(rule)é€šå¸¸æ˜¯æŒ‡è¯­ä¹‰æ˜ç¡®ã€èƒ½æè¿°æ•°æ®åˆ†å¸ƒæ‰€éšå«çš„å®¢è§‚è§„å¾‹æˆ–é¢†åŸŸæ¦‚å¿µ</p><p>ç›®æ ‡æ˜¯äº§ç”Ÿä¸€ä¸ªèƒ½è¦†ç›–å°½å¯èƒ½å¤šçš„æ ·ä¾‹çš„è§„åˆ™é›†ã€‚</p><p>è§„åˆ™é›†ç”Ÿæˆçš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªè´ªå¿ƒæœç´¢çš„è¿‡ç¨‹ï¼Œå› æ­¤ä¸ºç¼“è§£è¿‡æ‹Ÿåˆçš„é£é™©ï¼Œæœ€å¸¸è§çš„åšæ³•å°±æ˜¯å‰ªæï¼ˆpruningï¼‰ã€‚</p><p><a href="https://www.cnblogs.com/caolanying/p/16648584.html">è§„åˆ™å­¦ä¹ </a></p><h2 id="ç¬¬åå…­ç« -å¼ºåŒ–å­¦ä¹ "><a href="#ç¬¬åå…­ç« -å¼ºåŒ–å­¦ä¹ " class="headerlink" title="ç¬¬åå…­ç«  å¼ºåŒ–å­¦ä¹ "></a>ç¬¬åå…­ç«  å¼ºåŒ–å­¦ä¹ </h2><p>ä¸ç›‘ç£å­¦ä¹ ä¸åŒçš„æ˜¯ï¼Œå¼ºåŒ–å­¦ä¹ ä¸éœ€è¦å¸¦æ ‡ç­¾çš„è¾“å…¥è¾“å‡ºå¯¹ï¼ŒåŒæ—¶ä¹Ÿæ— éœ€å¯¹éæœ€ä¼˜è§£çš„ç²¾ç¡®åœ°çº æ­£ã€‚å…¶å…³æ³¨ç‚¹åœ¨äºå¯»æ‰¾æ¢ç´¢ï¼ˆå¯¹æœªçŸ¥é¢†åŸŸçš„ï¼‰å’Œåˆ©ç”¨ï¼ˆå¯¹å·²æœ‰çŸ¥è¯†çš„ï¼‰çš„å¹³è¡¡ã€‚åœ¨ä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹ç»“æŸåï¼Œæ ¹æ®è·å¾—çš„â€œå¥–åŠ±â€æ¥å­¦ä¹ ï¼Œå¹¶ä¸”è¿›ä¸€æ­¥é¢„æµ‹ä¸‹é¢çš„ä¸œè¥¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DLåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ æ•°å­¦åŸºç¡€</title>
      <link href="/2024/10/19/shen-du-xue-xi-shu-xue-ji-chu/"/>
      <url>/2024/10/19/shen-du-xue-xi-shu-xue-ji-chu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="æ•°å­¦åŸºç¡€"><a href="#æ•°å­¦åŸºç¡€" class="headerlink" title="æ•°å­¦åŸºç¡€"></a>æ•°å­¦åŸºç¡€</h1><p>ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·</p><p>æ€ä¹ˆè¯´å‘¢ï¼Œå­¦çš„æ•°äºŒå¯¹äºè¿™äº›ä¸œè¥¿è¿˜æ˜¯å¤ªé™Œç”Ÿäº†ï¼Œè€Œä¸”å½“æ—¶å­¦çš„åªä¼šåšé¢˜ï¼Œä¸çŸ¥é“æ€ä¹ˆä½¿ç”¨/(ã„’oã„’)/~~</p><p>æ‰€ä»¥è®°ä¸‹æ¥ä¸€äº›ä¸å¤ªæ¸…æ¥šçš„å‰ç½®çŸ¥è¯†ç‚¹ï¼Œä¸»è¦æ¥è‡ªã€Šè‰¾ä¼¯ç‰¹æ·±åº¦å­¦ä¹ ã€‹ï¼Œä¹¦ä¸­å†…å®¹å¾ˆå¤šï¼Œå’Œã€Šé‚±é”¡é¹ç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹å†…å®¹æœ‰ç‚¹ç›¸ä¼¼</p><h2 id="ç‰›é¡¿-è±å¸ƒå°¼èŒ¨å…¬å¼"><a href="#ç‰›é¡¿-è±å¸ƒå°¼èŒ¨å…¬å¼" class="headerlink" title="ç‰›é¡¿-è±å¸ƒå°¼èŒ¨å…¬å¼"></a>ç‰›é¡¿-è±å¸ƒå°¼èŒ¨å…¬å¼</h2><p>æ­ç¤ºäº†å®šç§¯åˆ†ä¸è¢«ç§¯å‡½æ•°çš„åŸå‡½æ•°æˆ–è€…ä¸å®šç§¯åˆ†ä¹‹é—´çš„è”ç³»ã€‚ </p><p><img src="https://bkimg.cdn.bcebos.com/formula/0ee1ed05e107b3c9f50f9bb76c547afa.svg" alt="ç‰›é¡¿è±å¸ƒå°¼èŒ¨å…¬å¼"></p><h2 id="æ³°å‹’å…¬å¼"><a href="#æ³°å‹’å…¬å¼" class="headerlink" title="æ³°å‹’å…¬å¼"></a>æ³°å‹’å…¬å¼</h2><p>ä»¥ç›´ä»£æ›²ï¼Œä¸€ç‚¹ä¸€ä¸–ç•Œï¼Œæ•°å€¼è¶Šå¤§é«˜é˜¶çš„ä½œç”¨è¶Šå¤§ï¼Œä½†æ˜¯é«˜é˜¶çš„ä½œç”¨æœ‰æ—¶å€™è¿‡å¤§äº†ï¼Œæ‰€ä»¥é‡‡ç”¨é˜¶ä¹˜æ¥æŠµæ¶ˆä¸€äº›ä½œç”¨ï¼Œæœ€ç»ˆå¾—åˆ°çš„æ•ˆæœå°±æ˜¯æ›´å¥½çš„æ¨¡æ‹Ÿæ›²çº¿ã€‚</p><p><img src="https://bkimg.cdn.bcebos.com/formula/8e916fa2c76aef2f90a408d6d3206eaa.svg" alt="æ³°å‹’å±•å¼€å¼"></p><h2 id="æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼ˆä¹˜å­æ³•ï¼‰"><a href="#æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼ˆä¹˜å­æ³•ï¼‰" class="headerlink" title="æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼ˆä¹˜å­æ³•ï¼‰"></a>æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼ˆä¹˜å­æ³•ï¼‰</h2><p>æ±‚åœ¨çº¦æŸæ¡ä»¶ä¸‹çš„æå€¼ã€‚</p><h2 id="æ–¹å‘å¯¼æ•°"><a href="#æ–¹å‘å¯¼æ•°" class="headerlink" title="æ–¹å‘å¯¼æ•°"></a>æ–¹å‘å¯¼æ•°</h2><p>fai çš„è§’åº¦å¤§å°è¦æ³¨æ„</p><p><img src="https://s2.loli.net/2024/09/27/92wdcBpTOhgmUDV.png" alt="æ–¹å‘å¯¼æ•°"></p><h2 id="æ¢¯åº¦"><a href="#æ¢¯åº¦" class="headerlink" title="æ¢¯åº¦"></a>æ¢¯åº¦</h2><p>èš‚èšè·‘ç¦»æœ‰ç«çš„åœ°æ–¹ï¼Œæ²¿ç€æ¢¯åº¦æ–¹å‘è·‘ã€‚æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå®ƒçš„æ–¹å‘ä¸æ–¹å‘å¯¼æ•°æœ€å¤§å€¼å–å¾—çš„æ–¹å‘ä¸€è‡´ã€‚</p><h2 id="æ¦‚ç‡ä¸ä¿¡æ¯è®ºçš„ä½œç”¨"><a href="#æ¦‚ç‡ä¸ä¿¡æ¯è®ºçš„ä½œç”¨" class="headerlink" title="æ¦‚ç‡ä¸ä¿¡æ¯è®ºçš„ä½œç”¨"></a>æ¦‚ç‡ä¸ä¿¡æ¯è®ºçš„ä½œç”¨</h2><p>æ¦‚ç‡è®ºæ˜¯ç”¨äºè¡¨æ˜ä¸ç¡®å®šæ€§ç”³æ˜çš„æ•°å­¦æ¡†æ¶ï¼Œæä¾›çš„ä¸€ç§<strong>é‡åŒ–ä¸ç¡®å®šæ€§</strong>çš„æ–¹æ³•ï¼Œä¹Ÿæä¾›äº†ç”¨äº<strong>å¯¼å‡ºæ–°çš„ä¸ç¡®å®šæ€§å£°æ˜</strong>çš„å…¬ç†ã€‚</p><p>æ¦‚ç‡å¯ä»¥è¢«çœ‹ä½œæ˜¯ç”¨äºå¤„ç†ä¸ç¡®å®šæ€§çš„é€»è¾‘æ‰©å±•ã€‚é€»è¾‘æä¾›äº†ä¸€å¥—å½¢å¼åŒ–çš„è§„åˆ™ï¼Œå¯ä»¥åœ¨ç»™å®šæŸäº›å‘½é¢˜æ˜¯çœŸæˆ–å‡çš„å‡è®¾ä¸‹ï¼Œåˆ¤æ–­å¦å¤–ä¸€äº›å‘½é¢˜æ˜¯çœŸçš„è¿˜æ˜¯å‡çš„ã€‚æ¦‚ç‡è®ºæä¾›äº†ä¸€å¥—å½¢å¼åŒ–çš„è§„åˆ™ï¼Œå¯ä»¥åœ¨ç»™å®šä¸€äº›å‘½é¢˜çš„ä¼¼ç„¶åï¼Œè®¡ç®—å…¶ä»–å‘½é¢˜ä¸ºçœŸçš„ä¼¼ç„¶ã€‚</p><p>æœºå™¨å­¦ä¹ å¾ˆå¤šæƒ…å†µä¸‹éœ€è¦å¤„ç†ä¸ç¡®å®šé‡ï¼Œæœ‰æ—¶ä¹Ÿéœ€è¦å¤„ç†éšæœºé‡ï¼Œéšæœºæ€§å’Œä¸ç¡®å®šæ€§æ¥è‡ªäºå¤šæ–¹é¢ï¼Œå¦‚å»ºæ¨¡ç³»ç»Ÿå†…åœ¨çš„éšæœºæ€§ã€ä¸å®Œå…¨è§‚æµ‹ã€ä¸å®Œå…¨å»ºæ¨¡ç­‰ã€‚</p><h2 id="è¾¹ç¼˜æ¦‚ç‡"><a href="#è¾¹ç¼˜æ¦‚ç‡" class="headerlink" title="è¾¹ç¼˜æ¦‚ç‡"></a>è¾¹ç¼˜æ¦‚ç‡</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¸€ç»„å˜é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œä½†æƒ³è¦äº†è§£å…¶ä¸­ä¸€ä¸ªå­é›†çš„æ¦‚ç‡åˆ†å¸ƒã€‚è¿™ç§å®šä¹‰åœ¨å­é›†ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒè¢«ç§°ä¸ºè¾¹ç¼˜æ¦‚ç‡åˆ†å¸ƒ(marginal probability distributionï¼‰</p><h2 id="åæ–¹å·®å’Œæ ‡å‡†å·®"><a href="#åæ–¹å·®å’Œæ ‡å‡†å·®" class="headerlink" title="åæ–¹å·®å’Œæ ‡å‡†å·®"></a>åæ–¹å·®å’Œæ ‡å‡†å·®</h2><h2 id="å¸¸ç”¨æ¦‚ç‡åˆ†å¸ƒ"><a href="#å¸¸ç”¨æ¦‚ç‡åˆ†å¸ƒ" class="headerlink" title="å¸¸ç”¨æ¦‚ç‡åˆ†å¸ƒ"></a>å¸¸ç”¨æ¦‚ç‡åˆ†å¸ƒ</h2><h2 id="ä¿¡æ¯è®º"><a href="#ä¿¡æ¯è®º" class="headerlink" title="ä¿¡æ¯è®º"></a>ä¿¡æ¯è®º</h2><p>ä¸»è¦ç ”ç©¶çš„æ˜¯å¯¹ä¸€ä¸ªä¿¡å·æºå¸¦ä¿¡æ¯é‡çš„å¤šå°‘è¿›è¡Œé‡åŒ–ã€‚</p><h2 id="æ–¹å·®"><a href="#æ–¹å·®" class="headerlink" title="æ–¹å·®"></a>æ–¹å·®</h2><p>åç¦»æœŸæœ›å€¼çš„ç¨‹åº¦çš„å¤§å°</p><p><img src="https://bkimg.cdn.bcebos.com/formula/4b63ab2e13bc1cd3aaa328321b185bd1.svg" alt="æ–¹å·®è®¡ç®—å…¬å¼"></p><h2 id="å¤§æ•°å®šç†"><a href="#å¤§æ•°å®šç†" class="headerlink" title="å¤§æ•°å®šç†"></a>å¤§æ•°å®šç†</h2><p>é‡å¤å®éªŒçš„æ¬¡æ•°è¶Šå¤šï¼Œéšæœºäº‹ä»¶çš„æ¦‚ç‡è¶Šæ¥è¿‘äºå®ƒçš„æ¦‚ç‡ã€‚</p><h2 id="é©¬å°”å¯å¤«ä¸ç­‰å¼"><a href="#é©¬å°”å¯å¤«ä¸ç­‰å¼" class="headerlink" title="é©¬å°”å¯å¤«ä¸ç­‰å¼"></a>é©¬å°”å¯å¤«ä¸ç­‰å¼</h2><p>å°†æ¦‚ç‡ä¸æœŸæœ›å»ºç«‹è”ç³»ï¼Œ</p><p><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f4a5da8aeb446a9b74db9922fdde8568bcef2276" alt="é©¬å°”å¯å¤«ä¸ç­‰å¼"></p><h2 id="èŒƒæ•°"><a href="#èŒƒæ•°" class="headerlink" title="èŒƒæ•°"></a>èŒƒæ•°</h2><p>è¡¡é‡å‘é‡çš„å¤§å°ã€‚å½“p = 2 æ—¶ï¼ŒL2 èŒƒæ•°è¢«ç§°ä¸ºæ¬§å‡ é‡Œå¾—èŒƒæ•°ï¼ˆEuclidean normï¼‰ã€‚å®ƒè¡¨ç¤ºä»åŸç‚¹å‡ºå‘åˆ°å‘é‡x ç¡®å®šçš„ç‚¹çš„æ¬§å‡ é‡Œå¾—è·ç¦»ã€‚L2 èŒƒæ•°åœ¨æœºå™¨å­¦ä¹ ä¸­å‡ºç°åœ°ååˆ†é¢‘ç¹ã€‚</p><p><img src="https://s2.loli.net/2024/09/14/CRLe8gSV79cAKjI.png" alt="èŒƒæ•°çš„å®šä¹‰"></p><h2 id="ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"><a href="#ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡" class="headerlink" title="ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡"></a>ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</h2><p>æ‰¾ç‰¹å¾å‘é‡çš„è¿‡ç¨‹å°±æ˜¯åœ¨æ‰¾æ˜¯å¦æœ‰ä¸€ä¸ªçŸ©é˜µå·¦ä¹˜è¿™ä¸ªå‘é‡å¯ä»¥è®©å®ƒæ‹‰ä¼¸æˆ–è€…å‹ç¼©ã€‚ç‰¹å¾åˆ†è§£(eigendecomposition)æ˜¯ä½¿ç”¨æœ€å¹¿çš„çŸ©é˜µåˆ†è§£ä¹‹ä¸€ï¼Œå³æˆ‘ä»¬å°†çŸ©é˜µåˆ†è§£æˆä¸€ç»„ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼ã€‚æ–¹é˜µAçš„ç‰¹å¾å‘é‡(eigenvector)æ˜¯æŒ‡ä¸Aç›¸ä¹˜åç›¸å½“äºå¯¹è¯¥å‘é‡è¿›è¡Œç¼©æ”¾çš„éé›¶å‘é‡v:<img src="https://bkimg.cdn.bcebos.com/formula/4973e26a6f4a367c9338895ce4471010.svg" alt="ç‰¹å¾åˆ†è§£">ï¼Œåªæœ‰æ–¹é˜µæ‰å¯ä»¥ç‰¹å¾åˆ†è§£ã€‚</p><h2 id="å¥‡å¼‚å€¼åˆ†è§£"><a href="#å¥‡å¼‚å€¼åˆ†è§£" class="headerlink" title="å¥‡å¼‚å€¼åˆ†è§£"></a>å¥‡å¼‚å€¼åˆ†è§£</h2><p>è¿˜æœ‰å¦ä¸€ç§åˆ†è§£çŸ©é˜µçš„æ–¹æ³•ï¼Œè¢«ç§°ä¸ºå¥‡å¼‚å€¼åˆ†è§£(singular value decomposition,SVD),å°†çŸ©é˜µåˆ†è§£ä¸ºå¥‡å¼‚å‘é‡(singular vector)å’Œå¥‡å¼‚å€¼(singular value)ã€‚é€šè¿‡å¥‡å¼‚å€¼åˆ†è§£ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€äº›ä¸ç‰¹å¾åˆ†è§£ç›¸åŒç±»å‹çš„ä¿¡æ¯ã€‚</p><h2 id="çº¿ä»£å®ä¾‹ï¼šä¸»æˆåˆ†åˆ†æ"><a href="#çº¿ä»£å®ä¾‹ï¼šä¸»æˆåˆ†åˆ†æ" class="headerlink" title="çº¿ä»£å®ä¾‹ï¼šä¸»æˆåˆ†åˆ†æ"></a>çº¿ä»£å®ä¾‹ï¼šä¸»æˆåˆ†åˆ†æ</h2><p>PCAï¼ˆprinciple components analysisï¼‰ï¼Œä¸€ä¸ªæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œå¯ä»¥é€šè¿‡çº¿ä»£çš„çŸ¥è¯†æ¨å¯¼ã€‚è§è‰¾ä¼¯ç‰¹æ·±åº¦å­¦ä¹ 2.12</p>]]></content>
      
      
      <categories>
          
          <category> Deep Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++å‰ç½®å’Œåç½®çš„è¿ç®—ç¬¦é‡è½½ï¼Œçº¢é»‘æ ‘çš„æ¦‚å¿µä»¥åŠstaticå…³é”®å­—</title>
      <link href="/2024/10/16/c-qian-zhi-he-hou-zhi-de-yun-suan-fu-chong-zai-hong-hei-shu-de-gai-nian-yi-ji-static-guan-jian-zi/"/>
      <url>/2024/10/16/c-qian-zhi-he-hou-zhi-de-yun-suan-fu-chong-zai-hong-hei-shu-de-gai-nian-yi-ji-static-guan-jian-zi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="c-å‰ç½®å’Œåç½®çš„è¿ç®—ç¬¦é‡è½½ï¼Œçº¢é»‘æ ‘çš„æ¦‚å¿µä»¥åŠstaticå…³é”®å­—"><a href="#c-å‰ç½®å’Œåç½®çš„è¿ç®—ç¬¦é‡è½½ï¼Œçº¢é»‘æ ‘çš„æ¦‚å¿µä»¥åŠstaticå…³é”®å­—" class="headerlink" title="c++å‰ç½®å’Œåç½®çš„è¿ç®—ç¬¦é‡è½½ï¼Œçº¢é»‘æ ‘çš„æ¦‚å¿µä»¥åŠstaticå…³é”®å­—"></a>c++å‰ç½®å’Œåç½®çš„è¿ç®—ç¬¦é‡è½½ï¼Œçº¢é»‘æ ‘çš„æ¦‚å¿µä»¥åŠstaticå…³é”®å­—</h1><h3 id="å‰ç½®-å’Œåç½®-çš„è¿ç®—ç¬¦é‡è½½"><a href="#å‰ç½®-å’Œåç½®-çš„è¿ç®—ç¬¦é‡è½½" class="headerlink" title="å‰ç½®++å’Œåç½®++çš„è¿ç®—ç¬¦é‡è½½"></a>å‰ç½®++å’Œåç½®++çš„è¿ç®—ç¬¦é‡è½½</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Interge</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> a<span class="token punctuation">;</span>    <span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Interge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    Interge<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    Interge <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        Interge temp<span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> temp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Interge <span class="token function">i</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">++</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">// i++;</span>    cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    i<span class="token operator">++</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token comment">// ++i;</span>    cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h3><p><strong>çº¢é»‘æ ‘çš„ç‰¹æ€§</strong>:<strong>ï¼ˆ1ï¼‰æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚**</strong>ï¼ˆ2ï¼‰æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚<strong><strong>ï¼ˆ3ï¼‰æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚ [æ³¨æ„ï¼šè¿™é‡Œå¶å­èŠ‚ç‚¹ï¼Œæ˜¯æŒ‡ä¸ºç©º(NILæˆ–NULL)çš„å¶å­èŠ‚ç‚¹ï¼]</strong></strong>ï¼ˆ4ï¼‰å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚<strong>**ï¼ˆ5ï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚</strong></p><p><strong>çº¢é»‘æ ‘çš„åº”ç”¨</strong></p><p>çº¢é»‘æ ‘çš„åº”ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œä¸»è¦æ˜¯ç”¨å®ƒæ¥å­˜å‚¨æœ‰åºçš„æ•°æ®ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log2n)ï¼Œæ•ˆç‡éå¸¸ä¹‹é«˜ã€‚<strong>ä¾‹å¦‚ï¼ŒJavaé›†åˆä¸­çš„<a href="http://www.cnblogs.com/skywang12345/p/3311268.html">TreeSet</a>å’Œ<a href="http://www.cnblogs.com/skywang12345/p/3310928.html">TreeMap</a>ï¼ŒC++ STLä¸­çš„setã€mapï¼Œä»¥åŠLinuxè™šæ‹Ÿå†…å­˜çš„ç®¡ç†ï¼Œéƒ½æ˜¯é€šè¿‡çº¢é»‘æ ‘å»å®ç°çš„ã€‚</strong></p><h3 id="staticå…³é”®å­—"><a href="#staticå…³é”®å­—" class="headerlink" title="staticå…³é”®å­—"></a>staticå…³é”®å­—</h3><p>æ€»çš„æ¥è¯´</p><ul><li>ï¼ˆ1ï¼‰ä¿®é¥°å˜é‡ï¼Œstatic ä¿®é¥°çš„é™æ€å±€éƒ¨å˜é‡åªæ‰§è¡Œåˆå§‹åŒ–ä¸€æ¬¡ï¼Œå»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç›´åˆ°ç¨‹åºè¿è¡Œç»“æŸä»¥åæ‰é‡Šæ”¾ã€‚ </li><li>ï¼ˆ2ï¼‰ä¿®é¥°å…¨å±€å˜é‡ï¼šå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è®¿é—®ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è®¿é—®ï¼Œ <strong>extern å¤–éƒ¨å£°æ˜</strong>ä¹Ÿä¸å¯ä»¥ã€‚ </li><li>ï¼ˆ3ï¼‰ä¿®é¥°ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™è¿™ä¸ªå‡½æ•°çš„åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è°ƒç”¨ï¼Œä¸èƒ½è¢«å…¶ä»–æ–‡ä»¶è°ƒç”¨ã€‚static ä¿®é¥°çš„å˜é‡å­˜æ”¾åœ¨å…¨å±€æ•°æ®åŒºçš„é™æ€å˜é‡åŒºï¼ŒåŒ…æ‹¬å…¨å±€é™æ€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ï¼Œéƒ½åœ¨å…¨å±€æ•°æ®åŒºåˆ†é…å†…å­˜ã€‚åˆå§‹åŒ–çš„æ—¶å€™è‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ã€‚ </li><li>ï¼ˆ4ï¼‰ä¸æƒ³è¢«é‡Šæ”¾çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨staticä¿®é¥°ã€‚æ¯”å¦‚ä¿®é¥°å‡½æ•°ä¸­å­˜æ”¾åœ¨æ ˆç©ºé—´çš„æ•°ç»„ï¼Œå¦‚æœä¸æƒ³è®©è¿™ä¸ªæ•°ç»„åœ¨å‡½æ•°è°ƒç”¨ç»“æŸé‡Šæ”¾å¯ä»¥ä½¿ç”¨ static ä¿®é¥°ã€‚ </li><li>ï¼ˆ5ï¼‰è€ƒè™‘åˆ°æ•°æ®å®‰å…¨æ€§ï¼ˆå½“ç¨‹åºæƒ³è¦ä½¿ç”¨å…¨å±€å˜é‡çš„æ—¶å€™åº”è¯¥å…ˆè€ƒè™‘ä½¿ç”¨ staticï¼‰ã€‚ </li></ul>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤è¯•ç»éªŒåˆ†äº«ã€Šä¸‰ã€è®¡ç®—æœºå­¦ç§‘ä¸“ä¸šåŸºç¡€ç»¼åˆã€‹ä¹‹æ•°æ®ç»“æ„</title>
      <link href="/2024/10/13/fu-shi-jing-yan-fen-xiang-san-ji-suan-ji-xue-ke-zhuan-ye-ji-chu-zong-he-zhi-shu-ju-jie-gou/"/>
      <url>/2024/10/13/fu-shi-jing-yan-fen-xiang-san-ji-suan-ji-xue-ke-zhuan-ye-ji-chu-zong-he-zhi-shu-ju-jie-gou/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å¤è¯•ç»éªŒåˆ†äº«"><a href="#å¤è¯•ç»éªŒåˆ†äº«" class="headerlink" title="å¤è¯•ç»éªŒåˆ†äº«"></a>å¤è¯•ç»éªŒåˆ†äº«</h1><p>æ— å–„æ— æ¶å¿ƒä¹‹ä½“ï¼Œæœ‰å–„æœ‰æ¶æ„ä¹‹åŠ¨ã€‚<br>çŸ¥å–„çŸ¥æ¶æ˜¯è‰¯çŸ¥ï¼Œä¸ºå–„å»æ¶æ˜¯æ ¼ç‰©ã€‚<br>                                                                                                                       â€”â€”ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹ç‹å®ˆä»</p><h1 id="ä¸‰ã€è®¡ç®—æœºå­¦ç§‘ä¸“ä¸šåŸºç¡€ç»¼åˆ"><a href="#ä¸‰ã€è®¡ç®—æœºå­¦ç§‘ä¸“ä¸šåŸºç¡€ç»¼åˆ" class="headerlink" title="ä¸‰ã€è®¡ç®—æœºå­¦ç§‘ä¸“ä¸šåŸºç¡€ç»¼åˆ"></a>ä¸‰ã€è®¡ç®—æœºå­¦ç§‘ä¸“ä¸šåŸºç¡€ç»¼åˆ</h1><h1 id="3-1-æ•°æ®ç»“æ„"><a href="#3-1-æ•°æ®ç»“æ„" class="headerlink" title="3.1 æ•°æ®ç»“æ„"></a>3.1 æ•°æ®ç»“æ„</h1><h2 id="3-1-1-æ¦‚å¿µ"><a href="#3-1-1-æ¦‚å¿µ" class="headerlink" title="3.1.1 æ¦‚å¿µ"></a>3.1.1 æ¦‚å¿µ</h2><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ‰§è¡Œç®—æ³•æ‰€éœ€è¦çš„è®¡ç®—å·¥ä½œé‡</li><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§åŸºæœ¬æ“ä½œæ¬¡æ•°æœ€å¤šçš„è¾“å…¥æ¥è®¡ç®—æ—¶é—´å¤æ‚åº¦ï¼Œå¹¶ä¸”å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬å»æœ€æ·±å±‚å¾ªç¯å†…çš„è¯­å¥æ‰€æè¿°çš„æ“ä½œä½œä¸ºåŸºæœ¬æ“ä½œã€‚</li><li>ä¸€èˆ¬æ—¶é—´å¤æ‚åº¦ï¼šå¸¸å¯¹å¹‚æŒ‡é˜¶</li><li>ç®—æ³•åŸåœ°å·¥ä½œæ˜¯æŒ‡ç®—æ³•æ‰€éœ€è¾…åŠ©ç©ºé—´æ˜¯å¸¸é‡ï¼Œå³ Oï¼ˆ1ï¼‰</li></ul></li><li><p><strong>ç®—æ³•è®¾è®¡åŸåˆ™</strong></p><ul><li>æ­£ç¡®æ€§ï¼Œå¯è¯»æ€§ï¼Œå¥å£®æ€§ï¼Œé«˜æ•ˆç‡å’Œä½å­˜å‚¨æ€§</li></ul></li></ul><h2 id="3-1-2-é“¾è¡¨"><a href="#3-1-2-é“¾è¡¨" class="headerlink" title="3.1.2 é“¾è¡¨"></a>3.1.2 é“¾è¡¨</h2><ul><li>å•é“¾è¡¨çš„é€†ç½®</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>ListNode<span class="token operator">*</span> <span class="token function">ReverseList</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> pHead<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ListNode <span class="token operator">*</span>pre <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token comment">//å‰é©±</span>        ListNode <span class="token operator">*</span>cur <span class="token operator">=</span> pHead<span class="token punctuation">;</span><span class="token comment">//å½“å‰æŒ‡é’ˆ</span>        ListNode <span class="token operator">*</span>nex <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// åç»§ï¼Œè¿™é‡Œå¯ä»¥æŒ‡å‘nullptrï¼Œå¾ªç¯é‡Œé¢è¦é‡æ–°æŒ‡å‘</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            nex <span class="token operator">=</span> cur<span class="token operator">-></span>next<span class="token punctuation">;</span>            cur<span class="token operator">-></span>next <span class="token operator">=</span> pre<span class="token punctuation">;</span><span class="token comment">//å½“å‰çš„åç»§æŒ‡å‘å‰é©±</span>            pre <span class="token operator">=</span> cur<span class="token punctuation">;</span><span class="token comment">//å½“å‰å³ä¸ºå‰é©±</span>            cur <span class="token operator">=</span> nex<span class="token punctuation">;</span><span class="token comment">//ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ª</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> pre<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>å¤´æŒ‡é’ˆ : æŒ‡å‘é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå…·æœ‰æ ‡è¯†ä½œç”¨ã€‚ï¼ˆå¿…é¡»æœ‰ï¼Œå¦åˆ™å°±æ‰¾ä¸åˆ°é“¾è¡¨ï¼Œå†…å­˜æ³„æ¼)</p></li><li><p>å¤´èŠ‚ç‚¹ï¼šç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„ç©ºèŠ‚ç‚¹ï¼Œæ–¹ä¾¿æ“ä½œï¼Œå¯æœ‰å¯æ— </p></li></ul><h2 id="3-1-3-æ ˆ"><a href="#3-1-3-æ ˆ" class="headerlink" title="3.1.3 æ ˆ"></a>3.1.3 æ ˆ</h2><p>å…ˆè¿›åå‡º</p><h2 id="3-1-4-é˜Ÿåˆ—"><a href="#3-1-4-é˜Ÿåˆ—" class="headerlink" title="3.1.4 é˜Ÿåˆ—"></a>3.1.4 é˜Ÿåˆ—</h2><p>å…ˆè¿›å…ˆå‡º</p><ul><li><strong>å¾ªç¯é˜Ÿåˆ—</strong>ï¼šè§£å†³å‡æº¢å‡ºé—®é¢˜ï¼Œç©ºç•™ä¸€ä¸ªä½ç½®ï¼Œç”¨æ¥åˆ¤æ–­é˜Ÿç©ºé˜Ÿæ»¡ã€‚<ul><li>é˜Ÿæ»¡æ¡ä»¶ï¼šï¼ˆQ.rear+1)%MaxSize\==Q.front<br>é˜Ÿç©ºæ¡ä»¶ï¼š Q.front==Q.rear</li></ul></li></ul><h2 id="3-1-5-çŸ©é˜µï¼Œä¸²"><a href="#3-1-5-çŸ©é˜µï¼Œä¸²" class="headerlink" title="3.1.5 çŸ©é˜µï¼Œä¸²"></a>3.1.5 çŸ©é˜µï¼Œä¸²</h2><h3 id="3-1-5-1-çŸ©é˜µçš„å‹ç¼©å­˜å‚¨"><a href="#3-1-5-1-çŸ©é˜µçš„å‹ç¼©å­˜å‚¨" class="headerlink" title="3.1.5.1 çŸ©é˜µçš„å‹ç¼©å­˜å‚¨"></a>3.1.5.1 çŸ©é˜µçš„å‹ç¼©å­˜å‚¨</h3><ul><li>å¯¹ç§°çŸ©é˜µï¼šåªå­˜æ”¾ä¸»å¯¹è§’çº¿å’Œä¸‹ä¸‰è§’åŒºçš„å…ƒç´ ï¼ˆè®¡ç®—å¾—ä½ç½®ï¼‰</li><li>ä¸‰è§’çŸ©é˜µï¼šç©ºçš„ä¸å­˜</li><li>ä¸‰å¯¹è§’çŸ©é˜µï¼šè¡Œåˆ—ä¼˜å…ˆ</li><li>ç¨€ç–çŸ©é˜µï¼šä¸‰å…ƒç»„æ³•ï¼Œåå­—é“¾è¡¨æ³•</li></ul><h3 id="3-1-5-2-KMP-æ¨¡å¼åŒ¹é…ç®—æ³•"><a href="#3-1-5-2-KMP-æ¨¡å¼åŒ¹é…ç®—æ³•" class="headerlink" title="3.1.5.2 KMP æ¨¡å¼åŒ¹é…ç®—æ³•"></a>3.1.5.2 KMP æ¨¡å¼åŒ¹é…ç®—æ³•</h3><ul><li>æ”¹è¿›è‡ªç®€å•æ¨¡å¼ç®—æ³•ï¼Œåœ¨æš´åŠ›åŒ¹é…ä¸­ï¼Œæ¯è¶ŸåŒ¹é…å¤±è´¥éƒ½æ˜¯æ¨¡å¼åç§»ä¸€ä½å†ä»å¤´å¼€å§‹æ¯”è¾ƒã€‚è€ŒæŸè¶Ÿå·²åŒ¹é…ç›¸ç­‰çš„å­—ç¬¦åºåˆ—æ˜¯æ¨¡å¼çš„æŸä¸ªå‰ç¼€ï¼Œè¿™ç§é¢‘ç¹çš„é‡å¤æ¯”è¾ƒç›¸å½“äºæ¨¡å¼ä¸²åœ¨ä¸æ–­åœ°è¿›è¡Œè‡ªæˆ‘æ¯”è¾ƒï¼Œè¿™å°±æ˜¯å…¶ä½æ•ˆç‡çš„æ ¹æºã€‚</li><li>å› æ­¤ï¼Œå¯ä»¥ä»åˆ†ææ¨¡å¼æœ¬èº«çš„ç»“æ„ç€æ‰‹ï¼Œå¦‚æœå·²åŒ¹é…ç›¸ç­‰çš„å‰ç¼€åºåˆ—ä¸­æœ‰æŸä¸ªåç¼€æ­£å¥½æ˜¯æ¨¡å¼çš„å‰ç¼€ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†æ¨¡å¼å‘åæ»‘åŠ¨åˆ°ä¸è¿™äº›ç›¸ç­‰å­—ç¬¦å¯¹é½çš„ä½ç½®ï¼Œä¸»ä¸² i æŒ‡é’ˆæ— é¡»å›æº¯ï¼Œå¹¶ç»§ç»­ä»è¯¥ä½ç½®å¼€å§‹è¿›è¡Œæ¯”è¾ƒã€‚è€Œæ¨¡å¼å‘åæ»‘åŠ¨ä½æ•°çš„è®¡ç®—ä»…ä¸æ¨¡å¼æœ¬èº«çš„ç»“æ„æœ‰å…³ï¼Œä¸ä¸»ä¸²æ— å…³ã€‚</li></ul><h2 id="3-1-6-æ ‘"><a href="#3-1-6-æ ‘" class="headerlink" title="3.1.6 æ ‘"></a>3.1.6 æ ‘</h2><h3 id="3-1-6-1-åŸºæœ¬æ¦‚å¿µ"><a href="#3-1-6-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="3.1.6.1 åŸºæœ¬æ¦‚å¿µ"></a>3.1.6.1 åŸºæœ¬æ¦‚å¿µ</h3><ul><li><p>æ»¡äºŒå‰æ ‘ï¼šæ¯ä¸€å±‚ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼<br>å®Œå…¨äºŒå‰æ ‘ï¼šç›¸æ¯”æ»¡äºŒå‰æ ‘ï¼Œå°‘äº†æœ€åº•å±‚ï¼Œæœ€å³ä¾§çš„ä¸€äº›èŠ‚ç‚¹</p></li><li><p>å¸¸ç”¨æ€§è´¨ï¼š</p><ul><li>ç»“ç‚¹æ€»æ•° = æ€»åº¦æ•° + 1</li><li>è·¯å¾„ï¼šæ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æ‰€ç»è¿‡çš„ç»“ç‚¹åºåˆ—</li></ul></li><li><p>éå†æ–¹å¼ï¼šå…ˆåºéå†ï¼Œä¸­åºéå†ã€ååºéå†ï¼Œå±‚åºéå†</p><ul><li>å±‚åºéå†æ“ä½œï¼šå…ˆå°†æ ¹ç»“ç‚¹å…¥é˜Ÿï¼›å·¦ï¼Œå³å­æ ‘æ ¹ç»“ç‚¹å…¥é˜Ÿï¼›æ ¹å‡ºé˜Ÿã€‚æ¯æ¬¡å‡ºé˜Ÿå‰ï¼Œå°†å…¶å·¦å³å­æ ‘æ ¹ç»“ç‚¹å…¥é˜Ÿã€‚</li></ul></li></ul><h3 id="3-1-6-2-äºŒå‰æ’åºæ ‘"><a href="#3-1-6-2-äºŒå‰æ’åºæ ‘" class="headerlink" title="3.1.6.2 äºŒå‰æ’åºæ ‘"></a>3.1.6.2 äºŒå‰æ’åºæ ‘</h3><ul><li><p>äºŒå‰æ’åºæ ‘åˆç§°äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒæˆ–è€…æ˜¯ä¸€é¢—ç©ºæ ‘ï¼Œæˆ–è€…æ»¡è¶³ä¸€ä¸‹æ€§è´¨çš„äºŒå‰æ ‘ :</p><ul><li><p>â‘ è‹¥å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºæ ¹èŠ‚ç‚¹çš„å€¼ ;</p></li><li><p>â‘¡è‹¥å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ ;</p></li><li><p>â‘¢å·¦å³å­æ ‘ä¹Ÿåˆ†åˆ«æ˜¯äºŒå‰æ’åºæ ‘ã€‚</p></li></ul></li><li><p>äºŒå‰æŸ¥æ‰¾åŸç†æ­¥éª¤ :</p></li></ul><p>è‹¥æ ¹ç»“ç‚¹çš„å…³é”®å­—å€¼ç­‰äºæŸ¥æ‰¾çš„å…³é”®å­—ï¼ŒæˆåŠŸã€‚å¦åˆ™ï¼Œè‹¥å°äºæ ¹ç»“ç‚¹çš„å…³é”®å­—å€¼ï¼Œé€’å½’æŸ¥å·¦å­æ ‘ã€‚è‹¥å¤§äºæ ¹ç»“ç‚¹çš„å…³é”®å­—å€¼ï¼Œé€’å½’æŸ¥å³å­æ ‘ã€‚è‹¥å­æ ‘ä¸ºç©ºï¼ŒæŸ¥æ‰¾ä¸æˆåŠŸã€‚</p><ul><li><p>äºŒå‰æ’åºæ ‘çš„åˆ é™¤</p><ul><li><p>è‹¥ä¸ºå¶å­ç»“ç‚¹ï¼Œç›´æ¥åˆ é™¤</p></li><li><p>æ‰¾åˆ°å‰é©±æˆ–è€…åç»§æ›¿ä»£ï¼Œè½¬æ¢ï¼ˆå‰é©±ï¼šå·¦å­æ ‘çš„æœ€å³ä¸‹ï¼Œåç»§ï¼šå³å­æ ‘çš„æœ€å·¦ä¸‹ï¼‰</p></li></ul></li></ul><h3 id="3-1-6-3-å¹³è¡¡äºŒå‰æ ‘ä¸çº¢é»‘æ ‘"><a href="#3-1-6-3-å¹³è¡¡äºŒå‰æ ‘ä¸çº¢é»‘æ ‘" class="headerlink" title="3.1.6.3 å¹³è¡¡äºŒå‰æ ‘ä¸çº¢é»‘æ ‘"></a>3.1.6.3 å¹³è¡¡äºŒå‰æ ‘ä¸çº¢é»‘æ ‘</h3><ul><li><p>å°†äºŒå‰æ ‘çš„é«˜åº¦æ§åˆ¶åœ¨ä¸€ä¸ªåˆç†çš„é«˜åº¦å†…ï¼Œå‡å°é€’å½’æ·±åº¦ï¼Œå¢åŠ æŸ¥æ‰¾æ•ˆç‡</p></li><li><p>å¹³è¡¡äºŒå‰æ ‘çš„å·¦å³å­æ ‘é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ï¼Œä¸”å·¦å³å­æ ‘éƒ½ä¸ºå¹³è¡¡äºŒå‰æ ‘</p></li><li><p>çº¢é»‘æ ‘ï¼šé™ä½è¦æ±‚ï¼ˆå¹³è¡¡äºŒå‰æ ‘æ’å…¥æ–°ç»“ç‚¹åéœ€è¦è°ƒæ•´è¿‡å¤šï¼Œçº¢é»‘æ ‘éšè§„æ¨¡å¢å¤§è°ƒæ•´è¾ƒå°è§„æ¨¡å³å¯ï¼‰ï¼Œï¼ˆæ ¹å¶é»‘ï¼Œä¸çº¢çº¢ï¼Œé»‘è·¯åŒ</p><ul><li>æ€§è´¨ 1. ç»“ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</li><li>æ€§è´¨ 2. æ ¹ç»“ç‚¹æ˜¯é»‘è‰²ã€‚</li><li>æ€§è´¨ 3. æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ã€‚ï¼ˆå¶å­æ˜¯ NIL ç»“ç‚¹ï¼‰</li><li>æ€§è´¨ 4. æ¯ä¸ªçº¢è‰²ç»“ç‚¹çš„ä¸¤ä¸ªå­ç»“ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²ç»“ç‚¹ï¼‰</li><li>æ€§è´¨ 5. ä»ä»»ä¸€èŠ‚ç»“ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²ç»“ç‚¹ã€‚</li><li>æ€§è´¨ 6. æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„ä¸¤å€</li></ul></li></ul><h3 id="3-1-6-4-å“ˆå¤«æ›¼æ ‘"><a href="#3-1-6-4-å“ˆå¤«æ›¼æ ‘" class="headerlink" title="3.1.6.4 å“ˆå¤«æ›¼æ ‘"></a>3.1.6.4 å“ˆå¤«æ›¼æ ‘</h3><ul><li>å“ˆå¤«æ›¼æ ‘ï¼šç»™å®š N ä¸ªæƒå€¼ä½œä¸º N ä¸ªå¶å­ç»“ç‚¹ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥è¯¥æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦è¾¾åˆ°æœ€å°ï¼Œç§°è¿™æ ·çš„äºŒå‰æ ‘ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œä¹Ÿç§°ä¸ºå“ˆå¤«æ›¼æ ‘(Huffman Tree)ã€‚å“ˆå¤«æ›¼æ ‘æ˜¯å¸¦<br>æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ï¼Œæƒå€¼è¾ƒå¤§çš„ç»“ç‚¹ç¦»æ ¹è¾ƒè¿‘ã€‚</li></ul><ul><li>å“ˆå¤«æ›¼æ ‘å®šä¹‰ : ç»™å®š n ä¸ªæƒå€¼ä½œä¸º n ä¸ªå¶å­ç»“ç‚¹ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥å¸¦æƒè·¯å¾„é•¿åº¦è¾¾åˆ°æœ€<br>å°çš„äºŒå‰æ ‘. æ„é€ æ–¹æ³• : å‡è®¾æœ‰ n ä¸ªæƒå€¼ï¼Œåˆ™æ„é€ å‡ºçš„å“ˆå¤«æ›¼æ ‘æœ‰ n ä¸ªå¶å­ç»“ç‚¹ã€‚n ä¸ªæƒå€¼åˆ†<br>åˆ«è®¾ä¸º w1w2ã€â€¦ã€wn,</li><li>åˆ™å“ˆå¤«æ›¼æ ‘çš„æ„é€ è§„åˆ™ä¸º :<br>(1)å°† w1ã€w2ã€â€¦,wn çœ‹æˆæ˜¯æœ‰ n æ£µæ ‘çš„æ£®æ—(æ¯æ£µæ ‘ä»…æœ‰ä¸€ä¸ªç»“ç‚¹);<br>(2)åœ¨æ£®æ—ä¸­é€‰å‡ºä¸¤ä¸ªæ ¹ç»“ç‚¹çš„æƒå€¼æœ€å°çš„æ ‘åˆå¹¶ï¼Œä½œä¸ºä¸€æ£µæ–°æ ‘çš„å·¦ã€å³å­æ ‘ï¼Œä¸”æ–°æ ‘çš„<br>æ ¹ç»“ç‚¹æƒå€¼ä¸ºå…¶å·¦ã€å³å­æ ‘æ ¹ç»“ç‚¹æƒå€¼ä¹‹å’Œ ;<br>(3)ä»æ£®æ—ä¸­åˆ é™¤é€‰å–çš„ä¸¤æ£µæ ‘ï¼Œå¹¶å°†æ–°æ ‘åŠ å…¥æ£®æ— ;<br>(4)é‡å¤(2)ã€(3)æ­¥ï¼Œç›´åˆ°æ£®æ—ä¸­åªå‰©ä¸€æ£µæ ‘ä¸ºæ­¢ï¼Œè¯¥æ ‘å³ä¸ºæ‰€æ±‚å¾—çš„å“ˆå¤«æ›¼æ ‘ã€‚ç‰¹ç‚¹ : æƒå€¼è¶Šå¤§çš„ç»“ç‚¹ï¼Œè·ç¦»æ ¹èŠ‚ç‚¹è¶Šè¿‘ ; æ ‘ä¸­æ²¡æœ‰åº¦ä¸ºä¸€çš„ç»“ç‚¹ã€‚</li></ul><p>åº”ç”¨: å“ˆå¤«æ›¼ç¼–ç ï¼Œå‡å°‘ç¼–ç çš„é•¿åº¦ã€‚å“ˆå¤«æ›¼ç¼–ç å°±æ˜¯é•¿åº¦æœ€çŸ­çš„å‰ç¼€ç¼–ç ã€‚</p><h2 id="3-1-7-å›¾"><a href="#3-1-7-å›¾" class="headerlink" title="3.1.7 å›¾"></a>3.1.7 å›¾</h2><h3 id="3-1-7-1-åŸºæœ¬æ¦‚å¿µ"><a href="#3-1-7-1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="3.1.7.1 åŸºæœ¬æ¦‚å¿µ"></a>3.1.7.1 åŸºæœ¬æ¦‚å¿µ</h3><ul><li><p>æ— å‘å›¾ï¼šåº¦ï¼Œè¿é€šï¼Œè¿é€šåˆ†é‡</p></li><li><p>æœ‰å‘å›¾ï¼šå…¥åº¦ï¼Œå‡ºåº¦ï¼Œå¼ºè¿é€šå›¾ï¼Œå¼ºè¿é€šåˆ†é‡</p></li><li><p>æ‹“æ‰‘æ’åºï¼šæœ‰å‘æ— ç¯å›¾çš„ä¸€ä¸ªé¡¶ç‚¹ç»„æˆçš„åºåˆ—ç§°ä¸ºæ‹“æ‰‘åºåˆ—ã€‚ï¼ˆè·¯å¾„ï¼‰</p></li><li><p>å…³é”®è·¯å¾„ï¼šé¡¶ç‚¹è¡¨ç¤ºäº‹ä»¶ï¼Œæœ‰å‘è¾¹ä¾¿æ˜¯æ´»åŠ¨ï¼Œè¾¹ä¸Šçš„æƒå€¼è¡¨ç¤ºå¼€é”€ï¼Œç§°ä¸º AOE ç½‘ã€‚AOE ç½‘ä¸­ä»æºç‚¹åˆ°æ±‡ç‚¹çš„æœ€å¤§è·¯å¾„é•¿åº¦çš„è·¯å¾„å«åšå…³é”®è·¯å¾„ã€‚</p></li></ul><h3 id="3-1-7-2-å›¾çš„å­˜å‚¨"><a href="#3-1-7-2-å›¾çš„å­˜å‚¨" class="headerlink" title="3.1.7.2 å›¾çš„å­˜å‚¨"></a>3.1.7.2 å›¾çš„å­˜å‚¨</h3><ul><li><p>é‚»æ¥çŸ©é˜µ : æ˜¯å›¾çš„é¡ºåºå­˜å‚¨ç»“æ„ï¼Œç”¨ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«å­˜å‚¨æ•°æ®å…ƒç´ ï¼ˆé¡¶ç‚¹)ä¿¡æ¯å’Œæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»(è¾¹ / å¼§ï¼‰çš„ä¿¡æ¯ã€‚å›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ˜¯å”¯ä¸€çš„ï¼Œæ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ˜¯å¯¹ç§°çš„ã€‚</p></li><li><p>é‚»æ¥è¡¨ : æ˜¯å›¾çš„é“¾å¼å­˜å‚¨ç»“æ„ï¼Œç”±å•é“¾è¡¨çš„è¡¨å¤´å½¢æˆçš„é¡¶ç‚¹è¡¨å’Œå•é“¾è¡¨å…¶ä½™ç»“ç‚¹æ‰€å½¢æˆçš„è¾¹è¡¨ä¸¤éƒ¨åˆ†ç»„æˆã€‚ï¼ˆå¤šç”¨äºæ— å‘å›¾ï¼‰</p></li><li><p>åå­—é“¾è¡¨ : æœ‰å‘å›¾çš„å¦ä¸€ç§é“¾å¼å­˜å‚¨ç»“æ„ã€‚</p></li><li><p>é‚»æ¥å¤šé‡è¡¨ : æ— å‘å›¾çš„é“¾å¼å­˜å‚¨ç»“æ„ã€‚</p></li></ul><h3 id="3-1-7-3-æœ€å°ç”Ÿæˆæ ‘-æ™®é‡Œå§†ç®—æ³•å’Œå…‹é²æ–¯å¡å°”ç®—æ³•"><a href="#3-1-7-3-æœ€å°ç”Ÿæˆæ ‘-æ™®é‡Œå§†ç®—æ³•å’Œå…‹é²æ–¯å¡å°”ç®—æ³•" class="headerlink" title="3.1.7.3 æœ€å°ç”Ÿæˆæ ‘ : æ™®é‡Œå§†ç®—æ³•å’Œå…‹é²æ–¯å¡å°”ç®—æ³•"></a>3.1.7.3 æœ€å°ç”Ÿæˆæ ‘ : æ™®é‡Œå§†ç®—æ³•å’Œå…‹é²æ–¯å¡å°”ç®—æ³•</h3><ul><li><strong>prim å…¶åŸºæœ¬æ€æƒ³ä¸º</strong> : ä»è”é€šç½‘ç»œ N=V.E)ä¸­æŸä¸€é¡¶ç‚¹ u0 å‡ºå‘ï¼Œé€‰æ‹©ä¸ä»–å…³è”çš„æœ€å°æƒå€¼çš„<br>è¾¹ï¼Œå°†å…¶é¡¶ç‚¹åŠ å…¥åˆ°é¡¶ç‚¹é›† S ä¸­ï¼Œæ­¤åå°±ä»ä¸€ä¸ªé¡¶ç‚¹åœ¨ S é›†ä¸­ï¼Œå¦ä¸€ä¸ªé¡¶ç‚¹ä¸åœ¨ S é›†ä¸­çš„æ‰€<br>æœ‰é¡¶ç‚¹ä¸­é€‰æ‹©å‡ºæƒå€¼æœ€å°çš„è¾¹ï¼ŒæŠŠå¯¹åº”é¡¶ç‚¹åŠ å…¥åˆ° S é›†ä¸­ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¶ç‚¹éƒ½åŠ å…¥åˆ° S é›†ä¸­<br>ä¸ºæ­¢ã€‚</li><li><strong>kruskal å…¶åŸºæœ¬æ€æƒ³ä¸º</strong> : è®¾æœ‰ä¸€ä¸ªæœ‰ N ä¸ªé¡¶ç‚¹çš„è”é€šç½‘ç»œ N=V.E, åˆè¯•æ—¶å»ºç«‹ä¸€ä¸ªåªæœ‰ N ä¸ªé¡¶<br>ç‚¹ï¼Œæ²¡æœ‰è¾¹çš„éè¿é€šå›¾ Tï¼ŒT ä¸­æ¯ä¸ªé¡¶ç‚¹éƒ½çœ‹ä½œæ˜¯ä¸€ä¸ªè”é€šåˆ†æ”¯ï¼Œä»è¾¹é›† E ä¸­é€‰æ‹©å‡ºæƒå€¼æœ€<br>å°çš„è¾¹ä¸”è¯¥è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ä¸åœ¨ä¸€ä¸ªè”é€šåˆ†æ”¯ä¸­ï¼Œåˆ™æŠŠè¯¥è¾¹åŠ å…¥åˆ° T ä¸­ï¼Œå¦åˆ™å°±å†ä»æ–°é€‰æ‹©ä¸€<br>æ¡æƒå€¼æœ€å°çš„è¾¹ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¶ç‚¹éƒ½åœ¨ä¸€ä¸ªè”é€šåˆ†æ”¯ä¸­ä¸ºæ­¢ã€‚</li><li><strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼šä¸€ä¸ªæœ‰ n ä¸ªç»“ç‚¹çš„è¿é€šå›¾çš„ç”Ÿæˆæ ‘æ˜¯åŸå›¾çš„æå°è¿é€šå­å›¾ï¼Œä¸”åŒ…å«åŸå›¾ä¸­çš„æ‰€<br>æœ‰ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”æœ‰ä¿æŒå›¾è”é€šçš„æœ€å°‘çš„è¾¹ã€‚å¦‚æœåœ¨æœ€å°ç”Ÿæˆæ ‘æ·»åŠ ä¸€æ¡è¾¹ï¼Œå¿…å®šæˆä¸€ä¸ª<br>ç¯ã€‚</li></ul><h3 id="3-1-7-4-DFS-ä¸-BFS"><a href="#3-1-7-4-DFS-ä¸-BFS" class="headerlink" title="3.1.7.4 DFS ä¸ BFS"></a>3.1.7.4 DFS ä¸ BFS</h3><ul><li><p><strong>æ·±åº¦ä¼˜å…ˆæœç´¢</strong>ç›¸å½“ä¸æ ‘çš„å…ˆåºéå†ï¼›ä¸€ç›´è®¿é—®å½“å‰ç»“ç‚¹çš„é‚»æ¥ç»“ç‚¹ï¼Œå½“æ²¡æœ‰é‚»æ¥ç»“ç‚¹çš„æ—¶å€™ï¼Œé€€å›ï¼Œç»§ç»­è®¿é—®ã€‚</p></li><li><p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢</strong>ç›¸å½“ä¸æ ‘çš„å±‚åºéå†ï¼›è®¿é—®å½“å‰ç»“ç‚¹çš„æ‰€æœ‰é‚»æ¥ç»“ç‚¹ï¼Œå†å¾€é‚»æ¥ç»“ç‚¹çš„é‚»æ¥ç»“ç‚¹å»è®¿é—®</p></li></ul><h2 id="3-1-8-æ’åº"><a href="#3-1-8-æ’åº" class="headerlink" title="3.1.8 æ’åº"></a>3.1.8 æ’åº</h2><h3 id="3-1-8-1-å¿«é€Ÿæ’åº"><a href="#3-1-8-1-å¿«é€Ÿæ’åº" class="headerlink" title="3.1.8.1 å¿«é€Ÿæ’åº"></a>3.1.8.1 å¿«é€Ÿæ’åº</h3><ul><li>ç®—æ³•å®ç°</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">Paritition1</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> pivot <span class="token operator">=</span> A<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæ¢è½´å…ƒç´ </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">>=</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token operator">--</span>high<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    A<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high <span class="token operator">&amp;&amp;</span> A<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token operator">++</span>low<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    A<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">=</span> A<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    A<span class="token punctuation">[</span>low<span class="token punctuation">]</span> <span class="token operator">=</span> pivot<span class="token punctuation">;</span>    <span class="token keyword">return</span> low<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token comment">//å¿«æ’æ¯å‡½æ•°</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> pivot <span class="token operator">=</span> <span class="token function">Paritition1</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">QuickSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> low<span class="token punctuation">,</span> pivot <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">QuickSort</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> pivot <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>ç®—æ³•æ­¥éª¤</p><p>  a. ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰;<br>  b. é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼›<br>  c. é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºï¼›</p></li></ul><ul><li>ç®—æ³•å®ç°</li></ul><ul><li>å¿«æ’ç›¸å…³é—®é¢˜<ul><li>æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€å¥½ <script type="math/tex">n*log_2n</script> ï¼Œæœ€å·®<script type="math/tex">n^2</script> ï¼Œå¹³å‡ <script type="math/tex">n*log_2n</script> ï¼‰</li><li>ç©ºé—´å¤æ‚åº¦ï¼ˆ <script type="math/tex">log_2n</script> ~ nï¼‰</li><li>æ—¶é—´å¤æ‚åº¦ä¸ä¸¤ä¾§å¹³è¡¡å·®å€¼æœ‰å…³ï¼Œä¸å¤„ç†é¡ºåºæ— å…³ã€‚ï¼ˆé€’å½’æ·±åº¦ï¼‰</li><li>ä¸ç¨³å®šç®—æ³•ï¼Œé€‚ç”¨äºé¡ºåºè¡¨</li><li>ç‰¹å¾ï¼šæ¯å®Œæˆä¸€è½®ï¼Œéƒ½ä¼šæœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ å‡ºç°åœ¨æ­£ç¡®çš„ä½ç½®ä¸Šã€‚ä¸Šä¸€ä¸ªæ¢è½´å…ƒç´ ä¸åœ¨ä¸¤ç«¯çš„è¯ï¼Œåˆ™ä¸‹ä¸€è¶Ÿè‡³å°‘æœ‰ä¸¤ä¸ªå‡ºç°åœ¨æ­£ç¡®ä½ç½®ã€‚</li></ul></li></ul><h3 id="3-1-8-2-å¸Œå°”æ’åº"><a href="#3-1-8-2-å¸Œå°”æ’åº" class="headerlink" title="3.1.8.2 å¸Œå°”æ’åº"></a><strong>3.1.8.2</strong> å¸Œå°”æ’åº</h3><ul><li>å¸Œå°”æ’åºå°±æ˜¯å…ˆå°†æ•´ä¸ªå¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²å­åºåˆ—ï¼Œåœ¨å­åºåˆ—å†…åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—çš„å…ƒç´ åŸºæœ¬æœ‰åºæ—¶ï¼Œå†å°†å…¨ä½“å…ƒç´ è¿›è¡Œä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚</li></ul><ul><li>æ¯è¶Ÿæ’åºå¢é‡é€’å‡ï¼Œå¢é‡çš„åˆå§‹å€¼æ˜¯ 1ï¼Œé€šè¿‡ 3*h+1 å¾ªç¯è®¡ç®—</li></ul><h3 id="3-1-8-3-å†…éƒ¨æ’åºä¸å¤–éƒ¨æ’åº"><a href="#3-1-8-3-å†…éƒ¨æ’åºä¸å¤–éƒ¨æ’åº" class="headerlink" title="3.1.8.3 å†…éƒ¨æ’åºä¸å¤–éƒ¨æ’åº"></a>3.1.8.3 å†…éƒ¨æ’åºä¸å¤–éƒ¨æ’åº</h3><p>â€¢ å†…éƒ¨æ’åºæ˜¯æ’åºæœŸé—´å…ƒç´ å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜çš„æ’åº ; å¤–éƒ¨æ’åºæ˜¯æŒ‡åœ¨æ’åºæœŸé—´å…ƒç´ æ— æ³•å…¨éƒ¨åŒ</p><p>æ—¶å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¿…é¡»åœ¨æ’åºçš„è¿‡ç¨‹ä¸­æ ¹æ®è¦æ±‚ä¸æ–­çš„åœ¨å†…å¤–å­˜ä¹‹é—´ç§»åŠ¨çš„æ’åºã€‚</p><h2 id="3-1-9-æŸ¥æ‰¾"><a href="#3-1-9-æŸ¥æ‰¾" class="headerlink" title="3.1.9 æŸ¥æ‰¾"></a>3.1.9 æŸ¥æ‰¾</h2><h3 id="3-1-9-1-å“ˆå¸ŒæŸ¥æ‰¾"><a href="#3-1-9-1-å“ˆå¸ŒæŸ¥æ‰¾" class="headerlink" title="3.1.9.1 å“ˆå¸ŒæŸ¥æ‰¾"></a>3.1.9.1 å“ˆå¸ŒæŸ¥æ‰¾</h3><ul><li><p>å“ˆå¸ŒæŸ¥æ‰¾æ˜¯é€šè¿‡è®¡ç®—æ•°æ®å…ƒç´ çš„å­˜å‚¨åœ°å€è¿›è¡ŒæŸ¥æ‰¾çš„ä¸€ç§æ–¹æ³•ã€‚</p></li><li><p>å“ˆå¸ŒæŸ¥æ‰¾æ­¥éª¤</p><ul><li><p>(1)ç”¨ç»™å®šçš„å“ˆå¸Œå‡½æ•°æ„é€ å“ˆå¸Œè¡¨ï¼›</p></li><li><p>(2)æ ¹æ®é€‰æ‹©çš„å†²çªå¤„ç†æ–¹æ³•è§£å†³åœ°å€å†²çªï¼›</p></li><li><p>(3)åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šæ‰§è¡Œå“ˆå¸ŒæŸ¥æ‰¾ã€‚</p></li></ul></li><li><p>å“ˆå¸Œå‡½æ•°</p><ul><li><p>ç›´æ¥å®šå€æ³•ï¼šçº¿æ€§å‡½æ•°ï¼Œä¸€ä¸€å¯¹åº”</p></li><li><p>æ•°å­¦åˆ†ææ³•ï¼šé€‰å‡ºè‹¥å¹²ä½</p></li><li><p>å¹³æ–¹å–ä¸­æ³•ï¼šå¹³æ–¹åå–ä¸­é—´ä½</p></li><li><p>é™¤ç•™ä½™æ•°æ³•ï¼šé™¤è´¨æ•°çœ‹ä½™æ•°</p></li></ul></li><li><p>å“ˆå¸Œå†²çª</p><ul><li><p>å¼€æ”¾å®šå€æ³•ï¼šçº¿æ€§æ¢æµ‹ï¼ˆèšé›†ï¼‰ï¼ŒäºŒæ¬¡æ¢æµ‹æ³•</p></li><li><p>æ‹‰é“¾æ³•ï¼šæ•£åˆ—åœ°å€ç›¸åŒçš„è®°å½•å­˜å‚¨åœ¨åŒä¸€ä¸ªçº¿æ€§è¡¨ä¸­</p></li><li><p>å†å“ˆå¸Œæ³•</p></li></ul></li><li><p>å»ºç«‹å…¬å…±æº¢å‡ºåŒºï¼šåŸºæœ¬è¡¨ + æº¢å‡ºè¡¨</p></li><li><p>è£…å¡«å› å­ï¼šå¡«å…¥è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° / æ•£åˆ—è¡¨çš„é•¿åº¦ã€‚</p><ul><li>å†²çªæ˜¯æ— æ³•é¿å…çš„ï¼Œä¸è£…å¡«å› å­æ— å…³</li></ul></li></ul><h3 id="3-1-9-2-æŠ˜åŠæŸ¥æ‰¾"><a href="#3-1-9-2-æŠ˜åŠæŸ¥æ‰¾" class="headerlink" title="3.1.9.2 æŠ˜åŠæŸ¥æ‰¾"></a>3.1.9.2 æŠ˜åŠæŸ¥æ‰¾</h3><ul><li><p>æ¡ä»¶ : æœ‰åºæ•°ç»„</p></li><li><p>æ“ä½œ :</p><p>  1)æŸ¥æ‰¾è¿‡ç¨‹ä»æ•°ç»„çš„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåˆ™æœç´ è¿‡ç¨‹ç»“æŸ ;</p><p>  2)å¦‚æœæŸä¸€ç‰¹å®šå…ƒç´ å¤§äºæˆ–è€…å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨æ•°ç»„å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ çš„é‚£ä¸€åŠä¸­æŸ¥æ‰¾ï¼Œè€Œä¸”è·Ÿå¼€å§‹ä¸€æ ·ä»ä¸­é—´å…ƒç´ å¼€å§‹æ¯”è¾ƒã€‚</p><p>  3)å¦‚æœåœ¨æŸä¸€æ­¥éª¤æ•°ç»„ä¸ºç©ºï¼Œåˆ™ä»£è¡¨æ‰¾ä¸åˆ°ã€‚</p><p>  4)è¿™ç§æœç´¢ç®—æ³•æ¯ä¸€æ¬¡æ¯”è¾ƒéƒ½ä½¿æœç´¢èŒƒå›´ç¼©å°ä¸€åŠã€‚</p></li></ul><ul><li>æ—¶é—´å¤æ‚åº¦ :O(log(n))</li></ul><h3 id="3-1-9-3-B-æ ‘"><a href="#3-1-9-3-B-æ ‘" class="headerlink" title="3.1.9.3 B æ ‘"></a><strong>3.1.9.3 B</strong> æ ‘</h3><ul><li>B æ ‘å’Œå¹³è¡¡äºŒå‰æ ‘ç¨æœ‰ä¸åŒçš„æ˜¯ B æ ‘å±äºå¤šå‰æ ‘åˆåå¹³è¡¡å¤šè·¯æŸ¥æ‰¾æ ‘ï¼ˆæŸ¥æ‰¾è·¯å¾„ä¸åªä¸¤ä¸ªï¼‰ï¼Œæ•°æ®åº“ç´¢å¼•æŠ€æœ¯é‡Œå¤§é‡ä½¿ç”¨è€… B æ ‘å’Œ B+ æ ‘çš„æ•°æ®ç»“æ„ã€‚æ‰€æœ‰èŠ‚ç‚¹å…³é”®å­—æ˜¯æŒ‰é€’å¢æ¬¡åºæ’åˆ—ï¼Œå¹¶éµå¾ªå·¦å°å³å¤§åŸåˆ™</li><li>æ‰€æœ‰å¶å­èŠ‚ç‚¹å‡åœ¨åŒä¸€å±‚ã€å¶å­èŠ‚ç‚¹é™¤äº†åŒ…å«äº†å…³é”®å­—å’Œå…³é”®å­—è®°å½•çš„æŒ‡é’ˆå¤–ä¹Ÿæœ‰æŒ‡å‘å…¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆåªä¸è¿‡å…¶æŒ‡é’ˆåœ°å€éƒ½ä¸º null å¯¹åº”ä¸‹å›¾æœ€åä¸€å±‚èŠ‚ç‚¹çš„ç©ºæ ¼å­ ;</li><li>B æ ‘ç›¸å¯¹äºå¹³è¡¡äºŒå‰æ ‘çš„ä¸åŒæ˜¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«çš„å…³é”®å­—å¢å¤šäº†ï¼Œç‰¹åˆ«æ˜¯åœ¨ B æ ‘åº”ç”¨åˆ°æ•°æ®åº“ä¸­çš„æ—¶å€™ï¼Œæ•°æ®åº“å……åˆ†åˆ©ç”¨äº†ç£ç›˜å—çš„åŸç†ï¼ˆç£ç›˜æ•°æ®å­˜å‚¨æ˜¯é‡‡ç”¨å—çš„å½¢å¼å­˜å‚¨çš„ï¼Œæ¯ä¸ªå—çš„å¤§å°ä¸º 4Kï¼Œæ¯æ¬¡ IO è¿›è¡Œæ•°æ®è¯»å–æ—¶ï¼ŒåŒä¸€ä¸ªç£ç›˜å—çš„æ•°æ®å¯ä»¥ä¸€æ¬¡æ€§è¯»å–å‡ºæ¥ï¼‰æŠŠèŠ‚ç‚¹å¤§å°é™åˆ¶å’Œå……åˆ†ä½¿ç”¨åœ¨ç£ç›˜å¿«å¤§å°èŒƒå›´ï¼›æŠŠæ ‘çš„èŠ‚ç‚¹å…³é”®å­—å¢å¤šåæ ‘çš„å±‚çº§æ¯”åŸæ¥çš„äºŒå‰æ ‘å°‘äº†ï¼Œå‡å°‘æ•°æ®æŸ¥æ‰¾çš„æ¬¡æ•°å’Œå¤æ‚åº¦ ;</li></ul><h3 id="3-1-9-4-B-æ ‘"><a href="#3-1-9-4-B-æ ‘" class="headerlink" title="3.1.9.4 B+ æ ‘"></a>3.1.9.4 B+ æ ‘</h3><ul><li><p>B+ æ ‘æ˜¯ B æ ‘çš„ä¸€ä¸ªå‡çº§ç‰ˆï¼Œç›¸å¯¹äº B æ ‘æ¥è¯´ B+ æ ‘æ›´å……åˆ†çš„åˆ©ç”¨äº†èŠ‚ç‚¹çš„ç©ºé—´ï¼Œè®©æŸ¥è¯¢é€Ÿåº¦æ›´åŠ ç¨³å®šï¼Œå…¶é€Ÿåº¦å®Œå…¨æ¥è¿‘äºäºŒåˆ†æ³•æŸ¥æ‰¾ã€‚ä¸ºä»€ä¹ˆè¯´ B+ æ ‘æŸ¥æ‰¾çš„æ•ˆç‡è¦æ¯” B æ ‘æ›´é«˜ã€æ›´ç¨³å®šï¼›</p></li><li><p>å¯¹æ¯”</p><ul><li><p>1ã€B+ æ ‘çš„å±‚çº§æ›´å°‘ï¼šç›¸è¾ƒäº B æ ‘ B+ æ¯ä¸ªéå¶å­èŠ‚ç‚¹å­˜å‚¨çš„å…³é”®å­—æ•°æ›´å¤šï¼Œæ ‘çš„å±‚çº§æ›´å°‘æ‰€ä»¥æŸ¥è¯¢æ•°æ®æ›´å¿«ï¼›</p></li><li><p>2ã€B+ æ ‘æŸ¥è¯¢é€Ÿåº¦æ›´ç¨³å®šï¼šB+ æ‰€æœ‰å…³é”®å­—æ•°æ®åœ°å€éƒ½å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥æ¯æ¬¡æŸ¥æ‰¾çš„æ¬¡æ•°éƒ½ç›¸åŒæ‰€ä»¥æŸ¥è¯¢é€Ÿåº¦è¦æ¯” B æ ‘æ›´ç¨³å®š ;</p></li><li><p>3ã€B+ æ ‘å¤©ç„¶å…·å¤‡æ’åºåŠŸèƒ½ï¼šB+ æ ‘æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹æ•°æ®æ„æˆäº†ä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œåœ¨æŸ¥è¯¢å¤§å°åŒºé—´çš„æ•°æ®æ—¶å€™æ›´æ–¹ä¾¿ï¼Œæ•°æ®ç´§å¯†æ€§å¾ˆé«˜ï¼Œç¼“å­˜çš„å‘½ä¸­ç‡ä¹Ÿä¼šæ¯” B æ ‘é«˜ã€‚</p></li><li><p>4ã€B+ æ ‘å…¨èŠ‚ç‚¹éå†æ›´å¿«ï¼šB+ æ ‘éå†æ•´æ£µæ ‘åªéœ€è¦éå†æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹å³å¯ï¼Œï¼Œè€Œä¸éœ€è¦åƒ B æ ‘ä¸€æ ·éœ€è¦å¯¹æ¯ä¸€å±‚è¿›è¡Œéå†ï¼Œè¿™æœ‰åˆ©äºæ•°æ®åº“åšå…¨è¡¨æ‰«æã€‚</p></li></ul></li></ul><p>B æ ‘ç›¸å¯¹äº B+ æ ‘çš„ä¼˜ç‚¹æ˜¯ï¼Œå¦‚æœç»å¸¸è®¿é—®çš„æ•°æ®ç¦»æ ¹èŠ‚ç‚¹å¾ˆè¿‘ï¼Œè€Œ B æ ‘çš„éå¶å­èŠ‚ç‚¹æœ¬èº«å­˜æœ‰å…³é”®å­—å…¶æ•°æ®çš„åœ°å€ï¼Œæ‰€ä»¥è¿™ç§æ•°æ®æ£€ç´¢çš„æ—¶å€™ä¼šè¦æ¯” B+ æ ‘å¿«ã€‚</p><h2 id="3-1-10-ç®—æ³•"><a href="#3-1-10-ç®—æ³•" class="headerlink" title="3.1.10 ç®—æ³•"></a>3.1.10 ç®—æ³•</h2><h3 id="3-1-10-1-è´ªå¿ƒç®—æ³•"><a href="#3-1-10-1-è´ªå¿ƒç®—æ³•" class="headerlink" title="3.1.10.1 è´ªå¿ƒç®—æ³•"></a>3.1.10.1 è´ªå¿ƒç®—æ³•</h3><ul><li><p>è´ªå¿ƒç®—æ³•(åˆç§°è´ªå©ªç®—æ³•ï¼‰æ˜¯æŒ‡ï¼Œåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œç®—æ³•å¾—åˆ°çš„æ˜¯åœ¨æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚</p></li><li><p>è´ªå¿ƒç®—æ³•ä¸æ˜¯å¯¹æ‰€æœ‰é—®é¢˜éƒ½èƒ½å¾—åˆ°æ•´ä½“æœ€ä¼˜è§£ï¼Œå…³é”®æ˜¯è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©ã€‚</p></li><li><p>è´ªå¿ƒç®—æ³•çš„ä¸€èˆ¬æ­¥éª¤ :</p><p>  1)å°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ ;</p><p>  2)å­é—®é¢˜çš„è§£æ˜¯å½“å‰æ‰€æœ‰è§£ä¸­çš„æœ€ä¼˜è§£ ;</p><p>  3ï¼‰å°†æ‰€æœ‰å­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£ã€‚</p></li></ul><p>â‘¢è¯´æ˜ :</p><p>è´ªå¿ƒé—®é¢˜å’ŒåŠ¨æ€è§„åˆ’è¾ƒä¸ºç›¸ä¼¼ï¼Œå…¶ä¸­ä¸€ä¸ªè¾ƒä¸ºå…³é”®çš„åŒºåˆ«æ˜¯è´ªå¿ƒç®—æ³•æ˜¯ä¸å¯å–æ¶ˆçš„ï¼Œè‡ªé¡¶å‘ä¸‹</p><p>æ±‚å‡ºå­é—®é¢˜çš„å½“å‰æœ€ä¼˜è§£ã€‚è€ŒåŠ¨æ€è§„åˆ’æ˜¯æ¯æ­¥åšå‡ºçš„é€‰æ‹©éƒ½ä¾èµ–äºå­é—®é¢˜çš„è§£ã€‚</p><h3 id="3-1-10-2-åŠ¨æ€è§„åˆ’"><a href="#3-1-10-2-åŠ¨æ€è§„åˆ’" class="headerlink" title="3.1.10.2 åŠ¨æ€è§„åˆ’"></a>3.1.10.2 åŠ¨æ€è§„åˆ’</h3><ul><li><p>åŠ¨æ€è§„åˆ’å’Œä¹‹å‰çš„è´ªå¿ƒç®—æ³•æœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯å°†ä¸€ä¸ªè§„æ¨¡å¤§çš„é—®é¢˜åˆ†è§£ä¸ºå‡ ä¸ªå°çš„é—®é¢˜ï¼Œé€šè¿‡è§£å†³å°çš„é—®é¢˜æ¥å¾—åˆ°æ•´ä½“çš„è§£ã€‚</p></li><li><p>åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒé—®é¢˜æ˜¯é—®é¢˜çš„çŠ¶æ€çš„å®šä¹‰å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ±‚è§£ã€‚</p></li><li><p>åŠ¨æ€è§„åˆ’çš„å…³é”®åœ¨äºï¼Œå°†é‡å¤å‡ºç°çš„å­é—®é¢˜åœ¨ç¬¬ä¸€æ¬¡æ±‚è§£ä¹‹åå°±å°†å…¶ä¿å­˜èµ·æ¥ï¼Œä»¥åå†é‡åˆ°æ—¶ä¸ç”¨é‡å¤æ±‚è§£ã€‚åŠ¨æ€è§„åˆ’æ˜¯æŒ‰ç…§è‡ªåº•å‘ä¸Šçš„æ–¹å¼è®¡ç®—æœ€ä¼˜è§£ã€‚</p></li><li><p>ç®—æ³•åº”ç”¨çš„å¸¸ç”¨é—®é¢˜ : å½“é¢˜ç›®æ±‚è§£çš„æ˜¯æœ€å¤§å€¼ã€æœ€å°å€¼ï¼Œå¯è¡Œä¸å¦æˆ–è€…æ–¹æ¡ˆæ€»æ•°æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚ç®—æ³•çš„ä¸€èˆ¬æ­¥éª¤ : å°†é—®é¢˜åˆ†è§£ä¸ºä¸åŒçš„å­é—®é¢˜ ; å®šä¹‰çŠ¶æ€æ‰¾å‡ºåˆå§‹çŠ¶æ€ ; çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ±‚è§£ ; æ±‚å‡ºé—®é¢˜æœ€ç»ˆçš„ç­”æ¡ˆã€‚</p></li><li><p>è´ªå¿ƒé—®é¢˜å’ŒåŠ¨æ€è§„åˆ’è¾ƒä¸ºç›¸ä¼¼ï¼Œå…¶ä¸­ä¸€ä¸ªè¾ƒä¸ºå…³é”®çš„åŒºåˆ«æ˜¯è´ªå¿ƒç®—æ³•æ˜¯ä¸å¯å–æ¶ˆçš„ï¼Œè‡ªé¡¶å‘ä¸‹æ±‚å‡ºå­é—®é¢˜çš„å½“å‰æœ€ä¼˜è§£ã€‚è€ŒåŠ¨æ€è§„åˆ’æ˜¯æ¯æ­¥åšå‡ºçš„é€‰æ‹©éƒ½ä¾èµ–äºå­é—®é¢˜çš„è§£ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 408 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤è¯•ç»éªŒåˆ†äº«</title>
      <link href="/2024/09/25/fu-shi-jing-yan-fen-xiang-yi-wen-da-ti-zi-ce/"/>
      <url>/2024/09/25/fu-shi-jing-yan-fen-xiang-yi-wen-da-ti-zi-ce/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å¤è¯•ç»éªŒåˆ†äº«"><a href="#å¤è¯•ç»éªŒåˆ†äº«" class="headerlink" title="å¤è¯•ç»éªŒåˆ†äº«"></a>å¤è¯•ç»éªŒåˆ†äº«</h1><h2 id="ä¸€ã€é—®ç­”é¢˜ç›®è‡ªæµ‹"><a href="#ä¸€ã€é—®ç­”é¢˜ç›®è‡ªæµ‹" class="headerlink" title="ä¸€ã€é—®ç­”é¢˜ç›®è‡ªæµ‹"></a>ä¸€ã€é—®ç­”é¢˜ç›®è‡ªæµ‹</h2><h2 id="1-æ•°æ®ç»“æ„"><a href="#1-æ•°æ®ç»“æ„" class="headerlink" title="1. æ•°æ®ç»“æ„"></a>1. æ•°æ®ç»“æ„</h2><p>1.1 è¯·ç®€è¿°æ·±åº¦ä¼˜å…ˆéå†ã€å¹¿åº¦ä¼˜å…ˆéå†çš„åŸºæœ¬æ€æƒ³ æ ˆã€é˜Ÿåˆ—ã€‚</p><p>1.2 ç®€è¿°æ»¡äºŒå‰æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘ï¼ŒäºŒå‰æ’åºæ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘çš„ç‰¹æ€§ </p><p>1.3 ä»€ä¹ˆæ˜¯é˜Ÿåˆ—çš„ä¸Šæº¢ç°è±¡å’Œå‡æº¢å‡ºç°è±¡? è§£å†³å®ƒä»¬æœ‰å“ªäº›æ–¹æ³•? <strong>Overflow ä¸Šæº¢ï¼ŒçœŸæ­£çš„æº¢å‡ºï¼›å‡æº¢å‡ºç°è±¡ï¼ˆFalse Overflowï¼‰</strong></p><p>1.4 å¯¹å•é“¾è¡¨è®¾ç½®å¤´èŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä»€ä¹ˆ ?ï¼ˆè‡³å°‘è¯´å‡ºä¸¤æ¡å¥½å¤„) <strong>æ’å…¥å’Œåˆ é™¤ã€ç©ºé“¾è¡¨å’Œéç©ºé“¾è¡¨çš„å¤„ç†</strong></p><p>1.5 è‹¥è¾ƒé¢‘ç¹åœ°å¯¹ä¸€ä¸ªçº¿æ€§è¡¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œ , è¯¥çº¿æ€§è¡¨å®œé‡‡ç”¨ä½•ç§å­˜å‚¨ç»“æ„? ä¸ºä»€ä¹ˆ? <strong>é“¾å¼ç»“æ„ï¼Œå› ä¸ºé‡‡ç”¨é¡ºåºç»“æ„éœ€è¦ç§»åŠ¨å¤§é‡çš„å…ƒç´ ï¼Œé‡‡ç”¨é“¾å¼ç»“æ„å¯ä»¥ç›´æ¥ä¿®æ”¹æŒ‡é’ˆå³å¯</strong></p><p>1.6 ä¸ºä»€ä¹ˆä¼šå¼•å…¥çº¿ç´¢äºŒå‰æ ‘ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ<strong>ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¼ ç»ŸäºŒå‰æ ‘éå†æ•ˆç‡ä¸é«˜çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨æ²¡æœ‰çˆ¶æŒ‡é’ˆçš„æƒ…å†µä¸‹ï¼Œæ‰¾åˆ°ä»»ä¸€èŠ‚ç‚¹çš„å‰é©±å’Œåç»§èŠ‚ç‚¹æ¯”è¾ƒå›°éš¾ã€‚åˆ©ç”¨äº†äºŒå‰æ ‘ä¸­ç©ºçš„æŒ‡é’ˆï¼Œæé«˜äº†éå†æ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æˆ–è€…åç»§æ—¶æ¯”è¾ƒæ–¹ä¾¿ï¼Œå¹¶ä¸”ä¹ŸèŠ‚çœäº†ç©ºé—´</strong></p><p>1.7 å¾ªç¯æ¯”é€’å½’çš„æ•ˆç‡ä¸€å®šé«˜å—ï¼Ÿ<strong>å„æœ‰å…¶ä¼˜ç‚¹ï¼Œå¾ªç¯åœ¨ç©ºé—´æ•ˆç‡ä¸Šä¼˜äºé€’å½’ï¼Œå¾ªç¯æ˜¯åŸåœ°æ“ä½œï¼Œé€’å½’éœ€è¦æ ˆçš„å¸®åŠ©ï¼›é€’å½’å¯ä»¥è®©ä¸€äº›ç®—æ³•å˜å¾—æ›´åŠ ç®€ä¾¿ã€æ¸…æ™°ã€æ˜“æ‡‚ã€‚</strong></p><p>1.8 è¯·æ¯”è¾ƒ AOE ç½‘ä¸ AOV ç½‘ï¼Ÿ<strong>AOE ç½‘ä¸­ï¼Œé€šè¿‡è®¡ç®—äº‹ä»¶çš„æœ€æ—©å‘ç”Ÿæ—¶é—´å’Œæœ€è¿Ÿå‘ç”Ÿæ—¶é—´ï¼Œç¡®å®šå…³é”®è·¯å¾„å’Œé¡¹ç›®æœ€çŸ­å·¥æœŸï¼›è€Œåœ¨ AOV ç½‘ä¸­ï¼Œé€šè¿‡è®¡ç®—é¡¶ç‚¹çš„æœ€æ—©å‘ç”Ÿæ—¶é—´å’Œæœ€è¿Ÿå‘ç”Ÿæ—¶é—´ï¼Œç¡®å®šå…³é”®è·¯å¾„å’Œé¡¹ç›®æœ€çŸ­å·¥æœŸã€‚</strong></p><p>1.9 æ ˆå’Œé˜Ÿåˆ—çš„å¼‚åŒç‚¹ï¼Ÿ<strong>åŒï¼šçº¿æ€§ç»“æ„ï¼Œå¼‚ï¼šLIFOï¼ˆæ ˆï¼‰ï¼ŒFIFOï¼ˆé˜Ÿåˆ—ï¼‰ï¼Œæ ˆå¸¸åº”ç”¨äºè¡¨è¾¾å¼æ±‚å€¼ã€æ‹¬å·åŒ¹é…ã€å‡½æ•°è°ƒç”¨ï¼Œé˜Ÿåˆ—å¸¸ç”¨äºä»»åŠ¡è°ƒåº¦ã€ç¼“å­˜ç®¡ç†ã€æ¶ˆæ¯ä¼ é€’ã€‚</strong></p><p>1.10 æ ˆåœ¨åç¼€è¡¨è¾¾å¼æ±‚å€¼çš„ç®—æ³•æ€æƒ³ï¼Ÿ <strong>é‡åˆ°æ•°å­—å…¥æ ˆï¼Œé‡åˆ°è¿ç®—ç¬¦å¼¹å‡ºä¸¤ä¸ªæ•°å­—è¿›è¡Œè¿ç®—</strong></p><p>1.11Dijkstra ç®—æ³•å’Œ BFS æ±‚çš„æœ€çŸ­è·¯å¾„æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ <strong>å‰è€…æ˜¯è§£å†³å¸¦æƒæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œåè€…åªèƒ½è§£å†³æ— æƒæœ€çŸ­è·¯å¾„ï¼ˆæ¯è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè·¯å¾„é•¿åº¦ +1ï¼‰</strong></p><p>1.12 ç®€è¿°ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼æ ‘ï¼Ÿ<strong>ç”¨äºç¼–ç æ— æŸå‹ç¼©æœ€ä¼˜ç¼–ç çš„æ–¹æ³•ï¼Œç¼–ç æ‰€å¾—åˆ°çš„å¸¦æƒè·¯å¾„é•¿åº¦æœ€å°ã€‚</strong></p><p>1.13 æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)çš„æ’åºæ–¹æ³•ï¼Ÿ<strong>å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€æ¡¶æ’åº</strong></p><p>1.14 æ’åºç®—æ³•ç¨³å®šæ€§çš„å®šä¹‰ï¼Ÿæœ‰é‚£äº›ä¸ç¨³å®šæ’åºï¼Ÿ<strong>ç¨³å®šæ€§æ˜¯æŒ‡æ’åºå‰åç›¸åŒçš„å…ƒç´ ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜ï¼Œä¸ç¨³å®šæ’åºï¼šå¿«å¸Œé€‰å †</strong></p><p>1.15 å †æ’åºæ˜¯å¦æ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•? ä¸ºä»€ä¹ˆ? <strong>ä¸æ˜¯ç¨³å®šçš„ï¼Œå»ºå †è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè®©ç¨³å®šæ€§æ”¹å˜ï¼Œä¸å¯é¿å…</strong></p><p>1.16 æ ‘çš„å­˜å‚¨ç»“æ„æœ‰å“ªäº›ï¼Ÿ<strong>åŒäº²è¡¨ç¤ºæ³•ã€å­©å­è¡¨ç¤ºæ³•ã€å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•ã€‚</strong></p><p>1.17 æ ˆåœ¨æ‹¬å·åŒ¹é…ä¸­çš„ç®—æ³•æ€æƒ³ï¼Ÿ <strong>é‡åˆ°å·¦æ‹¬å·å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·å¼¹æ ˆï¼Œæ­¤æ—¶åˆ¤æ–­æ˜¯å¦åŒ¹é…</strong></p><p>1.18 è´ªå¿ƒç®—æ³•å’ŒåŠ¨æ€è§„åˆ’ä»¥åŠåˆ†æ²»æ³•çš„åŒºåˆ«ï¼Ÿ<strong>è´ªå¿ƒï¼šæ¯ä¸€æ­¥è¾¾åˆ°å±€éƒ¨æœ€ä¼˜è§£ï¼›åŠ¨æ€è§„åˆ’ï¼šå°†é—®é¢˜åˆ†è§£æˆç›¸äº’é‡å çš„å­é—®é¢˜ï¼Œå¹¶ä¸”é€šè¿‡è®°å½•å­é—®é¢˜å¾—åˆ°çš„ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ï¼›åˆ†æ²»ï¼šå°†é—®é¢˜åˆ†è§£æˆç›¸äº’ç‹¬ç«‹çš„å­é—®é¢˜ï¼Œå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åº</strong></p><p>1.19 æœ‰å“ªäº›å“ˆå¸Œå‡½æ•°çš„æ„é€ æ–¹æ³•ï¼Œåˆ—ä¸¾ä¸€äº›ï¼Ÿ<strong>ç›´æ¥å®šå€æ³•ã€é™¤ç•™ä½™æ•°æ³•</strong></p><p>1.20 å¦‚ä½•ç”±éå†åºåˆ—æ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Ÿ<strong>å‰ + ä¸­ï¼Œå + ä¸­ã€‚</strong></p><h2 id="2-è®¡ç®—æœºç»„æˆåŸç†"><a href="#2-è®¡ç®—æœºç»„æˆåŸç†" class="headerlink" title="2. è®¡ç®—æœºç»„æˆåŸç†"></a>2. è®¡ç®—æœºç»„æˆåŸç†</h2><p>2.1 è¯·è¯´æ˜ä¸‰çº§å­˜å‚¨ä½“ç³»åˆ†åˆ«ç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Œå¹¶æ¯”è¾ƒâ€œCACHEâ€”ä¸»å­˜â€å’Œâ€œä¸»å­˜â€”è¾…å­˜â€è¿™ä¸¤ä¸ªå­˜å‚¨å±‚æ¬¡çš„ç›¸åŒç‚¹å’Œä¸åŒç‚¹ã€‚<strong>ä»å¿«åˆ°æ…¢ï¼šå¯„å­˜å™¨ã€Cacheã€ä¸»å­˜ã€è¾…å­˜ï¼›åœ¨â€œCACHEâ€”ä¸»å­˜â€ä½“ç³»ä¸­ï¼Œç¼“å­˜ç”¨äºåŠ é€Ÿ CPU å¯¹ä¸»å­˜çš„è®¿é—®ï¼›è€Œåœ¨â€œä¸»å­˜â€”è¾…å­˜â€ä½“ç³»ä¸­ï¼Œä¸»å­˜ç”¨äºæš‚æ—¶å­˜å‚¨è¾…åŠ©å­˜å‚¨å™¨ä¸­çš„æ•°æ®å’Œç¨‹åºï¼Œæä¾›ç»™ CPU ä½¿ç”¨ã€‚</strong></p><p>2.2 è¯•è¯´æ˜ DMA çš„å·¥ä½œæµç¨‹ã€‚<strong>CPU å‘èµ·è¯»æ•°æ®è¯·æ±‚ï¼ŒDMA æ§åˆ¶å™¨å“åº”è¯·æ±‚ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œå°±ç”± DMA æ§åˆ¶å™¨æ¥ç®¡ï¼ŒCPU å¯ä»¥åšåˆ«çš„äº‹æƒ…ï¼Œè‹¥æ•°æ®ä¼ è¾“å®Œæˆï¼ŒDMA ä¼šå‘èµ·ä¸­æ–­é€šçŸ¥ CPU æ•°æ®ä¼ è¾“å®Œæˆï¼Œè¿™æ—¶å°±ç”± CPU æ¥æ¥ç®¡å·¥ä½œã€‚</strong></p><p>2.3 ä»€ä¹ˆæ˜¯ RISCï¼ŸRISC æŒ‡ä»¤ç³»ç»Ÿçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ<strong>ç²¾ç®€æŒ‡ä»¤é›†ç³»ç»Ÿï¼Œç‰¹ç‚¹ï¼šæŒ‡ä»¤é•¿åº¦å›ºå®šï¼Œé€‚åˆåˆ¶å®šæµæ°´çº¿çš„ä»»åŠ¡ï¼Œä½¿ç”¨å¯„å­˜å™¨è¾ƒå¤šï¼Œå¯ä»¥å‡å°‘è®¿é—®å†…å­˜çš„æ—¶é—´ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</strong></p><p>2.4 è¯·ç®€è¦è¯´æ˜å¸¸è§çš„ä¸»æœºä¸å¤–å›´è®¾å¤‡ä¹‹é—´ä¿¡æ¯ä¼ é€çš„æ§åˆ¶æ–¹å¼ï¼Œå¹¶æŒ‡é‡‡ç”¨å“ªç§æ–¹å¼ CPU æ•ˆç‡æœ€ä½ï¼Œå“ªç§æ–¹å¼æ•ˆç‡æœ€é«˜ã€‚<strong>ç¨‹åºæŸ¥è¯¢ã€ä¸­æ–­æ–¹å¼ã€DMAã€é€šé“ã€‚ç¨‹åºæŸ¥è¯¢æ•ˆç‡æœ€ä½ï¼ŒDMA æ•ˆç‡æœ€é«˜ã€‚</strong></p><p>2.5 è¯´æ˜å†¯è¯ºä¾æ›¼è®¡ç®—æœºçš„åŸºæœ¬ç‰¹å¾ã€‚<strong>é‡‡ç”¨å­˜å‚¨ç¨‹åºçš„æ–¹å¼æ–¹å¼å­˜å‚¨æŒ‡ä»¤ï¼Œè®¡ç®—æœºç³»ç»Ÿç”±è¿ç®—å™¨ã€æ§åˆ¶å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡å’Œå­˜å‚¨å™¨äº”å¤§éƒ¨åˆ†ç»„æˆ</strong></p><p>2.6 è¯·è¯´æ˜ SRAM çš„ç»„æˆç»“æ„ï¼Œä¸ SRAM ç›¸æ¯”ï¼ŒDRAM åœ¨ç”µè·¯ç»„æˆä¸Šæœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„ï¼Ÿ<strong>SRAM æ˜¯é™æ€éšæœºå­˜å‚¨å™¨ï¼ŒDRAM æ˜¯åŠ¨æ€éšæœºå­˜å‚¨å™¨ï¼ŒDARM éœ€è¦åˆ·æ–°ã€SRAM ä¸éœ€è¦åˆ·æ–°ï¼ŒSRAM ä¸»è¦ç”¨äº Cacheï¼ŒDRAM ç”¨äºä¸»å­˜ã€‚</strong></p><p>2.7 ç®€è¿°ä¸­æ–­çš„æ­¥éª¤åŠä¸­æ–­å“åº”çš„æ¡ä»¶ã€‚<strong>æ­¥éª¤ï¼šä¸­æ–­è¯·æ±‚ã€ä¸­æ–­å“åº”ã€ä¸­æ–­æœåŠ¡ç¨‹åºå¤„ç†ã€ä¸­æ–­è¿”å›ï¼Œæ¡ä»¶ï¼šæœ‰ä¸­æ–­è¯·æ±‚ä¿¡å·ã€å¤„äºä¸­æ–­å…è®¸çŠ¶æ€ï¼Œå¹¶ä¸”è¿˜è¦åˆ¤æ–­ä¸­æ–­ä¼˜å…ˆçº§ã€‚</strong></p><p>2.8 è¯•è®ºè¯åœ¨æµ®ç‚¹æ•°åŠ å‡ä¸ºä»€ä¹ˆè¦å¯¹é˜¶ï¼Œå¯¹é˜¶åŸåˆ™åè¿‡æ¥ä¸ºä»€ä¹ˆä¸è¡Œ? <strong>å¯¹é˜¶çš„åŸå› ï¼šå°½é‡å‡å°‘è¯¯å·®ï¼Œå› ä¸ºå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼Œå°¾æ•°å‘å³ç§»ï¼Œæ•°å€¼å°çš„å°¾æ•°å¯èƒ½è¢«ä¸¢å¼ƒï¼Œä½†æ˜¯å¦‚æœåè¿‡æ¥å¯¹é˜¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°å€¼å¤§çš„ä½è¢«ä¸¢å¼ƒï¼Œè¯¯å·®æ›´å¤§ï¼Œå¯¹é˜¶å®Œæˆåï¼Œå°¾æ•°å¯ä»¥ç›´æ¥ç›¸åŠ ï¼Œç®€åŒ–äº†è¿ç®—ã€‚</strong></p><p>2.9 ä¸ç»„åˆé€»è¾‘æ§åˆ¶æ–¹å¼ç›¸æ¯”ï¼Œå¾®ç¨‹åºæ§åˆ¶å™¨æœ‰ä½•ä¼˜ç‚¹ï¼Ÿ<strong>å¾®ç¨‹åºæ§åˆ¶å™¨é‡‡ç”¨å¾®æŒ‡ä»¤æ¥è®¾è®¡å’Œæ§åˆ¶ç³»ç»Ÿï¼Œçµæ´»åº¦æ¯”è¾ƒé«˜ï¼Œä¿®æ”¹æ¯”è¾ƒçµæ´»ã€ä¸éœ€è¦å¯¹æ•´ä¸ªç”µè·¯è¿›è¡Œä¿®æ”¹ï¼Œæ˜“äºæ‰©å±•ã€‚</strong></p><p>2.10 ä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿä¸­çš„æ€»çº¿ï¼Œå¤§è‡´åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿ<strong>æ•°æ®æ€»çº¿ã€æ§åˆ¶æ€»çº¿ã€åœ°å€æ€»çº¿ã€‚</strong></p><p>2.11 æŒ‡ä»¤å’Œæ•°æ®å‡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼ŒCPU å¦‚ä½•ä»æ—¶é—´å’Œç©ºé—´ä¸ŠåŒºåˆ†å®ƒä»¬æ˜¯æŒ‡ä»¤è¿˜æ˜¯æ•°æ®ï¼Ÿ<strong>å–å€¼å‘¨æœŸå–å‡ºçš„æ•°æ®æ˜¯æŒ‡ä»¤ï¼Œå…¶ä»–é˜¶æ®µï¼Œå¦‚æ‰§è¡Œé˜¶æ®µã€é—´å€é˜¶æ®µï¼Œå–å‡ºçš„å°±æ˜¯æ•°æ®</strong></p><p>2.12 ç®€è¿°å¤šé‡ä¸­æ–­ç³»ç»Ÿä¸­ CPU å“åº”å¤„ç†ä¸€æ¬¡ä¸­æ–­çš„æ­¥éª¤ï¼Ÿ<strong>é¦–å…ˆæ˜¯ç³»ç»Ÿå†…æˆ–è€…ç³»ç»Ÿå¤–éƒ¨è®¾å¤‡å‘èµ·ä¸­æ–­è¯·æ±‚ï¼Œç„¶å CPU å“åº”ä¸­æ–­ï¼Œå…³ä¸­æ–­ï¼Œä¿å­˜æ–­ç‚¹ï¼Œè¿›è¡Œä¸­æ–­æœåŠ¡å¯»å€ï¼Œè½¬å»æ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åºï¼Œæ‰§è¡Œå®Œæˆåï¼Œå…³ä¸­æ–­ã€æ¢å¤ç°åœºä¿¡æ¯ï¼Œä¸­æ–­è¿”å›ã€‚</strong></p><p>2.13 ä»€ä¹ˆæ˜¯å­˜å‚¨å™¨çš„åˆ·æ–°ï¼Ÿåˆ·æ–°æœ‰å“ªäº›å…¸å‹çš„æ–¹å¼ï¼Ÿ<strong>å­˜å‚¨å™¨çš„åˆ·æ–°æ˜¯æŒ‡å°†æ•°æ®æ°¸ä¹…çš„ä¿å­˜åˆ°å­˜å‚¨ä»‹è´¨ä¸­ï¼Œä»¥ç¡®ä¿æ•°æ®çš„æŒä¹…æ€§å’Œå®‰å…¨æ€§ï¼Œå¦‚æ•°æ®åº“äº‹åŠ¡æ—¥å¿—åˆ·æ–°</strong></p><p>2.14 ä½•è°“â€œæ€»çº¿ä»²è£â€ï¼Ÿ<strong>æ€»çº¿ä»²è£æ˜¯æŒ‡å½“å¤šä¸ªè®¾å¤‡ç«äº‰åŒä¸€ä¸ªæ€»çº¿çš„æ—¶å€™ï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†é…ç»™å„ä¸ªè®¾å¤‡ä½¿ç”¨æ€»çº¿æ¥å®Œæˆå„è‡ªçš„æ•°æ®ä¼ è¾“ä»»åŠ¡ã€‚</strong></p><p>2.15 æµ®ç‚¹æ•°è§„æ ¼åŒ–çš„ç›®çš„å’Œæ–¹æ³•ï¼Ÿ<strong>ç›®çš„ï¼šæé«˜ç²¾åº¦ï¼ŒèŠ‚çº¦å­˜å‚¨ç©ºé—´ã€‚æ–¹æ³•ï¼šæœ‰å·¦å½’å’Œå³å½’ï¼Œå°†å°¾æ•°çš„æœ€é«˜ä½å§‹ç»ˆä¿å­˜ç€ 1ã€‚</strong></p><p>2.16 è¯·è¯´æ˜å¾®æŒ‡ä»¤åœ°å€çš„å½¢æˆæ–¹å¼ä¸»è¦æœ‰å“ªä¸¤ç§åˆ†åˆ«æ˜¯ä»å“ªé‡Œè·å¾—çš„ä¸‹ä¸€æ¡å¾®æŒ‡ä»¤çš„å¾®åœ°å€çš„ï¼Ÿ</p><p>2.17 è®²è®²å•¥æ˜¯å­˜å‚¨ç¨‹åºæ§åˆ¶æ–¹å¼ï¼Ÿ<strong>è¿™æ˜¯å†¯è¯ºä¾æ›¼æ¨¡å‹çš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå­˜å‚¨ç¨‹åºæ˜¯æŒ‡å°†ä¸€æ¡æ¡çš„æŒ‡ä»¤å’Œæ•°æ®ä¿å­˜åœ¨å­˜å‚¨å™¨ä¸­ï¼Œè¦æ‰§è¡ŒæŸä¸€æ¡æŒ‡ä»¤æˆ–è€…æƒ³è¦å–å‡ºæ•°æ®æ—¶ï¼Œå°†å…¶ä»å­˜å‚¨å™¨ä¸­å–å‡ºæ¥ï¼ŒCPU å¯ä»¥è‡ªåŠ¨çš„æ‰§è¡Œå’Œåˆ†æã€‚</strong></p><p>2.18 ç®€è¿° CPU çš„ä¸»è¦åŠŸèƒ½ï¼Ÿ<strong>CPU æ˜¯è®¡ç®—æœºçš„å¤§è„‘ï¼Œå¯æ§åˆ¶æŒ‡ä»¤çš„è¯‘ç å’Œæ‰§è¡Œï¼Œæ•°æ®çš„å¤„ç†ï¼Œä¸­æ–­çš„æ§åˆ¶ï¼ŒæŒ‰åºæŒ‰éœ€çš„æ§åˆ¶è®¡ç®—æœºçš„å„ç§è®¾å¤‡çš„æ­£ç¡®è¿è¡Œã€‚</strong></p><p>2.19 åœ¨è®¡ç®—æœºç³»ç»Ÿç»“æ„ä¸­ï¼Œä»€ä¹ˆæ˜¯ç¼–è¯‘ï¼Ÿä»€ä¹ˆæ˜¯è§£é‡Šï¼Ÿ<strong>ç¼–è¯‘æ˜¯æŒ‡æ‰§è¡Œç¨‹åºå‰å°†å…¶ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå³ä»é«˜çº§è¯­è¨€ç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€å¹¶ä¿å­˜ï¼Œå¦‚æœç¨‹åºæ²¡æœ‰æ”¹å˜ï¼Œæ— éœ€å†æ¬¡ç¼–è¯‘ã€‚è§£é‡Šæ˜¯åœ¨æƒ³è¦è¿è¡Œç¨‹åºå¿…é¡»è§£é‡Šä¸€è¡Œè¿è¡Œä¸€è¡Œï¼Œä¸ä¼šç”Ÿæˆç›®æ ‡ç¨‹åºã€‚</strong></p><p>2.20 åœ¨è®¡ç®—æœºä¸­ï¼Œä¸ºä»€ä¹ˆè¦é‡‡ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºæ•°æ®ï¼Ÿ<strong>äºŒè¿›åˆ¶åªæœ‰ 0 å’Œ 1 ä¸¤ç§çŠ¶æ€ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨ç”µå­è®¾å¤‡æ¥å®ç°ï¼Œå®ç°ç®€å•ï¼ŒèŠ‚çº¦æˆæœ¬ï¼Œå¹¶ä¸”è¿ç®—çš„å¤„ç†æ›´åŠ ç®€å•ã€‚</strong></p><p>2.21 å‘é‡ä¸­æ–­ã€ä¸­æ–­å‘é‡ã€å‘é‡åœ°å€ä¸‰ä¸ªæ¦‚å¿µæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</p><h2 id="3-æ“ä½œç³»ç»Ÿ"><a href="#3-æ“ä½œç³»ç»Ÿ" class="headerlink" title="3. æ“ä½œç³»ç»Ÿ"></a>3. æ“ä½œç³»ç»Ÿ</h2><p>3.1 å†…å­˜ç®¡ç†æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½ï¼Ÿå®ƒä»¬çš„ä¸»è¦ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ<strong>å†…å­˜åˆ†é…ä¸å›æ”¶ã€è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„è½¬æ¢</strong></p><p>3.2 è¯•è¯´æ˜å¼•èµ·è¿›ç¨‹é˜»å¡æˆ–è¢«å”¤é†’çš„ä¸»è¦äº‹ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ<strong>æ‰€éœ€è¦çš„æŸä¸ªèµ„æºæš‚æ—¶æ— æ³•éé…ç»™è¿™ä¸ªé˜»å¡è¿›ç¨‹ï¼Œæˆ–è€…æ˜¯è¿›ç¨‹éœ€è¦è¿›è¡Œ I/O æ“ä½œï¼Œéœ€è¦ç­‰å¾…è¿™ä¸ªèµ„æºè¢«å…¶ä»–è¿›ç¨‹é‡Šæ”¾ï¼Œæ‰å¯ä»¥å°†è¿›ç¨‹å”¤é†’ã€‚</strong></p><p>3.2 åˆ†é¡µå’Œåˆ†æ®µå­˜å‚¨ç®¡ç†æœ‰ä½•åŒºåˆ«ï¼Ÿ<strong>åˆ†é¡µæ˜¯åˆ†æˆå†…å­˜å¤§å°ä¸€è‡´çš„ç©ºé—´ï¼Œè€Œåˆ†æ®µå­˜å‚¨æ˜¯æ ¹æ®ç”¨æˆ·éœ€è¦æ¥åˆ†é…çš„ï¼Œå¤§å°ä¸ä¸€è‡´ï¼Œåˆ†æˆä»£ç æ®µã€æ•°æ®æ®µç­‰ã€‚</strong></p><p>3.3 OS æœ‰å“ªå‡ å¤§ç‰¹å¾ï¼Ÿå…¶æœ€åŸºæœ¬çš„ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>3.4 ä½•è°“æ­»é”ï¼Ÿäº§ç”Ÿæ­»é”çš„åŸå› å’Œå¿…è¦æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ<strong>æ­»é”å°±æ˜¯èµ„æºåˆ†é…ä¸åˆç†å‡ºç°çš„ä¸€ç§äº’ç›¸ç­‰å¾…èµ„æºè€Œåˆéƒ½å¾—ä¸åˆ°æ»¡è¶³çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹éœ€è¦ A èµ„æºè‡ªå·±å æœ‰äº† B èµ„æºï¼Œå¦ä¸€ä¸ªè¿›ç¨‹éœ€è¦ B èµ„æºè‡ªå·±å æœ‰äº† A èµ„æºï¼Œè¿™æ ·å°±å¯¼è‡´ä¸¤ä¸ªè¿›ç¨‹éƒ½æ— æ³•å¾—åˆ°æ»¡è¶³ï¼Œå¯¼è‡´æ­»é”ï¼Œè§£å†³æ–¹æ³•æœ‰èµ„æºå‰¥å¤ºæ³•ã€èµ„æºé¢„åˆ†é…æ³•ã€‚</strong></p><p>3.5 åœ¨åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ—¶æ‰€è¦å®Œæˆçš„ä¸»è¦å·¥ä½œæ˜¯ä»€ä¹ˆï¼Ÿ<strong>ä¸ºè¿›ç¨‹åˆ†é…ç©ºé—´ï¼Œå¦‚ä»£ç æ®µã€æ•°æ®æ®µã€å †æ ˆæ®µï¼Œåˆå§‹åŒ–è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ï¼Œåˆ†é… IO èµ„æºã€IO è®¾å¤‡</strong></p><p>3.6 æ–‡ä»¶ç®¡ç†æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½ï¼Ÿ<strong>æ–‡ä»¶æ˜¯ä¿å­˜åœ¨ç£ç›˜ä»‹è´¨ä¸Šé¢çš„ï¼Œæ–‡ä»¶çš„ç®¡ç†åŒ…æ‹¬æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥ï¼Œå…±äº«å’Œä¿æŠ¤ã€‚</strong></p><p>3.7 è¯•è¯´æ˜è¿›ç¨‹åœ¨ä¸‰ä¸ªåŸºæœ¬çŠ¶æ€ä¹‹é—´è½¬æ¢çš„å…¸å‹åŸå› ã€‚<strong>é¦–å…ˆè¿›ç¨‹çš„ä¸‰ç§çŠ¶æ€åŒ…æ‹¬å°±ç»ªæ€ã€è¿è¡Œæ€ã€ç­‰å¾…æ€ï¼Œå°±ç»ªæ€åˆ°è¿è¡Œæ€ï¼šè½¬å˜æ˜¯å› ä¸ºè¿›ç¨‹åˆ†é…åˆ°äº† CPU èµ„æºï¼Œè¿è¡Œæ€åˆ°å°±ç»ªæ€ï¼šæ˜¯åˆ†é…ç»™è¿›ç¨‹çš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œè¿è¡Œæ€åˆ°ç­‰å¾…æ€ï¼šIO è¯·æ±‚ï¼Œç­‰å¾…æ€åˆ°å°±ç»ªæ€ï¼šIO äº‹ä»¶å®Œæˆäº†</strong></p><p>3.8 åœ¨è§£å†³æ­»é”é—®é¢˜çš„å‡ ä¸ªæ–¹æ³•ä¸­ï¼Œå“ªç§æ–¹æ³•æœ€æ˜“äºå®ç°ï¼Ÿå“ªç§æ–¹æ³•ä½¿èµ„æºåˆ©ç”¨ç‡æœ€é«˜ï¼Ÿ<strong>æœ‰å››ç§æ–¹æ³•ï¼šé¢„é˜²ã€é¿å…ã€æ£€æµ‹å’Œè§£é™¤</strong></p><p>3.9 é«˜çº§è°ƒåº¦ä¸ä½çº§è°ƒåº¦çš„ä¸»è¦ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>3.10 åˆ†åŒºå­˜å‚¨ç®¡ç†ä¸­å¸¸ç”¨å“ªäº›åˆ†é…ç­–ç•¥ï¼Ÿ<strong>åˆ†åŒºå­˜å‚¨ç®¡ç†æ˜¯å¯¹å†…å­˜è¿›è¡Œåˆ†åŒºç®¡ç†ï¼Œé‡‡ç”¨åˆé€‚çš„ç­–ç•¥ç»™è¿›ç¨‹åˆ†é…å†…å­˜ç©ºé—´ï¼Œæœ‰é¦–æ¬¡é€‚åº”ç®—æ³•ã€æœ€ä½³é€‚åº”ç®—æ³•ã€æœ€åé€‚åº”ç®—æ³•ã€æœ€è¿‘ä½¿ç”¨ç®—æ³•</strong></p><p>3.11 ç›®å‰å¹¿æ³›é‡‡ç”¨çš„ç›®å½•ç»“æ„å½¢å¼æ˜¯å“ªç§ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ<strong>æ ‘å½¢ç›®å½•ç»“æ„ï¼Œå±‚æ¬¡æ¸…æ™°ã€ä¾¿äºç®¡ç†ã€æŸ¥æ‰¾æ•ˆç‡é«˜ã€‚</strong></p><p>3.12 ç›®å‰å¸¸ç”¨çš„ç£ç›˜è°ƒåº¦ç®—æ³•æœ‰å“ªå‡ ç§ï¼Ÿ<strong>é¦–å…ˆç£ç›˜è°ƒåº¦æ˜¯æŒ‡ä¼˜åŒ–äº†ç£ç›˜çš„è¯·æ±‚é¡ºåºï¼Œæ¥å‡å°‘ç£ç›˜çš„å¯»é“æ—¶é—´ï¼Œå¯»é“æ—¶é—´æ˜¯è®¿é—®ç£ç›˜çš„æ—¶å€™æœ€è€—æ—¶çš„éƒ¨åˆ†ï¼Œæœ‰å…ˆæ¥å…ˆæœè°ƒåº¦ç®—æ³•ï¼ˆFCFSï¼‰ã€æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆç®—æ³•ï¼ˆSSTFï¼‰ã€æ‰«æç®—æ³•ï¼ˆSCANï¼‰ã€å¾ªç¯æ‰«æç®—æ³•ï¼ˆC-SCANï¼‰ã€‚</strong></p><p>3.13 è®¾å¤‡æ§åˆ¶å™¨çš„ç»„æˆï¼Ÿ</p><p>3.14 è¯•è¯´æ˜ PCB çš„ä½œç”¨ï¼Œä¸ºä»€ä¹ˆè¯´ PCB æ˜¯è¿›ç¨‹å­˜åœ¨çš„æƒŸä¸€æ ‡å¿—ï¼Ÿ<strong>PCB æ˜¯è¿›ç¨‹æ§åˆ¶å—ï¼Œç³»ç»Ÿæ¯åˆ›å»ºä¸€ä¸ªè¿›ç¨‹å°±éœ€è¦ä¸ºå…¶åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹æ§åˆ¶å—ä¸­åŒ…å«äº†è¿›ç¨‹è°ƒåº¦æ‰€éœ€è¦çš„å¿…è¦ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹ IDã€è¿›ç¨‹ä¼˜å…ˆçº§ã€è¿›ç¨‹æ‰“å¼€æ–‡ä»¶è¡¨ç­‰ä¿¡æ¯ï¼Œåœ¨è¿›è¡Œè¿›ç¨‹è°ƒåº¦å‰éœ€è¦çŸ¥é“è¿™äº›ä¿¡æ¯ã€‚</strong></p><p>3.15 è¯•ä»ç‰©ç†æ¦‚å¿µä¸Šè¯´æ˜è®°å½•å‹ä¿¡å·é‡ wait å’Œ signalï¼Ÿ<strong>ä¿¡å·é‡æ˜¯ä»£è¡¨äº†èµ„æºå¯ç”¨çš„æ•°ç›®ï¼Œæ‰§è¡Œ wait æ—¶ï¼Œè¡¨ç¤ºç”³è¯·èµ„æºï¼Œä¼šå°†ä¿¡å·é‡å‡ä¸€ï¼Œè¡¨ç¤ºèµ„æºè¢«æ‹¿èµ°äº†ä¸€ä¸ªï¼Œè‹¥ä¿¡å·é‡ç­‰äºé›¶ï¼Œå†ä½¿ç”¨ wait éœ€è¦ç­‰å¾…ï¼›signal è¡¨ç¤ºå½’è¿˜ä¸€ä¸ªèµ„æºï¼Œä¿¡å·é‡ +1ï¼Œé‚£äº›è¢«ä¿¡å·é‡é˜»å¡çš„è¿›ç¨‹å¯ä»¥è¿›å…¥å°±ç»ªæ€ç­‰å¾…è°ƒç”¨ã€‚</strong></p><p>3.16 ä»€ä¹ˆæ˜¯ç¡¬å®æ—¶ä»»åŠ¡å’Œè½¯å®æ—¶ä»»åŠ¡ï¼Ÿ</p><p>3.17 ç®€è¿°é“¶è¡Œå®¶ç®—æ³•ï¼Ÿ<strong>é“¶è¡Œå®¶ç®—æ³•æŠŠç³»ç»Ÿå½“æˆé“¶è¡Œå®¶ï¼Œèµ„æºå½“æˆèµ„é‡‘ï¼Œè¿›ç¨‹è¢«è§†ä½œå®¢æˆ·ï¼Œåœ¨åˆ†é…ç»™å®¢æˆ·èµ„æºå‰ï¼Œå…ˆæ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å¤„äºå®‰å…¨çŠ¶æ€ï¼Œå¦‚æœå®‰å…¨ï¼Œå°†å…¶éé…ç»™å®¢æˆ·ï¼Œä»è€Œä¿è¯ä¸å‘ç”Ÿæ­»é”ã€‚</strong></p><p>3.18 SPOOLing æŠ€æœ¯çš„ç‰¹ç‚¹ï¼Ÿ<strong>SPOOLing æ˜¯å‡è„±æœºæ“ä½œï¼Œè®©å®¢æˆ·ä»¥ä¸ºè‡ªå·±ç‹¬å äº†ä¸€ä¸ªè®¾å¤‡ï¼Œå®é™…ä¸Šåªæ˜¯åœ¨è®¾å¤‡ç”³è¯·ä½¿ç”¨è¡¨ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™ç§æŠ€æœ¯å°†ç‹¬å è®¾å¤‡æ”¹æˆäº†å…±äº«è®¾å¤‡ï¼Œæé«˜äº†è®¾å¤‡åˆ©ç”¨ç‡ã€‚</strong></p><p>3.19 æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½ï¼Ÿ<strong>è¿›ç¨‹ç®¡ç†ã€æ–‡ä»¶ç®¡ç†ã€ç£ç›˜ç®¡ç†ã€å†…å­˜ç®¡ç†ã€è®¾å¤‡ç®¡ç†</strong></p><p>3.19 ä»€ä¹ˆæ˜¯é¡µè¡¨å’Œå¿«è¡¨ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ<strong>é¡µè¡¨æŒ‡å‡ºé€»è¾‘åœ°å€ä¸­çš„é¡µå·ä¸æ‰€å ä¸»å­˜å—å·çš„å¯¹åº”å…³ç³»ã€‚ä½œç”¨ï¼šé¡µå¼å­˜å‚¨ç®¡ç†åœ¨ç”¨åŠ¨æ€é‡å®šä½æ–¹å¼è£…å…¥ä½œä¸šæ—¶ï¼Œè¦åˆ©ç”¨é¡µè¡¨åšåœ°å€è½¬æ¢å·¥ä½œã€‚å¿«è¡¨å°±æ˜¯å­˜æ”¾åœ¨é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨çš„éƒ¨åˆ†é¡µè¡¨ã€‚å®ƒèµ·é¡µè¡¨ç›¸åŒçš„ä½œç”¨ã€‚ç”±äºé‡‡ç”¨é¡µè¡¨åšåœ°å€è½¬æ¢ï¼Œè¯»å†™å†…å­˜æ•°æ®æ—¶ CPU è¦è®¿é—®ä¸¤æ¬¡ä¸»å­˜ã€‚æœ‰äº†å¿«è¡¨ï¼Œæœ‰æ—¶åªè¦è®¿é—®ä¸€æ¬¡é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼Œä¸€æ¬¡ä¸»å­˜ï¼Œè¿™æ ·å¯åŠ é€ŸæŸ¥æ‰¾å¹¶æé«˜æŒ‡ä»¤æ‰§è¡Œé€Ÿåº¦ã€‚</strong></p><h2 id="4-è®¡ç®—æœºç½‘ç»œ"><a href="#4-è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="4. è®¡ç®—æœºç½‘ç»œ"></a>4. è®¡ç®—æœºç½‘ç»œ</h2><p>4.1 ç®€è¿°äº¤æ¢æœºå·¥ä½œåŸç†ã€‚<strong>äº¤æ¢æœºå¯ä»¥è¿›è¡Œ MAC åœ°å€è‡ªå­¦ä¹ ï¼Œå»ºç«‹ MAC åœ°å€è¡¨ï¼Œä»è€Œå®ç°æœ¬åœ°å±€åŸŸç½‘çš„æ•°æ®è½¬å‘ï¼Œå¯ä»¥éš”ç¦»å†²çªåŸŸ</strong></p><p>4.2 TCP/IP çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ<strong>å°†ç½‘ç»œé€šä¿¡å®ç°ä¸ºåˆ†å±‚çš„è®¾è®¡ï¼Œæ¯ä¸ªå±‚æ¬¡è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ï¼Œå¹¶ä¸”é€šè¿‡è¿™ç§åˆ†å±‚çš„è®¾è®¡ï¼Œæ›´å®¹æ˜“å®ç°ç½‘ç»œçš„æ‰©å±•ï¼Œå…¶ä¸­ TCP åè®®å®ç°ç½‘ç»œçš„å¯é ä¼ è¾“ï¼Œæ˜¯æœ‰è¿æ¥çš„ï¼Œå¯é çš„ï¼›IP åè®®å®ç°ç½‘ç»œä¸­æ•°æ®åŒ…çš„ä¼ è¾“ï¼Œå¹¶ä¸”ç»™æ¯ä¸ªè®¾å¤‡å®šä¹‰ä¸€ä¸ªå”¯ä¸€çš„ IP åœ°å€ï¼Œæ˜¯æ— è¿æ¥çš„ï¼Œä¸å¯é çš„ã€‚</strong></p><p>4.2 ä»€ä¹ˆæ˜¯æ›¼å½»æ–¯ç‰¹ç¼–ç å’Œå·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼Ÿå…¶ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ<strong>æ›¼å½»æ–¯ç‰¹ç¼–ç å’Œå·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç æ˜¯æ•°å­—é€šä¿¡ä¸­å¸¸ç”¨çš„ç¼–ç æ–¹å¼ï¼Œç”¨äºåœ¨æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­è¿›è¡Œä¿¡å·è°ƒåˆ¶ä»¥åŠæ•°æ®åŒæ­¥ã€‚</strong></p><p>4.3 ç®€è¿°è½¬å‘å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨å’Œç½‘å…³çš„å·¥ä½œå±‚æ¬¡å’Œä½œç”¨ã€‚<strong>è½¬å‘å™¨å·¥ä½œåœ¨ç‰©ç†å±‚ï¼Œç”¨äºæ”¾å¤§ä¿¡å·å»¶é•¿ä¼ è¾“è·ç¦»ï¼›äº¤æ¢æœºå·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œç”¨äºå®ç°å±€åŸŸç½‘å†…åŸºäºç›®çš„ MAC åœ°å€çš„æ•°æ®è½¬å‘ï¼›è·¯ç”±å™¨å·¥ä½œåœ¨ç½‘ç»œå±‚ï¼Œå®ç°ä¸åŒç½‘ç»œçš„æ•°æ®è½¬å‘ï¼Œé€šè¿‡è·¯ç”±è¡¨æ¥è®¡ç®—è½¬å‘è·¯å¾„ï¼Œé€šè¿‡ç›®çš„ IP æ¥å®ç°ä»ä¸€ä¸ªç½‘ç»œåˆ°è¾¾å¦å¤–ä¸€ä¸ªç½‘ç»œï¼›ç½‘å…³å·¥ä½œåœ¨åº”ç”¨å±‚ï¼Œæ˜¯ç½‘ç»œçš„å…¥å£ã€‚</strong></p><p>4.4 ç«¯åˆ°ç«¯é€šä¿¡å’Œç‚¹åˆ°ç‚¹é€šä¿¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<strong>ç«¯åˆ°ç«¯ä¹‹é—´çš„é€šä¿¡æ˜¯å»ºç«‹åœ¨ä¼ è¾“å±‚çš„ï¼Œå› ä¸ºæ— è®ºæ˜¯TCP è¿˜æ˜¯ UDP åè®®ï¼Œéƒ½éœ€è¦å»ºç«‹å‘é€ç«¯å’Œæ¥æ”¶ç«¯ï¼Œå®ç°çš„æ˜¯åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼›ç‚¹åˆ°ç‚¹é€šä¿¡æ˜¯åœ¨æ•°æ®é“¾è·¯å±‚ï¼ŒåŸºäº MAC åœ°å€ï¼Œåªè½¬å‘ç»™ç›¸é‚»çš„èŠ‚ç‚¹ã€‚</strong></p><p>4.5 ä»€ä¹ˆæ˜¯ CSMAï¼CDï¼Ÿå¹¶è®ºè¿°å…¶å‘é€è¿‡ç¨‹ã€‚<strong>ä¸€ç§ç”¨äºä»¥å¤ªç½‘å±€åŸŸç½‘ä¸­çš„ä»‹è´¨è®¿é—®æ§åˆ¶æ–¹æ³•ï¼Œç”¨äºåè°ƒå¤šä¸ªè®¾å¤‡åœ¨å…±äº«ä»‹è´¨ä¸Šè¿›è¡Œæ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ã€‚</strong></p><p>4.6 ç®€è¿° TCP å’Œ UDP åè®®çš„ä¸»è¦ç‰¹ç‚¹å’Œåº”ç”¨åœºåˆï¼Ÿ <strong>TCP æ˜¯é¢å‘è¿æ¥çš„ï¼Œåœ¨ä¼ è¾“æ•°æ®ä¹‹å‰éœ€è¦å»ºç«‹ä¸€æ¡å¯é çš„æ•°æ®è¿æ¥ï¼Œåœ¨ä¼ è¾“ç»“æŸåï¼Œæ‰ä¼šé‡Šæ”¾è¿æ¥ï¼Œå¯é ä¼ è¾“æ˜¯é€šè¿‡ç¡®è®¤ã€é‡ä¼ ã€æµé‡æ§åˆ¶ã€æ‹¥å¡é¿å…æ¥å®ç°çš„ï¼Œåº”ç”¨åœºæ™¯ï¼šç”µå­é‚®ä»¶ã€æ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µæµè§ˆï¼›UDP æ˜¯æ— è¿æ¥çš„ï¼Œä¸æä¾›å¯é ä¼ è¾“ï¼Œä¼ è¾“çš„æ•°æ®ä¹Ÿæ²¡æœ‰é¡ºåºæ€§ï¼Œåº”ç”¨åœºæ™¯ï¼šæµåª’ä½“ã€å®æ—¶è§†é¢‘é€šè®¯ã€è¯­éŸ³é€šè¯ç­‰ã€‚</strong></p><p>4.7 ä»€ä¹ˆæ˜¯å¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Ÿæœ‰å‡ ç§å¤ç”¨æ–¹æ³•ï¼Ÿ<strong>å¤šè·¯å¤ç”¨æŠ€æœ¯æ˜¯æŒ‡ä¸€ä¸ªä¿¡é“å®ç°å¤šä¸ªæ•°æ®æµçš„ä¼ è¾“ï¼Œä»¥æ­¤æ¥æé«˜ä¿¡é“çš„åˆ©ç”¨ç‡ï¼Œé€šè¿‡å¤ç”¨çš„æŠ€æœ¯æ¥å°†ä¸€ä¸ªå¹¿æ’­ä¿¡é“é€»è¾‘ä¸Šåˆ†ä¸ºå‡ ä¸ªäº’ä¸å¹²æ‰°çš„å­ä¿¡é“ï¼Œå¸¸è§çš„å¤ç”¨æ–¹æ³•ï¼šé¢‘åˆ†å¤ç”¨ã€ç åˆ†å¤ç”¨ã€æ—¶åˆ†å¤ç”¨ã€‚</strong></p><p>4.8 ä»€ä¹ˆæ˜¯åŸŸåè§£æï¼ŒåŸŸåè§£æä¸­é‡‡å–äº†ä»€ä¹ˆæªæ–½æé«˜æ•ˆç‡ï¼Ÿ<strong>åŸŸåè§£é‡Šæ˜¯å°†äººä»¬ç†ŸçŸ¥çš„åŸŸåè§£æä¸º IPåœ°å€ï¼Œå½“è¾“å…¥ä¸€ä¸ªç½‘å€çš„æ—¶å€™ï¼Œè®¡ç®—æœºéœ€è¦é€šè¿‡åŸŸåè·å– IP åœ°å€ï¼Œç„¶åå†å»ºç«‹è¿æ¥ã€‚é‡‡å–çš„æªæ–½ï¼šDNS ç¼“å­˜ï¼ŒDNS è´Ÿè½½å‡è¡¡ã€‚</strong></p><p>4.9 ç®€è¿° HTTP åè®®çš„ç‰¹ç‚¹å’Œå·¥ä½œè¿‡ç¨‹ã€‚<strong>HTTP æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œå¸¸ç”¨äº web çš„ç½‘é¡µä¼ è¾“æ ¼å¼åè®®ï¼Œç‰¹ç‚¹ï¼šæ— è¿æ¥ã€æ— çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ Cookieã€Session æŠ€æœ¯æ¥ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œæ ¼å¼ç®€å•ï¼Œæœ‰ GETã€POST ç­‰è¯·æ±‚æ ¼å¼ã€‚</strong></p><p>4.10 SMTP åè®®çš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ<strong>SMTP æ˜¯ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼Œç”¨äºä¼ è¾“ç”µå­é‚®ä»¶ï¼Œå¯ä»¥å‘é€ã€æ¥æ”¶ã€è½¬å‘ï¼Œé€šå¸¸æ¥å—é‚®ä»¶é‡‡ç”¨ POP3ã€IMAPï¼ŒSTMP æœ‰æ—¶å€™ä¹Ÿå¯ä»¥æ¥æ”¶é‚®ä»¶ã€‚</strong></p><p>4.11 ç®€è¿° ICMPã€DHCP çš„ä½œç”¨ï¼ŸDHCP æµç¨‹ï¼Ÿ <strong>ICMP ç”¨äºç”¨äºæ£€æµ‹ç½‘ç»œä¸­çš„çŠ¶æ€ä¿¡æ¯ï¼Œç¡®ä¿ç½‘ç»œå¯é ï¼Œå¹¶ä¸”æä¾›å·®é”™æŠ¥å‘Šï¼›DHCP æ˜¯ç”¨äºç»™ä¸»æœºåŠ¨æ€çš„åˆ†é… IP åœ°å€ï¼ŒDHCP æµç¨‹ï¼šDHCP Discoverã€DHCP Offerã€DHCP Requestã€DHCP Acknowledgeã€‚</strong></p><p>4.12 é¢å‘è¿æ¥æœåŠ¡ä¸æ— è¿æ¥æœåŠ¡å„è‡ªçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆ? <strong>é¢å‘è¿æ¥çš„æœåŠ¡ä¼ è¾“æ•°æ®å‰è¦å…ˆå»ºç«‹è¿æ¥ï¼Œä¼ è¾“å®Œæ•°æ®åé‡Šæ”¾è¿æ¥ï¼Œä¼ è¾“çš„æ•°æ®å¯é ã€æœ‰åºï¼Œå¸¸ç”¨äºæ–‡ä»¶ä¼ è¾“ç­‰å¯é æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼›æ— è¿æ¥æœåŠ¡ï¼Œä¸éœ€è¦ç¹ççš„è¿æ¥è¿‡ç¨‹ï¼Œä½†æ˜¯æ•°æ®ä¸ä¿è¯å¯é æ€§ä¸æœ‰åºæ€§ï¼Œåº”ç”¨åœºæ™¯ï¼šå¸¸ç”¨äºå®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œæ¯”å¦‚å®æ—¶é€šè®¯ã€è¯­è¨€é€šè¯ã€‚</strong></p><p>4.13 æ¯”è¾ƒæ¨¡æ‹Ÿé€šä¿¡æ–¹å¼ä¸æ•°å­—é€šä¿¡æ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</p><p>4.14 æ¯”è¾ƒ OSI å‚è€ƒæ¨¡å‹ä¸ TCPï¼IP å‚è€ƒæ¨¡å‹çš„å¼‚åŒç‚¹ã€‚<strong>OSI æœ‰ 7 å±‚ï¼ŒTCP/IP æœ‰å››å±‚ï¼ŒOSI çš„æ¨¡å‹ä½¿ç”¨èµ·æ¥æ¯”è¾ƒåƒµåŒ–ï¼Œå¹¶æ²¡æœ‰å¾—åˆ°å¹¿æ³›è¿ç”¨ï¼Œæ˜¯ä¸€ä¸ªç†è®ºä¸Šçš„æ¨¡å‹ï¼›TCP/IP æ¨¡å‹æ›´å…·æœ‰çµæ´»æ€§ï¼Œå®¹æ˜“æ‰©å±•ï¼Œæ‰€ä»¥åœ¨å®é™…è¿ç”¨ä¸­æ›´åŠ å¹¿æ³›ã€‚</strong></p><p>4.15 ç®€è¿°é€‰æ‹©é‡ä¼  ARQ åè®®çš„å·¥ä½œåŸç†ï¼Ÿ</p><p>4.16 ä¸ºä»€ä¹ˆ FTP åè®®è¦ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„è¿æ¥ï¼Œå³æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥ï¼Ÿ<strong>ä½¿ç”¨æ§åˆ¶è¿æ¥æ¥å¤„ç†è¿æ¥è¯·æ±‚ï¼Œæ•°æ®è¿æ¥æ¥ä¼ è¾“æ•°æ®ï¼Œèƒ½å¤Ÿæ›´åŠ çµæ´»ï¼Œæé«˜æ–‡ä»¶ä¼ è¾“çš„å¹¶å‘èƒ½åŠ›ã€‚</strong></p><p>4.17Internet åŸŸåç³»ç»Ÿçš„ä¸»è¦ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ<strong>å®ƒçš„äº¤äº’è¿‡ç¨‹ç”±å“ªä¸‰ç§å®ä½“ç»„æˆï¼Ÿå°†ç”¨æˆ·ç†ŸçŸ¥çš„åŸŸååœ°å€è½¬ä¸ºè®¡ç®—æœºå¯ä»¥è¯†åˆ«çš„ IP åœ°å€ï¼Œäº¤äº’ï¼šDNS å®¢æˆ·ç«¯ã€DNS æœåŠ¡å™¨ã€DNS</strong></p><p>4.18 åŠ¨æ€è·¯ç”±ç®—æ³•æœ‰é‚£äº›ï¼Ÿ<strong>è·ç¦»å‘é‡è·¯ç”±ç®—æ³•ï¼ˆRIPï¼‰ï¼Œé“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•ï¼ˆOSPFï¼‰</strong></p><p>4.19 ä¸ºä»€ä¹ˆè¦è¿›è¡Œæµé‡æ§åˆ¶ï¼Ÿ<strong>é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œå‡è½»æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå‡å°‘æˆæœ¬ã€‚</strong></p><p>4.20 ä¸»æœºé—´çš„é€šä¿¡æ–¹å¼ï¼Ÿ</p><h2 id="5-æ•°æ®åº“"><a href="#5-æ•°æ®åº“" class="headerlink" title="5. æ•°æ®åº“"></a>5. æ•°æ®åº“</h2><p> 5.1 äº‹åŠ¡æŒ‡çš„æ˜¯æ»¡è¶³ ACID ç‰¹æ€§çš„ä¸€ç»„æ“ä½œï¼Œé‚£ ACID å…·ä½“æŒ‡çš„æ˜¯å•¥ï¼Ÿ<strong>åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§</strong></p><p>5.2 äº‹åŠ¡çš„å¹¶å‘ä¸€è‡´æ€§é—®é¢˜æœ‰é‚£äº›ï¼Ÿ<strong>å¹»è¯»ã€è„è¯»ã€ä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»æ˜¯æŒ‡</strong></p><p>5.3 ä¸ç¬¦åˆèŒƒå¼çš„å…³ç³»ï¼Œä¼šäº§ç”Ÿå¾ˆå¤šå¼‚å¸¸ï¼Œä¸»è¦æœ‰é‚£äº›å¼‚å¸¸ï¼Ÿ<strong>æ•°æ®å†—ä½™</strong></p><p>5.4 èŒƒå¼æœ‰é‚£äº›ï¼Œå…·ä½“è®²è®²ï¼Ÿ<strong>ä»ä½åˆ°é«˜ä¸»è¦æœ‰ï¼š1NFã€2NFã€3NFã€BCNFã€4NFã€5NFã€‚</strong></p><p>5.5 æ•°æ®çš„å®Œæ•´æ€§æ˜¯æŒ‡æ•°æ®çš„æ­£ç¡®æ€§å’Œç›¸å®¹æ€§ï¼Œé˜²æ­¢ä¸åˆè¯­ä¹‰çš„æ•°æ®è¿›å…¥æ•°æ®åº“ã€‚</p><p>5.6 E-R å›¾çš„ä¸‰ç§å†²çª? <strong>E-R å›¾æ˜¯å®ä½“å…³ç³»å›¾ï¼Œç”¨æ¥è¡¨ç¤ºæ•°æ®åº“æ¦‚å¿µæ¨¡å‹ï¼ŒåŒ…å«äº‹ç‰©ã€å±æ€§å’Œäº‹ç‰©ä¹‹é—´çš„å…³ç³»ã€‚ä¸‰ç§å†²çªåŒ…æ‹¬ï¼šå±æ€§å†²çªã€å‘½åå†²çªã€ç»“æ„å†²çªï¼Œå†²çªæ˜¯åœ¨åˆå¹¶ ER å›¾çš„æ—¶å€™å‘ç”Ÿçš„ã€‚</strong></p><p>5.7 è§†å›¾çš„ä½œç”¨ï¼Ÿ<strong>è§†å›¾å®ƒæœ¬èº«å¹¶ä¸åŒ…å«æ•°æ®ï¼Œä»–åªæ˜¯æŸ¥çœ‹ä¿å­˜åœ¨åˆ«å¤„çš„æ•°æ®çš„ä¸€ç§æ“ä½œã€‚ä½œç”¨ï¼šç®€åŒ– SQL æ“ä½œï¼Œé‡ç”¨ SQL è¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥å®ç°ç”¨æˆ·æƒé™ç®¡ç†</strong></p><p>5.8 æ•°æ®åº“å®‰å…¨æ€§æ§åˆ¶çš„ä¸€èˆ¬æ–¹æ³•æœ‰é‚£äº›ï¼Ÿ<strong>è®¿é—®æ§åˆ¶ã€åŠ å¯†æ“ä½œ</strong></p><p>5.9 ç´¢å¼•çš„è®¾è®¡åŸåˆ™ï¼Ÿ</p><p>5.10 æ•°æ®åº“æ•…éšœå¯åˆ†ä¸ºï¼Ÿ</p><p>5.11 è‡ªç„¶è¿æ¥ä¸ç­‰å€¼è¿æ¥çš„åŒºåˆ«ï¼Ÿ<strong>è‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥</strong></p><p>5.12 èŒƒå¼çš„å®šä¹‰ï¼Ÿ<strong>èŒƒå¼æ˜¯æ•°æ®åº“è¡¨è®¾è®¡æ—¶çš„ä¸€ç§è§„èŒƒï¼Œæ˜¯ä¸ºäº†å‡å°‘æ•°æ®å†—ä½™ï¼Œæé«˜æ•°æ®ä¸€è‡´æ€§çš„ä¸€ç§æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰å¤§èŒƒå¼ï¼š1NFã€2NFã€3NFï¼Œå…¶ä¸­ç¬¬ä¸€èŒƒå¼æ˜¯ç¡®ä¿æ•°æ®è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯åŸå­çš„ï¼Œä¸èƒ½å†åˆ†å‰²ï¼›ç¬¬äºŒèŒƒå¼ï¼Œå†ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸€å¼ è¡¨çš„éä¸»å±æ€§å¿…é¡»å®Œå…¨ä¾èµ–äºå€™é€‰é”®ï¼Œä¸èƒ½åªä¾èµ–äºå€™é€‰é”®çš„ä¸€éƒ¨åˆ†ï¼›ç¬¬ä¸‰èŒƒå¼ï¼Œåœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šï¼Œéä¸»å±æ€§ä¹‹é—´ä¸èƒ½å«æœ‰ä¾èµ–å…³ç³»ï¼Œæ²¡æœ‰ä¼ é€’ä¾èµ–ï¼Œéä¸»å±æ€§åªèƒ½ä¾èµ–äºå€™é€‰é”®ã€‚</strong></p><p>5.13 ç´¢å¼•å»ºçš„å¤šçš„å¥½è¿˜æ˜¯å°‘çš„å¥½ï¼Ÿ<strong>ç´¢å¼•ç±»ä¼¼ç›®å½•ï¼ŒMysql çš„ InnoDB å¼•æ“é»˜è®¤ä½¿ç”¨ B+ æ ‘ä½œä¸ºç´¢å¼•ï¼Œéœ€è¦é¢å¤–çš„ç©ºé—´å»ä¿å­˜ç´¢å¼•ï¼Œç´¢å¼•çš„å»ºç«‹è¦é€‚åº¦ï¼Œå»ºç«‹å¤ªå¤šäº†ï¼Œç»´æŠ¤ç´¢å¼•è¡¨çš„ä¿®æ”¹éœ€è¦å¤ªå¤šèµ„æºï¼Œæµªè´¹äº†ï¼Œç´¢å¼•å»ºç«‹è¿‡å°‘ï¼Œåˆä¸èƒ½è¾¾åˆ°åŠ å¿«æ£€ç´¢æ•°æ®é€Ÿåº¦çš„æ•ˆæœã€‚</strong></p><p>5.13.5 ä¸ºä»€ä¹ˆ Mysql é‡‡ç”¨ B+ æ ‘ä½œä¸ºç´¢å¼•ï¼Œè€Œä¸æ˜¯ B æ ‘ï¼Ÿ<strong>è¿™æ¶‰åŠåˆ°äº† B+ æ ‘çš„ä¼˜ç‚¹ï¼Œç”±äº B+ æ ‘çš„éå¶å­èŠ‚ç‚¹å¹¶ä¸ä¿å­˜æ•°æ®çš„å…·ä½“å†…å®¹ï¼Œåªä¿å­˜äº†ä¸€éƒ¨åˆ†æŸ¥æ‰¾ç›¸å…³çš„å¿…è¦ä¿¡æ¯ï¼Œæ•°æ®åº“è¯»ä¸€æ¬¡å†…å­˜å¯ä»¥æŸ¥æ‰¾çš„æ•°æ®çš„èŒƒå›´è¦æ¯” B æ ‘å¤§å¾—å¤šï¼Œå‡å°‘äº†å†…å­˜è¯»å–æ¬¡æ•°ï¼Œå¹¶ä¸” B+ æ ‘çš„å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒé“¾è¡¨ï¼Œå¯ä»¥å®ç°èŒƒå›´æŸ¥æ‰¾ï¼ŒåŠ å¿«äº†æŸ¥æ‰¾é¡ºåºã€‚</strong></p><p>5.14 æ•°æ®æ¨¡å‹æœ‰å“ªå‡ ç§ï¼Ÿ</p><h2 id="6-è½¯ä»¶å·¥ç¨‹"><a href="#6-è½¯ä»¶å·¥ç¨‹" class="headerlink" title="6. è½¯ä»¶å·¥ç¨‹"></a>6. è½¯ä»¶å·¥ç¨‹</h2><p>6.0 è½¯ä»¶å·¥ç¨‹çš„è®¤è¯†ï¼Ÿ</p><p>6.1 è½¯ä»¶é‡ç”¨ï¼Ÿ<strong>è½¯ä»¶é‡ç”¨æ˜¯æŒ‡åœ¨å¼€å‘è½¯ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨å·²æœ‰çš„è½¯ä»¶æ¨¡å—ã€ä»£ç ï¼Œæ¥å¼€å‘å…¶ä»–çš„è½¯ä»¶ï¼Œè¿™æ ·å¯ä»¥èŠ‚çº¦æˆæœ¬ï¼Œå‡å°‘äººå‘˜çš„é‡å¤åŠ³åŠ¨ï¼Œæé«˜è½¯ä»¶å¼€å‘çš„æ•ˆç‡ï¼Œæ¯”å¦‚æˆ‘è‡ªå·±é¡¹ç›®ä¸­ç”¨çš„muduo åº“ã€Json åº“éƒ½æ˜¯åˆ«çš„å›¢é˜Ÿå·²ç»å¼€å‘å¥½çš„ï¼Œç»å†è¿‡è®¸å¤šè¿­ä»£å’Œä¼˜åŒ–å¥½çš„åº“ã€‚æœ‰å‡ ç§å¸¸è§çš„æ–¹æ³•æ¥å®ç°è½¯ä»¶é‡ç”¨ï¼šæ¨¡å—åŒ–å¼€å‘ã€è®¾è®¡åº“å’Œæ¡†æ¶ã€åˆ©ç”¨è®¾è®¡æ¨¡å¼ã€‚</strong></p><p>6.2 è½¯ä»¶æµ‹è¯•ç±»å‹ï¼Ÿ<strong>è½¯ä»¶æµ‹è¯•æ˜¯æŒ‡åœ¨è½¯ä»¶å‘å¸ƒå‰ï¼Œä½¿ç”¨å„ç§æ–¹æ³•æ¥æµ‹è¯•è½¯ä»¶çš„è´¨é‡ã€å¯è¡Œæ€§ã€å®‰å…¨æ€§ï¼Œå‘ç°è½¯ä»¶æ½œåœ¨çš„é—®é¢˜ã€‚ç±»å‹æœ‰ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€ç¾éš¾æ¢å¤æµ‹è¯•ç­‰ï¼Œå•å…ƒæµ‹è¯•æ˜¯é’ˆå¯¹è½¯ä»¶ä¸­æœ€å°å¯æµ‹è¯•å•å…ƒè¿›è¡Œæµ‹è¯•ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼›é›†æˆæµ‹è¯•ï¼šæµ‹è¯•å¤šä¸ªå•å…ƒæ¨¡å—ç»„åˆåäº¤äº’çš„æµ‹è¯•ã€‚æ€§èƒ½æµ‹è¯•ï¼šæ˜¯æµ‹è¯•è½¯ä»¶åœ¨ä¸åŒè´Ÿè½½èƒ½åŠ›ä¸‹çš„è¡¨ç°ï¼Œå¦‚å“åº”é€Ÿåº¦ã€ç³»ç»Ÿååç‡ã€‚ç¾éš¾æ¢å¤æ€§æµ‹è¯•ï¼šæ˜¯æŒ‡æµ‹è¯•è½¯ä»¶ç³»ç»Ÿåœ¨ç¾éš¾å‘ç”Ÿæ—¶çš„è½¯ä»¶åº”å¯¹èƒ½åŠ›ï¼Œå¦‚æ•°æ®å¤‡ä»½èƒ½åŠ›ã€ç³»ç»Ÿæ¢å¤èƒ½åŠ›ã€‚</strong></p><p>6.3 è½¯ä»¶å·¥ç¨‹æ­¥éª¤ï¼Ÿ<strong>è½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œä¸€èˆ¬æ­¥éª¤ï¼šé—®é¢˜å®šä¹‰ã€å¯è¡Œæ€§åˆ†æã€éœ€æ±‚åˆ†æã€è½¯ä»¶çš„å¼€å‘ï¼ˆè®¾è®¡ã€å®ç°ã€æµ‹è¯•ï¼‰ã€ç»´æŠ¤ï¼ˆè½¯ä»¶ä¸Šçº¿åè‚¯å®šæ˜¯ä¸å®Œç¾çš„ï¼Œéœ€è¦ä¸æ–­åœ°æ”¶é›†é”™è¯¯åé¦ˆï¼Œæ”¹bugï¼‰ã€‚</strong></p><p>6.4 UMLï¼Ÿ<strong><a href="https://refactoringguru.cn/design-patterns/factory-method/cpp/example">https://refactoringguru.cn/design-patterns/factory-method/cpp/example</a> è®¾è®¡æ¨¡å¼æ²¡çœ‹å®Œ</strong></p><h2 id="7-é¡¹ç›®"><a href="#7-é¡¹ç›®" class="headerlink" title="7. é¡¹ç›®"></a>7. é¡¹ç›®</h2><p>7.1. é¡¹ç›®èƒŒæ™¯å’Œåˆ›æ–°ç‚¹ï¼Ÿ</p><p>7.2. é¡¹ç›®ç”¨åˆ°äº†å“ªäº›æŠ€æœ¯ï¼Ÿ</p><p>7.3. æ¯•ä¸šè®¾è®¡(é‡ç‚¹)ï¼Ÿ</p><p>7.4. é¡¹ç›®ä¸­çš„éš¾ç‚¹ä»¥åŠå¦‚ä½•è§£å†³ï¼Ÿ</p><p>7.5. é¡¹ç›®ä¸­è¿˜æœ‰å“ªäº›å¯ä»¥ç»§ç»­æ”¹è¿›ï¼Ÿ</p><h2 id="8-å…¶ä»–"><a href="#8-å…¶ä»–" class="headerlink" title="8. å…¶ä»–"></a>8. å…¶ä»–</h2><p>8.1 è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»ï¼Ÿ<strong>è”ç³»ï¼šä¸€ä¸ªè¿›ç¨‹å¿…é¡»æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç»™è¿›ç¨‹åˆ†é…èµ„æºï¼Œå®é™…è¿è¡Œçš„æ˜¯çº¿ç¨‹ï¼Œè¿›ç¨‹å†…çš„çº¿ç¨‹å…±äº«è¿›ç¨‹çš„å„ç§èµ„æºã€‚åŒºåˆ«ï¼šçº¿ç¨‹æ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹æ˜¯åˆ†é…èµ„æºçš„åŸºæœ¬å•ä½ï¼Œåœ¨æ’¤é”€è¿›ç¨‹æ—¶ï¼Œè¿›ç¨‹å†…çš„çº¿ç¨‹ä¹Ÿè¦è¢«æ’¤é”€ï¼Œå¹¶ä¸”å›æ”¶å…¶èµ„æºï¼Œæ‰€ä»¥æ’¤é”€è¿›ç¨‹çš„å¼€é”€æ¯”æ’¤é”€çº¿ç¨‹çš„å¼€é”€è¦å¤§å¾ˆå¤šã€‚</strong></p><p>8.2 å¸¸è§çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼Ÿ<strong>å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•ã€çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ã€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ã€æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ã€‚</strong></p><p>8.3 é¡µé¢ç½®æ¢ç®—æ³•ï¼Ÿ<strong>å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•ï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•</strong></p><p>8.4 ä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜ï¼Ÿ <strong>å°†éƒ¨åˆ†æ•°æ®ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œåœ¨å®é™…éœ€è¦æ—¶å†è°ƒå…¥å†…å­˜ï¼Œç¨‹åºä¸­ä½¿ç”¨çš„åœ°å€å…¶å®éƒ½æ˜¯è™šæ‹Ÿå†…å­˜åœ°å€ï¼Œéœ€è¦é€šè¿‡å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰æ¥å®ç°è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ï¼Œè™šæ‹Ÿå­˜å‚¨æ˜¯ä¸ºäº†æ›´å¥½çš„æ”¯æŒç¨‹åºçš„å¹¶å‘æ‰§è¡Œï¼Œè®©æ¯ä¸ªè¿›ç¨‹ä»¥ä¸ºè‡ªå·±ç‹¬å ä¸€ç‰‡å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯å®é™…ä¸Šè¿è¡Œæ—¶ï¼Œåªæœ‰ä¸€éƒ¨åˆ†ç»å¸¸è®¿é—®çš„é¡µé¢ä¿å­˜åœ¨å†…å­˜ä¸­ï¼ˆè¿™ä¸ªæ˜¯é¡µé¢ç®¡ç†æœºåˆ¶ï¼‰ã€‚</strong></p><p>8.5 å¸¸è§çš„æŸ¥æ‰¾ç®—æ³•ï¼Ÿ<strong>é¡ºåºæŸ¥æ‰¾ã€äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œæ’å€¼æŸ¥æ‰¾ï¼šé€‚åˆå„ä¸ªå€¼å‡åŒ€åˆ†å¸ƒçš„æŸ¥æ‰¾ç®—æ³•ï¼Œé€šè¿‡è®¡ç®—æŸ¥æ‰¾çš„å€¼åœ¨æŸ¥æ‰¾åŒºé—´å†…çš„æ¯”ä¾‹æœŸæœ›å€¼ï¼Œå¾—åˆ°ä¸€ä¸ªæœŸæœ›çš„ä½ç½®ï¼Œå¹¶ä¸”è¿™ä¸ªåŒºé—´ä¼šä¸€ç›´ç¼©å°ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å…ƒç´ ã€‚æ–æ³¢é‚£å¥‘æŸ¥æ‰¾ï¼šé€šè¿‡æ–æ³¢é‚£å¥‘æŸ¥æ‰¾ç®—æ³•åˆ†å‰²æ—¶ï¼Œåˆ†å‰²åçš„ä¸¤æ®µä¹Ÿä¼šå‘ˆç°å‡ºé»„é‡‘åˆ†å‰²çš„ç‰¹ç‚¹ï¼ˆè¿™å¯çœŸæ˜¯è®¡ç®—æœºå¤§ä½¬ä»¬çš„ç¡¬æ ¸å®¡ç¾å•Š ~~ï¼‰</strong></p><p>8.6 æµ®ç‚¹æ•°çš„å¤„ç†ï¼Ÿ<strong>é€šå¸¸ä½¿ç”¨çš„æ˜¯ IEEE754 çš„æ ‡å‡†ï¼Œæµ®ç‚¹æ•°çš„ç»„æˆï¼šæ¯”å¦‚ 32 ä½çš„æµ®ç‚¹æ•°ï¼Œä½ç¬¦å·ä½ï¼Œ8 ä½æŒ‡æ•°ä½ï¼Œ23 ä½å°¾æ•°ä½ï¼Œæµ®ç‚¹æ•°çš„ä¹˜æ³•æ“ä½œï¼šç¬¦å·ä½å¼‚æˆ–æ“ä½œå¤„ç†ï¼ŒæŒ‡æ•°éƒ¨åˆ†ç›¸åŠ ï¼Œå°¾æ•°éƒ¨åˆ†ç›¸ä¹˜ï¼Œæœ€åè¿›è¡Œè§„æ ¼åŒ–å’Œèˆå…¥æ“ä½œï¼›æµ®ç‚¹æ•°çš„åŠ æ³•æ“ä½œï¼šå¯¹é˜¶ï¼ˆå°é˜¶å‘å¤§é˜¶å¯¹é½ï¼‰ï¼Œç¬¦å·ğŸ”£ç›¸åŒï¼Œå°¾æ•°ç›¸åŠ ï¼Œä¸åŒï¼Œå°¾æ•°ç›¸å‡ï¼Œæœ€åè¿›è¡Œè§„æ ¼åŒ–å’Œèˆå…¥æ“ä½œã€‚</strong></p><p>8.7. cache çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<strong>cache ä»‹äº CPU å’Œå†…å­˜ä¹‹é—´ï¼ŒCPU çš„é€Ÿåº¦è¿œé«˜äºå†…å­˜ï¼Œä¸ºäº†ç¼“å’Œä¸¤è€…ä¹‹é—´çš„é€Ÿåº¦å·®ï¼ŒåŠ å…¥äº† cacheï¼Œæš‚æ—¶ä¿å­˜ä»å†…å­˜è¯»å–çš„æ•°æ®ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚Cache ä¿å­˜çš„æ˜¯æœ€è¿‘è¯»å–æ•°æ®çš„å‰¯æœ¬ï¼ŒæŒ‡çš„æ˜¯ Cache ä¸­å«æœ‰çš„å†…å®¹ï¼Œä¸»å­˜ä¸­ä¸€å®šä¼šæœ‰ï¼Œåˆ©ç”¨çš„æ˜¯ç¨‹åºçš„å±€éƒ¨æ€§åŸç†ï¼Œè¯¥åŸç†æœ‰æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§ã€‚</strong></p><p>8.9. è§£é‡Š TCP ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ<strong>TCP åè®®æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œè¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡å®¢æˆ·ç«¯å‘è¿‡å»ï¼Œç¬¬äºŒæ¬¡æœåŠ¡å™¨å›å¤ï¼Œç¬¬ä¸‰æ¬¡è¿˜æ˜¯å®¢æˆ·ç«¯å›å¤ã€‚ä¸‰æ¬¡æ¡æ‰‹å¯ä»¥ä¿è¯ä¸å‡ºç°é”™è¯¯è¿æ¥ï¼Œæ¯”å¦‚æ—§è¿æ¥é‡æ–°å‘é€ã€‚åœ¨ä¸¤æ¬¡æ¡æ‰‹çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯æ²¡æœ‰ä¸­é—´çŠ¶æ€ç»™å®¢æˆ·ç«¯æ¥é˜»æ­¢å†å²è¿æ¥ï¼Œå¯¼è‡´æœåŠ¡ç«¯å¯èƒ½å»ºç«‹ä¸€ä¸ªå†å²è¿æ¥ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚</strong></p><p>8.10.TCP å¦‚ä½•è§£å†³æ‹¥å¡é˜»å¡ï¼Ÿ<strong>æä¾›ä¸€ç§åŸºäºæ»‘åŠ¨çª—å£æœºåˆ¶çš„æµé‡æ§åˆ¶åè®®ï¼Œå½“å‘ç”Ÿæ‹¥å¡æ—¶ï¼Œæ‹¥å¡çª—å£å¯ä»¥åŠ¨æ€çš„å˜åŒ–æ¥è°ƒæ•´ä»¥é€‚åº”ç½‘ç»œæƒ…å†µï¼Œé‡‡ç”¨äº†ï¼šæ…¢å¼€å§‹ç®—æ³•ã€æ‹¥å¡é¿å…ç®—æ³•ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ã€‚</strong></p><p>8.11. è¯´è¯´å¿«æ’çš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ï¼Ÿ<strong>é¦–å…ˆé€‰æ‹©ä¸€ä¸ªä¸­è½´ï¼Œç„¶åå°†å…ƒç´ åˆ’åˆ†ä¸ºå°äºä¸­è½´çš„å’Œå¤§äºä¸­è½´çš„ï¼Œè¿™åªæ˜¯ä¸€è¶Ÿæ“ä½œï¼Œç„¶åä¸‹é¢çš„æ¯ä¸€è¶Ÿé€’å½’çš„é€‰æ‹©å·¦åŠè¾¹ã€å³åŠè¾¹ã€‚å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ï¼šO(nlog_2n).</strong></p><p>8.12. ä½ æœ€å¸¸ç”¨çš„è¯­è¨€æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ<strong>æˆ‘æœ€å¸¸ç”¨çš„è¯­è¨€æ˜¯ C++ï¼Œæˆ‘æœ€å¼€å§‹æ¥è§¦çš„æ˜¯ C è¯­è¨€ï¼Œä½†æ˜¯ä½†æ˜¯å¹¶æ²¡æœ‰å»æ·±å…¥å­¦ä¹ ï¼Œå­¦å®Œå­¦æ ¡è¯¾ç¨‹å°±æŠ›ä¹‹è„‘åäº†ï¼Œåé¢åˆæ¥è§¦äº† Javaï¼Œå‘ç°è¿™ä¸ªè¯­è¨€çœŸçš„å¾ˆæ–¹ä¾¿å¿«é€Ÿçš„ä¸Šæ‰‹ï¼Œä½†æ˜¯å­¦äº†ä¸€æ®µæ—¶é—´åï¼Œæ€»æœ‰ç§æ¨¡æ¨¡ç³Šç³Šçš„æ„Ÿè§‰ï¼Œåƒæ˜¯ç©ºä¸­æ¥¼é˜ä¸€èˆ¬ï¼Œåé¢æ¥è§¦äº† C++ï¼Œåˆ©ç”¨å®ƒæ¥è§£ä¸€äº›è®¡ç®—æœºçš„åº•å±‚çš„ä¸–ç•Œï¼Œç”¨å®ƒæ¥å­¦æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œç­‰ä¸“ä¸šåŸºç¡€çŸ¥è¯†ã€‚</strong></p><p>8.12.5 ä¸ºä»€ä¹ˆè¯´ Java å¯¹æ¯” C++ æ˜¯ç©ºä¸­æ¥¼é˜ï¼Ÿ<strong>é¦–å…ˆæˆ‘ä»¬çŸ¥é“ Java æ˜¯æ›´å®‰å…¨çš„ï¼Œé‚£å°±æ˜¯å› ä¸ºå®ƒé™åˆ¶äº†ä¸€äº›ç³»ç»Ÿçº§çš„æ“ä½œï¼Œå¯¼è‡´çš„ï¼Œå¹¶ä¸” Java çš„å†…å­˜æ˜¯ç”±ç³»ç»Ÿè‡ªåŠ¨å›æ”¶çš„ï¼Œè€Œ C++ ç¨‹åºå‘˜å¯ä»¥è‡ªåŠ¨ç®¡ç†å†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾ï¼Œè™½ç„¶æ‰‹åŠ¨ç®¡ç†å†…å­˜å¾ˆå±é™©ï¼Œä½†æ˜¯å¯ä»¥æ›´åŠ ç²¾ç¡®çš„æ§åˆ¶å†…å­˜ï¼Œæ€§èƒ½æ›´å¥½ã€‚</strong></p><p>8.13 ç”µè„‘ä¸­çš„è§†é¢‘æ˜¯å¦‚ä½•ä¿å­˜çš„ï¼Ÿ<strong>è§†é¢‘å°±æ˜¯ä¼šåŠ¨çš„ç”»é¢å’Œå£°éŸ³ç»„æˆçš„ï¼Œé€šè¿‡ç‰¹å®šçš„ç¼–ç æ–¹å¼ä¿å­˜å¥½å›¾ç‰‡å¸§åºåˆ—å’ŒéŸ³é¢‘åºåˆ—ï¼Œå®ç°ä¼šåŠ¨çš„ç”»é¢å¯ä»¥é€šè¿‡ä¸€ç§’å†…è¿ç»­æ’­æ”¾å¾ˆå¤šå¼ åŠ¨ä½œè¿ç»­çš„å›¾ç‰‡ï¼Œå¯ä»¥ç†è§£ä¸ºå¸§æ•°ï¼ˆ60 å¸§ã€120 å¸§ï¼‰ï¼Œæ‰€ä»¥è§†é¢‘çš„ä¿å­˜æ˜¯æŒ‰ç…§ä¸€å®šçš„ç¼–ç æ–¹å¼ä¿å­˜å¾ˆå¤šå¼ å›¾ç‰‡å’Œç›¸å¯¹åº”çš„éŸ³é¢‘ç¼–ç ç»„æˆã€‚è§†é¢‘åœ¨æ’­æ”¾çš„æ—¶å€™éœ€è¦é‡‡ç”¨è§£ç ç®—æ³•ï¼Œå°†å›¾ç‰‡å¸§åºåˆ—å’ŒéŸ³é¢‘åºåˆ—è§£å‹ç¼©ï¼Œè¿™æ ·å®ç°è§†é¢‘çš„æ¸…æ™°åº¦å’Œæ–‡ä»¶å¤§å°çš„å…¼é¡¾ã€‚</strong></p><p>8.14 ç”µè„‘ä¸­çš„å›¾ç‰‡æ˜¯æ€ä¹ˆä¿å­˜çš„ï¼Ÿ<strong>å›¾ç‰‡ç”±ä¸€ä¸ªä¸ªåƒç´ ç‚¹ä¿å­˜ï¼Œåƒç´ ç‚¹å¦‚æœæ˜¯é»‘ç™½çš„ï¼Œæ˜¯ç”±ä¸€ä¸ª 0-255 ä¹‹é—´çš„æ•°å­—è¡¨ç¤ºï¼Œè¡¨é»‘çš„ç¨‹åº¦ï¼Œå¦‚æœæ˜¯æœ‰å½©è‰²çš„ï¼ŒåŠ å…¥äº† RGB ä¸‰ä¸ªæ–¹é¢çš„è‰²å½©çš„æ•°å­—ï¼Œä¿å­˜çš„æ˜¯ä¸€ä¸ªç‚¹é˜µåºåˆ—ï¼Œç„¶åé‡‡ç”¨ç‰¹å®šçš„è§£ç æ–¹å¼å°†å…¶æ˜¾ç¤ºå‡ºæ¥ã€‚</strong></p><p>8.15 ç”µè„‘ä¸­çš„å£°éŸ³æ˜¯å¦‚ä½•ä¿å­˜çš„ï¼Ÿ<strong>é¦–å…ˆæ˜¯å£°éŸ³çš„é‡‡é›†ï¼Œå°†å£°æ³¢è½¬ä¸ºæ•°å­—ä¿¡å·ï¼Œç„¶åä»¥ç‰¹å®šçš„ç¼–ç ä¿å­˜åœ¨ç”µè„‘ä¸­ã€‚</strong></p><h2 id="9-å‰æ²¿æŠ€æœ¯"><a href="#9-å‰æ²¿æŠ€æœ¯" class="headerlink" title="9. å‰æ²¿æŠ€æœ¯"></a>9. å‰æ²¿æŠ€æœ¯</h2><p>9.1 å¯¹äººå·¥æ™ºèƒ½çš„äº†è§£ï¼Œå¼ºäººå·¥æ™ºèƒ½å¯å®ç°å—ï¼Ÿ<strong>äººå·¥æ™ºèƒ½æ˜¯ä¸€ç§ç ”ç©¶å¦‚ä½•è®©æœºå™¨æœ‰ç±»ä¼¼äºäººç±»çš„èƒ½åŠ›çš„å­¦ç§‘ï¼Œåœ¨è¯­éŸ³è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€æœºå™¨å­¦ä¹ ç­‰é¢†åŸŸæœ‰é‡å¤§æ„ä¹‰ï¼Œå¼ºäººå·¥æ™ºèƒ½æ˜¯æŒ‡æ‹¥æœ‰äººç±»æ€ç»´èƒ½åŠ›ã€æœ‰ä¸€å®šçš„æƒ…æ„Ÿçš„æœºå™¨äººï¼Œç›®å‰çš„å¼ºäººå·¥æ™ºèƒ½ï¼Œè¿˜éœ€è¦æŠ€æœ¯å’Œåˆ›æ–°ã€‚</strong></p><p>9.2 ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿè®²è®²å…·ä½“çš„ç®—æ³•ï¼Ÿ<strong>æœºå™¨å­¦ä¹ æ—¨åœ¨è®©è®¡ç®—æœºä»å¤§é‡çš„æ•°æ®ä¸­å­¦ä¹ åˆ°å…¶ä¸­çš„è§„å¾‹ï¼Œæ ¹æ®è®­ç»ƒæ–¹æ³•çš„ä¸åŒï¼Œåˆ†ä¸ºï¼šç›‘ç£å­¦ä¹ ã€æ— ç›‘ç£å­¦ä¹ ï¼ŒåŠç›‘ç£å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ï¼Œæœºå™¨å­¦ä¹ çš„æµç¨‹ï¼šæ”¶é›†æ•°æ®ã€åˆ†ææ•°æ®ã€å»ºç«‹æ¨¡å‹ã€å¼€å§‹è®­ç»ƒã€æœ€åæµ‹è¯•ç»“æœã€‚</strong></p><p>9.3 ä»€ä¹ˆæ˜¯å¤§æ•°æ®ï¼Ÿä½ æ¥è§¦åˆ°æœ€å¤§çš„æ•°æ®æœ‰å¤šå°‘ï¼Ÿ<strong>å¤§æ•°æ®å°±æ˜¯ä»å¤§é‡çš„æ•°æ®ä¸­è·å–æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œå› ä¸ºæ•°æ®é‡æ¯”è¾ƒåºå¤§ï¼Œå…¶å®æœ‰å¾ˆå¤šæ•°æ®æ˜¯æ— ç”¨çš„ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡åˆ†æå…¶è§„å¾‹ã€æ•´åˆï¼Œå¹¶ä¸”æ•°æ®é‡è¿‡å¤§ï¼Œä¹Ÿäº§ç”Ÿäº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å­˜å‚¨é—®é¢˜ã€æ•°æ®å®‰å…¨é—®é¢˜ã€æ•°æ®ç®¡ç†é—®é¢˜ã€‚</strong></p><p>9.4 ä»€ä¹ˆæ˜¯æ•°æ®æŒ–æ˜ï¼Ÿ<strong>åº”å¯¹å½“å‰å¤§é‡æ•°æ®äº§ç”Ÿçš„æ—¶ä»£ï¼ŒæŒ–æ˜å¤§é‡æ•°æ®èƒŒåçš„è§„å¾‹ã€ä»·å€¼ï¼Œç”¨äºä¸šåŠ¡å†³ç­–ï¼Œå®ƒå¯ä»¥å¸®åŠ©æœºæ„å’Œä¼ä¸šæ›´å¥½åœ°ç†è§£ä»–ä»¬çš„æ•°æ®ï¼Œä»ä¸­å‘ç°å•†ä¸šæœºä¼šã€ä¼˜åŒ–æµç¨‹ï¼Œç”šè‡³é¢„æµ‹æœªæ¥è¶‹åŠ¿ã€‚</strong></p><p>9.5 å¤§æ•°æ®å’Œæœºå™¨å­¦ä¹ ä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»ï¼Ÿ</p><p>9.6 ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ<strong>å°±æŠŠä»€ä¹ˆæ¢¯åº¦ä¸‹é™ åå‘ä¼ æ’­æ¿€æ´»å‡½æ•°ï¼ˆçœ‹ä¸åˆ°ï¼‰è¿™äº›åŸºæœ¬çš„å­¦æ‡‚å°±è¡Œ ç„¶åæŠŠæ‰€ç”¨çš„æ·±åº¦å­¦ä¹ æ¡†æ¶äº†è§£ä¸€ä¸‹ æ¯”å¦‚ pytorch</strong></p><p>9.7 æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Ÿ<strong>æ¢¯åº¦ä¸‹é™æ˜¯ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œç”¨äºå°†æŸå¤±å‡½æ•°æœ€å°åŒ–ï¼ŒæŸå¤±å‡½æ•°è¶Šå°ï¼Œè¡¨æ˜æ¨¡å‹ä¸æ•°æ®çš„æ‹Ÿåˆç¨‹åº¦è¶Šå°</strong></p><p>9.8 pytorchï¼Ÿ<strong>pytorch å¯ä»¥å®ç°å¿«é€Ÿè®­ç»ƒã€æ„å»ºå’Œè°ƒè¯•å¤æ‚çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 408 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>if-elseå¯¹æ¯”switch-case</title>
      <link href="/2024/07/02/if-else-dui-bi-switch-case/"/>
      <url>/2024/07/02/if-else-dui-bi-switch-case/</url>
      
        <content type="html"><![CDATA[<h1 id="if-elseå¯¹æ¯”switch-case"><a href="#if-elseå¯¹æ¯”switch-case" class="headerlink" title="if-elseå¯¹æ¯”switch-case"></a>if-elseå¯¹æ¯”switch-case</h1><p>åœ¨å¬CSAPPçš„Lecture 06 Machine Level Programming || Controlçš„æ—¶å€™ï¼Œé‡Œé¢è€å¸ˆå›ç­”å­¦ç”Ÿé—®é¢˜æ—¶ï¼Œè¯´åˆ°switch-caseåœ¨æ±‡ç¼–å±‚é¢ä¼šå»ºç«‹ä¸€ä¸ªè¡¨ï¼Œç„¶åå¥½å¥‡è¿™ä¸ªè¡¨æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼ŒæŸ¥è¯¢äº†ä¸€äº›èµ„æ–™ï¼Œå‘ç°ä¹ŸæŒºæœ‰è¶£çš„ã€‚</p><h2 id="ä»£ç ç‰‡æ®µ"><a href="#ä»£ç ç‰‡æ®µ" class="headerlink" title="ä»£ç ç‰‡æ®µ"></a>ä»£ç ç‰‡æ®µ</h2><p>è¿™é‡Œå¯¹æ¯”ä½¿ç”¨çš„ä»£ç ç‰‡æ®µ</p><p><a href="https://godbolt.org/z/7ahx7aaxT">https://godbolt.org/z/7ahx7aaxT</a></p><h2 id="if-elseåˆ†æ"><a href="#if-elseåˆ†æ" class="headerlink" title="if-elseåˆ†æ"></a>if-elseåˆ†æ</h2><pre class="line-numbers language-assembly" data-language="assembly"><code class="language-assembly">foo_ifelse(char):        push    rbp        mov     rbp, rsp        mov     eax, edi        mov     BYTE PTR [rbp-4], al        cmp     BYTE PTR [rbp-4], 48        je      .L2        cmp     BYTE PTR [rbp-4], 49        jne     .L3.L2:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 1        mov     BYTE PTR [rbp-4], al        jmp     .L4.L3:        cmp     BYTE PTR [rbp-4], 97        je      .L5        cmp     BYTE PTR [rbp-4], 98        jne     .L6.L5:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 2        mov     BYTE PTR [rbp-4], al        jmp     .L4.L6:        cmp     BYTE PTR [rbp-4], 65        je      .L7        cmp     BYTE PTR [rbp-4], 66        jne     .L8.L7:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 3        mov     BYTE PTR [rbp-4], al        jmp     .L4.L8:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 4        mov     BYTE PTR [rbp-4], al.L4:        movsx   eax, BYTE PTR [rbp-4]        pop     rbp        ret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œif-elseæ˜¯æŒ‰ç…§å€¼ä¸€ä¸ªä¸€ä¸ªçš„å¯¹æ¯”ï¼Œé‡å¤ä½¿ç”¨cmpã€jeã€jneç­‰æŒ‡ä»¤ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶å°±è·³è½¬ï¼Œå¦åˆ™å¤„ç†ä¸‹ä¸€ä¸ªå€¼çš„åˆ†æ”¯ï¼Œå¹¶ä¸ä¼šå¯¹æ•´ä¸ªå¯¹æ¯”åˆ†æ”¯çš„é€‰é¡¹è¿›è¡Œæ•´ç†ä¸ä¼˜åŒ–ã€‚</p><p>å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœå¤„ç†1000ä¸ªï¼Œç”šè‡³10000ä¸ªè¿ç»­åˆ†æ”¯çš„è¯ï¼Œæ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼ˆå¹¶ä¸å¯¹å…¶é‡‡ç”¨äºŒåˆ†æ³•ã€å“ˆå¸Œè¡¨çš„ä¼˜åŒ–ï¼‰ï¼Œè¿™æ—¶å€™è¿˜éœ€è¦æ³¨æ„æŠŠå‘½ä¸­ç‡é«˜çš„åˆ†æ”¯æ”¾åœ¨å‰é¢ã€‚</p><h2 id="switch-caseåˆ†æ"><a href="#switch-caseåˆ†æ" class="headerlink" title="switch-caseåˆ†æ"></a>switch-caseåˆ†æ</h2><h3 id="foo-switch1-char-åˆ†æï¼š"><a href="#foo-switch1-char-åˆ†æï¼š" class="headerlink" title="foo_switch1(char)åˆ†æï¼š"></a>foo_switch1(char)åˆ†æï¼š</h3><pre class="line-numbers language-assembly" data-language="assembly"><code class="language-assembly">foo_switch1(char):        push    rbp        mov     rbp, rsp        mov     eax, edi        mov     BYTE PTR [rbp-4], al        movsx   eax, BYTE PTR [rbp-4]        cmp     eax, 98        jg      .L11        cmp     eax, 97        jge     .L12        cmp     eax, 49        jg      .L13        cmp     eax, 48        jge     .L14        jmp     .L11.L13:        sub     eax, 65        cmp     eax, 1        ja      .L11        jmp     .L18.L14:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 1        mov     BYTE PTR [rbp-4], al        jmp     .L16.L12:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 2        mov     BYTE PTR [rbp-4], al        jmp     .L16.L18:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 3        mov     BYTE PTR [rbp-4], al        jmp     .L16.L11:        movzx   eax, BYTE PTR [rbp-4]        add     eax, 4        mov     BYTE PTR [rbp-4], al        nop.L16:        movsx   eax, BYTE PTR [rbp-4]        pop     rbp        ret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆç¼–è¯‘å™¨åˆ†æå„ä¸ªåˆ†æ”¯åï¼Œå…ˆä¸æœ€å¤§å€¼è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœæ¯”å®ƒå¤§ï¼Œåˆ™ç›´æ¥è·³è½¬åˆ°defaultåˆ†æ”¯ï¼›å¦åˆ™ï¼Œå¤„ç†å…¶ä»–åˆ†æ”¯ã€‚åœ¨åŒæ—¶å¤„ç†å¤§å°å†™å­—ç¬¦æ—¶ï¼Œç¼–è¯‘å™¨è¿˜æœ‰<code>.L13</code>çš„åˆ†æ”¯ï¼Œå°†å°å†™å­—æ¯sub 65è½¬åŒ–ä¸ºå¤„ç†å¤§å†™å­—æ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ä¼˜åŒ–ç­–ç•¥ã€‚</p><h3 id="foo-switch2-char-åˆ†æ"><a href="#foo-switch2-char-åˆ†æ" class="headerlink" title="foo_switch2(char)åˆ†æ"></a>foo_switch2(char)åˆ†æ</h3><pre class="line-numbers language-assembly" data-language="assembly"><code class="language-assembly">.LC0:        .string &quot;a &#x3D; 1&quot;.LC1:        .string &quot;a &#x3D; 2&quot;.LC2:        .string &quot;a &#x3D; 3&quot;.LC3:        .string &quot;a &#x3D; 4&quot;.LC4:        .string &quot;a &#x3D; 5&quot;.LC5:        .string &quot;a &#x3D; 6&quot;.LC6:        .string &quot;other number&quot;foo_switch2(char):        push    rbp        mov     rbp, rsp        sub     rsp, 32        mov     eax, edi        mov     BYTE PTR [rbp-20], al        mov     DWORD PTR [rbp-4], 2        cmp     DWORD PTR [rbp-4], 6        ja      .L20        mov     eax, DWORD PTR [rbp-4]        mov     rax, QWORD PTR .L22[0+rax*8]        jmp     rax.L22:        .quad   .L20        .quad   .L27        .quad   .L26        .quad   .L25        .quad   .L24        .quad   .L23        .quad   .L21.L27:        mov     esi, OFFSET FLAT:.LC0        mov     edi, OFFSET FLAT:std::cout        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)        mov     esi, OFFSET FLAT:std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::endl&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)        mov     rdi, rax        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;::operator&lt;&lt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; (*)(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;))        jmp     .L28.............L20:        mov     esi, OFFSET FLAT:.LC6        mov     edi, OFFSET FLAT:std::cout        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)        mov     esi, OFFSET FLAT:std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::endl&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)        mov     rdi, rax        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;::operator&lt;&lt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; (*)(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;))        nop.L28:        nop        leave        ret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœç•¥å·éƒ¨åˆ†å’Œ<code>.L27</code>éƒ¨åˆ†ç±»ä¼¼ï¼Œåªæ˜¯å°†å¼€å§‹çš„<code>.LC0</code>åšæ›¿æ¢ã€‚</p><p>é¦–å…ˆä¸switch-caseè¯­å¥çš„æœ€å¤§å€¼æ¯”è¾ƒï¼Œå¦‚æœå¤§äºå¯ä»¥ç›´æ¥è·³è½¬åˆ°defaultè¯­å¥ï¼›å¦åˆ™ï¼ŒåŠ è½½å±€éƒ¨å˜é‡çš„å€¼åˆ°eaxä¸­ï¼Œæ ¹æ®è¿™ä¸ªå€¼ä½œä¸ºç´¢å¼•ï¼Œè®¡ç®—è·³è½¬çš„åœ°å€ã€‚</p><p>æ ‡è®°<code>.L22</code>å¤„<code>.quad</code>è¡¨ç¤ºå½“å‰ä½ç½®åˆ†é…äº†8ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼Œåé¢è·Ÿç€çš„æ•°å€¼(æˆ–æ ‡ç­¾)ä¼šè¢«æ”¾ç½®åœ¨è¿™ 8 ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ä¸­ï¼Œé€šå¸¸ç”¨äºå®šä¹‰ 64 ä½æ•´æ•°æˆ–æŒ‡é’ˆç±»å‹çš„æ•°æ®ã€‚æ­¤å¤„7ä¸ª<code>.quad</code>ä»£è¡¨è¿™æ®µä»£ç åŒ…å«äº†7 ä¸ª 64 ä½å€¼çš„æ•°æ®è¡¨ï¼Œç”¨äºå®ç°ä¹‹å‰æåˆ°çš„ switch-case ç»“æ„ä¸­çš„è·³è½¬è¡¨ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¦‚æœif-elseä¸è¿›è¡ŒäºŒåˆ†ã€å“ˆå¸Œç­‰ä¼˜åŒ–ï¼Œswitch-caseç»“æ„çš„æ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ˜¯ä»¥ç©ºé—´ï¼ˆè·³è½¬è¡¨ï¼‰æ¢æ—¶é—´çš„ä¸€ç§ç­–ç•¥ã€‚</p><h2 id="å·¨äººçš„è‚©è†€"><a href="#å·¨äººçš„è‚©è†€" class="headerlink" title="å·¨äººçš„è‚©è†€"></a>å·¨äººçš„è‚©è†€</h2><p><a href="https://www.jeremyjone.com/546/">https://www.jeremyjone.com/546/</a></p><p><a href="https://www.eet-china.com/mp/a19622.html">https://www.eet-china.com/mp/a19622.html</a></p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ç–‘éš¾ç‚¹</title>
      <link href="/2024/03/08/c-yi-nan-dian/"/>
      <url>/2024/03/08/c-yi-nan-dian/</url>
      
        <content type="html"><![CDATA[<h1 id="C-ç–‘éš¾ç‚¹"><a href="#C-ç–‘éš¾ç‚¹" class="headerlink" title="C++ç–‘éš¾ç‚¹"></a>C++ç–‘éš¾ç‚¹</h1><p>ä»€ä¹ˆäººé—´ç»å‘³</p><p>æ— éæƒ…æ€€åŠç¢—</p><p>æ¸©æŸ”å‡ æ»´</p><p>å¾€äº‹ä¸€å‹º</p><p>ä¹¡æ„å°‘è®¸</p><h2 id="thisæŒ‡é’ˆ"><a href="#thisæŒ‡é’ˆ" class="headerlink" title="thisæŒ‡é’ˆ"></a>thisæŒ‡é’ˆ</h2><p>è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œæˆå‘˜å‡½æ•°é€šè¿‡ä¸€ä¸ªåä¸º this çš„éšå¼å‚æ•°æ¥è®¿é—®è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œç”¨è¯·æ±‚è¯¥å‡½æ•°çš„å¯¹è±¡åœ°å€åˆå§‹åŒ– this ï¼Œthis çš„æŒ‡å‘æ€»æ˜¯è‡ªå·±è¿™ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ this æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//å¾—åˆ°thisçš„åœ°å€</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Box<span class="token operator">*</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//å¾—åˆ°thisçš„åœ°å€</span><span class="token punctuation">&#123;</span>Box box<span class="token punctuation">;</span><span class="token keyword">this</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>box<span class="token punctuation">;</span> <span class="token comment">// error: lvalue required as left operand of assignment</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ·±æ‹·è´é—®é¢˜"><a href="#æ·±æ‹·è´é—®é¢˜" class="headerlink" title="æ·±æ‹·è´é—®é¢˜"></a>æ·±æ‹·è´é—®é¢˜</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">String</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>String<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span>rhs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">char</span><span class="token operator">*</span> m_data<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token class-name">String</span><span class="token double-colon punctuation">::</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>m_data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>m_data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>m_data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>m_data<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token class-name">String</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>m_data<span class="token operator">!=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m_data<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>String<span class="token operator">&amp;</span> String<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m_data<span class="token punctuation">;</span>m_data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_data<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>m_data<span class="token punctuation">,</span> other<span class="token punctuation">.</span>m_data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‹å…ƒå‡½æ•°å’Œè¿ç®—ç¬¦é‡è½½"><a href="#å‹å…ƒå‡½æ•°å’Œè¿ç®—ç¬¦é‡è½½" class="headerlink" title="å‹å…ƒå‡½æ•°å’Œè¿ç®—ç¬¦é‡è½½"></a>å‹å…ƒå‡½æ•°å’Œè¿ç®—ç¬¦é‡è½½</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyInteger</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">MyInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">this</span><span class="token operator">-></span>num_ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token function">MyInteger</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">num_</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyInteger <span class="token operator">&amp;</span>other<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num_ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>num_ <span class="token operator">+</span> other<span class="token punctuation">.</span>num_<span class="token punctuation">;</span><span class="token comment">// this->num_ += m.num_; // è¿™è¿åäº†åŠ æ³•è¿ç®—ç¬¦çš„è¯­ä¹‰ï¼ŒåŠ æ³•è¿ç®—é€šå¸¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ¥ä¿å­˜ç»“æœï¼Œè€Œä¸æ˜¯æ”¹å˜åŸå§‹å¯¹è±¡ã€‚</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span> <span class="token comment">// è¿ç®—ç¬¦é‡è½½</span><span class="token punctuation">&#123;</span>MyInteger temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num_ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>num_ <span class="token operator">+</span> other<span class="token punctuation">;</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyInteger <span class="token operator">&amp;</span>other<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num_ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>num_ <span class="token operator">+</span> other<span class="token punctuation">.</span>num_<span class="token punctuation">;</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num_ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>num_ <span class="token operator">+</span> other<span class="token punctuation">;</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">++</span>num_<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger <span class="token function">temp</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num_<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyInteger <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyInteger <span class="token operator">&amp;</span>myInteger<span class="token punctuation">)</span> <span class="token comment">// æ³¨æ„æ·±æµ…æ‹·è´é—®é¢˜</span><span class="token punctuation">&#123;</span>num_ <span class="token operator">=</span> myInteger<span class="token punctuation">.</span>num_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>out<span class="token punctuation">,</span> <span class="token keyword">const</span> MyInteger <span class="token operator">&amp;</span>myInteger<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡è½½å·¦ç§»è¿ç®—ç¬¦ æ²¡åŠ  const ï¼Œcout &lt;&lt; m++;æŠ¥é”™</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">int</span> num_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>out<span class="token punctuation">,</span> <span class="token keyword">const</span> MyInteger <span class="token operator">&amp;</span>myInteger<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>out <span class="token operator">&lt;&lt;</span> myInteger<span class="token punctuation">.</span>num_<span class="token punctuation">;</span><span class="token keyword">return</span> out<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger m<span class="token punctuation">;</span>MyInteger <span class="token function">m1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m1 <span class="token operator">=</span> m <span class="token operator">+</span> m1<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> m <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> m1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger <span class="token function">m</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>MyInteger <span class="token function">m1</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m <span class="token operator">=</span> m1 <span class="token operator">+</span> m<span class="token punctuation">;</span>m1 <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> m <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> m1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MyInteger <span class="token function">m</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>MyInteger <span class="token function">m1</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// cout &lt;&lt; ++(++m) &lt;&lt; " " &lt;&lt; ++m1 &lt;&lt; endl;</span><span class="token comment">// cout &lt;&lt; m &lt;&lt; " ";</span>cout <span class="token operator">&lt;&lt;</span> m<span class="token operator">++</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// test01();</span><span class="token comment">// test02();</span><span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// int a=1;</span><span class="token comment">// int b=2;</span><span class="token comment">// a=a+b;</span><span class="token comment">// cout&lt;&lt;a&lt;&lt;" "&lt;&lt;b&lt;&lt;endl;</span><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> c<span class="token operator">++</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­åç½®++è¿ç®—ç¬¦è¿”å›å€¼æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸èƒ½è¿”å›&amp;ï¼Œå³å¯¹è±¡çš„å¼•ç”¨ï¼Œå±€éƒ¨å˜é‡åœ¨å‡½æ•°è¿è¡Œç»“æŸåå°±é”€æ¯äº†ã€‚</p><h2 id="ç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½"><a href="#ç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½" class="headerlink" title="ç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½"></a>ç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½</h2><p>å¯ä»¥å®ç°ä¸¤ä¸ªç±»ä¹‹é—´ä½¿ç”¨=èµ‹å€¼</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">operator</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>A a<span class="token punctuation">;</span>B b<span class="token punctuation">;</span>a<span class="token operator">=</span>b<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦"><a href="#ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦" class="headerlink" title="ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦"></a>ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦</h2><p>.ï¼Œ:: ï¼Œ?:ï¼Œsizeofï¼Œtypeidï¼Œ.* è¿™å‡ ä¸ªè¿ç®—ç¬¦ä¸èƒ½è¢«é‡è½½</p><h2 id="C-ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æä¾›å››ä¸ªå‡½æ•°"><a href="#C-ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æä¾›å››ä¸ªå‡½æ•°" class="headerlink" title="C++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æä¾›å››ä¸ªå‡½æ•°"></a>C++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æä¾›å››ä¸ªå‡½æ•°</h2><p>1ã€æ„é€ å‡½æ•°</p><p>2ã€ææ„å‡½æ•°</p><p>3ã€æ‹·è´æ„é€ å‡½æ•°</p><p>4ã€operator= å‡½æ•°</p><h2 id="å¤šæ€çš„å®ç°"><a href="#å¤šæ€çš„å®ç°" class="headerlink" title="å¤šæ€çš„å®ç°"></a>å¤šæ€çš„å®ç°</h2><p>å¤šæ€å®ç°çš„å‰æä¸‰ä¸ªæ¡ä»¶</p><p>1ã€å¿…é¡»æ˜¯å…±æœ‰ç»§æ‰¿</p><p>2ã€é€šè¿‡åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»ï¼Œå¹¶ä¸”è®¿é—®æ´¾ç”Ÿç±»é‡å†™çš„æ–¹æ³•ã€‚</p><p>3ã€åŸºç±»ä¸­çš„è¢«é‡å†™çš„æ–¹æ³•æ˜¯<strong>è™šå‡½æ•°</strong></p><p>è¿™ç§æŠ€æœ¯è®©çˆ¶ç±»æŒ‡é’ˆæœ‰<strong>å¤šç§å½¢æ€</strong>ï¼Œæ˜¯ä¸€ç§æ³›å‹æŠ€æœ¯ï¼Œç›´åˆ°è¿è¡Œæ—¶æ‰å†³å®šæ‰§è¡Œå“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°ã€‚æ‰€è°“<strong>æ³›å‹æŠ€æœ¯</strong>ï¼Œå°±æ˜¯ä½¿ç”¨ä¸å˜çš„ä»£ç æ¥å®ç°å¯å˜çš„ç®—æ³•ã€‚å¤šæ€ä¸­æ²¡æœ‰é‡å†™çš„å‡½æ•°æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>æ°´èƒ½è½½èˆŸï¼Œäº¦èƒ½è¦†èˆŸã€‚å¤šæ€ä¹Ÿæ¶‰åŠäº†<strong>å®‰å…¨æ€§</strong>çš„é—®é¢˜ï¼Œ</p><p>é¦–å…ˆæ˜¯æ— æ³•è®¿é—®å­ç±»ä¸­è‡ªå·±çš„è™šå‡½æ•°ï¼Œå¦‚<code>Base * base=new Derived(); base-&gt;f1();</code>ç¼–è¯‘æ—¶ä¸ä¼šé€šè¿‡çš„ï¼ˆå…¶ä¸­f1()æ˜¯å­ç±»è‡ªå·±çš„è™šå‡½æ•°ï¼Œçˆ¶ç±»æ²¡æœ‰ï¼‰ï¼›</p><p>ç„¶åæ˜¯å¦‚æœçˆ¶ç±»ä¸­è™šå‡½æ•°æ˜¯privateæˆ–è€…protectedï¼Œè¿™äº›å‡½æ•°ä¾æ—§ä¼šå­˜åœ¨äºè™šå‡½æ•°è¡¨ä¸­ï¼Œå¯ä»¥é€šè¿‡å¤šæ€çš„æ–¹å¼æ¥è®¿é—®ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"hello Father!"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Father</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello Son!"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    Son s<span class="token punctuation">;</span>    Father <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>s<span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Father f<span class="token punctuation">;</span>    p<span class="token operator">=</span><span class="token operator">&amp;</span>f<span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è±å½¢ç»§æ‰¿çš„é—®é¢˜"><a href="#è±å½¢ç»§æ‰¿çš„é—®é¢˜" class="headerlink" title="è±å½¢ç»§æ‰¿çš„é—®é¢˜"></a>è±å½¢ç»§æ‰¿çš„é—®é¢˜</h2><p>ç»§æ‰¿å…³ç³»ç”»æˆå›¾åƒä¸€ä¸ªè±å½¢ï¼Œæ‰€ä»¥å°±å«åšè±å½¢ç»§æ‰¿ï¼Œé‡‡ç”¨<strong>è™šç»§æ‰¿</strong>æ¥è§£å†³äºŒä¹‰æ€§é—®é¢˜ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">C</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">D</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">int</span> <span class="token function">getn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> B<span class="token double-colon punctuation">::</span>n<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>E d<span class="token punctuation">;</span>d<span class="token punctuation">.</span>B<span class="token double-colon punctuation">::</span>n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>d<span class="token punctuation">.</span>C<span class="token double-colon punctuation">::</span>n <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>d<span class="token punctuation">.</span>D<span class="token double-colon punctuation">::</span>n <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>B<span class="token double-colon punctuation">::</span>n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>C<span class="token double-colon punctuation">::</span>n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>D<span class="token double-colon punctuation">::</span>n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">getn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥å…ˆåœ¨è„‘å­é‡Œæƒ³ä¸€ä¸‹ç»“æœï¼Œç„¶åå¯ä»¥è¿è¡Œä¸€ä¸‹çœ‹çœ‹æ˜¯å¦ä¸å…¶ä¸€è‡´ï¼Œæœ‰åŠ©äºç†è§£å“¦ã€‚</p><h2 id="è™šææ„"><a href="#è™šææ„" class="headerlink" title="è™šææ„"></a>è™šææ„</h2><p>æ€»çš„æ¥è¯´æ˜¯ä¸ºäº†é¿å…å†…å­˜æ³„æ¼ï¼Œåˆ©ç”¨åŸºç±»æŒ‡é’ˆé‡Šæ”¾æ´¾ç”Ÿç±»å¯¹è±¡çš„å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šææ„å‡½æ•°ä½¿å¾—åˆ é™¤æŒ‡å‘å­ç±»çš„çˆ¶ç±»æŒ‡é’ˆæ—¶ï¼Œä¸ä»…å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„çš„ææ„å‡½æ•°ï¼Œä¹Ÿä¼šè°ƒç”¨å­ç±»çš„ææ„å‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥é‡Šæ”¾å­ç±»æŒ‡é’ˆæˆå‘˜å˜é‡åœ¨å †ä¸­çš„å†…å­˜ï¼Œè¾¾åˆ°é˜²æ­¢å†…å­˜æ³„æ¼çš„ç›®çš„ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CA</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">CA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CA"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CA::f1( )"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">// f2();</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CA::f2( )"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">CA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~CA"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CB</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">CA</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">CB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CB"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CB::f1( )"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CB::f2( )"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">CB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~CB"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CC</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">CB</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">CC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CC"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"CC:f1()"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CC:f2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">CC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~CC"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    CA <span class="token operator">*</span>pA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">CC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pA<span class="token operator">-></span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">delete</span> pA<span class="token punctuation">;</span>    CA <span class="token operator">*</span>pA1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">CB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pA1<span class="token operator">-></span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">delete</span> pA<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ³¨æ„çœ‹æ„é€ å’Œææ„çš„é¡ºåºï¼Œæ­£å¥½æ˜¯ç›¸åçš„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿ç”¨è¿ç®—ç¬¦deleteåˆ é™¤ä¸€ä¸ªåŠ¨æ€å¯¹è±¡æ—¶ï¼Œæ˜¯å…ˆè°ƒç”¨ææ„å‡½æ•°è¿˜æ˜¯å…ˆé‡Šæ”¾å¯¹è±¡å†…å­˜"><a href="#è¿ç”¨è¿ç®—ç¬¦deleteåˆ é™¤ä¸€ä¸ªåŠ¨æ€å¯¹è±¡æ—¶ï¼Œæ˜¯å…ˆè°ƒç”¨ææ„å‡½æ•°è¿˜æ˜¯å…ˆé‡Šæ”¾å¯¹è±¡å†…å­˜" class="headerlink" title="è¿ç”¨è¿ç®—ç¬¦deleteåˆ é™¤ä¸€ä¸ªåŠ¨æ€å¯¹è±¡æ—¶ï¼Œæ˜¯å…ˆè°ƒç”¨ææ„å‡½æ•°è¿˜æ˜¯å…ˆé‡Šæ”¾å¯¹è±¡å†…å­˜"></a>è¿ç”¨è¿ç®—ç¬¦deleteåˆ é™¤ä¸€ä¸ªåŠ¨æ€å¯¹è±¡æ—¶ï¼Œæ˜¯å…ˆè°ƒç”¨ææ„å‡½æ•°è¿˜æ˜¯å…ˆé‡Šæ”¾å¯¹è±¡å†…å­˜</h2><p>å½“ä½¿ç”¨ <code>delete</code> è¿ç®—ç¬¦åˆ é™¤åŠ¨æ€åˆ†é…çš„å¯¹è±¡æ—¶ï¼Œä¼š<strong>å…ˆè°ƒç”¨å¯¹è±¡çš„ææ„å‡½æ•°æ¥æ‰§è¡Œæ¸…ç†æ“ä½œï¼Œç„¶åå†é‡Šæ”¾å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚</strong></p><p>å¦‚æœå…ˆé‡Šæ”¾å†…å­˜è€Œä¸è°ƒç”¨ææ„å‡½æ•°ï¼Œå°±æ— æ³•ç¡®ä¿å¯¹è±¡æ‰€å ç”¨çš„èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œå³ç¨‹åºæ— æ³•å†è®¿é—®è¿™äº›å†…å­˜åŒºåŸŸï¼Œä½†å´æ— æ³•å†å¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼Œé€ æˆç³»ç»Ÿèµ„æºæµªè´¹ã€‚</p><h2 id="g-å’Œgccçš„åŒºåˆ«"><a href="#g-å’Œgccçš„åŒºåˆ«" class="headerlink" title="g++å’Œgccçš„åŒºåˆ«"></a>g++å’Œgccçš„åŒºåˆ«</h2><p>é¢è¯•çš„æ—¶å€™ï¼Œé—®åˆ°äº†gccå’Œg++çš„åŒºåˆ«ï¼Œæ²¡ç­”ä¸Šæ¥ï¼š </p><p>   é¦–å…ˆè¯´æ˜ï¼šgcc å’Œ GCC æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿   </p><p>   GCC:GNU Compiler Collection(GNU ç¼–è¯‘å™¨é›†åˆ)ï¼Œå®ƒå¯ä»¥ç¼–è¯‘Cã€C++ã€JAVã€Fortranã€Pascalã€Object-Cã€Adaç­‰è¯­è¨€ã€‚   </p><p>   gccæ˜¯GCCä¸­çš„GNU C Compilerï¼ˆC ç¼–è¯‘å™¨ï¼‰   </p><p>   g++æ˜¯GCCä¸­çš„GNU C++ Compilerï¼ˆC++ç¼–è¯‘å™¨ï¼‰   </p><p>â€‹    ä¸€ä¸ªæœ‰è¶£çš„äº‹å®å°±æ˜¯ï¼Œå°±æœ¬è´¨è€Œè¨€ï¼Œgccå’Œg++å¹¶ä¸æ˜¯ç¼–è¯‘å™¨ï¼Œä¹Ÿä¸æ˜¯ç¼–è¯‘å™¨çš„é›†åˆï¼Œå®ƒä»¬åªæ˜¯ä¸€ç§é©±åŠ¨å™¨ï¼Œæ ¹æ®å‚æ•°ä¸­è¦ç¼–è¯‘çš„æ–‡ä»¶çš„ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„GUNç¼–è¯‘å™¨è€Œå·²ï¼Œæ¯”å¦‚ï¼Œç”¨gccç¼–è¯‘ä¸€ä¸ªcæ–‡ä»¶çš„è¯ï¼Œä¼šæœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š    </p><p>â€‹    Step1ï¼šCall a preprocessor, like cpp.    </p><p>â€‹    Step2ï¼šCall an actual compiler, like cc or cc1.    </p><p>â€‹    Step3ï¼šCall an assembler, like as.    </p><p>â€‹    Step4ï¼šCall a linker, like ld    </p><p>â€‹    ç”±äºç¼–è¯‘å™¨æ˜¯å¯ä»¥æ›´æ¢çš„ï¼Œæ‰€ä»¥gccä¸ä»…ä»…å¯ä»¥ç¼–è¯‘Cæ–‡ä»¶    </p><p>â€‹    æ‰€ä»¥ï¼Œæ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ï¼šgccè°ƒç”¨äº†C compilerï¼Œè€Œg++è°ƒç”¨äº†C++ compiler    </p><p>â€‹    gccå’Œg++çš„<strong>ä¸»è¦åŒºåˆ«</strong>ï¼š    </p><ol><li><p>å¯¹äº <em>.cå’Œ</em>.cppæ–‡ä»¶ï¼Œgccåˆ†åˆ«å½“åšcå’Œcppæ–‡ä»¶ç¼–è¯‘ï¼ˆcå’Œcppçš„è¯­æ³•å¼ºåº¦æ˜¯ä¸ä¸€æ ·çš„ï¼‰    </p></li><li><p>å¯¹äº <em>.cå’Œ</em>.cppæ–‡ä»¶ï¼Œg++åˆ™ç»Ÿä¸€å½“åšcppæ–‡ä»¶ç¼–è¯‘    </p></li><li><p>ä½¿ç”¨g++ç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œ<strong>g++ä¼šè‡ªåŠ¨é“¾æ¥æ ‡å‡†åº“STLï¼Œè€Œgccä¸ä¼šè‡ªåŠ¨é“¾æ¥STL</strong>    </p></li><li><p>gccåœ¨ç¼–è¯‘Cæ–‡ä»¶æ—¶ï¼Œå¯ä½¿ç”¨çš„é¢„å®šä¹‰å®æ˜¯æ¯”è¾ƒå°‘çš„    </p></li><li><p>gccåœ¨ç¼–è¯‘cppæ–‡ä»¶æ—¶/g++åœ¨ç¼–è¯‘cæ–‡ä»¶å’Œcppæ–‡ä»¶æ—¶ï¼ˆè¿™æ—¶å€™gccå’Œg++è°ƒç”¨çš„éƒ½æ˜¯cppæ–‡ä»¶çš„ç¼–è¯‘å™¨ï¼‰</p></li></ol><h2 id="å…³äºå†…è”å‡½æ•°"><a href="#å…³äºå†…è”å‡½æ•°" class="headerlink" title="å…³äºå†…è”å‡½æ•°"></a>å…³äºå†…è”å‡½æ•°</h2><p>ä¸€èˆ¬æ˜¯åŠ å¿«ç¨‹åºæ‰§è¡Œé€Ÿåº¦ï¼Œå¯èƒ½å‡å°å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ï¼Œå¯èƒ½å¢åŠ å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ã€‚</p><p>é€Ÿåº¦å¿«ï¼šå½“å‡½æ•°ä½“è¾ƒçŸ­æ—¶ï¼Œå†…æ•›å‡½æ•°ä¼šåƒå®ä¸€æ ·å±•å¼€ï¼Œæ‰€ä»¥æ‰§è¡Œé€Ÿåº¦æ¯”ä¸€èˆ¬å‡½æ•°è¦å¿«ã€‚ä½†æ˜¯å¦‚æœå‡½æ•°ä½“è¿‡å¤§ï¼Œä¸€èˆ¬çš„ç¼–è¯‘å™¨ä¼šæ”¾å¼ƒå†…è”æ–¹å¼ï¼Œæ„æ€å°±æ˜¯ä½ ä½¿ç”¨å†…è”å‡½æ•°ï¼Œåªä¸è¿‡æ˜¯å‘ç¼–è¯‘å™¨æå‡ºäº†ä¸€ä¸ªç”³è¯·ï¼Œç¼–è¯‘å™¨å¯ä»¥æ‹’ç»ï¼Œè¿™ä¸ªå‡½æ•°åˆä¼šåƒæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿå’Œæ™®é€šå‡½æ•°ä¸€æ ·ã€‚</p><p>å‡å°å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ï¼šå†…è”å‡½æ•°é€‚åº¦</p><p>å¢åŠ å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ï¼šå†…è”å‡½æ•°è¿‡å¤š</p><h2 id="ä»¿å‡½æ•°"><a href="#ä»¿å‡½æ•°" class="headerlink" title="ä»¿å‡½æ•°"></a>ä»¿å‡½æ•°</h2><p>åœ¨c++ä¸­ä»¿å‡½æ•°ï¼ˆFunctorï¼‰æ˜¯ä¸€ä¸ªç±»æˆ–è€…ç»“æ„ä½“ï¼Œé‡è½½äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦<code>()</code>ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æä¾›ä¸€ç§æ›´åŠ çµæ´»çš„å‡½æ•°å¯¹è±¡ï¼Œå®ƒå¯ä»¥åŒ…å«çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è¢«ä¼ é€’ç»™ç®—æ³•æˆ–è€…å‡½æ•°ï¼Œä»è€Œå®ç°å®šåˆ¶çš„è¡Œä¸ºã€‚æ¯”å¦‚å®ç°<strong>æ’åºå‡†åˆ™ã€æŸ¥æ‰¾å‡†åˆ™ã€è°“è¯ï¼ˆå°±æ˜¯ä¸€ä¸ªboolè¿”å›å€¼çš„å‡½æ•°ï¼‰</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span>val<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Print1</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span>val<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Print1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span><span class="token string">"--------------"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Print<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="pointer-like-classçš„ä½œç”¨"><a href="#pointer-like-classçš„ä½œç”¨" class="headerlink" title="pointer-like-classçš„ä½œç”¨"></a>pointer-like-classçš„ä½œç”¨</h2><p><code>pointer-like-class</code>æ˜¯æŒ‡ç±»ä¼¼æŒ‡é’ˆçš„ç±»ï¼Œè¿™ç§ç±»ä¸€èˆ¬ç”¨æ¥æ¨¡æ‹ŸæŒ‡é’ˆçš„è¡Œä¸ºï¼Œä½†æ˜¯ä¸è£¸æŒ‡é’ˆç›¸æ¯”å…·æœ‰æ›´å¤šçš„åŠŸèƒ½å’Œå®‰å…¨æ€§ï¼Œå¦‚æ™ºèƒ½æŒ‡é’ˆï¼ˆSmart Pointersï¼‰ã€è¿­ä»£å™¨ï¼ˆIteratorsï¼‰ã€‚Smart Pointersæœ‰<code>std::unique_ptr</code>å’Œ<code>std::shared_ptr</code>ã€<code>std::weak_ptr</code>ã€‚</p><h1 id="ä¸€ï¼šç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•"><a href="#ä¸€ï¼šç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•" class="headerlink" title="ä¸€ï¼šç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•"></a>ä¸€ï¼šç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•</h1><h2 id="ä½è¿ç®—åŠå…¶è¿ç”¨"><a href="#ä½è¿ç®—åŠå…¶è¿ç”¨" class="headerlink" title="ä½è¿ç®—åŠå…¶è¿ç”¨"></a>ä½è¿ç®—åŠå…¶è¿ç”¨</h2><p>åˆ¤æ–­å¥‡æ•°è¿˜æ˜¯å¶æ•°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span><span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"is odd"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span> <span class="token string">"is even"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å–å‡ºæŒ‡å®šçš„ä½</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0b11101101</span><span class="token punctuation">;</span><span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">0b1111</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆ¤æ–­æ˜¯å¦ä¸º2çš„æ•´æ•°å¹‚ï¼ˆ0b10 0000 &amp; 0b01 1111ï¼‰ï¼Œç»“æœæ˜¯0ï¼Œè¯´æ˜æ˜¯2çš„æ•´æ•°å¹‚ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">64</span><span class="token punctuation">;</span><span class="token keyword">int</span> y <span class="token operator">=</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">&amp;</span> y<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"no"</span> <span class="token operator">:</span> <span class="token string">"yes"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="æŒ‡é’ˆæ•°ç»„ä¸æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„æ¦‚å¿µä¸ä½¿ç”¨"><a href="#æŒ‡é’ˆæ•°ç»„ä¸æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„æ¦‚å¿µä¸ä½¿ç”¨" class="headerlink" title="æŒ‡é’ˆæ•°ç»„ä¸æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„æ¦‚å¿µä¸ä½¿ç”¨"></a>æŒ‡é’ˆæ•°ç»„ä¸æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„æ¦‚å¿µä¸ä½¿ç”¨</h2><p>aæ˜¯ä¸€ä¸ªæŒ‡å‘å«æœ‰ä¸‰ä¸ªintå‹æ•°æ®æ•°ç»„çš„æŒ‡é’ˆï¼ˆå¦‚æœ‰int p[3]; aæŒ‡å‘pæ˜¯å¯ä»¥çš„ ï¼‰</p><p>a1æ˜¯ä¸€ä¸ªå‡½æ•°ä¸‰ä¸ªint*å‹æ•°æ®çš„æ•°ç»„ï¼ˆå¦‚a1å¯ä»¥åˆå§‹åŒ–ä¸º{&amp;b, &amp;c, &amp;d}ï¼‰;</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;typeinfo></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">sz</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> a1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> cout<span class="token operator">&lt;&lt;</span><span class="token keyword">typeid</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">sz</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">sz</span><span class="token punctuation">(</span>a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">sz</span><span class="token punctuation">(</span><span class="token operator">*</span>a<span class="token punctuation">)</span> <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¼•ç”¨çš„åˆ†ç±»ä¸ä½¿ç”¨"><a href="#å¼•ç”¨çš„åˆ†ç±»ä¸ä½¿ç”¨" class="headerlink" title="å¼•ç”¨çš„åˆ†ç±»ä¸ä½¿ç”¨"></a>å¼•ç”¨çš„åˆ†ç±»ä¸ä½¿ç”¨</h2><p>1ã€åˆå§‹åŒ–ï¼Œå®šä¹‰å¼•ç”¨æ—¶éœ€è¦åŠ &amp;ï¼Œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>b<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token comment">//ç›¸å½“äºç»™aå–äº†ä¸€ä¸ªåˆ«å</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>2ã€ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ï¼Œc++åœ¨å‡½æ•°å‚æ•°ä¸­ä¼ é€’æ•°ç»„æ—¶ï¼Œç›´æ¥å˜æˆäº†æŒ‡é’ˆï¼Œå› ä¸ºå¦‚æœå°†æ•°ç»„ä¼ é€’è¿‡å»éœ€è¦å°†å€¼ä¸€ä¸ªä¸€ä¸ªæ‹·è´è¿‡å»ï¼Œå¢åŠ äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œæ‰€ä»¥åœ¨ C++ ä¸­ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ç§æ¯”æŒ‡é’ˆæ›´åŠ ä¾¿æ·çš„ä¼ é€’èšåˆç±»å‹æ•°æ®çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯<strong>å¼•ç”¨ï¼ˆReferenceï¼‰</strong>ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ä¼ è¿‡å»å‡å°‘äº†ç”Ÿæˆå‰¯æœ¬çš„æ¶ˆè€—ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> temp<span class="token operator">=</span>a<span class="token punctuation">;</span>a<span class="token operator">=</span>b<span class="token punctuation">;</span>b<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3ã€ä½œä¸ºå‡½æ•°è¿”å›å€¼æ¥ä¼ é€’ï¼Œä¾‹å¦‚é‡è½½å·¦ç§»è¿ç®—ç¬¦ï¼Œéœ€è¦è¾“å‡ºå¤šä¸ªå†…å®¹å°±éœ€è¦è¿”å›å¼•ç”¨ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;typeinfo></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">sz</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></span></span><span class="token keyword">int</span> <span class="token function">function1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>aa<span class="token punctuation">)</span> <span class="token comment">// ä»¥è¿”å›å€¼çš„æ–¹æ³•è¿”å›å‡½æ•°å€¼</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> aa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span><span class="token function">function2</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>aa<span class="token punctuation">)</span> <span class="token comment">// ä»¥å¼•ç”¨æ–¹å¼è¿”å›å‡½æ•°å€¼</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> aa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// ç¬¬ä¸€ç§æƒ…å†µï¼Œç³»ç»Ÿç”Ÿæˆè¦è¿”å›å€¼çš„å‰¯æœ¬ï¼ˆå³ä¸´æ—¶å˜é‡ï¼‰</span><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token function">function1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function1()çš„è¿”å›å€¼å…ˆå‚¨å­˜åœ¨ä¸€ä¸ªaçš„å‰¯æœ¬ä¸­ï¼Œ</span>  <span class="token comment">// ç„¶åå†æŠŠå‰¯æœ¬èµ‹å€¼ç»™b</span><span class="token comment">// ç¬¬äºŒç§æƒ…å†µï¼ŒæŠ¥é”™</span><span class="token comment">//  function1(a) = 20;// function1()çš„è¿”å›å€¼ä¸ºä¸´æ—¶å˜é‡ï¼Œä¸èƒ½èµ‹å€¼ï¼ˆå³ä¸èƒ½ä¸ºå·¦å€¼ï¼‰</span><span class="token comment">// ç¬¬ä¸‰ç§æƒ…å†µï¼Œç³»ç»Ÿä¸ä¼šç”Ÿæˆè¿”å›å€¼çš„å‰¯æœ¬</span><span class="token function">function2</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// OK  æ­¤æ—¶açš„å€¼å˜æˆäº†20</span>cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡è½½å·¦ç§»è¿ç®—ç¬¦ï¼Œè¿”å›å¼•ç”¨æ‰ä¼šè¿ç»­è¾“å‡ºä¸¤ä¸ªå€¼ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> x_<span class="token punctuation">,</span> y_<span class="token punctuation">;</span>    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x_</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y_</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>os<span class="token punctuation">,</span> <span class="token keyword">const</span> Point <span class="token operator">&amp;</span>p<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        os <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>x_ <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>y_ <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> os<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Point <span class="token function">p</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>p<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ"><a href="#å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ"></a>å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ</h2><p>c++çš„å†…å­˜ä¸»è¦åˆ†ä¸ºä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šæ ˆåŒºã€å †åŒºã€å…¨å±€åŒºï¼ˆé™æ€åŒºï¼‰ã€æ–‡å­—å¸¸é‡åŒºã€ç¨‹åºä»£ç åŒºã€‚</p><p>å…¨å±€å˜é‡</p><blockquote><p>å­˜å‚¨åœ¨é™æ€å†…å­˜åˆ†é…åŒºï¼Œæ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸéƒ½å¯ä»¥ä½¿ç”¨ï¼Œå…¶ä»–æ–‡ä»¶ä½¿ç”¨å…³é”®å­—externä¹Ÿå¯ä»¥ä½¿ç”¨</p></blockquote><p>å±€éƒ¨å˜é‡</p><blockquote><p>å­˜å‚¨åœ¨æ ˆåŒºï¼Œä¸å‡½æ•°å…±å­˜äº¡</p></blockquote><p>å…¨å±€é™æ€å˜é‡</p><blockquote><p>ä¸å…¨å±€å˜é‡ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å­˜å‚¨åœ¨é™æ€å†…å­˜åˆ†é…åŒºï¼Œç”Ÿå‘½å‘¨æœŸä¸æ•´ä¸ªç¨‹åºåŒåœ¨ï¼Œä¸è¿‡ä¸èƒ½å†å…¶ä»–æ–‡ä»¶ä½¿ç”¨ã€‚</p></blockquote><p>å±€éƒ¨é™æ€å˜é‡</p><blockquote><p>ä¹Ÿæ˜¯å­˜å‚¨åœ¨é™æ€å†…å­˜åˆ†é…åŒºï¼Œè°ƒç”¨å‡½æ•°åä¾¿ä¸€ç›´å­˜åœ¨ï¼Œåªä¸è¿‡åªèƒ½åœ¨å‡½æ•°å†…å¯è§ã€‚</p></blockquote><h2 id="ç±»å‹åˆ«åä¸ç±»å‹æ¨æ–­"><a href="#ç±»å‹åˆ«åä¸ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹åˆ«åä¸ç±»å‹æ¨æ–­"></a>ç±»å‹åˆ«åä¸ç±»å‹æ¨æ–­</h2><p>1ã€åˆ«åï¼štypedefã€using</p><p>2ã€æ¨æ–­ï¼šautoã€decltype</p><h2 id="STLé¡ºåºå®¹å™¨"><a href="#STLé¡ºåºå®¹å™¨" class="headerlink" title="STLé¡ºåºå®¹å™¨"></a>STLé¡ºåºå®¹å™¨</h2><p>vectorï¼šè§†ä½œå¯å˜å¤§å°çš„æ•°ç»„ï¼Œå¯éšæœºè®¿é—®ï¼Œåœ¨éå°¾éƒ¨çš„ä½ç½®æ’å…¥æ¯”è¾ƒæ…¢</p><p>dequeï¼šåŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œåœ¨å¤´å°¾ä½ç½®æ’å…¥å’Œåˆ é™¤æ¯”è¾ƒå¿«</p><p>listï¼šåŒå‘é“¾è¡¨ï¼Œæ”¯æŒåŒå‘é¡ºåºè®¿é—®ï¼ˆrbegin()ã€rend()ï¼‰ï¼Œåœ¨ list ä»»æ„ä½ç½®æ’å…¥å’Œåˆ é™¤éƒ½æ¯”è¾ƒå¿«</p><p>forward_listï¼šå•å‘é“¾è¡¨ï¼Œåªèƒ½å•å‘é¡ºåºè®¿é—®ï¼Œåœ¨ forward_list çš„ä»»æ„ä½ç½®æ’å…¥å’Œåˆ é™¤éƒ½æ¯”è¾ƒå¿«</p><p>arrayï¼šå›ºå®šå¤§å°çš„æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œä¸èƒ½æ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ </p><p>stringï¼šä¸ vector ç±»ä¼¼ï¼Œä¸“é—¨ä¿å­˜å­—ç¬¦ä¸²ï¼Œéšæœºè®¿é—®å¿«ï¼Œåœ¨å°¾éƒ¨æ’å…¥å’Œåˆ é™¤å¿«</p><h2 id="STLå…³è”å®¹å™¨"><a href="#STLå…³è”å®¹å™¨" class="headerlink" title="STLå…³è”å®¹å™¨"></a>STLå…³è”å®¹å™¨</h2><p>mapï¼šé”®å€¼å¯¹ï¼Œä¸€å¯¹ä¸€ï¼ŒåŸºäºçº¢é»‘æ ‘ï¼Œå¯¹å…³é”®å­—è¿›è¡Œæ’åº</p><p>setï¼šåªä¿å­˜å…³é”®å­—ï¼Œä¸é‡å¤</p><p>multimapï¼šå…³é”®å­—å¯ä»¥é‡å¤çš„ map ï¼Œå³ä¸€å¯¹å¤šï¼Œå¦‚ç»Ÿè®¡æ•°å­¦è¯¾çš„å­¦ç”Ÿæˆç»©</p><p>multisetï¼šä¿å­˜å¯ä»¥é‡å¤çš„å…³é”®å­—</p><p>unordered_mapï¼šé”®å€¼å¯¹ï¼Œä¸€å¯¹ä¸€ï¼ŒåŸºäºå“ˆå¸Œå€¼ï¼Œä¸å¯¹é”®å€¼å¯¹è¿›è¡Œæ’åº</p><p>unordered_setï¼šåªä¿å­˜å…³é”®å­—ï¼Œä¸æ’åº</p><p>unordered_multimapï¼šé”®å€¼å¯¹ï¼Œä¸€å¯¹å¤šï¼ŒåŸºäºå“ˆå¸Œå€¼</p><p>unordered_multisetï¼šä¿å­˜å¯ä»¥é‡å¤çš„å…³é”®å­—ï¼Œä¸æ’åº</p><h2 id="STLå®¹å™¨é€‚é…å™¨"><a href="#STLå®¹å™¨é€‚é…å™¨" class="headerlink" title="STLå®¹å™¨é€‚é…å™¨"></a>STLå®¹å™¨é€‚é…å™¨</h2><p>åŒ…æ‹¬ï¼šstackã€queueã€priority_queue</p><p> stack å’Œ queue åŸºäºdequeå®ç°ï¼Œ priority_queue åŸºäº vector å®ç°</p><h2 id="æµå¯¹è±¡"><a href="#æµå¯¹è±¡" class="headerlink" title="æµå¯¹è±¡"></a>æµå¯¹è±¡</h2><p>åŒ…æ‹¬è¾“å…¥æµå¯¹è±¡ï¼ˆostreamï¼Œå¦‚std::cinï¼Œä»é”®ç›˜è¯»å–æ•°æ®ï¼‰ï¼Œè¾“å‡ºæµå¯¹è±¡ï¼ˆistreamï¼Œå¦‚std::coutï¼Œå‘å±å¹•å†™å…¥æ•°æ®ï¼‰</p><p>è¿˜æœ‰æ–‡ä»¶è¾“å…¥æµå¯¹è±¡ï¼ˆifstreamï¼Œä½¿ç”¨ std::ifstream æ¥åˆ›å»ºå¯¹è±¡ï¼Œå°†æ•°æ®ä»æ–‡ä»¶ä¸­è¯»å–å‡ºæ¥ï¼‰ï¼Œæ–‡ä»¶è¾“å‡ºæµå¯¹è±¡ï¼ˆofstreamï¼Œä½¿ç”¨ std::ofstream æ¥åˆ›å»ºå¯¹è±¡ï¼Œå°†æ•°æ®å†™å…¥æ–‡ä»¶ï¼‰</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ofstream file<span class="token punctuation">;</span>    file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>    file <span class="token operator">&lt;&lt;</span> <span class="token string">"xinm"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    file <span class="token operator">&lt;&lt;</span> <span class="token string">"namji"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ifstream ifile<span class="token punctuation">;</span>    ifile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>ifile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>ifile <span class="token operator">>></span> buf<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            cout<span class="token operator">&lt;&lt;</span> buf<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    ifile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨äºŒè¿›åˆ¶æµè¯»å†™æ–‡ä»¶</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">// Person(char name[], int age):name_(name), age_(age)&#123;&#125;</span>    <span class="token keyword">char</span> name_<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> age_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ofstream file<span class="token punctuation">;</span>    file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>out <span class="token operator">|</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>    Person p <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"hhhhh"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ifstream ifile<span class="token punctuation">;</span>    ifile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in <span class="token operator">|</span> ios<span class="token double-colon punctuation">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ifile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// 1</span>        <span class="token comment">// char buf[1024];</span>        <span class="token comment">// while(ifile >> buf)</span>        <span class="token comment">// &#123;</span>        <span class="token comment">//     cout&lt;&lt; buf&lt;&lt;endl;</span>        <span class="token comment">// &#125;</span>        <span class="token comment">// 2</span>        <span class="token comment">// char buf[1024];</span>        <span class="token comment">// while (ifile.getline(buf, sizeof(buf)))</span>        <span class="token comment">// &#123;</span>        <span class="token comment">//     cout &lt;&lt; buf &lt;&lt; endl;</span>        <span class="token comment">// &#125;</span>        <span class="token comment">// 3</span>        <span class="token comment">// string buf;</span>        <span class="token comment">// while(getline(ifile, buf))&#123;</span>        <span class="token comment">//     cout &lt;&lt; buf &lt;&lt;endl;</span>        <span class="token comment">// &#125;</span>        Person p<span class="token punctuation">;</span>        ifile<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>name_ <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>age_ <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ifile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»txtæ–‡ä»¶ä¸­è¯»å‡ºçš„ä»¥ç©ºæ ¼ä¸ºé—´éš”çš„æ•°å­—ï¼Œå¹¶æ’åº</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctime></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">readFromTxt</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> path<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ifstream iFile<span class="token punctuation">;</span>iFile<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>iFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>string s<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>iFile<span class="token operator">>></span>s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//v.push_back(s[0]-'0');</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">=</span>num<span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"v"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i<span class="token operator">:</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> i<span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">selectSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> n<span class="token operator">=</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> min<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>v<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span> min<span class="token operator">=</span>j<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">testReadFromTxt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">char</span><span class="token operator">*</span> path<span class="token operator">=</span><span class="token string">"a.txt"</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span><span class="token function">readFromTxt</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">selectSort</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"v"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> i<span class="token operator">:</span> v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">testReadFromTxt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¼‚å¸¸å¤„ç†çš„æ„é€ å’Œææ„å‡½æ•°"><a href="#å¼‚å¸¸å¤„ç†çš„æ„é€ å’Œææ„å‡½æ•°" class="headerlink" title="å¼‚å¸¸å¤„ç†çš„æ„é€ å’Œææ„å‡½æ•°"></a>å¼‚å¸¸å¤„ç†çš„æ„é€ å’Œææ„å‡½æ•°</h2><p>è‹¥åœ¨ try ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨è½¬åˆ° catch å‰ï¼Œä¼šå¯¹æœ‰å…³å¯¹è±¡è¿›è¡Œææ„</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//å¼‚å¸¸å¤„ç†çš„æ„é€ å’Œææ„å‡½æ•° </span><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>string name<span class="token punctuation">;</span><span class="token keyword">int</span> sno<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">Student</span><span class="token punctuation">(</span>string name1<span class="token punctuation">,</span><span class="token keyword">int</span> sno1<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>name<span class="token operator">=</span>name1<span class="token punctuation">;</span>sno<span class="token operator">=</span>sno1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token operator">~</span><span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"Destruct Student:"</span><span class="token operator">&lt;&lt;</span>sno<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">checkSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sno<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">throw</span> sno<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">":"</span><span class="token operator">&lt;&lt;</span>sno<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">try</span><span class="token punctuation">&#123;</span>Student <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">"pink"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">checkSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Student <span class="token function">b</span><span class="token punctuation">(</span><span class="token string">"floyd"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ„é€ å¯¹è±¡</span>b<span class="token punctuation">.</span><span class="token function">checkSno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æŠ›å‡ºå¼‚å¸¸è·³åˆ°catchè¯­å¥å—ä¸­</span><span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"error:sno=0!"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°ä¸Šé¢è¿™æ®µä»£ç çš„è¾“å‡ºç»“æœæ˜¯å…ˆå¯¹aã€bææ„ç„¶åå†è½¬åˆ°catchè¾“å‡ºå†…å®¹ã€‚</p><h2 id="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"><a href="#ç±»æ¨¡æ¿ä¸ç»§æ‰¿" class="headerlink" title="ç±»æ¨¡æ¿ä¸ç»§æ‰¿"></a>ç±»æ¨¡æ¿ä¸ç»§æ‰¿</h2><p>è¦æ³¨æ„ç»§æ‰¿çš„æ—¶å€™è¦åŠ ä¸ŠåŸºç±»çš„ç±»å‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span><span class="token operator">:</span>    T c<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">Deri</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span></span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span><span class="token operator">:</span>    T a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Deri<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d<span class="token punctuation">;</span>    d<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>    d<span class="token punctuation">.</span>c<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span>d<span class="token punctuation">.</span>Base<span class="token double-colon punctuation">::</span>c<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment">// cout &lt;&lt; sizeof(Deri&lt;int>)&lt;&lt;endl;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»§æ‰¿æ—¶ä¸èƒ½è¢«ç»§æ‰¿çš„å‡½æ•°"><a href="#ç»§æ‰¿æ—¶ä¸èƒ½è¢«ç»§æ‰¿çš„å‡½æ•°" class="headerlink" title="ç»§æ‰¿æ—¶ä¸èƒ½è¢«ç»§æ‰¿çš„å‡½æ•°"></a>ç»§æ‰¿æ—¶ä¸èƒ½è¢«ç»§æ‰¿çš„å‡½æ•°</h2><p>åŒ…æ‹¬ï¼šæ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ï¼Œæ³¨æ„ï¼šoperator=å‡½æ•°æ˜¯å¯ä»¥è¢«ç»§æ‰¿çš„</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> price<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">price_</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight_</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>A<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"operator=1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">int</span> price_<span class="token punctuation">;</span><span class="token keyword">int</span> weight_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> price<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">price_</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight_</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">int</span> price_<span class="token punctuation">;</span><span class="token keyword">int</span> weight_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//A a1(1,0);</span><span class="token comment">//A a2;</span><span class="token comment">//a2=a1;</span>B <span class="token function">b1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">b2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>b2<span class="token operator">=</span>b1<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢è¯´æ˜operator=å‡½æ•°è¢«ç»§æ‰¿ä¸‹å»äº†ã€‚</p><h2 id="é™æ€æ•°æ®æˆå‘˜çš„åªèƒ½åœ¨ç±»å¤–åˆå§‹åŒ–"><a href="#é™æ€æ•°æ®æˆå‘˜çš„åªèƒ½åœ¨ç±»å¤–åˆå§‹åŒ–" class="headerlink" title="é™æ€æ•°æ®æˆå‘˜çš„åªèƒ½åœ¨ç±»å¤–åˆå§‹åŒ–"></a>é™æ€æ•°æ®æˆå‘˜çš„åªèƒ½åœ¨ç±»å¤–åˆå§‹åŒ–</h2><p>ç±»å†…å®šä¹‰ï¼Œç±»å¤–åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç„¶ååœ¨æ•´ä¸ªç¨‹åºè¿è¡ŒæœŸé—´éƒ½å¯ä»¥å­˜åœ¨</p><p>åŸå› </p><p>1ã€é™æ€æˆå‘˜å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºåŸŸå†…ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±ä¸ºä»–ä»¬åˆ†é…å†…å­˜ç©ºé—´ï¼Œ</p><p>2ã€é™æ€æˆå‘˜å˜é‡æ˜¯ç±»çº§åˆ«çš„ï¼Œä»–åœ¨æ‰€æœ‰ç±»å®ä¾‹ä¸­æ˜¯å…¬æœ‰çš„ï¼Œå¦‚æœå…è®¸åœ¨ç±»å†…éƒ¨åˆå§‹åŒ–ï¼Œå°±å¯èƒ½å¯¼è‡´æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å‰¯æœ¬</p><p>3ã€è¿™æ ·å¯ä»¥é¿å…å¤šæ¬¡åˆå§‹åŒ–</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctime></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x_</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y_</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>x_ <span class="token operator">=</span> val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>y_ <span class="token operator">=</span> val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> x_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> y_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">int</span> x_<span class="token punctuation">;</span><span class="token keyword">int</span> y_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Circle</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">center_</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">r_</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num_<span class="token operator">++</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Circle number: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> num_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">friend</span> <span class="token keyword">double</span> <span class="token function">getDistance</span><span class="token punctuation">(</span><span class="token keyword">const</span> Circle <span class="token operator">&amp;</span>c1<span class="token punctuation">,</span> <span class="token keyword">const</span> Circle <span class="token operator">&amp;</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">static</span> <span class="token keyword">int</span> num_<span class="token punctuation">;</span>Point center_<span class="token punctuation">;</span><span class="token keyword">int</span> r_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> Circle<span class="token double-colon punctuation">::</span>num_ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">double</span> <span class="token function">getDistance</span><span class="token punctuation">(</span><span class="token keyword">const</span> Circle <span class="token operator">&amp;</span>c1<span class="token punctuation">,</span> <span class="token keyword">const</span> Circle <span class="token operator">&amp;</span>c2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">double</span> x<span class="token operator">=</span><span class="token keyword">double</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>center_<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>c1<span class="token punctuation">.</span>center_<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">double</span> y<span class="token operator">=</span><span class="token keyword">double</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>center_<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>c1<span class="token punctuation">.</span>center_<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">testCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Circle <span class="token function">c1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Circle <span class="token function">c2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">getDistance</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">testCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¤„ç†å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºæ“ä½œ"><a href="#å¤„ç†å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºæ“ä½œ" class="headerlink" title="å¤„ç†å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºæ“ä½œ"></a>å¤„ç†å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºæ“ä½œ</h2><p>è¾“å‡ºå‡½æ•°ï¼š</p><ol><li>putc()ï¼šå°†ä¸€ä¸ªå­—ç¬¦å†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶æµä¸­ã€‚</li><li>puts()ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²å†™å…¥åˆ°æ ‡å‡†è¾“å‡ºæµï¼ˆå±å¹•ï¼‰ä¸­ï¼Œå¹¶è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ã€‚</li><li>printf()ï¼šæ ¼å¼åŒ–è¾“å‡ºå‡½æ•°ï¼Œç”¨äºä»¥æŒ‡å®šæ ¼å¼å°†æ•°æ®æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºæµï¼ˆå±å¹•ï¼‰ä¸­ã€‚</li><li>fputc()ï¼šå°†ä¸€ä¸ªå­—ç¬¦å†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶æµä¸­ã€‚</li><li>fputs()ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²å†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶æµä¸­ã€‚</li><li>fprintf()ï¼šæ ¼å¼åŒ–è¾“å‡ºå‡½æ•°ï¼Œç”¨äºä»¥æŒ‡å®šæ ¼å¼å°†æ•°æ®æ‰“å°åˆ°æŒ‡å®šçš„æ–‡ä»¶æµä¸­ã€‚</li></ol><p>è¾“å…¥å‡½æ•°ï¼š</p><ol><li>getc()ï¼šä»æŒ‡å®šçš„æ–‡ä»¶æµä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ã€‚</li><li>gets()ï¼šä»æ ‡å‡†è¾“å…¥æµï¼ˆé”®ç›˜ï¼‰ä¸­è¯»å–ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œå¹¶å­˜å‚¨åˆ°æŒ‡å®šçš„å­—ç¬¦æ•°ç»„ä¸­ã€‚</li><li>scanf()ï¼šæ ¼å¼åŒ–è¾“å…¥å‡½æ•°ï¼Œç”¨äºä»æ ‡å‡†è¾“å…¥æµï¼ˆé”®ç›˜ï¼‰ä¸­è¯»å–æŒ‡å®šæ ¼å¼çš„æ•°æ®ã€‚</li><li>fgetc()ï¼šä»æŒ‡å®šçš„æ–‡ä»¶æµä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ã€‚</li><li>fgets()ï¼šä»æŒ‡å®šçš„æ–‡ä»¶æµä¸­è¯»å–ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œå¹¶å­˜å‚¨åˆ°æŒ‡å®šçš„å­—ç¬¦æ•°ç»„ä¸­ã€‚</li><li>fscanf()ï¼šæ ¼å¼åŒ–è¾“å…¥å‡½æ•°ï¼Œç”¨äºä»æŒ‡å®šçš„æ–‡ä»¶æµä¸­è¯»å–æŒ‡å®šæ ¼å¼çš„æ•°æ®ã€‚</li></ol><h2 id="è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆæœ"><a href="#è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆæœ" class="headerlink" title="è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆæœ"></a>è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆæœ</h2><p>åœ¨Cè¯­è¨€ä¸­ï¼Œé€»è¾‘ä¸è¿ç®—ç¬¦ <code>&amp;&amp;</code> å’Œé€»è¾‘æˆ–è¿ç®—ç¬¦ <code>||</code> å±äºçŸ­è·¯é€»è¾‘è¿ç®—ç¬¦ã€‚è¿™æ„å‘³ç€å½“ä½¿ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ—¶ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å€¼å·²ç»èƒ½å¤Ÿç¡®å®šæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†å¯¹ç¬¬äºŒä¸ªæ“ä½œæ•°è¿›è¡Œæ±‚å€¼ï¼Œä»è€Œå®ç°äº†â€œçŸ­è·¯â€æ•ˆæœã€‚</p><p>å…·ä½“æ¥è¯´ï¼š</p><ul><li>å¯¹äºé€»è¾‘ä¸è¿ç®—ç¬¦ <code>&amp;&amp;</code>ï¼Œå½“ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸ºå‡ï¼ˆ0ï¼‰æ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å·²ç»ç¡®å®šä¸ºå‡ï¼Œæ­¤æ—¶ä¸ä¼šå†å¯¹ç¬¬äºŒä¸ªæ“ä½œæ•°è¿›è¡Œæ±‚å€¼ï¼Œç›´æ¥è¿”å›å‡ã€‚</li><li>å¯¹äºé€»è¾‘æˆ–è¿ç®—ç¬¦ <code>||</code>ï¼Œå½“ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸ºçœŸï¼ˆé0ï¼‰æ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å·²ç»ç¡®å®šä¸ºçœŸï¼Œæ­¤æ—¶ä¸ä¼šå†å¯¹ç¬¬äºŒä¸ªæ“ä½œæ•°è¿›è¡Œæ±‚å€¼ï¼Œç›´æ¥è¿”å›çœŸã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ç±»å’Œå¯¹è±¡çš„å±æ€§</title>
      <link href="/2024/02/01/c-lei-he-dui-xiang-de-shu-xing/"/>
      <url>/2024/02/01/c-lei-he-dui-xiang-de-shu-xing/</url>
      
        <content type="html"><![CDATA[<h1 id="C-ç±»å’Œå¯¹è±¡çš„å±æ€§"><a href="#C-ç±»å’Œå¯¹è±¡çš„å±æ€§" class="headerlink" title="C++ç±»å’Œå¯¹è±¡çš„å±æ€§"></a>C++ç±»å’Œå¯¹è±¡çš„å±æ€§</h1><p>åƒé’§ä¸€å‘ï¼Œè®©ä¸€æ ¹å¤´å‘å»æ‰¿å—ä¸‰ä¸‡æ–¤çš„é‡é‡ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰æ–­ã€‚â€”â€”-ä½™å</p><h2 id="constä¿®é¥°ç»“æ„ä½“æŒ‡é’ˆ"><a href="#constä¿®é¥°ç»“æ„ä½“æŒ‡é’ˆ" class="headerlink" title="constä¿®é¥°ç»“æ„ä½“æŒ‡é’ˆ"></a>constä¿®é¥°ç»“æ„ä½“æŒ‡é’ˆ</h2><p>å†…éƒ¨å€¼ä¸èƒ½ä¿®æ”¹ï¼Œå³ï¼šåªèƒ½è¯»ï¼Œä¸èƒ½å†™ã€‚é˜²æ­¢è¯¯æ“ä½œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Point</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    <span class="token keyword">int</span> y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// const ä¿®é¥°æŒ‡é’ˆï¼ŒæŒ‡å‘çš„å¯¹è±¡ä¸èƒ½é€šè¿‡è¯¥æŒ‡é’ˆè¢«ä¿®æ”¹</span>    <span class="token keyword">const</span> Point<span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> Point<span class="token punctuation">&#123;</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// p1->x = 5;  // ç¼–è¯‘é”™è¯¯ï¼šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æ˜¯ const çš„ï¼Œä¸èƒ½è¢«ä¿®æ”¹</span>    <span class="token comment">// æŒ‡é’ˆæœ¬èº«æ˜¯ constï¼Œä¸èƒ½æŒ‡å‘å…¶ä»–å¯¹è±¡</span>    Point<span class="token operator">*</span> <span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> Point<span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// p2 = new Point&#123;7, 8&#125;;  // ç¼–è¯‘é”™è¯¯ï¼šp2 æ˜¯ const æŒ‡é’ˆï¼Œä¸èƒ½æŒ‡å‘å…¶ä»–å¯¹è±¡</span>    p2<span class="token operator">-></span>y <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>  <span class="token comment">// åˆæ³•ï¼šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡å¯ä»¥é€šè¿‡æ­¤æŒ‡é’ˆè¢«ä¿®æ”¹</span>    <span class="token comment">// åŒæ—¶ const ä¿®é¥°æŒ‡é’ˆå’ŒæŒ‡å‘çš„å¯¹è±¡</span>    <span class="token keyword">const</span> Point<span class="token operator">*</span> <span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> Point<span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// p3->x = 9;  // ç¼–è¯‘é”™è¯¯ï¼šæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æ˜¯ const çš„ï¼Œä¸èƒ½è¢«ä¿®æ”¹</span>    <span class="token comment">// p3 = new Point&#123;10, 11&#125;;  // ç¼–è¯‘é”™è¯¯ï¼šp3 æ˜¯ const æŒ‡é’ˆï¼Œä¸èƒ½æŒ‡å‘å…¶ä»–å¯¹è±¡</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å·¦ç§»è¿ç®—ç¬¦é‡è½½"><a href="#å·¦ç§»è¿ç®—ç¬¦é‡è½½" class="headerlink" title="å·¦ç§»è¿ç®—ç¬¦é‡è½½"></a>å·¦ç§»è¿ç®—ç¬¦é‡è½½</h2><p>æ— æ³•ç”¨æˆå‘˜å‡½æ•°å†™è¿™ä¸ªå‡½æ•°ï¼Œå› ä¸ºä¸èƒ½æŠŠå·¦ç§»coutå†™åœ¨å·¦è¾¹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> x_<span class="token punctuation">,</span> y_<span class="token punctuation">;</span>    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">x_</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y_</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>os<span class="token punctuation">,</span> <span class="token keyword">const</span> Point <span class="token operator">&amp;</span>p<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        os <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>x_ <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>y_ <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> os<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Point <span class="token function">p</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>p<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿ç®—ç¬¦åŠ å·é‡è½½"><a href="#è¿ç®—ç¬¦åŠ å·é‡è½½" class="headerlink" title="è¿ç®—ç¬¦åŠ å·é‡è½½"></a>è¿ç®—ç¬¦åŠ å·é‡è½½</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//1ã€æˆå‘˜å‡½æ•°é‡è½½+å·</span>Person <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>Person <span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Person temp<span class="token punctuation">;</span>    temp<span class="token punctuation">.</span>m_A <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>m_A <span class="token operator">+</span> p<span class="token punctuation">.</span>m_A<span class="token punctuation">;</span>    temp<span class="token punctuation">.</span>m_B <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>m_B <span class="token operator">+</span> p<span class="token punctuation">.</span>m_B<span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//2ã€å…¨å±€å‡½æ•°é‡è½½+å·</span>Person <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>Person <span class="token operator">&amp;</span>p1<span class="token punctuation">,</span> Person <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Person temp<span class="token punctuation">;</span>    temp<span class="token punctuation">.</span>m_A <span class="token operator">=</span> p1<span class="token punctuation">.</span>m_A <span class="token operator">+</span> p2<span class="token punctuation">.</span>m_A<span class="token punctuation">;</span>    temp<span class="token punctuation">.</span>m_B <span class="token operator">=</span> p1<span class="token punctuation">.</span>m_B <span class="token operator">+</span> p2<span class="token punctuation">.</span>m_B<span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æˆå‘˜å‡½æ•°è°ƒç”¨æœ¬è´¨</span>Person p3 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å…¨å±€å‡½æ•°è°ƒç”¨æœ¬è´¨</span>Person p3 <span class="token operator">=</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸ºä»€ä¹ˆæœ‰çš„æ“ä½œç¬¦é‡è½½å‡½æ•°åªèƒ½æ˜¯æˆå‘˜å‡½æ•°"><a href="#ä¸ºä»€ä¹ˆæœ‰çš„æ“ä½œç¬¦é‡è½½å‡½æ•°åªèƒ½æ˜¯æˆå‘˜å‡½æ•°" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰çš„æ“ä½œç¬¦é‡è½½å‡½æ•°åªèƒ½æ˜¯æˆå‘˜å‡½æ•°"></a>ä¸ºä»€ä¹ˆæœ‰çš„æ“ä½œç¬¦é‡è½½å‡½æ•°åªèƒ½æ˜¯æˆå‘˜å‡½æ•°</h2><p>å‡ºè‡ªäº c++ primer çš„ä¸€å¥è¯ï¼š</p><blockquote><p>èµ‹å€¼ï¼ˆ=ï¼‰ã€ä¸‹æ ‡ï¼ˆ[]ï¼‰ã€è°ƒç”¨ï¼ˆ()ï¼‰å’Œæˆå‘˜è®¿é—®ç®­å¤´ï¼ˆ-&gt;ï¼‰è¿ç®—ç¬¦å¿…é¡»æ˜¯æˆå‘˜ï¼ˆå‡½æ•°ï¼‰ã€‚</p></blockquote><p>æ“ä½œç¬¦é‡è½½å‡½æ•°è§„å®šæ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªè‡³å…³é‡è¦çš„ç‰¹ç‚¹ï¼š<strong>ç±»çš„thisæŒ‡é’ˆä¼šè¢«ç»‘å®šåˆ°è¿ç®—ç¬¦çš„å·¦ä¾§è¿ç®—å¯¹è±¡ï¼Œæˆå‘˜è¿ç®—ç¬¦å‡½æ•°çš„æ˜¾ç¤ºå‚æ•°æ¯”è¿ç®—ç¬¦å¯¹è±¡æ€»æ•°å°‘ä¸€ä¸ª</strong>ã€‚</p><p><a href="https://blog.csdn.net/qq_29344757/article/details/78820189">ä¸ºä»€ä¹ˆæœ‰çš„æ“ä½œç¬¦é‡è½½å‡½æ•°åªèƒ½æ˜¯æˆå‘˜å‡½æ•°</a></p><h2 id="å‹å…ƒæŠ€æœ¯"><a href="#å‹å…ƒæŠ€æœ¯" class="headerlink" title="å‹å…ƒæŠ€æœ¯"></a>å‹å…ƒæŠ€æœ¯</h2><p>åˆ©ç”¨å‹å…ƒç±»æŠ€æœ¯ï¼Œå¯ä»¥è®¿é—®ç§æœ‰ç±»å‹</p><p>å½“ä¸€ä¸ªéæˆå‘˜å‡½æ•°éœ€è¦ç›´æ¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜æ—¶ï¼Œå¯ä»¥å°†å…¶å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ã€‚è€Œå¦‚æœéæˆå‘˜å‡½æ•°ä¸éœ€è¦ç›´æ¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œé‚£ä¹ˆå°±ä¸å¿…å°†å…¶å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œéæˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»çš„å…¬æœ‰æ¥å£è¿›è¡Œè®¿é—®ï¼Œè€Œæ— éœ€æˆä¸ºå‹å…ƒå‡½æ•°ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> a_<span class="token punctuation">;</span>    <span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">FriendClass</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">a_</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> a_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>MyClass <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyClass<span class="token operator">&amp;</span> m1<span class="token punctuation">,</span> <span class="token keyword">const</span> MyClass<span class="token operator">&amp;</span> m2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">MyClass</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>m2<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">FriendClass</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">accessPrivateMember</span><span class="token punctuation">(</span>MyClass<span class="token operator">&amp;</span> my<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"Myclass private menber: "</span><span class="token operator">&lt;&lt;</span> my<span class="token punctuation">.</span>a_<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    MyClass <span class="token function">my</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    FriendClass friendClass<span class="token punctuation">;</span>    friendClass<span class="token punctuation">.</span><span class="token function">accessPrivateMember</span><span class="token punctuation">(</span>my<span class="token punctuation">)</span><span class="token punctuation">;</span>MyClass <span class="token function">my1</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>MyClass my2 <span class="token operator">=</span> my<span class="token operator">+</span>my1<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> my2<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><p>æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥é‡è½½</p><p>åˆ›å»ºä»»ä½•å¯¹è±¡éƒ½è¦è°ƒç”¨æ„é€ å‡½æ•°</p><h2 id="ææ„é¡ºåº"><a href="#ææ„é¡ºåº" class="headerlink" title="ææ„é¡ºåº"></a>ææ„é¡ºåº</h2><p>å½“ç±»å†…å­˜åœ¨å…¶ä»–ç±»æˆå‘˜æ—¶ï¼Œæ„é€ å‡½æ•°é¡ºåºæ˜¯å…ˆæˆå‘˜å˜é‡çš„æ„é€ å‡½æ•°ï¼Œåæœ¬ç±»çš„æ„é€ å‡½æ•°ï¼Œææ„é¡ºåºåˆ™ç›¸å</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Phone</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"moren"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> Phone<span class="token operator">*</span> phone<span class="token punctuation">,</span> <span class="token keyword">int</span> rea<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        m_name <span class="token operator">=</span> name<span class="token punctuation">;</span>        m_age <span class="token operator">=</span> age<span class="token punctuation">;</span>        m_phone <span class="token operator">=</span> phone<span class="token punctuation">;</span>        m_rea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span>rea<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"gouzao---------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>m_rea <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token keyword">delete</span> m_rea<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"xigou----------------=="</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">const</span> Person <span class="token operator">&amp;</span>p<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"kaobei---------------==="</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>    string m_name<span class="token punctuation">;</span>    <span class="token keyword">int</span> m_age<span class="token punctuation">;</span>    Phone<span class="token operator">*</span> m_phone<span class="token punctuation">;</span><span class="token comment">//ä¸ºä»€ä¹ˆä½¿ç”¨æŒ‡é’ˆï¼Œæœ‰å­¦é—®åœ¨é‡Œè¾¹</span>    <span class="token keyword">int</span> <span class="token operator">*</span>m_rea<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Phone</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Phone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        m_Number <span class="token operator">=</span> <span class="token number">1232</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">Phone</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_Number</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Phone æ„é€ "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token operator">~</span><span class="token function">Phone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Phone ææ„"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> m_Number<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Person p1<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// Person p("123", 123, t);</span>    <span class="token comment">// Person p1(p);</span>    <span class="token comment">// cout &lt;&lt; "02" &lt;&lt; endl;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Phone <span class="token function">phone</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Person <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>phone<span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"12333333333333333333333"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// test02();</span>    <span class="token comment">// cout &lt;&lt; "03" &lt;&lt; endl;</span>    <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢<code>Person</code>çš„<code>Phone</code>æˆå‘˜å˜é‡ä½¿ç”¨æŒ‡é’ˆæ˜¯å› ä¸º<code>Person</code>ç±»ä¸­çš„<code>Phone</code>å¯¹è±¡æ˜¯ä¸€ä¸ªä¸å®Œå…¨ç±»å‹ï¼Œå› æ­¤ç¼–è¯‘å™¨æ— æ³•ç¡®å®šå…¶<strong>å¤§å°å’Œå¸ƒå±€</strong>ã€‚è¿™å¯¼è‡´åœ¨<code>Person</code>ç±»ä¸­ä½¿ç”¨<code>Phone</code>å¯¹è±¡æ—¶å‡ºç°é”™è¯¯ã€‚</p><h2 id="æ‹·è´æ„é€ å‡½æ•°"><a href="#æ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°"></a>æ‹·è´æ„é€ å‡½æ•°</h2><p>æ‰§è¡Œæ‹·è´æ„é€ å‡½æ•°çš„ä¸‰ä¸ªæ—¶æœº</p><p>ï¼ˆ1ï¼‰ã€ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ—¶ï¼ˆ<strong>è¿™æ˜¯æœ€æœ¬è´¨çš„åŸå› </strong>ï¼‰</p><p>Spot spot2=spot1ï¼›</p><p>ï¼ˆ2ï¼‰ã€å¯¹è±¡ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼ˆå€¼ä¼ é€’ï¼Œä¸æ˜¯å¼•ç”¨ä¼ é€’ï¼‰æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€‚</p><p>Spot spot3(spot2);</p><p>ï¼ˆ3ï¼‰ã€å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œreturnè¯­å¥æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°åˆ›å»ºè¿”å›å€¼ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span><span class="token operator">*</span> data<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">// é»˜è®¤æ„é€ å‡½æ•°</span>    <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Default constructor called."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ‹·è´æ„é€ å‡½æ•°</span>    <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyClass<span class="token operator">&amp;</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ·±æ‹·è´</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor called."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ææ„å‡½æ•°</span>    <span class="token operator">~</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">delete</span> data<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Destructor called."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ‰“å°æ•°æ®æˆå‘˜</span>    <span class="token keyword">void</span> <span class="token function">printData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Data: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>data <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// å‡½æ•°å‚æ•°ä¸ºå¯¹è±¡</span><span class="token keyword">void</span> <span class="token function">myFunction</span><span class="token punctuation">(</span>MyClass obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    obj<span class="token punctuation">.</span><span class="token function">printData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>MyClass <span class="token function">myFunction1</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyClass<span class="token operator">&amp;</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> obj<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ç”¨å¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªå¯¹è±¡</span>    MyClass obj1<span class="token punctuation">;</span>    <span class="token comment">// MyClass obj2 = obj1;</span>    <span class="token comment">// ä¼ é€’å¯¹è±¡ç»™å‡½æ•°å‚æ•°</span>    <span class="token comment">// myFunction(obj1);</span>    <span class="token comment">// é€šè¿‡å€¼è¿”å›å¯¹è±¡</span>    MyClass obj3 <span class="token operator">=</span> <span class="token function">myFunction1</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯ä¸€æ¬¡é»˜è®¤æ„é€ ï¼Œä¸€æ¬¡æ‹·è´æ„é€ ï¼Œä¸¤æ¬¡ææ„ã€‚<code>myFunction</code>å’Œ<code>myFunction1</code>çš„åŒºåˆ«ï¼šæŒ‰å€¼ä¼ é€’ä¼šè§¦å‘æ‹·è´æ„é€ å‡½æ•°ï¼ŒæŒ‰å¼•ç”¨ä¼ é€’ä¸ä¼šè§¦å‘ï¼Œä½†æ˜¯ä¼ é€’è¿”å›å€¼æ—¶ä¼šè§¦å‘æ‹·è´æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœç›¸åŒ</p><h2 id="éšå¼è½¬æ¢"><a href="#éšå¼è½¬æ¢" class="headerlink" title="éšå¼è½¬æ¢"></a>éšå¼è½¬æ¢</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>     <span class="token comment">// explicit</span>     <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Cons"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>     <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    A<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Operator="</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// A a=3;</span>    A a1<span class="token punctuation">;</span>    a1<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>a1=3è¿™è¡Œä»£ç ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå°†3éšå¼è½¬æ¢ä¸ºAç±»å‹ï¼ˆå¯ä»¥é€šè¿‡åœ¨Aå‰é¢+explicitæ¥éªŒè¯ï¼‰ï¼Œç„¶åè°ƒç”¨operator=å‡½æ•°ï¼Œå°±æ˜¯ä¸Šé¢çš„ç¬¬ä¸€ä¸ªæ—¶æœºã€‚</p><h2 id="C-C-æ•°ç»„åä¸æŒ‡é’ˆåŒºåˆ«"><a href="#C-C-æ•°ç»„åä¸æŒ‡é’ˆåŒºåˆ«" class="headerlink" title="C/C++æ•°ç»„åä¸æŒ‡é’ˆåŒºåˆ«"></a>C/C++æ•°ç»„åä¸æŒ‡é’ˆåŒºåˆ«</h2><p><a href="https://blog.csdn.net/ykm0722/article/details/7031387">https://blog.csdn.net/ykm0722/article/details/7031387</a></p><h2 id="é™æ€æ•°æ®æˆå‘˜"><a href="#é™æ€æ•°æ®æˆå‘˜" class="headerlink" title="é™æ€æ•°æ®æˆå‘˜"></a>é™æ€æ•°æ®æˆå‘˜</h2><p>æ™®é€šæˆå‘˜å˜é‡åœ¨ç±»ä¸­åªèƒ½å£°æ˜å¯æ˜¯ä¸èƒ½å®šä¹‰ï¼Œç±»åœ¨å®šä¹‰åå¹¶ä¸åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œè€Œæ˜¯åœ¨å®šä¹‰ç±»çš„å¯¹è±¡çš„æ—¶å€™æ‰åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œç›¸åé™æ€çš„æ•°æ®æˆå‘˜å’Œé™æ€çš„æˆå‘˜å‡½æ•°æ˜¯å·²ç»åœ¨å†…å­˜ä¸­å¼€è¾Ÿäº†å†…å­˜ç©ºé—´äº†ï¼Œæ‰€ä»¥é™æ€æ•°æ®æˆå‘˜å¯ä»¥ç‹¬ç«‹çš„è®¿é—®åœ¨ä»»ä½•ç±»å¯¹è±¡æ²¡æœ‰å»ºç«‹èµ·æ¥éƒ½å¯ä»¥è®¿é—®ã€‚</p><p>ä½ ä»¬ç­é‡Œé¢æœ‰10ä¸ªäººï¼ˆ10ä¸ªæ¯”å¦‚é«˜ä¸€ä¸€ç­çš„å¯¹è±¡ï¼‰ï¼Œä½“è‚²è€å¸ˆåˆ†ç»™ä½ ä»¬ä¸€ä¸ªç¯®çƒï¼ˆé™æ€æˆå‘˜å‡½æ•°ï¼‰ï¼Œä½ ä»¬æ¯ä¸ªäººéƒ½å¸¦äº†ä¸€ä¸ªç¯®çƒï¼ˆéé™æ€æˆå‘˜æ•°ï¼‰ï¼Œä½ ä»¬éƒ½å¾ˆå°æ°”ï¼Œè‡ªå·±çš„çƒåªèƒ½è‡ªå·±æ‹ï¼Œè¦æ˜¯5å¯¹5æ‰“æ¯”èµ›ï¼Œé‚£å°±åªèƒ½ç”¨é‚£ä¸ªé™æ€çš„ç¯®çƒäº†ï¼ˆæ¯ä¸ªäººéƒ½å¯ä»¥æ‹¿æ¥ç”¨ï¼Œä½†æ˜¯å¸¦æ¥çš„å½±å“æ˜¯å¯¹å…¨ä½“çš„ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘å¯ä»¥è¯´é‚£ä¸ªç¯®çƒæ˜¯é«˜ä¸€ä¸€ç­çš„æˆå‘˜ã€‚æ‰€ä»¥ä¹Ÿå°±æ˜¯è¯´ï¼šé™æ€æˆå‘˜å‡½æ•°æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼ˆå› ä¸ºé«˜ä¸€äºŒç­å°±ä¸èƒ½æ‹¿æ¥ç©ï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªç¯®çƒæœ€åè¿˜æ˜¯è¦è¿˜ç»™è€å¸ˆçš„ï¼Œä»»ä½•ç§äººä¸å¾—å æœ‰ã€‚å¸Œæœ›è¿™æ ·ä½ èƒ½æ˜ç™½ï¼Œå…¶å®åœ¨å†…å­˜ç©ºé—´é‡Œé¢è¯´ç™½äº†é™æ€çš„æˆå‘˜çš„å†…å­˜æ˜¯å”¯ä¸€çš„ä¸€ä»½ï¼Œå°±æ˜¯å½“ä½ åœ¨ç±»å†…å£°æ˜ä»–æ—¶å¼€è¾Ÿçš„ï¼Œä½†æ˜¯éé™æ€å‡½æ•°çš„ç©ºé—´åˆ†é…æ˜¯åœ¨ä½ å®ä¾‹åŒ–å¯¹è±¡æ—¶åˆ›å»ºçš„ã€‚</p><p>é™æ€æˆå‘˜å˜é‡æ˜¯æ‰€æœ‰çš„ç±»å…±æœ‰çš„ï¼Œå®ƒæœ‰ä¸¤ç§è®¿é—®æ–¹å¼ï¼š</p><p>1ã€é€šè¿‡å¯¹è±¡è®¿é—®</p><p>2ã€é€šè¿‡ç±»åè®¿é—®ï¼ˆå› ä¸ºé™æ€æˆå‘˜å‡½æ•°å’Œé™æ€å˜é‡æ˜¯æ‰€æœ‰å¯¹è±¡å…±æœ‰çš„ä¸€ä¸ªæ€§è´¨ï¼‰</p><p>é™æ€æˆå‘˜å‡½æ•°è°ƒç”¨æ–¹å¼ï¼šé€šè¿‡å¯¹è±¡æˆ–è€…é€šè¿‡:ç±»å::é™æ€æˆå‘˜å‡½æ•°</p><p>é™æ€æˆå‘˜å‡½æ•°ä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜å˜é‡ï¼Œå› ä¸ºé™æ€æˆå‘˜å‡½æ•°æ˜¯æ‰€æœ‰å¯¹è±¡å…±æœ‰çš„ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œå¦‚æœä¿®æ”¹éé™æ€æˆå‘˜å˜é‡ï¼Œä»–ä¸çŸ¥é“æ˜¯å“ªä¸ªå¯¹è±¡çš„å˜é‡ã€‚æ— æ³•åŒºåˆ†æ˜¯å“ªä¸ªå¯¹è±¡çš„ã€‚</p><p>é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæœ‰è®¿é—®æƒé™</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span>    string name<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> Num<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Person</span><span class="token punctuation">(</span>string N<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">name</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> Num<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">const</span> Person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> Num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å…±æœ‰"</span> <span class="token operator">&lt;&lt;</span> Num <span class="token operator">&lt;&lt;</span> <span class="token string">"ä¸ªäºº"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> Num<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> Person<span class="token double-colon punctuation">::</span>Num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Person p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>    Person <span class="token function">p3</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"hh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç ”ç©¶é™æ€å‡½æ•°æˆå‘˜æ˜¯å¦æœ‰thisæŒ‡é’ˆ"><a href="#ç ”ç©¶é™æ€å‡½æ•°æˆå‘˜æ˜¯å¦æœ‰thisæŒ‡é’ˆ" class="headerlink" title="ç ”ç©¶é™æ€å‡½æ•°æˆå‘˜æ˜¯å¦æœ‰thisæŒ‡é’ˆ"></a>ç ”ç©¶é™æ€å‡½æ•°æˆå‘˜æ˜¯å¦æœ‰thisæŒ‡é’ˆ</h3><p>ç»“è®ºï¼šæ²¡æœ‰ï¼Œå› ä¸ºé™æ€æˆå‘˜å‡½æ•°<strong>ä¸å±äºæŸä¸ªå¯¹è±¡</strong>ï¼Œè¢«ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚</p><h2 id="ç±»çš„ç»„åˆä¸ç»§æ‰¿"><a href="#ç±»çš„ç»„åˆä¸ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»„åˆä¸ç»§æ‰¿"></a>ç±»çš„ç»„åˆä¸ç»§æ‰¿</h2><p><strong>å½“ä¸€ä¸ªç±»å°†è¦è¢«ç»§æ‰¿æ—¶ï¼Œä¸ºäº†æ–¹ä¾¿å¯¹ä»–çš„ç»§æ‰¿ï¼Œå¾€å¾€å°†ä»–çš„privateæ•°æ®æˆå‘˜æ”¹ä¸ºprotectedè®¿é—®æƒé™ï¼Œå› ä¸ºåŸºç±»çš„privateæˆå‘˜ä¸æ–¹ä¾¿åœ¨æ´¾ç”Ÿç±»ä¸­è®¿é—®</strong></p><p><strong>æ³¨æ„</strong>:<strong>åªæœ‰æ„é€ å‡½æ•°åˆå§‹åŒ–çš„æ—¶å€™èƒ½ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</strong>ã€‚æˆå‘˜å‡½æ•°ä¸è¡Œï¼Œè¦ä¸ç„¶ä¼šæŠ¥é”™</p><h2 id="å‹å…ƒç±»å‡½æ•°"><a href="#å‹å…ƒç±»å‡½æ•°" class="headerlink" title="å‹å…ƒç±»å‡½æ•°"></a>å‹å…ƒç±»å‡½æ•°</h2><p><del>å®šä¹‰å‹å…ƒç±»å‡½æ•°ï¼Œå†ç±»å¤–éƒ¨å®šä¹‰æ—¶ä¸èƒ½è®¿é—®privateæˆå‘˜ï¼Œè€Œåœ¨ç±»å†…å®šä¹‰å¯ä»¥ï¼Œ</del></p><p>ä¸Šé¢è¯´æ³•æ˜¯é”™è¯¯çš„ï¼ŒåŸå› æ˜¯ç±»å¤–é‚£ä¸ªå‡½æ•°çš„å®šä¹‰çš„å½¢å‚å¹¶æ²¡æœ‰+constï¼Œä¸ç±»å†…çš„å£°æ˜ä¸ç›¸åŒï¼Œå¯¼è‡´å˜æˆäº†ä¸€ä¸ªæ™®é€šå‡½æ•°ã€‚</p><p>ç¨‹åºå¦‚ä¸‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    <span class="token keyword">int</span> y<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">friend</span> <span class="token keyword">float</span> <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">const</span> Point <span class="token operator">&amp;</span>p1<span class="token punctuation">,</span> <span class="token keyword">const</span> Point <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// &#123;</span>    <span class="token comment">//     return sqrt(pow(p2.x - p1.x, 2) + pow(p2.y - p1.y, 2));</span>    <span class="token comment">// &#125;</span>    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>X<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>Y<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        x <span class="token operator">=</span> X<span class="token punctuation">;</span>        y <span class="token operator">=</span> Y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// void setX(int X) : x(X) &#123;&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// float Distance(Point&amp; p1, Point&amp; p2)</span><span class="token comment">//&#123;</span><span class="token comment">//return sqrt(pow(p2.x - p1.x, 2) + pow(p2.y - p1.y, 2));</span><span class="token comment">//&#125;</span><span class="token keyword">float</span> <span class="token function">Distance</span><span class="token punctuation">(</span><span class="token keyword">const</span> Point<span class="token operator">&amp;</span> p1<span class="token punctuation">,</span> <span class="token keyword">const</span> Point<span class="token operator">&amp;</span> p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>x <span class="token operator">-</span> p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>y <span class="token operator">-</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Point <span class="token function">p1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">Distance</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>å¦‚æœå­ç±»ä¸­æœ‰ä¸çˆ¶ç±»ä¸­åŒåçš„æˆå‘˜å‡½æ•°ï¼Œç›´æ¥è°ƒç”¨æ˜¯è°ƒç”¨å­ç±»ä¸­çš„ï¼Œå­ç±»ä¸­çš„åŒåçš„æˆå‘˜å‡½æ•°ä¼šè¦†ç›–çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°ï¼Œå¦‚æœæƒ³è¦è®¿é—®çš„è¯ï¼Œéœ€è¦åŠ ä¸Šçˆ¶ç±»çš„ä½œç”¨åŸŸ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Parent class display() function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Parent</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Child class display() function"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token comment">// è°ƒç”¨çˆ¶ç±»ä¸­çš„ display() å‡½æ•°</span>        <span class="token comment">// Parent::display();</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    Child obj<span class="token punctuation">;</span>    obj<span class="token punctuation">.</span><span class="token class-name">Parent</span><span class="token double-colon punctuation">::</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»§æ‰¿çš„æ—¶å€™æ„é€ ææ„çš„é¡ºåº"><a href="#ç»§æ‰¿çš„æ—¶å€™æ„é€ ææ„çš„é¡ºåº" class="headerlink" title="ç»§æ‰¿çš„æ—¶å€™æ„é€ ææ„çš„é¡ºåº"></a>ç»§æ‰¿çš„æ—¶å€™æ„é€ ææ„çš„é¡ºåº</h2><p>å¦‚æœæ²¡æœ‰å‡ºç°ç»„åˆï¼Œæ„é€ é¡ºåºæ˜¯ï¼šå…ˆæŒ‰ç…§ç»§æ‰¿çš„é¡ºåºæ„é€ ï¼Œç„¶åæ˜¯è‡ªå·±çš„æ„é€ å‡½æ•°</p><p>è‹¥å‡ºç°ç»„åˆï¼Œæ„é€ é¡ºåºï¼šå…ˆæŒ‰ç…§ç»§æ‰¿é¡ºåºæ„é€ ï¼Œç„¶åæ˜¯æˆå‘˜å¯¹è±¡çš„æ„é€ ï¼Œæœ€åæ˜¯è‡ªå·±çš„æ„é€ å‡½æ•°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B1</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"B1"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token function">B1</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"B1:"</span><span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">B1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Des B1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B2</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">B2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"B2"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token function">B2</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"B2:"</span><span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">B2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Des B2"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token operator">:</span><span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">B2</span><span class="token punctuation">,</span><span class="token keyword">public</span> <span class="token class-name">B1</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">B1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">B2</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"C"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">B1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">B2</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"C2"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Des C"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    C obj<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h2><p>ä¼˜ç¼ºç‚¹ï¼š</p><p><a href="https://blog.csdn.net/jandunlab/article/details/14110117">(11æ¡æ¶ˆæ¯) å¤šç»§æ‰¿çš„æ¦‚å¿µå’Œä¼˜ç¼ºç‚¹_HappyJandunâ€™s å­¦ä¹ ç¬”å½•-CSDNåšå®¢_å¤šç»§æ‰¿çš„ä¼˜ç¼ºç‚¹</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"sleep"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"eat"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token comment">// Authorç»§æ‰¿è‡ªPerson</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">writeBook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"write Book"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Programmer</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token comment">// Programmerç»§æ‰¿è‡ªPerson</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">writeCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"write Code"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Programmer_Author</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Programmer</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">Author</span> <span class="token comment">// å¤šé‡ç»§æ‰¿</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Programmer_Author pa<span class="token punctuation">;</span>    pa<span class="token punctuation">.</span><span class="token function">writeBook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨åŸºç±»Authorçš„æ–¹æ³•</span>    pa<span class="token punctuation">.</span><span class="token function">writeCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨åŸºç±»Programmerçš„æ–¹æ³•</span>    <span class="token comment">// pa.eat();       // ç¼–è¯‘é”™è¯¯ï¼Œeat()å®šä¹‰ä¸æ˜ç¡®</span>    <span class="token comment">// pa.sleep();     // ç¼–è¯‘é”™è¯¯ï¼Œsleep()å®šä¹‰ä¸æ˜ç¡®</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šé‡ç»§æ‰¿çš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯<strong>å¯¹è±¡å¯ä»¥è°ƒç”¨å¤šä¸ªåŸºç±»ä¸­çš„æ¥å£</strong></p><p>ç¼ºç‚¹æ˜¯å¦‚æœæ´¾ç”Ÿç±»æ‰€ç»§æ‰¿çš„å¤šä¸ªåŸºç±»æœ‰ç›¸åŒçš„åŸºç±»ï¼Œè€Œæ´¾ç”Ÿç±»å¯¹è±¡éœ€è¦è°ƒç”¨è¿™ä¸ªç¥–å…ˆç±»çš„æ¥å£æ–¹æ³•ï¼Œå°±ä¼šå®¹æ˜“å‡ºç°äºŒä¹‰æ€§ã€‚ </p><p>é€šå¸¸æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p><p>ï¼ˆ1ï¼‰åŠ ä¸Šå…¨å±€ç¬¦ç¡®å®šè°ƒç”¨å“ªä¸€ä»½æ‹·è´ã€‚æ¯”å¦‚pa.Author::eat()è°ƒç”¨å±äºAuthorçš„æ‹·è´ã€‚</p><p>ï¼ˆ2ï¼‰ä½¿ç”¨è™šæ‹Ÿç»§æ‰¿ï¼Œä½¿å¾—å¤šé‡ç»§æ‰¿ç±»Programmer_Authoråªæ‹¥æœ‰Personç±»çš„ä¸€ä»½æ‹·è´ã€‚æ¯”å¦‚åœ¨ç±» Author å’Œ Programmer çš„ç»§æ‰¿å‰åŠ å…¥virtualå°±å¯ä»¥äº†ã€‚</p><h2 id="è™šå‡½æ•°"><a href="#è™šå‡½æ•°" class="headerlink" title="è™šå‡½æ•°"></a>è™šå‡½æ•°</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    string m_sound<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Animal</span><span class="token punctuation">(</span>string sound<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_sound</span><span class="token punctuation">(</span>sound<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">makeSomeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Ainmal"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    string m_sound<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Cat</span><span class="token punctuation">(</span>string sound<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_sound</span><span class="token punctuation">(</span>sound<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token string">"animal"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token comment">// å¿…é¡»æ˜¾å¼è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å‡½æ•°</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">makeSomeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> m_sound <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    string m_sound<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Dog</span><span class="token punctuation">(</span>string sound<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_sound</span><span class="token punctuation">(</span>sound<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token string">"animal"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">makeSomeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> m_sound <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// è§†ä»–äººä¹‹ç–‘ç›®å¦‚ç›ç›é¬¼ç«ï¼Œå¤§èƒ†åœ°å»èµ°ä½ çš„å¤œè·¯å§ã€‚</span>    Animal <span class="token operator">*</span>animal<span class="token punctuation">;</span>    Dog <span class="token function">dog</span><span class="token punctuation">(</span><span class="token string">"Wang Wang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Cat <span class="token function">cat</span><span class="token punctuation">(</span><span class="token string">"Miao Miao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    animal <span class="token operator">=</span> <span class="token operator">&amp;</span>dog<span class="token punctuation">;</span>    animal<span class="token operator">-></span><span class="token function">makeSomeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    animal <span class="token operator">=</span> <span class="token operator">&amp;</span>cat<span class="token punctuation">;</span>    animal<span class="token operator">-></span><span class="token function">makeSomeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼–è¯‘å™¨ä¸ºäº†å®ç°è™šå‡½æ•°ï¼Œé€šå¸¸ä¼šç”Ÿæˆè™šå‡½æ•°è¡¨ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶é€šè¿‡è™šå‡½æ•°åŠ¨æ€çš„æŸ¥æ‰¾ï¼Œç„¶åæ®æ­¤è°ƒç”¨æ­£ç¡®çš„å‡½æ•°ï¼Œè¿™å°±æ˜¯åŠ¨æ€ç¼–è¯‘ã€‚vbtableæ˜¯è™šåŸºè¡¨ï¼Œè™šåŸºæŒ‡é’ˆ(vbptr)æŒ‡å‘è™šåŸºè¡¨ã€‚</p><p><strong>C++ä¸ºä»€ä¹ˆè¦ç”¨è™šå‡½æ•°</strong></p><p><a href="https://blog.csdn.net/noricky/article/details/80051219?ops_request_misc=%7B%22request%5Fid%22%3A%22163806102216780255288237%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&amp;request_id=163806102216780255288237&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-80051219.first_rank_v2_pc_rank_v29&amp;utm_term=ä»€ä¹ˆæ—¶å€™è¦ç”¨è™šå‡½æ•°&amp;spm=1018.2226.3001.4187">(3æ¡æ¶ˆæ¯) C++ä¸ºä»€ä¹ˆè¦ç”¨è™šå‡½æ•°_Like a lunatic-CSDNåšå®¢</a></p><p><strong>æ€»ç»“èµ·æ¥ï¼š</strong>è¿™æ ·åšæ˜¯ä¸ºäº†å½“ç”¨ä¸€ä¸ªåŸºç±»çš„æŒ‡é’ˆåˆ é™¤ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¼šè¢«è°ƒç”¨</p><p>è¦å®ç°å¤šæ€ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p><ol><li>å­ç±»é‡å†™ï¼ˆè¦†ç›–ï¼‰çˆ¶ç±»çš„è™šå‡½æ•°ï¼šåœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå­ç±»å¿…é¡»é‡å†™ï¼ˆè¦†ç›–ï¼‰çˆ¶ç±»ä¸­çš„è™šå‡½æ•°ï¼Œå³åœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰ä¸çˆ¶ç±»ä¸­è™šå‡½æ•°åŒåã€åŒå‚æ•°åˆ—è¡¨å’ŒåŒè¿”å›ç±»å‹çš„å‡½æ•°ï¼Œå¹¶ä½¿ç”¨å…³é”®å­— â€œoverrideâ€ æ˜ç¡®è¯´æ˜è¿™æ˜¯å¯¹çˆ¶ç±»è™šå‡½æ•°çš„é‡å†™ã€‚</li><li>çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼šé€šè¿‡å°†çˆ¶ç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥å®ç°å¤šæ€ã€‚è¿™æ ·ï¼Œåœ¨è¿è¡Œæ—¶ï¼Œæ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡çš„å®é™…ç±»å‹æ¥ç¡®å®šè°ƒç”¨çš„æ˜¯å­ç±»ä¸­çš„å®ç°ã€‚</li><li>è™šå‡½æ•°æœºåˆ¶ï¼šçˆ¶ç±»ä¸­è¢«å­ç±»é‡å†™çš„å‡½æ•°å¿…é¡»å£°æ˜ä¸ºè™šå‡½æ•°ã€‚é€šè¿‡è™šå‡½æ•°è¡¨å’ŒåŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œç¡®ä¿åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨æ­£ç¡®çš„å‡½æ•°å®ç°ã€‚</li></ol><p>å®šä¹‰äº†è™šå‡½æ•°ï¼Œå¦‚æœæœ‰ä¸‰è¾ˆçš„ç»§æ‰¿ï¼šçˆ·çˆ·ï¼Œçˆ¶äº²ï¼Œå„¿å­ï¼Œåœ¨ä¸»å‡½æ•°ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªåŸºç±»æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘è°ï¼Œå°±è°ƒç”¨è°çš„å‡½æ•°â€”â€”â€”â€”å®ç°çš„å°±æ˜¯åŠ¨æ€å¤šæ€</p><h2 id="çº¯è™šå‡½æ•°"><a href="#çº¯è™šå‡½æ•°" class="headerlink" title="çº¯è™šå‡½æ•°"></a>çº¯è™šå‡½æ•°</h2><p><strong>ä¸€èˆ¬è¯­æ³•</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//çº¯è™šå‡½æ•°ï¼Œå¯ä»¥æœ‰å‡½æ•°ä½“ï¼Œå¯å®ä¾‹åŒ–çš„æ´¾ç”Ÿç±»å¿…é¡»é‡å†™å®ƒ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å®šä¹‰ï¼š</strong></p><p>åƒè¿™æ ·ç”¨virtualå…³é”®å­—ä¿®é¥°ï¼Œå¹¶ä¸”æœ«å°¾åŠ ä¸Š =0 çš„æ ¼å¼å£°æ˜çš„å‡½æ•°å°±æ˜¯çº¯è™šå‡½æ•°ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦ç‰¹å¾ï¼Œå°±æ˜¯åœ¨å½“å‰ç±»é‡Œè¿™ä¸ªæ–¹æ³•ä¸èƒ½æœ‰å…·ä½“çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½æœ‰æ–¹æ³•ä½“ã€‚åŒæ—¶æ‹¥æœ‰çº¯è™šå‡½æ•°çš„ç±»ä¼šè¢«é»˜è®¤å®šä¹‰ä¸ºæŠ½è±¡ç±»ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼šè‡³å°‘æ‹¥æœ‰ä¸€ä¸ªæˆ–è€…ä¸€ä¸ªä»¥ä¸Šçš„çº¯è™šå‡½æ•°çš„ç±»ï¼Œè¿™ç§ç±»ä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥è¢«ç»§æ‰¿ï¼Œé€šå¸¸é€šè¿‡ç»§æ‰¿æŠ½è±¡ç±»ï¼Œç„¶åé€šè¿‡é‡å†™çº¯è™šå‡½æ•°åï¼Œæ–¹å¯ä»¥é€šè¿‡æŠ½è±¡çˆ¶ç±»çš„å­ç±»çš„å¯¹è±¡æ¥è®¿é—®å‡½æ•°å’Œæ•°æ®æˆå‘˜ã€‚</p></blockquote><h2 id="æ¨¡æ¿å‡½æ•°çš„é‡è½½"><a href="#æ¨¡æ¿å‡½æ•°çš„é‡è½½" class="headerlink" title="æ¨¡æ¿å‡½æ•°çš„é‡è½½"></a>æ¨¡æ¿å‡½æ•°çš„é‡è½½</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">Test1</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"Test1()"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Test1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token comment">//è¿™é‡Œæ˜¯é‡è½½</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"2"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"3"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">,</span> d<span class="token operator">=</span> <span class="token char">'d'</span><span class="token punctuation">;</span>  <span class="token function">Test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">Test1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç±»æ¨¡æ¿"><a href="#ç±»æ¨¡æ¿" class="headerlink" title="ç±»æ¨¡æ¿"></a>ç±»æ¨¡æ¿</h2><p>å®šä¹‰ä¸€ä¸ªç®€å•çš„Arrayçš„ç±»æ¨¡æ¿ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">Array</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Array</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">size_</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        data_ <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token operator">~</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data_<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    T <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> data_<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">friend</span> ostream <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream <span class="token operator">&amp;</span>os<span class="token punctuation">,</span> <span class="token keyword">const</span> Array<span class="token operator">&lt;</span>T<span class="token operator">></span> arr<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>           <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>size_<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            cout<span class="token operator">&lt;&lt;</span>arr<span class="token punctuation">.</span>data_<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> os<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>    T <span class="token operator">*</span>data_<span class="token punctuation">;</span>    <span class="token keyword">int</span> size_<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Array<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// for (int i = 0; i &lt; 10; i++)</span>        cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç±»æ¨¡æ¿çš„å®šä¹‰ï¼šç±»æ¨¡æ¿æ˜¯ä¸€ç§é€šç”¨çš„ç±»çš„å®šä¹‰ï¼Œé€šè¿‡æ¨¡æ¿å¯ä»¥å­˜å‚¨ä¸åŒæ•°æ®ç±»å‹çš„å¯¹è±¡</p><p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç±»æ¨¡æ¿ï¼š</strong>æœ‰æ—¶ï¼Œæœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªç±»ï¼Œå…¶åŠŸèƒ½æ˜¯ç›¸åŒçš„ï¼Œä»…ä»…æ˜¯æ•°æ®ç±»å‹ä¸åŒï¼Œå¦‚<code>vector</code>ã€<code>deque</code>ã€<code>map</code>ç­‰çš„å®ç°ã€‚</p><p><strong>ç»§æ‰¿ä¸­çš„ç±»æ¨¡æ¿ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    T value_<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Base</span><span class="token punctuation">(</span>T value<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">value_</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"Base constructed"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span></span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    T value_<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Derived</span><span class="token punctuation">(</span>T value1<span class="token punctuation">,</span> T value2<span class="token punctuation">)</span><span class="token operator">:</span><span class="token generic-function"><span class="token function">Base</span><span class="token generic class-name"><span class="token operator">&lt;</span>T<span class="token operator">></span></span></span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">value_</span><span class="token punctuation">(</span>value2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"Derived constructed"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Base<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">base</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Derived<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">derived</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“è®º: å­ç±»ä»æ¨¡æ¿ç±»ç»§æ‰¿çš„æ—¶å€™,éœ€è¦è®©ç¼–è¯‘å™¨çŸ¥é“ çˆ¶ç±»çš„æ•°æ®ç±»å‹å…·ä½“æ˜¯ä»€ä¹ˆ(æ•°æ®ç±»å‹çš„æœ¬è´¨:å›ºå®šå¤§å°å†…å­˜å—çš„åˆ«å)A </p><p>ä»æ¨¡æ¿ç±»æ´¾ç”Ÿæ—¶ï¼Œéœ€è¦å…·ä½“åŒ–æ¨¡æ¿ç±»ï¼ŒC++ç¼–è¯‘å™¨éœ€è¦çŸ¥é“çˆ¶ç±»çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆæ ·å­çš„ è¦çŸ¥é“çˆ¶ç±»æ‰€å çš„å†…å­˜å¤šå°‘</p><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>å•ä¾‹æ¨¡å¼æœ‰è®¸å¤šç§å®ç°æ–¹æ³•ï¼Œ</p><p>a. æ‡’æ±‰å¼ï¼šä½¿ç”¨çš„æ—¶å€™æ‰åˆ›å»ºï¼Œå¤šçº¿ç¨‹è®¿é—®çš„æ—¶å€™çº¿ç¨‹ä¸å®‰å…¨(åŒæ£€é”)</p><p>b. é¥¿æ±‰å¼ï¼šç±»æ–‡ä»¶åŠ è½½çš„æ—¶å€™å·²ç»åˆ›å»ºå¥½äº†å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡ä¸€ç›´æ²¡æœ‰ä½¿ç”¨ï¼Œåˆ™ç±»å¯¹è±¡æµªè´¹ç©ºé—´</p><p>ç‰¹ç‚¹ä¸é€‰æ‹©ï¼š</p><p>å¦‚æœè¦è¿›è¡Œçº¿ç¨‹åŒæ­¥ï¼Œè®¿é—®é‡æ¯”è¾ƒå¤§ï¼Œæˆ–è€…å¯èƒ½è®¿é—®çš„çº¿ç¨‹æ¯”è¾ƒå¤šæ—¶ï¼Œé‡‡ç”¨é¥¿æ±‰å®ç°ï¼Œå¯ä»¥å®ç°æ›´å¥½çš„æ€§èƒ½ã€‚è¿™æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´ã€‚</p><p>åœ¨è®¿é—®é‡è¾ƒå°æ—¶ï¼Œé‡‡ç”¨æ‡’æ±‰å®ç°ã€‚è¿™æ˜¯ä»¥æ—¶é—´æ¢ç©ºé—´ã€‚</p><p>CSDNåšå®¢ï¼š</p><p><a href="https://blog.csdn.net/yuexiaxiaoxi27172319/article/details/81410081?ops_request_misc=%7B%22request%5Fid%22%3A%22163910357816780357234401%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=163910357816780357234401&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-81410081.first_rank_v2_pc_rank_v29&amp;utm_term=c%2B%2Bå•ä¾‹æ¨¡å¼&amp;spm=1018.2226.3001.4187">C++è®¾è®¡æ¨¡å¼(ä¸€)å•ä¾‹æ¨¡å¼</a></p><p>è®¾è®¡åŸåˆ™ä¹‹ä¸€ï¼šå¼€æ”¾å°é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</p><h2 id="ç»„åˆå’Œç»§æ‰¿çš„ä¼˜ç¼ºç‚¹"><a href="#ç»„åˆå’Œç»§æ‰¿çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="ç»„åˆå’Œç»§æ‰¿çš„ä¼˜ç¼ºç‚¹"></a>ç»„åˆå’Œç»§æ‰¿çš„ä¼˜ç¼ºç‚¹</h2><p>ï¼ˆ1ï¼‰ç»§æ‰¿</p><p>ç»§æ‰¿æ˜¯Is a çš„å…³ç³»ï¼Œæ¯”å¦‚è¯´Studentç»§æ‰¿Person,åˆ™è¯´æ˜Student is a Personã€‚ç»§æ‰¿çš„ä¼˜ç‚¹æ˜¯å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•æ¥æ–¹ä¾¿åœ°å®ç°å¯¹çˆ¶ç±»çš„æ‰©å±•ã€‚</p><p>ã€€ã€€ç»§æ‰¿çš„ç¼ºç‚¹æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>ã€€ã€€â‘ ï¼šçˆ¶ç±»çš„å†…éƒ¨ç»†èŠ‚å¯¹å­ç±»æ˜¯å¯è§çš„ã€‚</p><p>ã€€ã€€â‘¡ï¼šå­ç±»ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šä¸‹æ¥äº†ï¼Œæ‰€ä»¥æ— æ³•åœ¨è¿è¡ŒæœŸé—´æ”¹å˜ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•çš„è¡Œä¸ºã€‚</p><p>ã€€ã€€â‘¢ï¼šå¦‚æœå¯¹çˆ¶ç±»çš„æ–¹æ³•åšäº†ä¿®æ”¹çš„è¯ï¼ˆæ¯”å¦‚å¢åŠ äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œåˆ™å­ç±»çš„æ–¹æ³•å¿…é¡»åšå‡ºç›¸åº”çš„ä¿®æ”¹ã€‚æ‰€ä»¥è¯´å­ç±»ä¸çˆ¶ç±»æ˜¯ä¸€ç§é«˜è€¦åˆï¼Œè¿èƒŒäº†é¢å‘å¯¹è±¡æ€æƒ³ã€‚</p><p>ï¼ˆ2ï¼‰ç»„åˆ</p><p>ã€€ã€€ç»„åˆä¹Ÿå°±æ˜¯è®¾è®¡ç±»çš„æ—¶å€™æŠŠè¦ç»„åˆçš„ç±»çš„å¯¹è±¡åŠ å…¥åˆ°è¯¥ç±»ä¸­ä½œä¸ºè‡ªå·±çš„<strong>æˆå‘˜å˜é‡</strong>ã€‚</p><p>ã€€ã€€ç»„åˆçš„ä¼˜ç‚¹ï¼š</p><p>ã€€ã€€â‘ ï¼šå½“å‰å¯¹è±¡åªèƒ½é€šè¿‡æ‰€åŒ…å«çš„é‚£ä¸ªå¯¹è±¡å»è°ƒç”¨å…¶æ–¹æ³•ï¼Œæ‰€ä»¥æ‰€åŒ…å«çš„å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚å¯¹å½“å‰å¯¹è±¡æ—¶ä¸å¯è§çš„ã€‚</p><p>ã€€ã€€â‘¡ï¼šå½“å‰å¯¹è±¡ä¸åŒ…å«çš„å¯¹è±¡æ˜¯ä¸€ä¸ªä½è€¦åˆå…³ç³»ï¼Œå¦‚æœä¿®æ”¹åŒ…å«å¯¹è±¡çš„ç±»ä¸­ä»£ç ä¸éœ€è¦ä¿®æ”¹å½“å‰å¯¹è±¡ç±»çš„ä»£ç ã€‚</p><p>ã€€ã€€â‘¢ï¼šå½“å‰å¯¹è±¡å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„ç»‘å®šæ‰€åŒ…å«çš„å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡setæ–¹æ³•ç»™æ‰€åŒ…å«å¯¹è±¡èµ‹å€¼ã€‚</p><p>ã€€ã€€ç»„åˆçš„ç¼ºç‚¹ï¼šâ‘ ï¼šå®¹æ˜“äº§ç”Ÿè¿‡å¤šçš„å¯¹è±¡ã€‚â‘¡ï¼šä¸ºäº†èƒ½ç»„åˆå¤šä¸ªå¯¹è±¡ï¼Œå¿…é¡»ä»”ç»†å¯¹æ¥å£è¿›è¡Œå®šä¹‰ã€‚</p><p><a href="">constæ˜¯å®šä¹‰ä¸ºconstå‡½æ•°çš„ç»„æˆéƒ¨åˆ†ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡æ·»åŠ constå®ç°å‡½æ•°é‡è½½</a></p><h2 id="å…³äºC-çš„å¸¸é‡çš„ä¸€ç‚¹è¯´æ˜"><a href="#å…³äºC-çš„å¸¸é‡çš„ä¸€ç‚¹è¯´æ˜" class="headerlink" title="å…³äºC++çš„å¸¸é‡çš„ä¸€ç‚¹è¯´æ˜"></a>å…³äºC++çš„å¸¸é‡çš„ä¸€ç‚¹è¯´æ˜</h2><p>æˆ‘ä»¬è¯´è¿‡ï¼ŒC++â€œçœŸå¸¸é‡â€åªé’ˆå¯¹å†…ç½®æ•°æ®ç±»å‹ï¼Œè‡ªå·±å®šä¹‰çš„ç±»ï¼Œç¼–è¯‘å™¨æ²¡æ³•å¸®ä½ â€œå†…ä¼ æŠ˜å â€ï¼Œæ‰€ä»¥ä»æ˜¯â€œå‡å¸¸é‡â€ï¼Œæ˜¯èƒ½é€šè¿‡æŒ‡é’ˆâ€œç¯¡æ¬¡çš„<br>å¦å¤–å¸¸é‡æ˜¯â€œå»ºæ²¡æ€§â€çš„é¢„é˜²æªæ–½ï¼Œå¹¶ä¸èƒ½é˜²è“„æ„ç ´åã€‚</p><p>C++ä¸­çš„çœŸå¸¸é‡åªé’ˆå¯¹å…¶å†…ç½®æ•°æ®ç±»å‹ï¼Œå¯¹äºè‡ªå·±å®šä¹‰çš„ç±»çš„ï¼Œæ˜¯å‡å¸¸é‡ï¼Œå¯ä»¥é€šè¿‡æŒ‡é’ˆä¿®æ”¹</p><h2 id="è±å½¢çš„ç»§æ‰¿ä½“ç³»"><a href="#è±å½¢çš„ç»§æ‰¿ä½“ç³»" class="headerlink" title="è±å½¢çš„ç»§æ‰¿ä½“ç³»"></a>è±å½¢çš„ç»§æ‰¿ä½“ç³»</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token keyword">int</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token keyword">int</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token operator">:</span><span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token keyword">int</span> c<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">C</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token keyword">int</span> d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†…å­˜å¸ƒå±€</p><p>ä¸Šé¢è¿™ç§è±å½¢çš„ç»§æ‰¿ä½“ç³»ä¸­ï¼Œå¦‚æœæ²¡æœ‰virtualç»§æ‰¿ï¼Œé‚£ä¹ˆDä¸­å°±æœ‰ä¸¤ä¸ªAçš„æˆå‘˜int aï¼›ç»§æ‰¿ä¸‹æ¥ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œå°±ä¼šæœ‰å¾ˆå¤šäºŒä¹‰æ€§ã€‚è€ŒåŠ äº†virtualç»§æ‰¿ï¼Œåœ¨Dä¸­å°±åªæœ‰Açš„æˆå‘˜int aï¼›çš„ä¸€ä»½æ‹·è´ï¼Œè¯¥æ‹·è´ä¸æ˜¯æ¥è‡ªBï¼Œä¹Ÿä¸æ˜¯æ¥è‡ªCï¼Œè€Œæ˜¯ä¸€ä»½å•ç‹¬çš„æ‹·è´ï¼Œé‚£ä¹ˆï¼Œç¼–è¯‘å™¨æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿï¼Ÿ</p><p>åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆæƒ³ä¸€ä¸‹ï¼Œsizeof(A),sizeof(B),sizeof(C),sizeof(D)æ˜¯å¤šå°‘ï¼Ÿï¼ˆåœ¨32ä½x86çš„linux2.6ä¸‹é¢ï¼Œæˆ–è€…åœ¨vc2005ä¸‹é¢ï¼‰åœ¨linux2.6ä¸‹é¢ï¼Œç»“æœå¦‚ä¸‹ï¼šsizeof(A) = 4; sizeof(B) = 12; sizeof(C) = 12; sizeof(D) = 24;sizeofï¼ˆBï¼‰ä¸ºä»€ä¹ˆæ˜¯12å‘¢ï¼Œé‚£æ˜¯å› ä¸ºå¤šäº†ä¸€ä¸ªæŒ‡é’ˆï¼ˆè¿™ä¸€ç‚¹å’Œè™šå‡½æ•°çš„å®ç°ä¸€æ ·ï¼‰ï¼Œé‚£ä¸ªæŒ‡é’ˆæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ</p><p>é‚£ä¹ˆsizeof(D)ä¸ºä»€ä¹ˆæ˜¯24å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºé™¤äº†ç»§æ‰¿Bä¸­çš„bï¼ŒCä¸­çš„cï¼ŒAä¸­çš„a,å’ŒDè‡ªå·±çš„æˆå‘˜dä¹‹å¤–ï¼Œè¿˜ç»§æ‰¿äº†Bï¼ŒCå¤šå‡ºæ¥çš„2ä¸ªæŒ‡é’ˆï¼ˆBå’ŒCåˆ†åˆ«æœ‰ä¸€ä¸ªï¼‰ã€‚å†å¼ºè°ƒä¸€éï¼ŒDä¸­çš„int aä¸æ˜¯æ¥è‡ªBä¹Ÿä¸æ˜¯æ¥è‡ªCï¼Œè€Œæ˜¯å¦å¤–çš„ä¸€ä»½ä»Aç›´æ¥é è¿‡æ¥çš„æˆå‘˜ã€‚</p><p>å¦‚æœå£°æ˜äº†Dçš„å¯¹è±¡dï¼š D dï¼›</p><p>é‚£ä¹ˆdçš„å†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼š</p><p>vb_ptr: ç»§æ‰¿è‡ªBçš„æŒ‡é’ˆ</p><p>int bï¼š ç»§æ‰¿è‡ªBå…¬æœ‰æˆå‘˜</p><p>vc_ptrï¼šç»§æ‰¿è‡ªCçš„æŒ‡é’ˆ</p><p>int cï¼š ç»§æ‰¿è‡ªCçš„å…±æœ‰æˆå‘˜</p><p>int dï¼š Dè‡ªå·±çš„å…¬æœ‰æˆå‘˜</p><p>int aï¼š ç»§æ‰¿è‡ªAçš„å…¬æœ‰æˆå‘˜</p><h2 id="å…³äºå¤šæ€"><a href="#å…³äºå¤šæ€" class="headerlink" title="å…³äºå¤šæ€"></a>å…³äºå¤šæ€</h2><p>å¤šæ€åˆ†ä¸ºé™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€ï¼š</p><ul><li><p>é™æ€å¤šæ€æ˜¯ç¼–è¯‘æ—¶å‘ç”Ÿäº†å¤šæ€ï¼Œå¤šæŒ‡å‡½æ•°é‡è½½å’Œæ¨¡æ¿å®ç°ï¼›</p></li><li><p>åŠ¨æ€å¤šæ€æ˜¯è¿è¡Œæ—¶å¤šæ€ï¼Œä¸€èˆ¬é€šè¿‡è™šå‡½æ•°å®ç°ã€‚</p></li></ul><p>å®ç°åŠ¨æ€å¤šæ€ä¸‰ä¸ªæ¡ä»¶</p><p>1ï¼šè¦æœ‰publicç»§æ‰¿ï¼›</p><p>2ï¼šè¦æœ‰è™šå‡½æ•°é‡å†™ï¼›</p><p>3ï¼šç”¨çˆ¶ç±»æŒ‡é’ˆï¼ˆçˆ¶ç±»å¼•ç”¨ï¼‰æŒ‡å‘å­ç±»å¯¹è±¡</p><p><strong>è±å½¢ç»§æ‰¿è™šåŸºç±»</strong></p><p>è™šç»§æ‰¿çš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³é‡å¤ç»§æ‰¿ä¸­å¤šä¸ªé—´æ¥çˆ¶ç±»çš„é—®é¢˜çš„ï¼ŒäºŒä¹‰æ€§ã€‚é’»çŸ³å‹çš„ç»“æ„æ˜¯å…¶æœ€ç»å…¸çš„ç»“æ„ã€‚</p><p>C++ä¸­çš„è™šå‡½æ•°çš„ä½œç”¨ä¸»è¦æ˜¯å®ç°äº†å¤šæ€çš„æœºåˆ¶ã€‚å…³äºå¤šæ€ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ç”¨çˆ¶ç±»å‹åˆ«çš„æŒ‡é’ˆæŒ‡å‘å…¶å­ç±»çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡çˆ¶ç±»çš„æŒ‡é’ˆè°ƒç”¨å®é™…å­ç±»çš„æˆå‘˜å‡½æ•°ã€‚è¿™ç§æŠ€æœ¯å¯ä»¥è®©çˆ¶ç±»çš„æŒ‡é’ˆæœ‰â€œå¤šç§å½¢æ€â€ï¼Œè¿™æ˜¯ä¸€ç§æ³›å‹æŠ€æœ¯ã€‚æ‰€è°“æ³›å‹æŠ€æœ¯ï¼Œè¯´ç™½äº†å°±æ˜¯è¯•å›¾ä½¿ç”¨ä¸å˜çš„ä»£ç æ¥å®ç°å¯å˜çš„ç®—æ³•ã€‚æ¯”å¦‚ï¼šæ¨¡æ¿æŠ€æœ¯ï¼ŒRTTIæŠ€æœ¯ï¼Œè™šå‡½æ•°æŠ€æœ¯ï¼Œè¦ä¹ˆæ˜¯è¯•å›¾åšåˆ°åœ¨<strong>ç¼–è¯‘æ—¶å†³è®®</strong>ï¼Œè¦ä¹ˆè¯•å›¾åšåˆ°<strong>è¿è¡Œæ—¶å†³è®®</strong>ã€‚</p><p><strong>ç±»çš„ç¼ºçœå‚æ•°ï¼šï¼ˆä¸èƒ½åœ¨ä¸¤ä¸ªåœ°æ–¹åŒæ—¶å£°æ˜ï¼‰</strong></p><p><strong>æ—¢å¯ä»¥åœ¨ç±»çš„å£°æ˜ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨å‡½æ•°å®šä¹‰ä¸­å£°æ˜ç¼ºçœå‚æ•°ï¼Œä½†ä¸èƒ½æ—¢åœ¨ç±»å£°æ˜ä¸­åˆåœ¨å‡½æ•°å®šä¹‰ä¸­åŒæ—¶å£°æ˜ç¼ºçœå‚æ•°ã€‚</strong></p><h1 id="æ‚è°ˆ"><a href="#æ‚è°ˆ" class="headerlink" title="æ‚è°ˆ"></a>æ‚è°ˆ</h1><h2 id="Union"><a href="#Union" class="headerlink" title="Union"></a>Union</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">union</span> myun<span class="token punctuation">&#123;</span>    <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span> <span class="token keyword">int</span> y<span class="token punctuation">;</span> <span class="token keyword">int</span> z<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>u<span class="token punctuation">;</span>    <span class="token keyword">short</span> k<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>a<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 2çš„17æ¬¡æ–¹æ˜¯ï¼š 131072, ä½16ä½æ˜¯0x00 02</span>    a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>    a<span class="token punctuation">.</span>k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>x<span class="token punctuation">,</span> a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>y<span class="token punctuation">,</span> a<span class="token punctuation">.</span>u<span class="token punctuation">.</span>z<span class="token punctuation">,</span> a<span class="token punctuation">.</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a.kçš„16ä½è¦†ç›–äº†xçš„ä½16ä½</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(a):%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è”åˆä½“çš„ size æ˜¯æœ€å¤§çš„æ•°æ®é•¿åº¦ï¼šä¸‰ä¸ª int æ˜¯12</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// è¿™é‡Œshortçš„16ä½è¦†ç›–äº†a.u.xçš„å‰16ä½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹             </p><p>æˆ‘ä»¬éƒ½çŸ¥é“è”åˆ(ä¹Ÿå«å…±ç”¨ä½“)ä¸­çš„ä¸åŒç±»å‹çš„å˜é‡éƒ½æ˜¯æ”¾åœ¨åŒä¸€ä¸ªåœ°å€å¼€å§‹çš„å†…å­˜å•å…ƒé‡Œé¢ï¼Œå½“ç„¶è¿™ä¸ªå†…å­˜å•å…ƒè¶³å¤Ÿå¤§ï¼Œå¯ä»¥å®¹ä¸‹<strong>æ‰€å ç©ºé—´æœ€å¤§çš„é‚£ä¸ªæ•°æ®ç±»å‹</strong>ã€‚</p><h2 id="explicitå…³é”®å­—"><a href="#explicitå…³é”®å­—" class="headerlink" title="explicitå…³é”®å­—"></a>explicitå…³é”®å­—</h2><p>åœ¨æ„é€ å‡½æ•°å‰é¢åŠ ä¸Šï¼Œä¸ºäº†é˜²æ­¢å…¶ä»–ç±»å‹çš„å˜é‡éšå¼è½¬åŒ–ä¸ºè¿™ä¸ªç±»çš„ç±»å‹å˜é‡å¿…é¡»ä½¿ç”¨æ˜¾å¼çš„è½¬åŒ–</p><p>vector vs = {â€œhelloâ€, â€œworldâ€};æ¯”å¦‚è¿™é‡Œå°±å°†const charè½¬ä¸ºstringï¼Œä½†æ˜¯åŠ ä¸Š<code>explicit</code>ä¹‹åå°±ä¸å¯ä»¥äº†</p><h2 id="autoå…³é”®å­—çš„ç¼ºç‚¹"><a href="#autoå…³é”®å­—çš„ç¼ºç‚¹" class="headerlink" title="autoå…³é”®å­—çš„ç¼ºç‚¹"></a>autoå…³é”®å­—çš„ç¼ºç‚¹</h2><p>auto ä¸åˆ©ï¼šé™ä½ä»£ç å¯è¯»æ€§ã€å¯èƒ½å¾—ä¸åˆ°ä½ é¢„æƒ³çš„ç±»å‹ã€é…åˆdecltypeæœ‰æ„æƒ³ä¸åˆ°çš„ç»“æœ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">2022</span><span class="token operator">-</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">18</span><span class="token comment">// (4)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>elem<span class="token operator">:</span>vec<span class="token punctuation">)</span> <span class="token comment">// pass by reference</span>    elem <span class="token operator">*=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">// (5) ç¼–è¯‘å™¨ä¼šæŠŠ(4)è½¬æ¢ä¸º(5)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> _pos <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _end <span class="token operator">=</span> l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> _pos <span class="token operator">!=</span> _end<span class="token punctuation">;</span> <span class="token operator">++</span>_pos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> <span class="token operator">&amp;</span>elem <span class="token operator">=</span> <span class="token operator">*</span>_pos<span class="token punctuation">;</span>    elem <span class="token operator">*=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">auto</span> ll1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// lambda åŒ¿åå‡½æ•° çš„ç®€å•ä½¿ç”¨</span>function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token operator">></span> ll <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">int</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token function">ll1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token function">ll</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h2><p>Lambda è¡¨è¾¾å¼æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬å®šä¹‰åŒ¿åå‡½æ•°ï¼Œä»è€Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºé˜…è¯»ã€‚</p><p>Lambda è¡¨è¾¾å¼çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Copy Code<span class="token punctuation">[</span>capture list<span class="token punctuation">]</span><span class="token punctuation">(</span>parameter list<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">return</span> type <span class="token punctuation">&#123;</span>function body<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¶ä¸­ï¼š</p><ul><li><code>capture list</code>ï¼šæ•è·åˆ—è¡¨ï¼Œç”¨äºæŒ‡å®šåœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨çš„å˜é‡ã€‚</li><li><code>parameter list</code>ï¼šå‚æ•°åˆ—è¡¨ï¼ŒæŒ‡å®šå‡½æ•°çš„è¾“å…¥å‚æ•°ã€‚</li><li><code>return type</code>ï¼šè¿”å›ç±»å‹ï¼ŒæŒ‡å®šå‡½æ•°çš„è¿”å›ç±»å‹ï¼ˆå¯ä»¥è‡ªåŠ¨æ¨å¯¼ï¼‰ã€‚</li><li><code>function body</code>ï¼šå‡½æ•°ä½“ï¼ŒåŒ…å«å‡½æ•°éœ€è¦æ‰§è¡Œçš„ä»£ç ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> func <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">int</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º 3</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ <code>auto</code> å…³é”®å­—</p><h2 id="å•ä¾‹æ¨¡å¼-1"><a href="#å•ä¾‹æ¨¡å¼-1" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><h3 id="ç®€å•å•ä¾‹æ¨¡å¼"><a href="#ç®€å•å•ä¾‹æ¨¡å¼" class="headerlink" title="ç®€å•å•ä¾‹æ¨¡å¼"></a>ç®€å•å•ä¾‹æ¨¡å¼</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//æ‡’æ±‰æ¨¡å¼ï¼šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šå®ä¾‹åŒ–</span><span class="token keyword">class</span> <span class="token class-name">singleton</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span><span class="token operator">:</span>        <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">static</span> singleton <span class="token operator">*</span>p<span class="token punctuation">;</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token keyword">static</span> singleton <span class="token operator">*</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>singleton <span class="token operator">*</span>singleton<span class="token double-colon punctuation">::</span>p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>singleton<span class="token operator">*</span> singleton<span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å°†æ„é€ å‡½æ•°å†™åœ¨privateæˆ–è€…protectedé‡Œé¢ï¼Œ</span><span class="token comment">//åŒæ—¶æœ‰ä¸€ä¸ªstaticæŒ‡é’ˆç»´æŠ¤è¿™ä¸ªå•ä¾‹</span><span class="token comment">//å®ä¾‹çš„å®ç°ç”±ä¸€ä¸ªpublicæ–¹æ³•æ¥å®ç°ï¼Œè¯¥æ–¹æ³•è¿”å›è¯¥ç±»çš„å”¯ä¸€å®ä¾‹ã€‚</span><span class="token comment">//å½“ç„¶è¿™ä¸ªå•ä¾‹æ¨¡å¼åœ¨å•çº¿ç¨‹ä¸‹é¢æ˜¯å®‰å…¨çš„ï¼Œ</span><span class="token comment">//å¦‚æœæ˜¯å¤šçº¿ç¨‹ä¸‹åŒæ—¶æ£€æµ‹åˆ°pæ˜¯nullptrï¼Œä¼šåˆ›å»ºä¸¤ä¸ªå®ä¾‹</span><span class="token comment">//é¥¿æ±‰æ¨¡å¼</span><span class="token keyword">class</span> <span class="token class-name">singleton</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">static</span> singleton <span class="token operator">*</span>p<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> singleton <span class="token operator">*</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>singleton <span class="token operator">*</span>singleton<span class="token double-colon punctuation">::</span>p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®ä¾‹åŒ–äº†</span>singleton<span class="token operator">*</span> singleton<span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å½“ç„¶è¿™ä¸ªæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯¹äºæˆ‘ä»¬é€šå¸¸é˜è¿°çš„çº¿ç¨‹ä¸å®‰å…¨ï¼Œä¸ºæ‡’æ±‰æ¨¡å¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>decltype</code> çš„æ„æ€æ˜¯è·å¾—è¡¨è¾¾å¼çš„ <code>type</code> ï¼Œæœ‰ç‚¹åƒ <code>typeof</code>ã€‚</p><p><code>final</code> ç”¨åœ¨ç±»åé¢ <code>class Base final &#123;&#125;</code> è¡¨ç¤ºè¿™ä¸ªç±»æ˜¯ç»§æ‰¿çš„æœ€åä¸€ä¸ªç±»ï¼Œä¸èƒ½æœ‰å…¶ä»–ç±»ç»§æ‰¿å®ƒ</p><h3 id="åŠ äº†é”çš„å•ä¾‹æ¨¡å¼"><a href="#åŠ äº†é”çš„å•ä¾‹æ¨¡å¼" class="headerlink" title="åŠ äº†é”çš„å•ä¾‹æ¨¡å¼"></a>åŠ äº†é”çš„å•ä¾‹æ¨¡å¼</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread></span>         <span class="token comment">// std::thread </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span>          <span class="token comment">// std::mutex</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">/*ç”¨äº’æ–¥é‡æ„å»ºä¸€ä¸ªæ·é”ç±»*/</span><span class="token keyword">class</span> <span class="token class-name">Lock</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    mutex mtx<span class="token punctuation">;</span><span class="token comment">//äº’æ–¥é‡</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> mtx<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//åŠ é”</span>    <span class="token keyword">void</span> <span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> mtx<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//è§£é”</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/*é™æ€å•ä¾‹*/</span><span class="token keyword">class</span> <span class="token class-name">singleton</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> _value<span class="token punctuation">;</span><span class="token comment">//æµ‹è¯•ç”¨å€¼ï¼Œé™æ€å•ä¾‹åœ¨å“ªä¸ªçº¿ç¨‹ä¸­è¢«ç¬¬ä¸€æ¬¡è·å–ï¼Œ_valueçš„å€¼å°±æ˜¯å“ªä¸ªçº¿ç¨‹çš„id</span>    <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ„é€ å‡½æ•°</span>    <span class="token function">singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤åˆ¶æ„é€ å‡½æ•°</span>    singleton<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//èµ‹å€¼æ„é€ å‡½æ•°</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> Lock<span class="token operator">*</span> Locker<span class="token punctuation">;</span><span class="token comment">//å£°æ˜ä¸€ä¸ªæ·é”æŒ‡é’ˆ</span>    <span class="token keyword">static</span> singleton<span class="token operator">*</span> Instance<span class="token punctuation">;</span><span class="token comment">//å£°æ˜ä¸€ä¸ªå¯¹è±¡</span>    <span class="token keyword">static</span> singleton<span class="token operator">*</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å£°æ˜è·å–å•ä¾‹çš„å‡½æ•°</span>    <span class="token keyword">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æµ‹è¯•å€¼</span>    <span class="token operator">~</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ææ„å‡½æ•°</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>singleton<span class="token double-colon punctuation">::</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">_value</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ„é€ å‡½æ•°</span>singleton<span class="token double-colon punctuation">::</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¤åˆ¶æ„é€ å‡½æ•°</span>singleton<span class="token operator">&amp;</span> singleton<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//èµ‹å€¼æ„é€ å‡½æ•°</span><span class="token class-name">singleton</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//ææ„å‡½æ•°</span>Lock<span class="token operator">*</span> singleton<span class="token double-colon punctuation">::</span>Locker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–é™æ€å•ä¾‹ä¸­çš„æ·é”</span>singleton<span class="token operator">*</span> singleton<span class="token double-colon punctuation">::</span>Instance <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–é™æ€å•ä¾‹</span>singleton<span class="token operator">*</span> singleton<span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//å®šä¹‰è·å–å•ä¾‹çš„å‡½æ•°</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>Instance <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//ç”±äºåŠ é”æ¯”è¾ƒè´¹äº‹ï¼Œæ‰€ä»¥å…ˆåˆ¤æ–­ä¸€æ¬¡</span>        Locker<span class="token operator">-></span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>Instance <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            Instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">singleton</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–é™æ€å•ä¾‹ï¼Œå‚æ•°ä¸º çº¿ç¨‹çš„id</span>        <span class="token punctuation">&#125;</span>        Locker<span class="token operator">-></span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> Instance<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> singleton<span class="token double-colon punctuation">::</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//è·å–æµ‹è¯•å€¼</span>    <span class="token keyword">return</span> _value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>mutex myMtx<span class="token punctuation">;</span><span class="token comment">//ä¸ºäº†é˜²æ­¢å¤šä¸ªçº¿ç¨‹äº‰å¤º æ ‡å‡†è¾“å‡ºèµ„æºè€Œè®¾ç½®çš„äº’æ–¥é‡</span><span class="token keyword">void</span> <span class="token function">print_thread_id</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//çº¿ç¨‹å‡½æ•°</span>    singleton<span class="token operator">*</span> Instance <span class="token operator">=</span> singleton<span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–é™æ€å•ä¾‹</span>    myMtx<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"thread_id: "</span> <span class="token operator">&lt;&lt;</span> thread_id <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Instance is Created in thread: "</span> <span class="token operator">&lt;&lt;</span> Instance<span class="token operator">-></span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    myMtx<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    thread threads<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//ä¸¤ä¸ªçº¿ç¨‹</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>        threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">thread</span><span class="token punctuation">(</span>print_thread_id<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯åŠ¨çº¿ç¨‹</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> th <span class="token operator">:</span> threads<span class="token punctuation">)</span> th<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç­‰çº¿ç¨‹ç»“æŸ</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread></span>         <span class="token comment">// std::thread </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span>          <span class="token comment">// std::mutex</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">lock12</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>mutex mtx<span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> mtx<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">unLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> mtx<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span><span class="token keyword">int</span> value<span class="token punctuation">;</span><span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">int</span> _value<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">value</span><span class="token punctuation">(</span>_value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span> single<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>Singleton<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">static</span> lock12<span class="token operator">*</span> lock1<span class="token punctuation">;</span><span class="token keyword">static</span> Singleton<span class="token operator">*</span> instance<span class="token punctuation">;</span><span class="token keyword">static</span> Singleton<span class="token operator">*</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">get_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>lock12<span class="token operator">*</span> Singleton<span class="token double-colon punctuation">::</span>lock1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">lock12</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Singleton<span class="token operator">*</span> Singleton<span class="token double-colon punctuation">::</span>instance <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>Singleton<span class="token operator">*</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//åŒæ£€é” 1</span>lock1<span class="token operator">-></span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//2</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>lock1<span class="token operator">-></span><span class="token function">unLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> instance<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>mutex mtLock<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">print_thread_id</span><span class="token punctuation">(</span><span class="token keyword">int</span> thread_id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>Singleton<span class="token operator">*</span> instance <span class="token operator">=</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span>mtLock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> thread_id<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> instance<span class="token operator">-></span><span class="token function">get_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>mtLock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>thread thread1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>thread1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">thread</span><span class="token punctuation">(</span>print_thread_id<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> th <span class="token operator">:</span> thread1<span class="token punctuation">)</span> th<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç­‰çº¿ç¨‹ç»“æŸ</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Scott-Meyer-ç®€æ´çš„singletonå†™æ³•"><a href="#Scott-Meyer-ç®€æ´çš„singletonå†™æ³•" class="headerlink" title="Scott Meyer/ç®€æ´çš„singletonå†™æ³•"></a>Scott Meyer/ç®€æ´çš„singletonå†™æ³•</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Singleton <span class="token operator">*</span><span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">getinstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">static</span> Singleton p<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>               <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="è§£è€¦"><a href="#è§£è€¦" class="headerlink" title="è§£è€¦"></a>è§£è€¦</h2><p><strong>ç¨‹åºè®¾è®¡ç»å¸¸æåˆ°çš„è§£è€¦ï¼Œåˆ°åº•æ˜¯è¦è§£é™¤ä»€ä¹ˆä¹‹é—´çš„è€¦åˆ</strong></p><p>è§£è€¦ï¼Œå°±æ˜¯å°†ç¨‹åºç§¯æœ¨åŒ–</p><p>å°±åƒæˆ‘ä»¬ç©çš„ç§¯æœ¨ä¸€æ ·ï¼Œå„ä¸ªç§¯æœ¨å¯ä»¥<strong>ç»„åˆ</strong>åœ¨ä¸€èµ·è€Œå½¢æˆä¸€ä¸ªå½¢çŠ¶ï¼Œåˆå¯ä»¥<strong>æ‹†åˆ†</strong>ï¼Œåˆå¯ä»¥<strong>æ›¿æ¢</strong>ï¼Œå› ä¸ºåŸºæœ¬ä¸Šå„ä¸ªç§¯æœ¨å—éƒ½æ˜¯<strong>ç‹¬ç«‹</strong>çš„ï¼Œåªè¦ä»–ä»¬ä¹‹é—´çš„æ¥å£ï¼ˆå½¢çŠ¶ï¼‰åŒ¹é…ï¼Œå°±å¯ä»¥çµæ´»åœ°ç»„åˆåœ¨ä¸€èµ·ã€‚</p><p>å½“ç„¶ï¼Œè¿™æ˜¯ç†æƒ³çŠ¶æ€ã€‚<strong>è§£è€¦æ˜¯åœ¨é€è¾¾åˆ°è¿™ä¸ªç†æƒ³çŠ¶æ€ã€‚</strong></p><p>åœ¨å®é™…å¼€å‘ä¸­æœ‰å‡ ç§æ–¹å¼å®ç°è§£è€¦ï¼š</p><p>1ã€ä½¿ç”¨æ¥å£éš”ç¦»</p><p>2ã€é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„</p><p>3ã€ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œæé«˜çµæ´»åº¦</p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Makefile å­¦ä¹ </title>
      <link href="/2024/01/21/makefile-xue-xi/"/>
      <url>/2024/01/21/makefile-xue-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="Makefile-å­¦ä¹ "><a href="#Makefile-å­¦ä¹ " class="headerlink" title="Makefile å­¦ä¹ "></a>Makefile å­¦ä¹ </h1><h1 id="Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹"><a href="#Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹"></a>Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹</h1><h2 id="é¢„å¤„ç†ï¼ˆPreprocessingï¼‰"><a href="#é¢„å¤„ç†ï¼ˆPreprocessingï¼‰" class="headerlink" title="é¢„å¤„ç†ï¼ˆPreprocessingï¼‰"></a>é¢„å¤„ç†ï¼ˆPreprocessingï¼‰</h2><p>-Eæ˜¯è®©ç¼–è¯‘å™¨åœ¨<strong>é¢„å¤„ç†ä¹‹å</strong>å°±é€€å‡ºï¼Œä¸è¿›è¡Œåç»­ç¼–è¯‘è¿‡ç¨‹ï¼›-oæ˜¯æŒ‡å®šè¾“å‡ºæ–‡ä»¶åã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc <span class="token parameter variable">-E</span> hello.c <span class="token parameter variable">-o</span> hello.i<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ç¼–è¯‘ï¼ˆCompilationï¼‰"><a href="#ç¼–è¯‘ï¼ˆCompilationï¼‰" class="headerlink" title="ç¼–è¯‘ï¼ˆCompilationï¼‰"></a>ç¼–è¯‘ï¼ˆCompilationï¼‰</h2><p><img src="https://s2.loli.net/2024/01/13/qWfwmgaBdeONbnZ.png" alt=""></p><p>è¿™é‡Œçš„ç¼–è¯‘ä¸æ˜¯æŒ‡ç¨‹åºä»æºæ–‡ä»¶åˆ°äºŒè¿›åˆ¶ç¨‹åºçš„å…¨éƒ¨è¿‡ç¨‹ï¼Œè€Œæ˜¯æŒ‡å°†ç»è¿‡é¢„å¤„ç†æ–‡ä»¶ï¼ˆtest.iï¼‰ä¹‹åçš„ç¨‹åºè½¬æ¢æˆç‰¹å®šæ±‡ç¼–ï¼ˆtest.sï¼‰ä»£ç çš„è¿‡ç¨‹ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc <span class="token parameter variable">-S</span> hello.i <span class="token parameter variable">-o</span> hello.s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ±‡ç¼–"><a href="#æ±‡ç¼–" class="headerlink" title="æ±‡ç¼–"></a>æ±‡ç¼–</h2><p>æ±‡ç¼–è¿‡ç¨‹å°†ä¸Šä¸€æ­¥çš„æ±‡ç¼–ä»£ç è½¬æ¢æˆæœºå™¨ç ï¼Œè¿™ä¸€æ­¥äº§ç”Ÿçš„æ–‡ä»¶å«åšç›®æ ‡æ–‡ä»¶ï¼Œæ˜¯äºŒè¿›åˆ¶æ ¼å¼ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc <span class="token parameter variable">-c</span> hello.s <span class="token parameter variable">-o</span> hello.o<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>é“¾æ¥è¿‡ç¨‹ä½¿ç”¨é“¾æ¥å™¨å°†è¯¥ç›®æ ‡æ–‡ä»¶ä¸å…¶ä»–ç›®æ ‡æ–‡ä»¶ã€åº“æ–‡ä»¶ã€å¯åŠ¨æ–‡ä»¶ç­‰é“¾æ¥èµ·æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚é™„åŠ çš„ç›®æ ‡æ–‡ä»¶åŒ…æ‹¬é™æ€è¿æ¥åº“å’ŒåŠ¨æ€è¿æ¥åº“ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc hello.o <span class="token parameter variable">-o</span> hello<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºè¿‡ç¨‹ä¸ºæˆå››ä¸ªæ­¥éª¤ï¼š</p><p>1ã€ç”±.cæ–‡ä»¶åˆ°.iæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å«é¢„å¤„ç†ã€‚<br>2ã€ç”±.iæ–‡ä»¶åˆ°.sæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å«ç¼–è¯‘ã€‚<br>3ã€ç”±.sæ–‡ä»¶åˆ°.oæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ±‡ç¼–ã€‚<br>4ã€ç”±.oæ–‡ä»¶åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å«é“¾æ¥ã€‚</p><h2 id="é™æ€åº“"><a href="#é™æ€åº“" class="headerlink" title="é™æ€åº“"></a>é™æ€åº“</h2><p>åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¢«ç›´æ¥è½½å…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå°†å¤šä¸ªæ–‡ä»¶ç»„æˆä¸€ä¸ªåº“ï¼Œå®ç°å¤ç”¨ï¼Œä»¥libå¼€å¤´ï¼Œä»¥.aç»“å°¾ï¼Œä½¿ç”¨arå‘½ä»¤</p><h2 id="åŠ¨æ€åº“"><a href="#åŠ¨æ€åº“" class="headerlink" title="åŠ¨æ€åº“"></a>åŠ¨æ€åº“</h2><p>åœ¨ç¨‹åºç¼–è¯‘æ—¶å¹¶ä¸ä¼šè¢«è¿æ¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡Œæ˜¯æ‰è¢«è½½å…¥ã€‚è¿™å°±å¸¦æ¥äº†ä¸€ä¸ªæ˜æ˜¾çš„å¥½å¤„ï¼šä¸åŒçš„åº”ç”¨ç¨‹åºå¦‚æœè°ƒç”¨ç›¸åŒçš„åº“ï¼Œé‚£ä¹ˆåœ¨å†…å­˜é‡Œ<strong>åªéœ€è¦æœ‰ä¸€ä»½è¯¥å…±äº«åº“çš„å®ä¾‹</strong>ï¼Œå‡å°äº†å„ä¸ªæ¨¡å—ä¹‹é—´çš„è€¦åˆç¨‹åº¦ï¼Œä¹Ÿå‡å°äº†å¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯ã€‚</p><h1 id="MakeFile"><a href="#MakeFile" class="headerlink" title="MakeFile"></a>MakeFile</h1><h2 id="åŸºæœ¬æ ¼å¼"><a href="#åŸºæœ¬æ ¼å¼" class="headerlink" title="åŸºæœ¬æ ¼å¼"></a>åŸºæœ¬æ ¼å¼</h2><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token target symbol">target ...</span> <span class="token punctuation">:</span> prerequisites ...    command    ...    ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>make debugæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token target symbol">debug</span><span class="token punctuation">:</span>echo hello<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean <span class="token comment"># ä¼ªç›®æ ‡</span><span class="token target symbol">clean</span><span class="token punctuation">:</span>rm *.o<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">cpp <span class="token operator">:=</span> src/main.cppobj <span class="token operator">:=</span> obj/main.o<span class="token target symbol"><span class="token variable">$</span>&#123;obj&#125;</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp<span class="token punctuation">&#125;</span>g++ -c <span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp<span class="token punctuation">&#125;</span> -o <span class="token variable">$</span><span class="token punctuation">&#123;</span>obj<span class="token punctuation">&#125;</span><span class="token comment"># $@ targetçš„åç§°</span><span class="token comment"># $&lt; ç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶</span><span class="token comment"># $^ æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶</span><span class="token target symbol">compile</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>obj<span class="token punctuation">&#125;</span><span class="token target symbol">clean</span><span class="token punctuation">:</span>rm -rf obj<span class="token comment"># Windowsä¸‹ä½¿ç”¨del obj</span><span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿ç®—ç¬¦å·"><a href="#è¿ç®—ç¬¦å·" class="headerlink" title="è¿ç®—ç¬¦å·"></a>è¿ç®—ç¬¦å·</h2><p>:=ï¼šèµ‹å€¼åä¸å¯æ”¹å˜</p><p>= ï¼šå¯ä»¥æ”¹å˜</p><p>?=ï¼šåœ¨å˜é‡å°šæœªè®¾ç½®æ—¶æ‰å°†å…¶è®¾ç½®ä¸ºå€¼</p><p>+=ï¼šæ·»åŠ </p><p>\ï¼šç»­è¡Œç¬¦</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>shellï¼šæŠŠæ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤åçš„è¾“å‡ºä½œä¸ºå‡½æ•°è¿”å›ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ‰§è¡Œshellå‘½ä»¤ã€‚</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">cpp_srcs <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>shell find src -name *.cpp<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>substã€patsubst</p><p>æ ¼å¼ï¼šæºå­—ç¬¦ä¸²éƒ½æ˜¯<code>&lt;text&gt;</code>çš„å†…å®¹</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">subst</span> &lt;from>,&lt;to>,&lt;text><span class="token punctuation">)</span><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> &lt;pattern>,&lt;replacement>,&lt;text><span class="token punctuation">)</span> <span class="token comment"># patternä¸­çš„%å’Œreplacementä¸­çš„%ç›¸åŒ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>foreach</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">foreach</span> &lt;var>,&lt;list>,&lt;text><span class="token punctuation">)</span><span class="token comment"># eg</span>names <span class="token operator">:=</span> a b c dfiles <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">foreach</span> n,<span class="token variable">$</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>,<span class="token variable">$</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>.o<span class="token punctuation">)</span><span class="token comment"># $(file) := a.o b.o c.o d.o </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>dir</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> &lt;names...><span class="token punctuation">)</span> <span class="token comment">#å–ç›®å½•å‡½æ•°</span><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> src/foo.c hacks<span class="token punctuation">)</span> <span class="token comment"># è¿”å›å€¼æ˜¯ src/ ./</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>notdirã€filter</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">notdir</span> &lt;names...><span class="token punctuation">)</span> <span class="token comment"># å–æ–‡ä»¶å‡½æ•°</span><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">notdir</span> src/foo.c hacks<span class="token punctuation">)</span> <span class="token comment"># è¿”å›å€¼æ˜¯ foo.c hacks</span><span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter</span> &lt;pattern...>,&lt;text><span class="token punctuation">)</span> <span class="token comment"># è¿‡æ»¤å‡ºtextä¸­ç¬¦åˆpatternçš„å­—ç¬¦ä¸²</span>sources <span class="token operator">:=</span> foo.c bar.c baz.s ugh.h<span class="token target symbol">foo</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span>cc <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">filter</span> %.c %.s,<span class="token variable">$</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span><span class="token punctuation">)</span> -o foo <span class="token comment"># $(filter %.c %.s,$(sources)) è¿”å›çš„å€¼æ˜¯ foo.c bar.c baz.s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¼–è¯‘å¸¦æœ‰å¤´æ–‡ä»¶çš„é¡¹ç›®"><a href="#ç¼–è¯‘å¸¦æœ‰å¤´æ–‡ä»¶çš„é¡¹ç›®" class="headerlink" title="ç¼–è¯‘å¸¦æœ‰å¤´æ–‡ä»¶çš„é¡¹ç›®"></a>ç¼–è¯‘å¸¦æœ‰å¤´æ–‡ä»¶çš„é¡¹ç›®</h2><p>Makefileç¤ºä¾‹ï¼ˆ1ï¼‰ï¼š</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">cpp_srcs <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">shell</span> find src -name *.cpp<span class="token punctuation">)</span>cpp_objs <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> src/%.cpp,objs/%.o,<span class="token variable">$</span><span class="token punctuation">(</span>cpp_srcs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½ çš„å¤´æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå»ºè®®ç»å¯¹è·¯å¾„ï¼‰</span>include_paths <span class="token operator">:=</span> I_flag        <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">(</span>include_paths<span class="token punctuation">:</span>%<span class="token operator">=</span>-I%<span class="token punctuation">)</span><span class="token target symbol">objs/%.o</span> <span class="token punctuation">:</span> src/%.cpp<span class="token operator">@</span>mkdir -p <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> <span class="token variable">$@</span><span class="token punctuation">)</span><span class="token operator">@</span>g++ -c <span class="token variable">$^</span> -o <span class="token variable">$@</span> <span class="token variable">$</span><span class="token punctuation">(</span>I_flag<span class="token punctuation">)</span><span class="token target symbol">workspace/exec</span> <span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>cpp_objs<span class="token punctuation">)</span><span class="token operator">@</span>mkdir -p <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">dir</span> <span class="token variable">$@</span><span class="token punctuation">)</span><span class="token operator">@</span>g++ <span class="token variable">$^</span> -o <span class="token variable">$@</span> <span class="token target symbol">run</span> <span class="token punctuation">:</span> workspace/exec<span class="token operator">@</span>./<span class="token variable">$&lt;</span><span class="token target symbol">debug</span> <span class="token punctuation">:</span><span class="token operator">@</span>echo <span class="token variable">$</span><span class="token punctuation">(</span>I_flag<span class="token punctuation">)</span><span class="token target symbol">clean</span> <span class="token punctuation">:</span><span class="token operator">@</span>rm -rf objs<span class="token builtin-target builtin">.PHONY</span> <span class="token punctuation">:</span> debug run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Makefileç¤ºä¾‹ï¼ˆ2ï¼‰ï¼š</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token comment"># Compiler</span>CXX <span class="token operator">:=</span> g++<span class="token comment"># cpp sources</span>cpp_srcs <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>shell find src -name *.cpp<span class="token punctuation">&#125;</span><span class="token comment"># $(warning cpp_srcs is $&#123;cpp_srcs&#125;)</span><span class="token comment"># cpp objects</span>cpp_objs <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>patsubst src/%.cpp,objs/%.o,<span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp_srcs<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment"># $(warning cpp_objs is $&#123;cpp_objs&#125;)</span><span class="token comment"># cpp include path</span>include_path <span class="token operator">:=</span> /home/mirac/Desktop/Retest/<span class="token keyword">include</span>I_flags <span class="token operator">:=</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>include_path<span class="token punctuation">:</span>%<span class="token operator">=</span>-I%<span class="token punctuation">&#125;</span><span class="token comment"># $&#123;warning I_flags is $&#123;I_flags&#125;&#125;</span><span class="token comment"># compile option</span>Compile_option <span class="token operator">:=</span> -g -O3 -wCompile_option <span class="token operator">+=</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>I_flags<span class="token punctuation">&#125;</span><span class="token comment"># $(warning Compile_option is $&#123;Compile_option&#125;)</span><span class="token target symbol">objs/%.o</span> <span class="token punctuation">:</span> src/%.cpp<span class="token operator">@</span>mkdir -p <span class="token variable">$</span><span class="token punctuation">&#123;</span>dir <span class="token variable">$@</span><span class="token punctuation">&#125;</span><span class="token operator">@</span><span class="token variable">$</span><span class="token punctuation">&#123;</span>CXX<span class="token punctuation">&#125;</span> -o <span class="token variable">$@</span> -c <span class="token variable">$^</span>  <span class="token variable">$</span><span class="token punctuation">&#123;</span>Compile_option<span class="token punctuation">&#125;</span><span class="token target symbol">workspace/testJson</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp_objs<span class="token punctuation">&#125;</span><span class="token operator">@</span><span class="token variable">$</span><span class="token punctuation">&#123;</span>CXX<span class="token punctuation">&#125;</span> -o <span class="token variable">$@</span>  <span class="token variable">$^</span> <span class="token target symbol">run</span> <span class="token punctuation">:</span> workspace/testJson<span class="token operator">@</span>./<span class="token variable">$&lt;</span><span class="token target symbol">debug</span><span class="token punctuation">:</span>echo <span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp_srcs<span class="token punctuation">&#125;</span>echo <span class="token variable">$</span><span class="token punctuation">&#123;</span>cpp_objs<span class="token punctuation">&#125;</span>echo <span class="token variable">$</span><span class="token punctuation">&#123;</span>I_flags<span class="token punctuation">&#125;</span><span class="token comment"># @echo $&#123;CC&#125; -o $@ -c $^  $&#123;Compile_option&#125;</span><span class="token target symbol">clean</span> <span class="token punctuation">:</span> <span class="token operator">@</span>rm -r objs<span class="token operator">@</span>rm -r workspace/*<span class="token builtin-target builtin">.PHONY</span><span class="token punctuation">:</span> clean debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++æŒ‡é’ˆå¤ä¹ </title>
      <link href="/2024/01/19/c-de-zhi-zhen-fu-xi/"/>
      <url>/2024/01/19/c-de-zhi-zhen-fu-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="CPPæŒ‡é’ˆæ·±æ"><a href="#CPPæŒ‡é’ˆæ·±æ" class="headerlink" title="CPPæŒ‡é’ˆæ·±æ"></a>CPPæŒ‡é’ˆæ·±æ</h1><p>æŒ‡é’ˆå¯¹äºåˆå­¦è€…å¾€å¾€æ˜¯å¾ˆéš¾ä»¥ç¢ç£¨çš„ä¸œè¥¿ï¼Œå› ä¸ºå®ƒå¹¶ä¸å¦‚å˜é‡é‚£ä¹ˆæŠ½è±¡ï¼Œè€Œæ˜¯æ›´è´´è¿‘åº•å±‚çš„çœŸå®ç»“æ„ã€‚æŒ‡é’ˆæ“ä½œå¾€å¾€ä¼šå‡ºç°å„ç§å„æ ·çš„å²”å­ï¼Œæœ€å¸¸è§çš„ä¾¿æ˜¯â€segmentation faultâ€ã€‚æ‰€ä»¥è¿™é‡Œè¾¨æäº†å„ç§æŒ‡é’ˆç±»å‹ï¼Œå®è·µå‡ºçœŸçŸ¥ï¼Œä¸‹é¢çš„ä¾‹å­å¦‚æœè‡ªå·±æ•²ä¸‹æ¥å°±æ›´å¥½äº†ğŸ˜ğŸ˜ğŸ˜</p><p>æŒ‡é’ˆæ˜¯C++ä¸­å¼ºå¤§çš„å·¥å…·ï¼Œçµæ´»ä½†å®¹æ˜“å‡ºé”™ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€æŠŠâ€œåŒåˆƒå‰‘â€ã€‚</p><hr><h2 id="1-æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ"></a><strong>1. æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ</strong></h2><p>æŒ‡é’ˆæ˜¯ä¸€ç§ä¿å­˜åœ°å€çš„å˜é‡ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// pä¿å­˜açš„åœ°å€</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Value of a: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è§£å¼•ç”¨è·å–açš„å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><code>&amp;</code>ï¼šå–åœ°å€ç¬¦ï¼Œè·å–å˜é‡åœ°å€ã€‚</li><li><code>*</code>ï¼šè§£å¼•ç”¨ç¬¦ï¼Œé€šè¿‡åœ°å€è®¿é—®å˜é‡å€¼ã€‚</li></ul><p><strong>æ³¨æ„</strong>ï¼šæœªåˆå§‹åŒ–çš„æŒ‡é’ˆç§°ä¸ºé‡æŒ‡é’ˆï¼Œä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span> <span class="token comment">// æœªåˆå§‹åŒ–</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// æœªå®šä¹‰è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h2 id="2-æŒ‡é’ˆçš„åˆ†ç±»ä¸ä½¿ç”¨"><a href="#2-æŒ‡é’ˆçš„åˆ†ç±»ä¸ä½¿ç”¨" class="headerlink" title="2. æŒ‡é’ˆçš„åˆ†ç±»ä¸ä½¿ç”¨"></a><strong>2. æŒ‡é’ˆçš„åˆ†ç±»ä¸ä½¿ç”¨</strong></h2><h3 id="2-1-ç©ºæŒ‡é’ˆ"><a href="#2-1-ç©ºæŒ‡é’ˆ" class="headerlink" title="2.1 ç©ºæŒ‡é’ˆ"></a><strong>2.1 ç©ºæŒ‡é’ˆ</strong></h3><p>ç©ºæŒ‡é’ˆï¼ˆ<code>nullptr</code>ï¼‰æŒ‡å‘â€œæ— æ•ˆâ€åœ°å€ï¼Œé¿å…é‡æŒ‡é’ˆé—®é¢˜ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Pointer is null"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„</strong>ï¼šè§£å¼•ç”¨ç©ºæŒ‡é’ˆä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ã€‚</p><hr><h3 id="2-2-å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡"><a href="#2-2-å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡" class="headerlink" title="2.2 å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡"></a><strong>2.2 å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡</strong></h3><ul><li><strong>å¸¸é‡æŒ‡é’ˆ</strong>ï¼šæŒ‡å‘çš„å€¼ä¸èƒ½ä¿®æ”¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">//*p = 20; // é”™è¯¯ï¼Œå€¼ä¸å¯ä¿®æ”¹</span>p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡é’ˆæœ¬èº«å¯ä»¥æŒ‡å‘å…¶ä»–åœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>æŒ‡é’ˆå¸¸é‡</strong>ï¼šæŒ‡é’ˆçš„åœ°å€ä¸èƒ½ä¿®æ”¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span><span class="token comment">//p = &amp;c; // é”™è¯¯ï¼ŒæŒ‡é’ˆåœ°å€ä¸å¯ä¿®æ”¹</span><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// æ­£ç¡®ï¼Œå€¼å¯ä»¥ä¿®æ”¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆå¸¸é‡</strong>ï¼š</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span><span class="token comment">//*p = 20; // é”™è¯¯</span><span class="token comment">//p = &amp;b; // é”™è¯¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="2-3-æŒ‡é’ˆä¸æ•°ç»„"><a href="#2-3-æŒ‡é’ˆä¸æ•°ç»„" class="headerlink" title="2.3 æŒ‡é’ˆä¸æ•°ç»„"></a><strong>2.3 æŒ‡é’ˆä¸æ•°ç»„</strong></h3><p>æŒ‡é’ˆä¸æ•°ç»„å…³ç³»å¯†åˆ‡ï¼Œæ•°ç»„åå³ä¸ºé¦–å…ƒç´ åœ°å€ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨æŒ‡é’ˆæ“ä½œæ•°ç»„ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span> <span class="token comment">// ä¾æ¬¡è¾“å‡ºæ•°ç»„å…ƒç´ </span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h3 id="2-4-æŒ‡é’ˆä¸å‡½æ•°"><a href="#2-4-æŒ‡é’ˆä¸å‡½æ•°" class="headerlink" title="2.4 æŒ‡é’ˆä¸å‡½æ•°"></a><strong>2.4 æŒ‡é’ˆä¸å‡½æ•°</strong></h3><p>æŒ‡é’ˆå¯ç”¨äºä¼ é€’å‡½æ•°å‚æ•°ï¼Œå®ç°é«˜æ•ˆæ“ä½œï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>    <span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">;</span>    <span class="token operator">*</span>y <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 20 10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="2-5-åŠ¨æ€å†…å­˜åˆ†é…ä¸æŒ‡é’ˆ"><a href="#2-5-åŠ¨æ€å†…å­˜åˆ†é…ä¸æŒ‡é’ˆ" class="headerlink" title="2.5 åŠ¨æ€å†…å­˜åˆ†é…ä¸æŒ‡é’ˆ"></a><strong>2.5 åŠ¨æ€å†…å­˜åˆ†é…ä¸æŒ‡é’ˆ</strong></h3><p>é€šè¿‡<code>new</code>å’Œ<code>delete</code>åŠ¨æ€åˆ†é…å†…å­˜ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 42</span><span class="token keyword">delete</span> p<span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾å†…å­˜</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åŠ¨æ€æ•°ç»„ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span> <span class="token comment">// é‡Šæ”¾åŠ¨æ€æ•°ç»„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>å¿˜è®°é‡Šæ”¾å†…å­˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li><li>ä½¿ç”¨<code>delete</code>é‡Šæ”¾åï¼Œä¸è¦å†è§£å¼•ç”¨ã€‚</li></ul><hr><h3 id="2-6-æŒ‡é’ˆä¸å¤šçº§æŒ‡é’ˆ"><a href="#2-6-æŒ‡é’ˆä¸å¤šçº§æŒ‡é’ˆ" class="headerlink" title="2.6 æŒ‡é’ˆä¸å¤šçº§æŒ‡é’ˆ"></a><strong>2.6 æŒ‡é’ˆä¸å¤šçº§æŒ‡é’ˆ</strong></h3><p>å¤šçº§æŒ‡é’ˆæ˜¯æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token operator">&amp;</span>p1<span class="token punctuation">;</span> <span class="token comment">// p2æŒ‡å‘p1</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token operator">*</span>p2 <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="3-å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§"><a href="#3-å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§" class="headerlink" title="3. å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§"></a><strong>3. å¸¸è§é—®é¢˜ä¸è°ƒè¯•æŠ€å·§</strong></h3><ol><li><p><strong>ç©ºæŒ‡é’ˆè§£å¼•ç”¨</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// segmentation fault</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>æŒ‡é’ˆè¶Šç•Œ</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> arr <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// è¶…å‡ºæ•°ç»„èŒƒå›´</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// æœªå®šä¹‰è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>é‡æŒ‡é’ˆ</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span><span class="token keyword">delete</span> p<span class="token punctuation">;</span> <span class="token comment">// pæœªæŒ‡å‘æœ‰æ•ˆåœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><p><strong>è°ƒè¯•æ–¹æ³•</strong>ï¼š</p><ul><li>æ£€æŸ¥<code>nullptr</code>ã€‚</li><li>ä½¿ç”¨å·¥å…·ï¼ˆå¦‚Valgrindï¼‰æ£€æµ‹å†…å­˜æ³„æ¼ã€‚</li><li>é¿å…æ— æ„ä¹‰çš„è§£å¼•ç”¨æ“ä½œã€‚</li></ul><hr><h2 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a><strong>4. æ€»ç»“</strong></h2><p>æŒ‡é’ˆçš„å¼ºå¤§åŠŸèƒ½ä¼´éšç€å¤æ‚æ€§å’Œé£é™©ã€‚é€šè¿‡åå¤å®è·µå’Œæ³¨é‡ç»†èŠ‚ï¼Œå¯ä»¥æŒæ¡æŒ‡é’ˆçš„ç²¾é«“ï¼Œå†™å‡ºé«˜æ•ˆå¯é çš„C++ä»£ç ã€‚åˆå­¦è€…ç‰¹åˆ«è¦æ³¨æ„é¿å…æœªå®šä¹‰è¡Œä¸ºï¼ŒåŒæ—¶å…»æˆè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚</p><h2 id="constä¿®é¥°æŒ‡é’ˆ"><a href="#constä¿®é¥°æŒ‡é’ˆ" class="headerlink" title="constä¿®é¥°æŒ‡é’ˆ"></a>constä¿®é¥°æŒ‡é’ˆ</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span><span class="token operator">:</span>  <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>chang<span class="token operator">=</span>length<span class="token punctuation">;</span> kuan<span class="token operator">=</span>width<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">SetLength</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> chang<span class="token operator">=</span>length<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span> <span class="token keyword">return</span> chang<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> chang<span class="token punctuation">;</span>    <span class="token keyword">int</span> kuan<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">// int a=123;</span>  <span class="token comment">// const int *p=&amp;a;//const ä¿®é¥°*ï¼Œpå¯ä»¥æ”¹</span>  <span class="token comment">// cout&lt;&lt;*p&lt;&lt;endl;</span>  <span class="token comment">// int b=567;</span>  <span class="token comment">// p=&amp;b;</span>  <span class="token comment">// cout&lt;&lt;*p&lt;&lt;endl;</span>  <span class="token comment">// int const *p1=&amp;a;</span>  <span class="token comment">// int * const p2=&amp;b;const ä¿®é¥°p2ï¼Œ*p2å¯ä»¥æ”¹</span>  <span class="token comment">// *p2=789;</span>  <span class="token comment">// // p2=&amp;a;</span>  <span class="token comment">// cout&lt;&lt;*p2&lt;&lt;endl;</span>  Rectangle <span class="token operator">*</span>rec<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  Rectangle <span class="token operator">*</span>rec1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>rec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token keyword">const</span> Rectangle <span class="token operator">*</span> pRec<span class="token operator">=</span>rec<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  pRec<span class="token operator">=</span>rec1<span class="token punctuation">;</span><span class="token comment">//åŒp</span>  cout<span class="token operator">&lt;&lt;</span>pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//åªèƒ½è°ƒç”¨constæ–¹æ³•</span>  Rectangle <span class="token operator">*</span> <span class="token keyword">const</span> pRec1<span class="token operator">=</span>rec<span class="token punctuation">;</span><span class="token comment">//åŒp2</span>  cout<span class="token operator">&lt;&lt;</span>pRec1<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  Rectangle <span class="token operator">*</span>pPrec0<span class="token operator">=</span>rec<span class="token punctuation">;</span>  pPrec0<span class="token operator">-></span><span class="token function">SetLength</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//éconstæ–¹æ³•ä¹Ÿå¯ä»¥è°ƒç”¨</span>  cout<span class="token operator">&lt;&lt;</span>pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç é€šè¿‡ä¸€äº›å®ä¾‹è®²è§£äº†<code>const</code>ä¿®é¥°æŒ‡é’ˆçš„ä¸åŒç”¨æ³•ï¼Œå¹¶ç»“åˆç±»çš„<code>const</code>æ–¹æ³•ï¼Œå±•ç¤ºäº†æŒ‡é’ˆå¸¸é‡å’ŒæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆçš„åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯ä»£ç è¿è¡Œçš„æ ¸å¿ƒåˆ†æï¼š</p><hr><h3 id="æ ¸å¿ƒæ¦‚å¿µè§£æ"><a href="#æ ¸å¿ƒæ¦‚å¿µè§£æ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µè§£æ"></a><strong>æ ¸å¿ƒæ¦‚å¿µè§£æ</strong></h3><h4 id="1-constä¿®é¥°æŒ‡é’ˆçš„ä¸¤ç§æƒ…å†µ"><a href="#1-constä¿®é¥°æŒ‡é’ˆçš„ä¸¤ç§æƒ…å†µ" class="headerlink" title="1. constä¿®é¥°æŒ‡é’ˆçš„ä¸¤ç§æƒ…å†µ"></a>1. <code>const</code>ä¿®é¥°æŒ‡é’ˆçš„ä¸¤ç§æƒ…å†µ</h4><ol><li><p><strong>æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼ˆ<code>const</code>ä¿®é¥°æŒ‡å‘å†…å®¹ï¼‰</strong></p><ul><li>æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä¸åŒåœ°å€ï¼Œä½†æŒ‡å‘çš„å†…å®¹ä¸å¯ä¿®æ”¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// æˆ– int const *p = &amp;a;</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>           <span class="token comment">// OK: ä¿®æ”¹æŒ‡é’ˆåœ°å€</span><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>          <span class="token comment">// é”™è¯¯: ä¿®æ”¹æŒ‡å‘å†…å®¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>æŒ‡é’ˆå¸¸é‡ï¼ˆ<code>const</code>ä¿®é¥°æŒ‡é’ˆæœ¬èº«ï¼‰</strong></p><ul><li>æŒ‡é’ˆåœ°å€ä¸å¯ä¿®æ”¹ï¼Œä½†æŒ‡å‘çš„å†…å®¹å¯ä»¥æ”¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>           <span class="token comment">// é”™è¯¯: ä¿®æ”¹æŒ‡é’ˆåœ°å€</span><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>          <span class="token comment">// OK: ä¿®æ”¹æŒ‡å‘å†…å®¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ol><hr><h4 id="2-ç±»ä¸­çš„constæ–¹æ³•"><a href="#2-ç±»ä¸­çš„constæ–¹æ³•" class="headerlink" title="2. ç±»ä¸­çš„constæ–¹æ³•"></a>2. ç±»ä¸­çš„<code>const</code>æ–¹æ³•</h4><ul><li><p><code>const</code>æ–¹æ³•ï¼š</p><p> æ–¹æ³•ååŠ <code>const</code>ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šä¿®æ”¹ç±»çš„æˆå‘˜å˜é‡ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// åªè¯»æ–¹æ³•</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœé€šè¿‡<code>const</code>å¯¹è±¡ï¼ˆæˆ–<code>const</code>æŒ‡é’ˆï¼‰è°ƒç”¨æ–¹æ³•ï¼Œåªèƒ½è°ƒç”¨<code>const</code>æ–¹æ³•ã€‚</p></li></ul><hr><h3 id="ä»£ç è¡Œä¸ºè§£æ"><a href="#ä»£ç è¡Œä¸ºè§£æ" class="headerlink" title="ä»£ç è¡Œä¸ºè§£æ"></a>ä»£ç è¡Œä¸ºè§£æ</h3><h4 id="ï¼ˆ1ï¼‰åˆ›å»ºæ™®é€šå¯¹è±¡å’ŒæŒ‡é’ˆ"><a href="#ï¼ˆ1ï¼‰åˆ›å»ºæ™®é€šå¯¹è±¡å’ŒæŒ‡é’ˆ" class="headerlink" title="ï¼ˆ1ï¼‰åˆ›å»ºæ™®é€šå¯¹è±¡å’ŒæŒ‡é’ˆ"></a>ï¼ˆ1ï¼‰åˆ›å»ºæ™®é€šå¯¹è±¡å’ŒæŒ‡é’ˆ</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Rectangle <span class="token operator">*</span>rec <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Rectangle <span class="token operator">*</span>rec1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> rec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><code>rec</code>æ˜¯æ™®é€šæŒ‡é’ˆï¼Œèƒ½è‡ªç”±è°ƒç”¨é<code>const</code>æ–¹æ³•ã€‚</li></ul><h4 id="ï¼ˆ2ï¼‰æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ"><a href="#ï¼ˆ2ï¼‰æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ" class="headerlink" title="ï¼ˆ2ï¼‰æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ"></a>ï¼ˆ2ï¼‰æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> Rectangle <span class="token operator">*</span>pRec <span class="token operator">=</span> rec<span class="token punctuation">;</span> <span class="token comment">// pRecæŒ‡å‘ä¸€ä¸ªå¸¸é‡å¯¹è±¡</span>cout <span class="token operator">&lt;&lt;</span> pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 123</span>pRec <span class="token operator">=</span> rec1<span class="token punctuation">;</span> <span class="token comment">// OK: ä¿®æ”¹æŒ‡é’ˆåœ°å€</span>cout <span class="token operator">&lt;&lt;</span> pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 789</span><span class="token comment">// pRec->SetLength(456); // é”™è¯¯: æ— æ³•è°ƒç”¨éconstæ–¹æ³•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>pRec</code>åªèƒ½è°ƒç”¨<code>const</code>æ–¹æ³•ï¼ˆ<code>GetLength</code>ï¼‰ï¼Œä½†å¯ä»¥æŒ‡å‘å…¶ä»–<code>Rectangle</code>å¯¹è±¡ã€‚</li></ul><h4 id="ï¼ˆ3ï¼‰æŒ‡é’ˆå¸¸é‡"><a href="#ï¼ˆ3ï¼‰æŒ‡é’ˆå¸¸é‡" class="headerlink" title="ï¼ˆ3ï¼‰æŒ‡é’ˆå¸¸é‡"></a><strong>ï¼ˆ3ï¼‰æŒ‡é’ˆå¸¸é‡</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Rectangle <span class="token operator">*</span><span class="token keyword">const</span> pRec1 <span class="token operator">=</span> rec<span class="token punctuation">;</span> <span class="token comment">// pRec1ä¸ºæŒ‡é’ˆå¸¸é‡</span>cout <span class="token operator">&lt;&lt;</span> pRec1<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 123</span>pRec1<span class="token operator">-></span><span class="token function">SetLength</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK: å¯è°ƒç”¨éconstæ–¹æ³•ä¿®æ”¹å†…å®¹</span>cout <span class="token operator">&lt;&lt;</span> pRec1<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 789</span><span class="token comment">// pRec1 = rec1; // é”™è¯¯: æ— æ³•ä¿®æ”¹æŒ‡é’ˆåœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>pRec1</code>çš„æŒ‡å‘åœ°å€ä¸å¯ä¿®æ”¹ï¼Œä½†å…¶å†…å®¹å¯ä»¥æ›´æ”¹ã€‚</li></ul><h4 id="ï¼ˆ4ï¼‰æ™®é€šæŒ‡é’ˆè°ƒç”¨éconstæ–¹æ³•"><a href="#ï¼ˆ4ï¼‰æ™®é€šæŒ‡é’ˆè°ƒç”¨éconstæ–¹æ³•" class="headerlink" title="ï¼ˆ4ï¼‰æ™®é€šæŒ‡é’ˆè°ƒç”¨éconstæ–¹æ³•"></a><strong>ï¼ˆ4ï¼‰æ™®é€šæŒ‡é’ˆè°ƒç”¨é<code>const</code>æ–¹æ³•</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Rectangle <span class="token operator">*</span>pPrec0 <span class="token operator">=</span> rec<span class="token punctuation">;</span>pPrec0<span class="token operator">-></span><span class="token function">SetLength</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨éconstæ–¹æ³•</span>cout <span class="token operator">&lt;&lt;</span> pRec<span class="token operator">-></span><span class="token function">GetLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 789</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><code>pPrec0</code>æ˜¯æ™®é€šæŒ‡é’ˆï¼Œå¯ä»¥è‡ªç”±è°ƒç”¨é<code>const</code>æ–¹æ³•ã€‚</li></ul><hr><h3 id="è¾“å‡ºç»“æœ"><a href="#è¾“å‡ºç»“æœ" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><p>æœ€ç»ˆè¾“å‡ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">123123789123789<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h3><ul><li><strong><code>const</code>ä¿®é¥°æŒ‡é’ˆçš„ç”¨æ³•ï¼š</strong> åˆ†æ¸…æŒ‡å‘å†…å®¹å’ŒæŒ‡é’ˆæœ¬èº«è°æ˜¯å¸¸é‡ã€‚</li><li><strong>ç±»çš„<code>const</code>æ–¹æ³•ï¼š</strong> é€‚ç”¨äºä¿æŠ¤ç±»çŠ¶æ€ï¼Œåœ¨éœ€è¦åªè¯»è®¿é—®æ—¶å°¤ä¸ºé‡è¦ã€‚</li><li><strong>å®è·µå»ºè®®ï¼š</strong> åœ¨éœ€è¦åªè¯»è®¿é—®çš„åœºæ™¯ä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨<code>const</code>æŒ‡é’ˆå’Œ<code>const</code>æ–¹æ³•ï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li></ul><h2 id="ä¸€ç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«"><a href="#ä¸€ç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«" class="headerlink" title="ä¸€ç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«"></a>ä¸€ç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«</h2><p>aä»£è¡¨é¦–åœ°å€ï¼Œåœ¨sizeofå’Œ&amp;aæ—¶å½“æˆäº†æ•°ç»„æ•´ä½“</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">sz</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">/*  12  0x9ffdb4  0x9ffdb4  0x9ffdb4  */</span>  cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>a<span class="token operator">+</span><span class="token number">2</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>            <span class="token comment">//a = &amp;a[0] != &amp;a</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">+</span><span class="token number">2</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">/*  0x9ffdb4 0x9ffdb8 0x9ffdbc  //æ­¥é•¿æ˜¯4ï¼Œä¸€ä¸ªint  0x9ffdb4 0x9ffdc0 0x9ffdcc  //æ­¥é•¿æ˜¯12ï¼Œä¸‰ä¸ªintï¼Œä¹Ÿå°±æ˜¯æ•°ç»„é•¿åº¦  0x9ffdb4 0x9ffdb8 0x9ffdbc  //æ­¥é•¿æ˜¯4ï¼Œä¸€ä¸ªint  */</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªä»£ç çš„æ ¸å¿ƒåœ¨äºåŒºåˆ†ä¸€ç»´æ•°ç»„çš„ <strong>æ•°ç»„å</strong> å’Œ <strong>æ•°ç»„åœ°å€</strong> çš„æ¦‚å¿µï¼Œå¹¶é€šè¿‡<code>sizeof</code>å’Œåœ°å€è¾“å‡ºå±•ç¤ºäº†å®ƒä»¬çš„å·®å¼‚ã€‚ä¸‹é¢è¯¦ç»†è§£æè¿™æ®µä»£ç åŠå…¶è¾“å‡ºã€‚</p><hr><h3 id="æ ¸å¿ƒæ¦‚å¿µè§£æ-1"><a href="#æ ¸å¿ƒæ¦‚å¿µè§£æ-1" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µè§£æ"></a><strong>æ ¸å¿ƒæ¦‚å¿µè§£æ</strong></h3><h4 id="1-æ•°ç»„å-a"><a href="#1-æ•°ç»„å-a" class="headerlink" title="1. æ•°ç»„å a"></a><strong>1. æ•°ç»„å <code>a</code></strong></h4><ul><li>æ•°ç»„åï¼ˆå¦‚ <code>a</code>ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼Œ<strong>é»˜è®¤æŒ‡å‘æ•°ç»„çš„é¦–å…ƒç´ </strong>ï¼Œå³ <code>&amp;a[0]</code>ã€‚</li><li>ä½†åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸­ï¼Œ<code>a</code>è¡¨ç°ä¸ºæ•´ä¸ªæ•°ç»„çš„æ ‡å¿—ï¼Œæ¯”å¦‚ <code>sizeof(a)</code> å’Œ <code>&amp;a</code>ã€‚</li></ul><hr><h4 id="2-sizeof-çš„ä½œç”¨"><a href="#2-sizeof-çš„ä½œç”¨" class="headerlink" title="2. sizeof çš„ä½œç”¨"></a><strong>2. <code>sizeof</code> çš„ä½œç”¨</strong></h4><ul><li><code>sizeof(a)</code>ï¼šè®¡ç®—æ•°ç»„æ•´ä½“çš„å­—èŠ‚å¤§å°ï¼ˆæ•°ç»„é•¿åº¦ Ã— å…ƒç´ å¤§å°ï¼‰ã€‚</li><li><code>sizeof(&amp;a)</code>ï¼šè®¡ç®—æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆçš„å¤§å°ï¼Œä¸å¹³å°æœ‰å…³ï¼ˆé€šå¸¸æ˜¯4å­—èŠ‚æˆ–8å­—èŠ‚ï¼‰ã€‚</li></ul><h4 id="3-amp-a-å’Œ-a-çš„åŒºåˆ«"><a href="#3-amp-a-å’Œ-a-çš„åŒºåˆ«" class="headerlink" title="3. &amp;a å’Œ a çš„åŒºåˆ«"></a><strong>3. <code>&amp;a</code> å’Œ <code>a</code> çš„åŒºåˆ«</strong></h4><ul><li><code>a</code> æ˜¯æŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œç­‰åŒäº <code>&amp;a[0]</code>ã€‚</li><li><code>&amp;a</code> æ˜¯æ•´ä¸ªæ•°ç»„çš„åœ°å€ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•°ç»„æ•´ä½“ã€‚</li></ul><p>ä¸¤è€…ç±»å‹ä¸åŒï¼š</p><ul><li><code>a</code> çš„ç±»å‹æ˜¯ <code>int*</code>ï¼Œæ­¥é•¿æ˜¯å•ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆ<code>sizeof(int)</code>ï¼‰ã€‚</li><li><code>&amp;a</code> çš„ç±»å‹æ˜¯ <code>int(*)[3]</code>ï¼Œæ­¥é•¿æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼ˆ<code>sizeof(a)</code>ï¼‰ã€‚</li></ul><hr><h4 id="4-åœ°å€è¿ç®—"><a href="#4-åœ°å€è¿ç®—" class="headerlink" title="4. åœ°å€è¿ç®—"></a><strong>4. åœ°å€è¿ç®—</strong></h4><ol><li><strong><code>a + i</code></strong>ï¼šè¡¨ç¤ºç¬¬ <code>i</code> ä¸ªå…ƒç´ çš„åœ°å€ã€‚</li><li><strong><code>&amp;a + i</code></strong>ï¼šè¡¨ç¤ºç¬¬ <code>i</code> ä¸ªæ•°ç»„çš„åœ°å€ï¼Œæ­¥é•¿æ˜¯æ•°ç»„å¤§å°ï¼ˆå³ 3 Ã— <code>sizeof(int)</code>ï¼‰ã€‚</li><li><strong><code>&amp;a[0] + i</code></strong>ï¼šç­‰ä»·äº <code>a + i</code>ï¼Œè¡¨ç¤ºç¬¬ <code>i</code> ä¸ªå…ƒç´ çš„åœ°å€ã€‚</li></ol><hr><h3 id="ä»£ç è§£æåŠè¾“å‡º"><a href="#ä»£ç è§£æåŠè¾“å‡º" class="headerlink" title="ä»£ç è§£æåŠè¾“å‡º"></a><strong>ä»£ç è§£æåŠè¾“å‡º</strong></h3><h4 id="sizeof-ç¤ºä¾‹"><a href="#sizeof-ç¤ºä¾‹" class="headerlink" title="sizeof ç¤ºä¾‹"></a><strong><code>sizeof</code> ç¤ºä¾‹</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ•°ç»„æ•´ä½“å¤§å°ï¼š3 Ã— sizeof(int) = 12ï¼ˆå‡è®¾intä¸º4å­—èŠ‚ï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">12<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h4 id="åœ°å€æ¯”è¾ƒ"><a href="#åœ°å€æ¯”è¾ƒ" class="headerlink" title="åœ°å€æ¯”è¾ƒ"></a><strong>åœ°å€æ¯”è¾ƒ</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">// æ•°ç»„é¦–å…ƒç´ åœ°å€ï¼š&amp;a[0]</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">// æ•°ç»„æ•´ä½“åœ°å€</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">// æ•°ç»„é¦–å…ƒç´ åœ°å€ï¼š&amp;a[0]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">0x9ffdb4  &#x2F;&#x2F; å‡è®¾æ˜¯æ•°ç»„çš„é¦–åœ°å€ï¼Œa ç­‰ä»·äº &amp;a[0]0x9ffdb4  &#x2F;&#x2F; &amp;a è¡¨ç¤ºæ•°ç»„æ•´ä½“çš„åœ°å€ï¼Œä¸é¦–åœ°å€ç›¸åŒï¼Œä½†æ„ä¹‰ä¸åŒ0x9ffdb4  &#x2F;&#x2F; &amp;a[0] æ˜¯é¦–å…ƒç´ åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h4 id="åœ°å€åç§»"><a href="#åœ°å€åç§»" class="headerlink" title="åœ°å€åç§»"></a><strong>åœ°å€åç§»</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> a<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> a<span class="token operator">+</span><span class="token number">2</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// æ­¥é•¿æ˜¯å•ä¸ªå…ƒç´ çš„å¤§å°</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token operator">+</span><span class="token number">2</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// æ­¥é•¿æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">2</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// æ­¥é•¿æ˜¯å•ä¸ªå…ƒç´ çš„å¤§å°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">0x9ffdb4 0x9ffdb8 0x9ffdbc  &#x2F;&#x2F; aï¼Œæ­¥é•¿æ˜¯4å­—èŠ‚ï¼ˆ1ä¸ªintå¤§å°ï¼‰0x9ffdb4 0x9ffdc0 0x9ffdcc  &#x2F;&#x2F; &amp;aï¼Œæ­¥é•¿æ˜¯12å­—èŠ‚ï¼ˆæ•´ä¸ªæ•°ç»„å¤§å°ï¼‰0x9ffdb4 0x9ffdb8 0x9ffdbc  &#x2F;&#x2F; &amp;a[0]ï¼Œæ­¥é•¿æ˜¯4å­—èŠ‚ï¼ˆ1ä¸ªintå¤§å°ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h3><ol><li><strong><code>a</code> ä¸ <code>&amp;a</code> çš„åŒºåˆ«</strong>ï¼š<ul><li><code>a</code> æ˜¯æŒ‡å‘é¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œç±»å‹æ˜¯ <code>int*</code>ï¼Œæ­¥é•¿æ˜¯å•ä¸ªå…ƒç´ çš„å¤§å°ã€‚</li><li><code>&amp;a</code> æ˜¯æŒ‡å‘æ•´ä¸ªæ•°ç»„çš„æŒ‡é’ˆï¼Œç±»å‹æ˜¯ <code>int(*)[3]</code>ï¼Œæ­¥é•¿æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ã€‚</li></ul></li><li><strong><code>sizeof</code> çš„ç»“æœ</strong>ï¼š<ul><li><code>sizeof(a)</code> æ˜¯æ•°ç»„æ•´ä½“å¤§å°ï¼Œç­‰äº <code>æ•°ç»„é•¿åº¦ Ã— å•å…ƒç´ å¤§å°</code>ã€‚</li><li><code>sizeof(&amp;a)</code> æ˜¯æŒ‡é’ˆå¤§å°ï¼Œé€šå¸¸æ˜¯ 4 æˆ– 8 å­—èŠ‚ã€‚</li></ul></li><li><strong>åœ°å€è¿ç®—æ­¥é•¿</strong>ï¼š<ul><li><code>a + 1</code> æˆ– <code>&amp;a[0] + 1</code>ï¼Œæ­¥é•¿æ˜¯å•ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆ<code>sizeof(int)</code>ï¼‰ã€‚</li><li><code>&amp;a + 1</code>ï¼Œæ­¥é•¿æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼ˆ<code>sizeof(a)</code>ï¼‰ã€‚</li></ul></li></ol><p>é€šè¿‡è¿™äº›ä¾‹å­å¯ä»¥æ¸…æ¥šåœ°ç†è§£ä¸€ç»´æ•°ç»„åœ¨æŒ‡é’ˆæ“ä½œä¸­çš„å·®å¼‚ï¼Œæ›´å¥½åœ°é¿å…è¯¯ç”¨ã€‚</p><h2 id="äºŒç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«"><a href="#äºŒç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«" class="headerlink" title="äºŒç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«"></a>äºŒç»´æ•°ç»„æŒ‡é’ˆçš„åŒºåˆ«</h2><p>æ³¨æ„ä¸ä¸€ç»´æŒ‡é’ˆç±»æ¯”åŒºåˆ«å¼€æ¥ã€‚</p><p>æŒ‡é’ˆæœ‰å‡æ³•å’Œæ¯”è¾ƒè¿ç®—ï¼Œæ²¡æœ‰åŠ æ³•è¿ç®—ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">sz</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#123;</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span><span class="token number">112</span><span class="token punctuation">,</span><span class="token number">113</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//æ­¥é•¿æ˜¯ä¸‰ä¸ªå…ƒç´ çš„æ•°ç»„çš„é•¿åº¦</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"a: "</span><span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>           <span class="token comment">//a = &amp;a[0]</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"&amp;a[0]:"</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//æ­¥é•¿æ˜¯ä¸€ä¸ªint</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"a[0]: "</span><span class="token operator">&lt;&lt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">//a[0] = &amp;a[0][0]</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"&amp;a[0][0]: "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"&amp;a: "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span><span class="token operator">&amp;</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//æ­¥é•¿æ˜¯äºŒç»´æ•°ç»„çš„é•¿åº¦</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç åˆ†æäº†äºŒç»´æ•°ç»„ä¸­çš„æŒ‡é’ˆåŠå…¶ä¸åŒåœ°å€æ­¥é•¿çš„å«ä¹‰ã€‚ä»¥ä¸‹ä»<strong>äºŒç»´æ•°ç»„çš„æœ¬è´¨</strong>å…¥æ‰‹ï¼Œç»“åˆä»£ç è¯¦ç»†è§£ææŒ‡é’ˆåœ¨äºŒç»´æ•°ç»„ä¸­çš„è¡Œä¸ºåŠå…¶ä¸ä¸€ç»´æ•°ç»„çš„åŒºåˆ«ã€‚</p><hr><h3 id="äºŒç»´æ•°ç»„æŒ‡é’ˆæ ¸å¿ƒæ¦‚å¿µ"><a href="#äºŒç»´æ•°ç»„æŒ‡é’ˆæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="äºŒç»´æ•°ç»„æŒ‡é’ˆæ ¸å¿ƒæ¦‚å¿µ"></a><strong>äºŒç»´æ•°ç»„æŒ‡é’ˆæ ¸å¿ƒæ¦‚å¿µ</strong></h3><h4 id="1-äºŒç»´æ•°ç»„çš„å†…å­˜å¸ƒå±€"><a href="#1-äºŒç»´æ•°ç»„çš„å†…å­˜å¸ƒå±€" class="headerlink" title="1. äºŒç»´æ•°ç»„çš„å†…å­˜å¸ƒå±€"></a><strong>1. äºŒç»´æ•°ç»„çš„å†…å­˜å¸ƒå±€</strong></h4><p>äºŒç»´æ•°ç»„æœ¬è´¨ä¸Šæ˜¯è¿ç»­çš„å†…å­˜å—ï¼Œå¯ä»¥çœ‹æˆæ˜¯<strong>è‹¥å¹²è¡Œä¸€ç»´æ•°ç»„çš„é›†åˆ</strong>ã€‚<br> ä¾‹å¦‚ï¼Œ<code>int a[2][3]</code> è¡¨ç¤ºæœ‰ä¸¤è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´å‹å…ƒç´ ã€‚</p><pre class="line-numbers language-none"><code class="language-none">a[2][3] &#x3D; &#123; &#123;12, 13, 14&#125;, &#123;112, 113, 114&#125; &#125;å†…å­˜å¸ƒå±€: [12, 13, 14, 112, 113, 114]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>a[i]</code> æ˜¯æŒ‡å‘ç¬¬ <code>i</code> è¡Œï¼ˆå³ä¸€ç»´æ•°ç»„ï¼‰çš„æŒ‡é’ˆã€‚</li><li><code>a[i][j]</code> æ˜¯æŒ‡å‘ç¬¬ <code>i</code> è¡Œç¬¬ <code>j</code> åˆ—çš„å…·ä½“å…ƒç´ ã€‚</li></ul><hr><h4 id="2-å„æŒ‡é’ˆçš„å«ä¹‰"><a href="#2-å„æŒ‡é’ˆçš„å«ä¹‰" class="headerlink" title="2. å„æŒ‡é’ˆçš„å«ä¹‰"></a><strong>2. å„æŒ‡é’ˆçš„å«ä¹‰</strong></h4><div class="table-container"><table><thead><tr><th>è¡¨è¾¾å¼</th><th>å«ä¹‰</th><th>ç±»å‹</th></tr></thead><tbody><tr><td><code>a</code></td><td>äºŒç»´æ•°ç»„é¦–åœ°å€ï¼Œç­‰ä»·äº <code>&amp;a[0]</code></td><td><code>int (*)[3]</code></td></tr><tr><td><code>a[0]</code></td><td>ç¬¬ä¸€è¡Œé¦–åœ°å€ï¼Œç­‰ä»·äº <code>&amp;a[0][0]</code></td><td><code>int*</code></td></tr><tr><td><code>&amp;a[0]</code></td><td>ç¬¬ä¸€è¡Œçš„åœ°å€ï¼ˆæ•´ä½“çš„åœ°å€ï¼‰</td><td><code>int (*)[3]</code></td></tr><tr><td><code>&amp;a[0][0]</code></td><td>ç¬¬ä¸€è¡Œç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€</td><td><code>int*</code></td></tr><tr><td><code>&amp;a</code></td><td>æ•´ä¸ªäºŒç»´æ•°ç»„çš„åœ°å€</td><td><code>int (*)[2][3]</code></td></tr></tbody></table></div><hr><h4 id="3-æ­¥é•¿çš„åŒºåˆ«"><a href="#3-æ­¥é•¿çš„åŒºåˆ«" class="headerlink" title="3. æ­¥é•¿çš„åŒºåˆ«"></a><strong>3. æ­¥é•¿çš„åŒºåˆ«</strong></h4><ul><li><strong><code>a</code> æˆ– <code>&amp;a[0]</code> çš„æ­¥é•¿ï¼š</strong> <code>sizeof(a[0])</code>ï¼Œå³ä¸€è¡Œçš„å¤§å°ï¼Œç­‰äº <code>3 Ã— sizeof(int)</code>ã€‚</li><li><strong><code>a[0]</code> æˆ– <code>&amp;a[0][0]</code> çš„æ­¥é•¿ï¼š</strong> <code>sizeof(int)</code>ï¼Œå³å•ä¸ªå…ƒç´ çš„å¤§å°ã€‚</li><li><strong><code>&amp;a</code> çš„æ­¥é•¿ï¼š</strong> <code>sizeof(a)</code>ï¼Œå³æ•´ä¸ªäºŒç»´æ•°ç»„çš„å¤§å°ï¼Œç­‰äº <code>2 Ã— 3 Ã— sizeof(int)</code>ã€‚</li></ul><hr><h3 id="ä»£ç è§£æä¸è¾“å‡º"><a href="#ä»£ç è§£æä¸è¾“å‡º" class="headerlink" title="ä»£ç è§£æä¸è¾“å‡º"></a><strong>ä»£ç è§£æä¸è¾“å‡º</strong></h3><h4 id="1-ä½¿ç”¨-sizeof-æŸ¥çœ‹å¤§å°"><a href="#1-ä½¿ç”¨-sizeof-æŸ¥çœ‹å¤§å°" class="headerlink" title="1. ä½¿ç”¨ sizeof æŸ¥çœ‹å¤§å°"></a><strong>1. ä½¿ç”¨ <code>sizeof</code> æŸ¥çœ‹å¤§å°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// æ•´ä¸ªäºŒç»´æ•°ç»„çš„å¤§å°: 2 Ã— 3 Ã— sizeof(int) = 24ï¼ˆå‡è®¾ int æ˜¯ 4 å­—èŠ‚ï¼‰</span><span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¸€è¡Œçš„å¤§å°: 3 Ã— sizeof(int) = 12</span><span class="token function">sz</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å•ä¸ªå…ƒç´ çš„å¤§å°: sizeof(int) = 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">24124<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h4 id="2-å„æŒ‡é’ˆçš„åœ°å€è¾“å‡º"><a href="#2-å„æŒ‡é’ˆçš„åœ°å€è¾“å‡º" class="headerlink" title="2. å„æŒ‡é’ˆçš„åœ°å€è¾“å‡º"></a><strong>2. å„æŒ‡é’ˆçš„åœ°å€è¾“å‡º</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>          <span class="token comment">// ç­‰ä»·äº &amp;a[0]ï¼ŒæŒ‡å‘ç¬¬ä¸€è¡Œ</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">// ç­‰ä»·äº a</span>cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">// ç­‰ä»·äº &amp;a[0][0]ï¼ŒæŒ‡å‘ç¬¬ä¸€è¡Œé¦–å…ƒç´ </span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">// ç¬¬ä¸€è¡Œé¦–å…ƒç´ åœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">0x9ffdb4  &#x2F;&#x2F; æ•°ç»„é¦–åœ°å€0x9ffdb4  &#x2F;&#x2F; ç­‰ä»·äº &amp;a[0]0x9ffdb4  &#x2F;&#x2F; ç¬¬ä¸€è¡Œé¦–å…ƒç´ åœ°å€0x9ffdb4  &#x2F;&#x2F; ç¬¬ä¸€è¡Œé¦–å…ƒç´ åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><hr><h4 id="3-æ­¥é•¿åˆ†æ"><a href="#3-æ­¥é•¿åˆ†æ" class="headerlink" title="3. æ­¥é•¿åˆ†æ"></a><strong>3. æ­¥é•¿åˆ†æ</strong></h4><h5 id="1-a-å’Œ-amp-a-0-çš„æ­¥é•¿"><a href="#1-a-å’Œ-amp-a-0-çš„æ­¥é•¿" class="headerlink" title="(1) a å’Œ &amp;a[0] çš„æ­¥é•¿"></a><strong>(1) <code>a</code> å’Œ <code>&amp;a[0]</code> çš„æ­¥é•¿</strong></h5><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"&amp;a[0]:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>a + 1</code> æˆ– <code>&amp;a[0] + 1</code>ï¼šè·³è¿‡ä¸€è¡Œï¼Œæ­¥é•¿æ˜¯ <code>3 Ã— sizeof(int)</code>ã€‚</li></ul><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a: 0x9ffdb4 0x9ffdc0  &#x2F;&#x2F; æ­¥é•¿æ˜¯12å­—èŠ‚ï¼ˆä¸€è¡Œå¤§å°ï¼‰&amp;a[0]: 0x9ffdb4 0x9ffdc0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="2-a-0-å’Œ-amp-a-0-0-çš„æ­¥é•¿"><a href="#2-a-0-å’Œ-amp-a-0-0-çš„æ­¥é•¿" class="headerlink" title="(2) a[0] å’Œ &amp;a[0][0] çš„æ­¥é•¿"></a><strong>(2) <code>a[0]</code> å’Œ <code>&amp;a[0][0]</code> çš„æ­¥é•¿</strong></h5><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a[0]: "</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"&amp;a[0][0]: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>a[0] + 1</code> æˆ– <code>&amp;a[0][0] + 1</code>ï¼šè·³è¿‡ä¸€ä¸ªå…ƒç´ ï¼Œæ­¥é•¿æ˜¯ <code>sizeof(int)</code>ã€‚</li></ul><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a[0]: 0x9ffdb4 0x9ffdb8  &#x2F;&#x2F; æ­¥é•¿æ˜¯4å­—èŠ‚ï¼ˆä¸€ä¸ªintå¤§å°ï¼‰&amp;a[0][0]: 0x9ffdb4 0x9ffdb8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="3-amp-a-çš„æ­¥é•¿"><a href="#3-amp-a-çš„æ­¥é•¿" class="headerlink" title="(3) &amp;a çš„æ­¥é•¿"></a><strong>(3) <code>&amp;a</code> çš„æ­¥é•¿</strong></h5><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> <span class="token string">"&amp;a: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>&amp;a + 1</code>ï¼šè·³è¿‡æ•´ä¸ªäºŒç»´æ•°ç»„ï¼Œæ­¥é•¿æ˜¯ <code>sizeof(a)</code>ã€‚</li></ul><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">&amp;a: 0x9ffdb4 0x9ffdd8  &#x2F;&#x2F; æ­¥é•¿æ˜¯24å­—èŠ‚ï¼ˆæ•´ä¸ªæ•°ç»„å¤§å°ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h3 id="ä¸ä¸€ç»´æ•°ç»„çš„åŒºåˆ«"><a href="#ä¸ä¸€ç»´æ•°ç»„çš„åŒºåˆ«" class="headerlink" title="ä¸ä¸€ç»´æ•°ç»„çš„åŒºåˆ«"></a><strong>ä¸ä¸€ç»´æ•°ç»„çš„åŒºåˆ«</strong></h3><div class="table-container"><table><thead><tr><th>å±æ€§</th><th>ä¸€ç»´æ•°ç»„</th><th>äºŒç»´æ•°ç»„</th></tr></thead><tbody><tr><td>æ•°ç»„åç±»å‹</td><td><code>int*</code></td><td><code>int (*)[åˆ—æ•°]</code></td></tr><tr><td><code>a + 1</code> æ­¥é•¿</td><td>ä¸€ä¸ªå…ƒç´ å¤§å°</td><td>ä¸€è¡Œçš„å¤§å°</td></tr><tr><td><code>&amp;a + 1</code> æ­¥é•¿</td><td>æ•´ä¸ªæ•°ç»„å¤§å°</td><td>æ•´ä¸ªäºŒç»´æ•°ç»„çš„å¤§å°</td></tr><tr><td>è¡Œåœ°å€</td><td>ä¸é€‚ç”¨</td><td><code>&amp;a[è¡Œå·]</code> è¡¨ç¤ºè¡Œçš„æ•´ä½“åœ°å€</td></tr><tr><td>å…ƒç´ åœ°å€</td><td><code>&amp;a[ç´¢å¼•]</code></td><td><code>&amp;a[è¡Œå·][åˆ—å·]</code> è¡¨ç¤ºå…ƒç´ åœ°å€</td></tr></tbody></table></div><hr><h3 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h3><ol><li><strong>äºŒç»´æ•°ç»„çš„æ•°ç»„å</strong>ï¼š<code>a</code> æ˜¯æŒ‡å‘ç¬¬0è¡Œçš„æŒ‡é’ˆï¼Œç±»å‹ä¸º <code>int (*)[åˆ—æ•°]</code>ï¼Œæ­¥é•¿æ˜¯å•è¡Œå¤§å°ã€‚</li><li>è¡Œä¸å…ƒç´ çš„æŒ‡é’ˆï¼š<ul><li><code>a[i]</code> æ˜¯æŒ‡å‘ç¬¬ <code>i</code> è¡Œé¦–å…ƒç´ çš„æŒ‡é’ˆï¼Œç±»å‹ä¸º <code>int*</code>ã€‚</li><li><code>&amp;a[i]</code> æ˜¯ç¬¬ <code>i</code> è¡Œæ•´ä½“çš„åœ°å€ï¼Œç±»å‹ä¸º <code>int (*)[åˆ—æ•°]</code>ã€‚</li></ul></li><li>åœ°å€è¿ç®—æ­¥é•¿ï¼š<ul><li><code>a + 1</code> æˆ– <code>&amp;a[0] + 1</code> è·³è¿‡ä¸€è¡Œï¼Œæ­¥é•¿æ˜¯ <code>åˆ—æ•° Ã— å…ƒç´ å¤§å°</code>ã€‚</li><li><code>&amp;a + 1</code> è·³è¿‡æ•´ä¸ªäºŒç»´æ•°ç»„ï¼Œæ­¥é•¿æ˜¯ <code>è¡Œæ•° Ã— åˆ—æ•° Ã— å…ƒç´ å¤§å°</code>ã€‚</li></ul></li></ol><h2 id="æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°"><a href="#æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°" class="headerlink" title="æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°"></a>æŒ‡é’ˆä½œä¸ºå‡½æ•°çš„å‚æ•°</h2><p><a href="https://blog.csdn.net/ykm0722/article/details/7031387">https://blog.csdn.net/ykm0722/article/details/7031387</a></p><p>ä½¿ç”¨swapï¼ˆäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼‰ä½œä¸ºæ¼”ç¤ºï¼Œå®ç°Swapçš„å››ç§æ–¹æ³•ã€‚å½“æ•°ç»„åä½œä¸º<strong>å‡½æ•°çš„å‚æ•°</strong>æ¥ä¼ é€’çš„æ—¶å€™ï¼Œä»–çš„é«˜è´µçš„æ•°ç»„ç»“æ„ç‰¹æ€§å·²ç»å¤±å»äº†ï¼Œæˆäº†ä¸€ä¸ªåœ°åœ°é“é“çš„åªæ‹¥æœ‰4ä¸ªå­—èŠ‚çš„å¹³æ°‘ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">SWAP</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> temp<span class="token punctuation">)</span> <span class="token punctuation">(</span>temp<span class="token operator">=</span>a<span class="token punctuation">,</span> a<span class="token operator">=</span>b<span class="token punctuation">,</span> b<span class="token operator">=</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> z<span class="token operator">=</span><span class="token operator">*</span>x<span class="token punctuation">;</span>  <span class="token operator">*</span>x<span class="token operator">=</span><span class="token operator">*</span>y<span class="token punctuation">;</span>  <span class="token operator">*</span>y<span class="token operator">=</span>z<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span>x<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>y<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>   <span class="token keyword">int</span> z<span class="token operator">=</span>x<span class="token punctuation">;</span>  x<span class="token operator">=</span>y<span class="token punctuation">;</span>  y<span class="token operator">=</span>z<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>T <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  T temp<span class="token operator">=</span>a<span class="token punctuation">;</span>  a<span class="token operator">=</span>b<span class="token punctuation">;</span>  b<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">float</span> a<span class="token operator">=</span><span class="token number">12.1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">13.2</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>b<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">// int c=a;</span>  <span class="token comment">// a=b;</span>  <span class="token comment">// b=c;</span>  <span class="token keyword">float</span> c<span class="token punctuation">;</span>  <span class="token function">Swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>b<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç å±•ç¤ºäº†<strong>ä½¿ç”¨æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°</strong>ä»¥åŠå¤šç§æ–¹å¼å®ç° <code>swap</code> å‡½æ•°çš„æœºåˆ¶å’Œç»†èŠ‚ã€‚ä»¥ä¸‹æ˜¯å¯¹ä»£ç å’Œç›¸å…³æ¦‚å¿µçš„è¯¦ç»†è§£æã€‚</p><hr><h3 id="1-å¤šç§å®ç°-swap-çš„æ–¹å¼"><a href="#1-å¤šç§å®ç°-swap-çš„æ–¹å¼" class="headerlink" title="1. å¤šç§å®ç° swap çš„æ–¹å¼"></a><strong>1. å¤šç§å®ç° <code>swap</code> çš„æ–¹å¼</strong></h3><h4 id="1-å®å®šä¹‰å®ç°"><a href="#1-å®å®šä¹‰å®ç°" class="headerlink" title="(1) å®å®šä¹‰å®ç°"></a><strong>(1) å®å®šä¹‰å®ç°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">SWAP</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> temp<span class="token punctuation">)</span> <span class="token punctuation">(</span>temp<span class="token operator">=</span>a<span class="token punctuation">,</span> a<span class="token operator">=</span>b<span class="token punctuation">,</span> b<span class="token operator">=</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ä½¿ç”¨ <strong>å®å®šä¹‰</strong> çš„æ–¹å¼å®ç°å˜é‡äº¤æ¢ã€‚</li><li>ä¼˜ç‚¹ï¼šä»£ç ç®€å•ç›´è§‚ã€‚</li><li>ç¼ºç‚¹ï¼š<ul><li><strong>ç¼ºä¹ç±»å‹å®‰å…¨æ€§</strong>ï¼šæ²¡æœ‰æ£€æŸ¥å‚æ•°ç±»å‹ï¼Œä¸€æ—¦ä¼ é€’å¤æ‚ç±»å‹å¯èƒ½å‡ºé”™ã€‚</li><li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šå®æ›¿æ¢å‘ç”Ÿåœ¨é¢„å¤„ç†é˜¶æ®µï¼Œå®¹æ˜“å¯¼è‡´è°ƒè¯•ä¸ä¾¿ã€‚</li></ul></li></ul><p>ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">float</span> a <span class="token operator">=</span> <span class="token number">12.1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">13.2</span><span class="token punctuation">,</span> temp<span class="token punctuation">;</span><span class="token function">SWAP</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h4 id="2-ä½¿ç”¨æŒ‡é’ˆå‚æ•°"><a href="#2-ä½¿ç”¨æŒ‡é’ˆå‚æ•°" class="headerlink" title="(2) ä½¿ç”¨æŒ‡é’ˆå‚æ•°"></a><strong>(2) ä½¿ç”¨æŒ‡é’ˆå‚æ•°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> z <span class="token operator">=</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>  <span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">;</span>  <span class="token operator">*</span>y <span class="token operator">=</span> z<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é€šè¿‡æŒ‡é’ˆä¼ é€’å˜é‡åœ°å€ï¼Œå®ç°å€¼äº¤æ¢ã€‚</li><li>ä¼˜ç‚¹ï¼šå‡½æ•°å¯ä»¥ç›´æ¥æ“ä½œå®å‚çš„å€¼ï¼Œè€Œéå‰¯æœ¬ã€‚</li><li>ç¼ºç‚¹ï¼šè°ƒç”¨æ—¶éœ€è¦ä¼ é€’åœ°å€ï¼Œä½¿ç”¨ç¨æ˜¾ç¹çã€‚</li></ul><p>è°ƒç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h4 id="3-ä½¿ç”¨å¼•ç”¨å‚æ•°"><a href="#3-ä½¿ç”¨å¼•ç”¨å‚æ•°" class="headerlink" title="(3) ä½¿ç”¨å¼•ç”¨å‚æ•°"></a><strong>(3) ä½¿ç”¨å¼•ç”¨å‚æ•°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> z <span class="token operator">=</span> x<span class="token punctuation">;</span>  x <span class="token operator">=</span> y<span class="token punctuation">;</span>  y <span class="token operator">=</span> z<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é€šè¿‡ <strong>å¼•ç”¨ä¼ é€’</strong>ï¼Œå®ç°å€¼äº¤æ¢ã€‚</li><li>ä¼˜ç‚¹ï¼š<ul><li>ä»£ç æ›´ç®€æ´ï¼Œè°ƒç”¨æ–¹å¼ä¸å€¼ä¼ é€’ç±»ä¼¼ï¼ˆä¸éœ€è¦æ˜¾å¼å–åœ°å€ï¼‰ã€‚</li><li>ä¸éœ€è¦é¢å¤–çš„è§£å¼•ç”¨æ“ä½œï¼Œæ€§èƒ½ç•¥ä¼˜ã€‚</li></ul></li><li>ç¼ºç‚¹ï¼šä¸æ”¯æŒå¼•ç”¨å¸¸é‡æˆ–æ•°ç»„ã€‚</li></ul><p>è°ƒç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">func1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h4 id="4-ä½¿ç”¨æ¨¡æ¿"><a href="#4-ä½¿ç”¨æ¨¡æ¿" class="headerlink" title="(4) ä½¿ç”¨æ¨¡æ¿"></a><strong>(4) ä½¿ç”¨æ¨¡æ¿</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span>T <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> T <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  T temp <span class="token operator">=</span> a<span class="token punctuation">;</span>  a <span class="token operator">=</span> b<span class="token punctuation">;</span>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ä½¿ç”¨ <strong>C++æ¨¡æ¿</strong> æ³›åŒ– <code>swap</code> å‡½æ•°ï¼Œæ”¯æŒå¤šç§æ•°æ®ç±»å‹ã€‚</li><li>ä¼˜ç‚¹ï¼š<ul><li>ä»£ç å¤ç”¨æ€§å¼ºï¼Œé€‚ç”¨äºä»»ä½•æ”¯æŒèµ‹å€¼æ“ä½œçš„ç±»å‹ï¼ˆå¦‚æ•´å‹ã€æµ®ç‚¹å‹ã€ç±»å¯¹è±¡ç­‰ï¼‰ã€‚</li><li>ç±»å‹å®‰å…¨ã€‚</li></ul></li><li>ç¼ºç‚¹ï¼šç•¥å¢åŠ ç¼–è¯‘æ—¶é—´ã€‚</li></ul><p>è°ƒç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">float</span> a <span class="token operator">=</span> <span class="token number">12.1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">13.2</span><span class="token punctuation">;</span><span class="token function">Swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h3 id="2-ç‰¹æ®Šç‚¹ï¼šæ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°"><a href="#2-ç‰¹æ®Šç‚¹ï¼šæ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="2. ç‰¹æ®Šç‚¹ï¼šæ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°"></a><strong>2. ç‰¹æ®Šç‚¹ï¼šæ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°</strong></h3><p>åœ¨ C++ ä¸­ï¼Œ<strong>æ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’æ—¶ï¼Œä¼šé€€åŒ–ä¸ºæŒ‡é’ˆ</strong>ã€‚ä»¥ä¸‹æ˜¯å…·ä½“è¡¨ç°ï¼š</p><h4 id="æ•°ç»„åçš„ç‰¹æ€§"><a href="#æ•°ç»„åçš„ç‰¹æ€§" class="headerlink" title="æ•°ç»„åçš„ç‰¹æ€§"></a><strong>æ•°ç»„åçš„ç‰¹æ€§</strong></h4><ol><li><strong>æ•°ç»„åæœ¬è´¨</strong>ï¼šæ•°ç»„åæ˜¯æ•°ç»„é¦–å…ƒç´ çš„åœ°å€ï¼Œä½†å®ƒä¿ç•™äº†æ•°ç»„çš„æ•´ä½“å¤§å°ä¿¡æ¯ã€‚</li><li><strong>ä¼ é€’åˆ°å‡½æ•°ä¸­</strong>ï¼šå½“æ•°ç»„åä½œä¸ºå‚æ•°æ—¶ï¼Œå®ƒé€€åŒ–ä¸ºæ™®é€šæŒ‡é’ˆï¼Œæ•°ç»„å¤§å°ä¿¡æ¯ä¸¢å¤±ã€‚</li></ol><h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a><strong>ç¤ºä¾‹ä»£ç </strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">processArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºæŒ‡é’ˆå¤§å°</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºæ•°ç»„å¤§å° (40)</span>  <span class="token function">processArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// æ•°ç»„é€€åŒ–ä¸ºæŒ‡é’ˆ (4æˆ–8)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a><strong>è¾“å‡º</strong></h4><pre class="line-numbers language-none"><code class="language-none">40    &#x2F;&#x2F; æ•°ç»„å®é™…å¤§å°ï¼š10 Ã— sizeof(int)4     &#x2F;&#x2F; æŒ‡é’ˆå¤§å°ï¼ˆ32ä½ç³»ç»Ÿï¼‰æˆ– 8ï¼ˆ64ä½ç³»ç»Ÿï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a><strong>ç»“è®º</strong></h4><ul><li>åœ¨å‡½æ•°å†…æ— æ³•é€šè¿‡ <code>sizeof</code> è·å–æ•°ç»„çš„é•¿åº¦ã€‚</li><li>å¦‚æœéœ€è¦æ•°ç»„é•¿åº¦ï¼Œé€šå¸¸éœ€è¦æ˜¾å¼ä¼ é€’æ•°ç»„å¤§å°ä½œä¸ºå‚æ•°ã€‚</li></ul><hr><h3 id="3-ä»£ç è§£æä¸è¾“å‡º"><a href="#3-ä»£ç è§£æä¸è¾“å‡º" class="headerlink" title="3. ä»£ç è§£æä¸è¾“å‡º"></a><strong>3. ä»£ç è§£æä¸è¾“å‡º</strong></h3><h4 id="1-å®äº¤æ¢-SWAP"><a href="#1-å®äº¤æ¢-SWAP" class="headerlink" title="(1) å®äº¤æ¢ SWAP"></a><strong>(1) å®äº¤æ¢ <code>SWAP</code></strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">float</span> a <span class="token operator">=</span> <span class="token number">12.1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">13.2</span><span class="token punctuation">,</span> temp<span class="token punctuation">;</span><span class="token function">SWAP</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">13.2 12.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h4 id="2-æŒ‡é’ˆä¼ é€’"><a href="#2-æŒ‡é’ˆä¼ é€’" class="headerlink" title="(2) æŒ‡é’ˆä¼ é€’"></a><strong>(2) æŒ‡é’ˆä¼ é€’</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">10 5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h4 id="3-å¼•ç”¨ä¼ é€’"><a href="#3-å¼•ç”¨ä¼ é€’" class="headerlink" title="(3) å¼•ç”¨ä¼ é€’"></a><strong>(3) å¼•ç”¨ä¼ é€’</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token function">func1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">10 5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h4 id="4-æ¨¡æ¿å‡½æ•°"><a href="#4-æ¨¡æ¿å‡½æ•°" class="headerlink" title="(4) æ¨¡æ¿å‡½æ•°"></a><strong>(4) æ¨¡æ¿å‡½æ•°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">float</span> a <span class="token operator">=</span> <span class="token number">12.1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">13.2</span><span class="token punctuation">;</span><span class="token function">Swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">13.2 12.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h3 id="æ€»ç»“-3"><a href="#æ€»ç»“-3" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h3><ol><li><strong>å®å®šä¹‰</strong>ï¼šä»£ç ç®€å•ï¼Œä½†ç¼ºä¹ç±»å‹å®‰å…¨ï¼Œä¸æ¨èã€‚</li><li><strong>æŒ‡é’ˆä¼ é€’</strong>ï¼šæ˜¾å¼æ“ä½œåœ°å€ï¼Œé€‚åˆ C é£æ ¼ä»£ç ã€‚</li><li><strong>å¼•ç”¨ä¼ é€’</strong>ï¼šä»£ç æ›´ç°ä»£åŒ–ï¼Œæ¨èä½¿ç”¨ã€‚</li><li><strong>æ¨¡æ¿</strong>ï¼šæ”¯æŒæ³›å‹äº¤æ¢ï¼Œé€‚ç”¨äºå¤æ‚ç±»å‹ï¼Œæ˜¯æœ€é€šç”¨çš„æ–¹å¼ã€‚</li></ol><p>é€šè¿‡è¿™äº›å®ç°æ–¹å¼ï¼Œå¯ä»¥çµæ´»é€‰æ‹©é€‚åˆéœ€æ±‚çš„æ–¹æ¡ˆï¼ŒåŒæ—¶ç†è§£æ•°ç»„åœ¨å‡½æ•°å‚æ•°ä¸­é€€åŒ–ä¸ºæŒ‡é’ˆçš„è¡Œä¸ºï¼Œæœ‰åŠ©äºå†™å‡ºæ›´æ¸…æ™°ã€å¯é çš„ä»£ç ã€‚</p><h2 id="æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"><a href="#æŒ‡é’ˆä½œä¸ºè¿”å›å€¼" class="headerlink" title="æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"></a>æŒ‡é’ˆä½œä¸ºè¿”å›å€¼</h2><p>è¦ä½œä¸ºè¿”å›å€¼ï¼Œå¿…é¡»ä¿è¯è°ƒç”¨åè¿”å›çš„æŒ‡é’ˆä¸ä¼šé”€æ¯ï¼Œå¦åˆ™å°±æ˜¯é‡æŒ‡é’ˆã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å…¨å±€æ•°ç»„ï¼Œè‡ªåŠ¨åˆå§‹åŒ–ä¸º0</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å…¨å±€å˜é‡çš„åœ°å€</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// å±€éƒ¨å˜é‡</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç ä¸»è¦å±•ç¤ºäº†<strong>æŒ‡é’ˆä½œä¸ºå‡½æ•°è¿”å›å€¼</strong>çš„æœºåˆ¶ï¼Œå¹¶ä¸”æåˆ°äº†ä¸€ä¸ªéå¸¸å…³é”®çš„é—®é¢˜â€”â€”<strong>è¿”å›æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æã€‚</p><hr><h3 id="1-æŒ‡é’ˆä½œä¸ºè¿”å›å€¼çš„å…³é”®ç‚¹"><a href="#1-æŒ‡é’ˆä½œä¸ºè¿”å›å€¼çš„å…³é”®ç‚¹" class="headerlink" title="1. æŒ‡é’ˆä½œä¸ºè¿”å›å€¼çš„å…³é”®ç‚¹"></a><strong>1. æŒ‡é’ˆä½œä¸ºè¿”å›å€¼çš„å…³é”®ç‚¹</strong></h3><ul><li><strong>æŒ‡é’ˆè¿”å›å€¼</strong>æ˜¯å‡½æ•°è¿”å›ä¸€ä¸ªåœ°å€ï¼Œè°ƒç”¨è€…å¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®å­˜å‚¨åœ¨è¯¥ä½ç½®çš„å€¼ã€‚</li><li><strong>å®‰å…¨æ€§é—®é¢˜</strong>ï¼šå¦‚æœè¿”å›çš„æŒ‡é’ˆæŒ‡å‘äº†å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œåˆ™åœ¨å‡½æ•°è¿”å›åï¼Œè¯¥å±€éƒ¨å˜é‡ä¼šè¢«é”€æ¯ï¼Œå¯¼è‡´æŒ‡é’ˆæˆä¸º<strong>é‡æŒ‡é’ˆ</strong>ï¼Œå¯èƒ½å¼•å‘ä¸å¯é¢„æœŸçš„é”™è¯¯ã€‚</li></ul><hr><h3 id="2-ç¤ºä¾‹ä»£ç è§£æ"><a href="#2-ç¤ºä¾‹ä»£ç è§£æ" class="headerlink" title="2. ç¤ºä¾‹ä»£ç è§£æ"></a><strong>2. ç¤ºä¾‹ä»£ç è§£æ</strong></h3><h4 id="2-1-å…¨å±€æ•°ç»„çš„ç‰¹ç‚¹"><a href="#2-1-å…¨å±€æ•°ç»„çš„ç‰¹ç‚¹" class="headerlink" title="2.1 å…¨å±€æ•°ç»„çš„ç‰¹ç‚¹"></a>2.1 å…¨å±€æ•°ç»„çš„ç‰¹ç‚¹</h4><ol><li><strong>å…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</strong><ul><li>å…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªç¨‹åºè¿è¡Œå‘¨æœŸï¼Œç›´åˆ°ç¨‹åºç»“æŸæ‰ä¼šè¢«é”€æ¯ã€‚</li><li>å› æ­¤è¿”å›å…¨å±€å˜é‡çš„åœ°å€æ˜¯å®‰å…¨çš„ï¼Œä¸ä¼šå‡ºç°é‡æŒ‡é’ˆã€‚</li></ul></li><li><strong>å…¨å±€æ•°ç»„çš„åˆå§‹åŒ–</strong><ul><li>å¦‚æœæ²¡æœ‰æ˜¾å¼èµ‹å€¼ï¼Œå…¨å±€æ•°ç»„ä¸­çš„å…ƒç´ ä¼šè¢«åˆå§‹åŒ–ä¸º <code>0</code>ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li>è¿™é‡Œ <code>int a[3] = &#123;0, 0, 0&#125;</code>ã€‚</li></ul></li></ol><hr><h4 id="2-2-å‡½æ•°-func-çš„è¿”å›å€¼"><a href="#2-2-å‡½æ•°-func-çš„è¿”å›å€¼" class="headerlink" title="2.2 å‡½æ•° func() çš„è¿”å›å€¼"></a><strong>2.2 å‡½æ•° <code>func()</code> çš„è¿”å›å€¼</strong></h4><ul><li><code>func()</code> è¿”å›å…¨å±€æ•°ç»„ <code>a</code> çš„é¦–åœ°å€ã€‚</li><li>åœ¨ä¸»å‡½æ•° <code>main()</code> ä¸­ï¼Œé€šè¿‡ <code>func()</code> å¯ä»¥è®¿é—®å…¨å±€æ•°ç»„çš„å†…å®¹ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼šè¿”å›å…¨å±€æ•°ç»„çš„åœ°å€æ˜¯å®‰å…¨çš„ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šå¦‚æœå¤šä¸ªåœ°æ–¹ä¿®æ”¹äº†åŒä¸€å…¨å±€å˜é‡ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸å¯é¢„æµ‹ã€‚</li></ul><hr><h4 id="2-3-å±€éƒ¨å˜é‡ä½œä¸ºè¿”å›å€¼çš„é£é™©"><a href="#2-3-å±€éƒ¨å˜é‡ä½œä¸ºè¿”å›å€¼çš„é£é™©" class="headerlink" title="2.3 å±€éƒ¨å˜é‡ä½œä¸ºè¿”å›å€¼çš„é£é™©"></a><strong>2.3 å±€éƒ¨å˜é‡ä½œä¸ºè¿”å›å€¼çš„é£é™©</strong></h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåé¢ä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">unsafeFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> localVar <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// å±€éƒ¨å˜é‡</span>  <span class="token keyword">return</span> <span class="token operator">&amp;</span>localVar<span class="token punctuation">;</span>  <span class="token comment">// è¿”å›å±€éƒ¨å˜é‡åœ°å€</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨æ—¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">unsafeFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// æœªå®šä¹‰è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>é—®é¢˜ï¼š<ul><li><code>localVar</code> æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ï¼Œå®ƒä¼šè¢«é”€æ¯ã€‚</li><li>è¿”å›çš„åœ°å€æŒ‡å‘ä¸€ä¸ªå·²ç»è¢«é‡Šæ”¾çš„å†…å­˜åŒºåŸŸï¼Œç»“æœæ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚</li></ul></li></ul><hr><h4 id="2-4-å…¨å±€å˜é‡çš„å®‰å…¨è¿”å›"><a href="#2-4-å…¨å±€å˜é‡çš„å®‰å…¨è¿”å›" class="headerlink" title="2.4 å…¨å±€å˜é‡çš„å®‰å…¨è¿”å›"></a><strong>2.4 å…¨å±€å˜é‡çš„å®‰å…¨è¿”å›</strong></h4><p>ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>å®‰å…¨æ€§ï¼šè¿”å›çš„æ˜¯å…¨å±€æ•°ç»„çš„åœ°å€ï¼Œä¸ä¼šæœ‰ç”Ÿå‘½å‘¨æœŸé—®é¢˜ã€‚</li><li>æ•°æ®è®¿é—®ï¼š<ul><li><code>func()[0]</code> ç­‰ä»·äºè®¿é—®å…¨å±€æ•°ç»„ <code>a[0]</code>ã€‚</li><li>é»˜è®¤å€¼ <code>0</code> ä¼šè¢«è¾“å‡ºã€‚</li></ul></li></ul><hr><h3 id="3-è¾“å‡ºç»“æœ"><a href="#3-è¾“å‡ºç»“æœ" class="headerlink" title="3. è¾“å‡ºç»“æœ"></a><strong>3. è¾“å‡ºç»“æœ</strong></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å…¨å±€æ•°ç»„ï¼Œåˆå§‹åŒ–ä¸º &#123;0, 0, 0&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre class="line-numbers language-none"><code class="language-none">0 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h3 id="4-å¸¸è§åœºæ™¯åŠå»ºè®®"><a href="#4-å¸¸è§åœºæ™¯åŠå»ºè®®" class="headerlink" title="4. å¸¸è§åœºæ™¯åŠå»ºè®®"></a><strong>4. å¸¸è§åœºæ™¯åŠå»ºè®®</strong></h3><h4 id="4-1-è¿”å›å…¨å±€å˜é‡æŒ‡é’ˆ"><a href="#4-1-è¿”å›å…¨å±€å˜é‡æŒ‡é’ˆ" class="headerlink" title="4.1 è¿”å›å…¨å±€å˜é‡æŒ‡é’ˆ"></a><strong>4.1 è¿”å›å…¨å±€å˜é‡æŒ‡é’ˆ</strong></h4><p>é€‚ç”¨åœºæ™¯ï¼š</p><ul><li>éœ€è¦å‡½æ•°è¿”å›ä¸€ä¸ªå…±äº«çš„å…¨å±€æ•°æ®ç»“æ„ã€‚</li><li>ç¡®ä¿æ‰€æœ‰è®¿é—®ç‚¹éƒ½ä½¿ç”¨ç›¸åŒçš„å…¨å±€æ•°æ®ã€‚</li></ul><p>æ³¨æ„ï¼š</p><ul><li>å…¨å±€å˜é‡çš„ä½¿ç”¨éœ€è¦å°å¿ƒï¼Œå®¹æ˜“å¯¼è‡´ä»£ç è€¦åˆé«˜ã€å¯ç»´æŠ¤æ€§ä½ã€‚</li></ul><hr><h4 id="4-2-è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜"><a href="#4-2-è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜" class="headerlink" title="4.2 è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜"></a><strong>4.2 è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜</strong></h4><p>å¦‚æœéœ€è¦å‡½æ•°åŠ¨æ€ç”Ÿæˆæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€åˆ†é…ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// åŠ¨æ€åˆ†é…æ•°ç»„</span>  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>                     <span class="token comment">// è¿”å›æ•°ç»„é¦–åœ°å€</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨å®Œæ¯•é‡Šæ”¾å†…å­˜</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>æ•°æ®ç‹¬ç«‹äºå‡½æ•°æ ˆå¸§ï¼Œç”Ÿå‘½å‘¨æœŸå¯æ§ã€‚</li><li>çµæ´»æ€§é«˜ï¼Œå¯åœ¨å †ä¸Šå­˜å‚¨å¤§æ•°æ®ã€‚</li></ul><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>è°ƒç”¨è€…è´Ÿè´£é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li></ul><hr><h4 id="4-3-è¿”å›å±€éƒ¨é™æ€å˜é‡çš„æŒ‡é’ˆ"><a href="#4-3-è¿”å›å±€éƒ¨é™æ€å˜é‡çš„æŒ‡é’ˆ" class="headerlink" title="4.3 è¿”å›å±€éƒ¨é™æ€å˜é‡çš„æŒ‡é’ˆ"></a><strong>4.3 è¿”å›å±€éƒ¨é™æ€å˜é‡çš„æŒ‡é’ˆ</strong></h4><p>é™æ€å˜é‡å…·æœ‰å…¨å±€ç”Ÿå‘½å‘¨æœŸï¼Œä½†ä½œç”¨åŸŸå—é™äºå®šä¹‰æ‰€åœ¨çš„å‡½æ•°ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">static</span> <span class="token keyword">int</span> localStaticVar <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token operator">&amp;</span>localStaticVar<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å±€éƒ¨é™æ€å˜é‡åœ°å€</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// å®‰å…¨è®¿é—®</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>é™æ€å˜é‡ä¸ä¼šè¢«é”€æ¯ï¼Œè¿”å›åœ°å€æ˜¯å®‰å…¨çš„ã€‚</li><li>é¿å…äº†å…¨å±€å˜é‡çš„æ±¡æŸ“ã€‚</li></ul><hr><h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a><strong>5. æ€»ç»“</strong></h3><ol><li><strong>è¿”å›å€¼ç±»å‹åˆ†æ</strong>ï¼š<ul><li><strong>å…¨å±€å˜é‡</strong>ï¼šå®‰å…¨ï¼Œä½†å¯èƒ½å¼•å…¥å…¨å±€çŠ¶æ€é—®é¢˜ã€‚</li><li><strong>å±€éƒ¨å˜é‡</strong>ï¼šå±é™©ï¼Œå®¹æ˜“å¯¼è‡´é‡æŒ‡é’ˆã€‚</li><li><strong>åŠ¨æ€åˆ†é…å†…å­˜</strong>ï¼šå®‰å…¨ï¼Œä½†éœ€æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚</li><li><strong>é™æ€å˜é‡</strong>ï¼šå®‰å…¨ï¼Œä½†éœ€æ³¨æ„å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li></ul></li><li><strong>å»ºè®®</strong>ï¼š<ul><li>å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡ã€‚</li><li>ä¼˜å…ˆè€ƒè™‘è¿”å›åŠ¨æ€åˆ†é…çš„å†…å­˜æˆ–å±€éƒ¨é™æ€å˜é‡ã€‚</li><li>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œéœ€æ³¨æ„åŒæ­¥è®¿é—®é—®é¢˜ã€‚</li></ul></li></ol><p>é€šè¿‡ç†è§£æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸï¼Œèƒ½æ›´å¥½åœ°å†™å‡ºå¥å£®å’Œé«˜æ•ˆçš„ä»£ç ã€‚</p><h2 id="å­—ç¬¦æ•°ç»„æŒ‡é’ˆ"><a href="#å­—ç¬¦æ•°ç»„æŒ‡é’ˆ" class="headerlink" title="å­—ç¬¦æ•°ç»„æŒ‡é’ˆ"></a>å­—ç¬¦æ•°ç»„æŒ‡é’ˆ</h2><p>1ã€strå’Œpæ˜¯ä¸ç›¸åŒçš„ï¼ï¼</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"ab"</span><span class="token punctuation">;</span>  <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span>str<span class="token punctuation">;</span><span class="token comment">//æ­¤å¤„å¯ä»¥ä¿®æ”¹strï¼Œå› ä¸ºstråªæ˜¯å­—ç¬¦æ•°ç»„ï¼ˆä½¿ç”¨äº†å­—ç¬¦ä¸²å­—é¢é‡æ¥åˆå§‹åŒ–strï¼‰ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¸¸é‡</span>  size_t length <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é‡åˆ°'\0'æ‰ä¼šåœæ­¢è®¡æ•°</span>  <span class="token comment">// ä¾‹å¦‚ char a[3]=&#123;'a', 'b', 'c'&#125;, ä½¿ç”¨strlenåçš„é•¿åº¦ä¸æ˜¯3!!!</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c-%s-%ld-%ld\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> str<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// sizeof(str) è¿”å›çš„æ˜¯æ•°ç»„å ç”¨çš„å†…å­˜å¤§å°ï¼Œè€Œ strlen(str) è¿”å›çš„æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c-%s-%ld-%ld\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// sizeof(p) è¿”å›çš„æ˜¯intå‹æŒ‡é’ˆå ç”¨çš„å†…å­˜å¤§å°ï¼Œè€Œ strlen(p) è¿”å›çš„æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</span>  <span class="token operator">*</span>p<span class="token operator">=</span><span class="token char">'A'</span><span class="token punctuation">;</span>  <span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token char">'B'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>str<span class="token operator">&lt;&lt;</span><span class="token operator">*</span><span class="token punctuation">(</span>str<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ã€æ­¤å¤„ä¼šæœ‰ä¸€ä¸ªwarningï¼Œå› ä¸ºâ€œabâ€æ˜¯å­˜å‚¨åœ¨å¸¸é‡åŒºåŸŸçš„ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦ä½¿ç”¨constæ¥ç”³æ˜</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token string">"ab"</span><span class="token punctuation">;</span><span class="token comment">// å…ˆåœ¨å¸¸é‡åŒºä¿å­˜å¥½"ab"ï¼Œç„¶ååœ¨æ ˆåŒºå»ºç«‹ä¸€ä¸ªchar *</span>  <span class="token comment">//   const char *p="ab";</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c-%s-%ld-%ld\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// sizeof(p) è¿”å›çš„æ˜¯intå‹æŒ‡é’ˆå ç”¨çš„å†…å­˜å¤§å°ï¼Œè€Œ strlen(p) è¿”å›çš„æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</span>  <span class="token operator">*</span>p<span class="token operator">=</span><span class="token char">'A'</span><span class="token punctuation">;</span>  <span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token char">'B'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p<span class="token operator">&lt;&lt;</span><span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3ã€æ­¤å¤„ä¼šæ˜¾ç¤ºerror: assignment of read-only location â€˜* pâ€™</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token string">"ab"</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c-%s-%ld-%ld\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// sizeof(p) è¿”å›çš„æ˜¯intå‹æŒ‡é’ˆå ç”¨çš„å†…å­˜å¤§å°ï¼Œè€Œ strlen(p) è¿”å›çš„æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</span>  <span class="token operator">*</span>p<span class="token operator">=</span><span class="token char">'A'</span><span class="token punctuation">;</span>  <span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token char">'B'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p<span class="token operator">&lt;&lt;</span><span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>4ã€å­—ç¬¦æ•°ç»„æŒ‡é’ˆçš„åˆå§‹åŒ–</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> a<span class="token operator">=</span><span class="token char">'a'</span><span class="token punctuation">;</span>  <span class="token keyword">char</span> b<span class="token operator">=</span><span class="token char">'b'</span><span class="token punctuation">;</span>  <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  <span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p--%c--%c\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p--%c--%c\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> c<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">*</span>c<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>c<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">char</span> <span class="token operator">*</span>p2<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> p<span class="token punctuation">,</span> c<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p--%c\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">*</span>p2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°æŒ‡é’ˆ"><a href="#å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="å‡½æ•°æŒ‡é’ˆ"></a>å‡½æ•°æŒ‡é’ˆ</h2><p>ä¸»è¦è¦æŠŠæŒ‡é’ˆæ‹¬èµ·æ¥</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"func"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">123</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ— å‚</span>  <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&amp;</span>func<span class="token punctuation">;</span><span class="token comment">//è¦ä¸è¦&amp;ï¼Œéƒ½å¯</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p\n"</span><span class="token punctuation">,</span> func<span class="token punctuation">,</span> pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å¸¦å‚</span>  <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc1<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&amp;</span>add<span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p\n"</span><span class="token punctuation">,</span> add<span class="token punctuation">,</span> pFunc1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°æŒ‡é’ˆæ•°ç»„"><a href="#å‡½æ•°æŒ‡é’ˆæ•°ç»„" class="headerlink" title="å‡½æ•°æŒ‡é’ˆæ•°ç»„"></a>å‡½æ•°æŒ‡é’ˆæ•°ç»„</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"func"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">div11</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token operator">/</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token operator">=</span><span class="token operator">&amp;</span>a<span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p--%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">&#123;</span>add<span class="token punctuation">,</span> sub<span class="token punctuation">,</span> mul<span class="token punctuation">,</span> div11<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°æŒ‡é’ˆæ·±åº¦è¾¨æ"><a href="#å‡½æ•°æŒ‡é’ˆæ·±åº¦è¾¨æ" class="headerlink" title="å‡½æ•°æŒ‡é’ˆæ·±åº¦è¾¨æ"></a>å‡½æ•°æŒ‡é’ˆæ·±åº¦è¾¨æ</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token string">"func"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&amp;</span>func<span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç è¯•å›¾å¯¹å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨è¿›è¡Œæ·±åº¦æ¢ç´¢ï¼Œå¹¶åˆ†æå„ç§å½¢å¼ä¸‹çš„æ‰“å°ç»“æœã€‚ç„¶è€Œï¼Œè¿™é‡Œæ¶‰åŠåˆ°ä¸€äº›è¯¯ç”¨å’Œæœªå®šä¹‰è¡Œä¸ºï¼Œä¸‹é¢æ˜¯è¯¦ç»†çš„è§£æã€‚</p><hr><h3 id="1-å‡½æ•°æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-å‡½æ•°æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. å‡½æ•°æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ"></a><strong>1. å‡½æ•°æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ</strong></h3><ul><li><p><strong>å‡½æ•°æŒ‡é’ˆ</strong>æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨å‡½æ•°çš„å…¥å£åœ°å€ã€‚</p></li><li><p>å®šä¹‰å‡½æ•°æŒ‡é’ˆçš„è¯­æ³•ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è¿”å›å€¼ç±»å‹ <span class="token punctuation">(</span><span class="token operator">*</span>æŒ‡é’ˆå<span class="token punctuation">)</span><span class="token punctuation">(</span>å‚æ•°åˆ—è¡¨<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰ä¸€ä¸ªè¿”å›å€¼ä¸ºvoidï¼Œå‚æ•°ä¸ºç©ºçš„å‡½æ•°æŒ‡é’ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><hr><h3 id="2-ç¤ºä¾‹ä»£ç è§£æ-1"><a href="#2-ç¤ºä¾‹ä»£ç è§£æ-1" class="headerlink" title="2. ç¤ºä¾‹ä»£ç è§£æ"></a><strong>2. ç¤ºä¾‹ä»£ç è§£æ</strong></h3><p>ä»£ç ç‰‡æ®µï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"func"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>func<span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// æ‰“å°å‡½æ•°æŒ‡é’ˆå˜é‡çš„åœ°å€</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// æ­£ç¡®è°ƒç”¨ï¼šå®é™…ä¸Šæ˜¯è°ƒç”¨äº†å‡½æ•°</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€ï¼ˆä¸ pFunc ç›¸åŒï¼‰</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€ï¼ˆä¸ &amp;func ç›¸åŒï¼‰</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="3-é€è¡Œè§£æä¸ç»“æœ"><a href="#3-é€è¡Œè§£æä¸ç»“æœ" class="headerlink" title="3. é€è¡Œè§£æä¸ç»“æœ"></a><strong>3. é€è¡Œè§£æä¸ç»“æœ</strong></h3><h4 id="3-1-ç¬¬ä¸€éƒ¨åˆ†ï¼špFunc-çš„æ‰“å°"><a href="#3-1-ç¬¬ä¸€éƒ¨åˆ†ï¼špFunc-çš„æ‰“å°" class="headerlink" title="3.1 ç¬¬ä¸€éƒ¨åˆ†ï¼špFunc çš„æ‰“å°"></a><strong>3.1 ç¬¬ä¸€éƒ¨åˆ†ï¼š<code>pFunc</code> çš„æ‰“å°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>func<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å°å‡½æ•°æŒ‡é’ˆå˜é‡ pFunc çš„åœ°å€</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡½æ•°è°ƒç”¨ï¼Œå®é™…è¾“å‡º "func"</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong><code>&amp;pFunc</code></strong>ï¼šæ‰“å°çš„æ˜¯æŒ‡é’ˆå˜é‡ <code>pFunc</code> çš„åœ°å€ï¼ˆä¸æ˜¯å‡½æ•°çš„åœ°å€ï¼‰ã€‚</p></li><li><p><strong><code>pFunc</code></strong>ï¼šæ‰“å°çš„æ˜¯å‡½æ•° <code>func</code> çš„å…¥å£åœ°å€ï¼Œå’Œ <code>&amp;func</code> ç›¸åŒã€‚</p></li><li><p><code>*pFunc</code></p><p>ï¼š</p><ul><li>å‡½æ•°æŒ‡é’ˆè§£å¼•ç”¨åå®é™…æ˜¯è°ƒç”¨è¯¥å‡½æ•°ï¼Œå³ä¼šè¾“å‡º <code>&quot;func&quot;</code>ï¼Œ<strong>ä½†ä¸èƒ½ä½¿ç”¨ <code>%p</code> æ‰“å°è¿”å›å€¼</strong>ã€‚</li><li><code>%p</code> æ˜¯æ‰“å°æŒ‡é’ˆåœ°å€ï¼Œè€Œå‡½æ•°è¿”å›å€¼ç±»å‹æ˜¯ <code>void</code>ï¼Œè¿™ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</li></ul></li><li><p><code>**pFunc</code> å’Œ <code>***pFunc</code></p><p>ï¼š</p><ul><li>è§£å¼•ç”¨æ¬¡æ•°è¶…å‡ºå‡½æ•°æŒ‡é’ˆçš„å®šä¹‰èŒƒå›´ï¼Œå±äºæœªå®šä¹‰è¡Œä¸ºã€‚</li></ul></li></ul><hr><h4 id="3-2-ç¬¬äºŒéƒ¨åˆ†ï¼šfunc-çš„æ‰“å°"><a href="#3-2-ç¬¬äºŒéƒ¨åˆ†ï¼šfunc-çš„æ‰“å°" class="headerlink" title="3.2 ç¬¬äºŒéƒ¨åˆ†ï¼šfunc çš„æ‰“å°"></a><strong>3.2 ç¬¬äºŒéƒ¨åˆ†ï¼š<code>func</code> çš„æ‰“å°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ‰“å°å‡½æ•°çš„å…¥å£åœ°å€</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šæœªå®šä¹‰è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong><code>&amp;func</code> å’Œ <code>func</code></strong>ï¼šå¯¹äºå‡½æ•°å <code>func</code>ï¼Œå®ƒæ—¢è¡¨ç¤ºå‡½æ•°å…¥å£åœ°å€ï¼Œä¹Ÿæ˜¯å‡½æ•°æŒ‡é’ˆå¸¸é‡ã€‚</p></li><li><p><code>*func</code>ã€<code>**func</code> å’Œ <code>***func</code></p><p>ï¼š</p><ul><li>å‡½æ•°åä¸èƒ½è¢«å¤šæ¬¡è§£å¼•ç”¨ï¼Œå°è¯•è¿™æ ·æ“ä½œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯æˆ–æœªå®šä¹‰è¡Œä¸ºã€‚</li></ul></li></ul><hr><h3 id="4-å‡½æ•°æŒ‡é’ˆçš„æ­£ç¡®ä½¿ç”¨æ–¹å¼"><a href="#4-å‡½æ•°æŒ‡é’ˆçš„æ­£ç¡®ä½¿ç”¨æ–¹å¼" class="headerlink" title="4. å‡½æ•°æŒ‡é’ˆçš„æ­£ç¡®ä½¿ç”¨æ–¹å¼"></a><strong>4. å‡½æ•°æŒ‡é’ˆçš„æ­£ç¡®ä½¿ç”¨æ–¹å¼</strong></h3><h4 id="4-1-ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°"><a href="#4-1-ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°" class="headerlink" title="4.1 ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°"></a><strong>4.1 ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"This is func"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> func<span class="token punctuation">;</span>  <span class="token comment">// å‡½æ•°æŒ‡é’ˆæŒ‡å‘å‡½æ•°</span>  <span class="token function">pFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</span>  <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// è§£å¼•ç”¨åè°ƒç”¨ï¼ˆç­‰ä»·äº pFunc()ï¼‰</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-2-å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°"><a href="#4-2-å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°" class="headerlink" title="4.2 å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°"></a><strong>4.2 å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°</span><span class="token keyword">int</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>operation<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token function">operation</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">calculate</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">// è¾“å‡º 8</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">calculate</span><span class="token punctuation">(</span>subtract<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 2</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-3-å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"><a href="#4-3-å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼" class="headerlink" title="4.3 å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"></a><strong>4.3 å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token function">getOperation</span><span class="token punctuation">(</span><span class="token keyword">bool</span> isAdd<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> isAdd <span class="token operator">?</span> add <span class="token operator">:</span> subtract<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å‡½æ•°æŒ‡é’ˆ</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>operation<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">getOperation</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› add</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                 <span class="token comment">// è¾“å‡º 8</span>  operation <span class="token operator">=</span> <span class="token function">getOperation</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› subtract</span>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 2</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="5-æ€»ç»“-1"><a href="#5-æ€»ç»“-1" class="headerlink" title="5. æ€»ç»“"></a><strong>5. æ€»ç»“</strong></h3><h4 id="5-1-å‡½æ•°æŒ‡é’ˆçš„ç‰¹æ€§"><a href="#5-1-å‡½æ•°æŒ‡é’ˆçš„ç‰¹æ€§" class="headerlink" title="5.1 å‡½æ•°æŒ‡é’ˆçš„ç‰¹æ€§"></a><strong>5.1 å‡½æ•°æŒ‡é’ˆçš„ç‰¹æ€§</strong></h4><ol><li>å‡½æ•°æŒ‡é’ˆå­˜å‚¨å‡½æ•°å…¥å£åœ°å€ï¼Œå¯ç”¨äºåŠ¨æ€è°ƒç”¨ã€‚</li><li>è§£å¼•ç”¨å‡½æ•°æŒ‡é’ˆåå¯ä»¥è°ƒç”¨å‡½æ•°ï¼Œä½†é¢å¤–å¤šæ¬¡è§£å¼•ç”¨æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚</li><li>å‡½æ•°åæœ¬èº«å¯ä»¥éšå¼è½¬æ¢ä¸ºå‡½æ•°æŒ‡é’ˆã€‚</li></ol><h4 id="5-2-æ‰“å°å‡½æ•°æŒ‡é’ˆ"><a href="#5-2-æ‰“å°å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="5.2 æ‰“å°å‡½æ•°æŒ‡é’ˆ"></a><strong>5.2 æ‰“å°å‡½æ•°æŒ‡é’ˆ</strong></h4><ul><li><code>%p</code> é€‚ç”¨äºæ‰“å°å‡½æ•°æŒ‡é’ˆåœ°å€æˆ–å‡½æ•°å…¥å£åœ°å€ã€‚</li><li>è§£å¼•ç”¨å‡½æ•°æŒ‡é’ˆåä¸èƒ½ç›´æ¥æ‰“å°ï¼Œè§£å¼•ç”¨ååº”è°ƒç”¨å‡½æ•°ã€‚</li></ul><h4 id="5-3-å‡½æ•°æŒ‡é’ˆçš„ç”¨æ³•"><a href="#5-3-å‡½æ•°æŒ‡é’ˆçš„ç”¨æ³•" class="headerlink" title="5.3 å‡½æ•°æŒ‡é’ˆçš„ç”¨æ³•"></a><strong>5.3 å‡½æ•°æŒ‡é’ˆçš„ç”¨æ³•</strong></h4><ul><li>å‡½æ•°æŒ‡é’ˆå¸¸ç”¨äºå›è°ƒæœºåˆ¶ã€åŠ¨æ€é€‰æ‹©æ“ä½œã€ç®€åŒ–ä»£ç ç»“æ„ã€‚</li><li>å°å¿ƒæœªå®šä¹‰è¡Œä¸ºï¼ˆå¦‚å¤šæ¬¡è§£å¼•ç”¨ã€è¿”å›å±€éƒ¨æŒ‡é’ˆç­‰ï¼‰ã€‚</li></ul><p>é€šè¿‡åˆç†ä½¿ç”¨å‡½æ•°æŒ‡é’ˆï¼Œå¯ä»¥æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><h2 id="ç»“æ„ä½“å†…å­˜å¯¹é½"><a href="#ç»“æ„ä½“å†…å­˜å¯¹é½" class="headerlink" title="ç»“æ„ä½“å†…å­˜å¯¹é½"></a>ç»“æ„ä½“å†…å­˜å¯¹é½</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">sz</span><span class="token expression"><span class="token punctuation">(</span>type<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span></span></span><span class="token keyword">struct</span> <span class="token class-name">stu</span><span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> c<span class="token punctuation">;</span>  <span class="token keyword">short</span> a<span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//8</span><span class="token keyword">struct</span> <span class="token class-name">stu1</span><span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> c<span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>  <span class="token keyword">short</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//12</span><span class="token keyword">struct</span> <span class="token class-name">stu2</span><span class="token punctuation">&#123;</span>  <span class="token keyword">double</span> a<span class="token punctuation">;</span>  <span class="token keyword">char</span> b<span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>c<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//16</span><span class="token keyword">struct</span> <span class="token class-name">stu3</span><span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> b<span class="token punctuation">;</span>  <span class="token keyword">double</span> a<span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token operator">*</span>c<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//24</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>stu1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>stu2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">sz</span><span class="token punctuation">(</span>stu3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»“æ„ä½“æŒ‡é’ˆ"><a href="#ç»“æ„ä½“æŒ‡é’ˆ" class="headerlink" title="ç»“æ„ä½“æŒ‡é’ˆ"></a>ç»“æ„ä½“æŒ‡é’ˆ</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Stu</span><span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">;</span>  <span class="token keyword">char</span> c<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  Stu s<span class="token punctuation">;</span>  s<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>  <span class="token function">strcpy</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>c<span class="token punctuation">,</span> <span class="token string">"121"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>a<span class="token operator">&lt;&lt;</span><span class="token string">"--"</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>c<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  Stu <span class="token operator">*</span>pStu<span class="token operator">=</span><span class="token punctuation">(</span>Stu <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  pStu<span class="token operator">-></span>a<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>  <span class="token function">strcpy</span><span class="token punctuation">(</span>pStu<span class="token operator">-></span>c<span class="token punctuation">,</span><span class="token string">"qwe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cout<span class="token operator">&lt;&lt;</span>pStu<span class="token operator">-></span>a<span class="token operator">&lt;&lt;</span><span class="token string">"---"</span><span class="token operator">&lt;&lt;</span>pStu<span class="token operator">-></span>c<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç æ¼”ç¤ºäº† <strong>ç»“æ„ä½“æŒ‡é’ˆçš„åŸºæœ¬ç”¨æ³•</strong>ï¼Œä»¥åŠé€šè¿‡ <code>malloc</code> åŠ¨æ€åˆ†é…å†…å­˜æ¥æ“ä½œç»“æ„ä½“çš„ä¸€ä¸ªå®ä¾‹ã€‚ä»¥ä¸‹æ˜¯ä»£ç çš„åˆ†æ­¥è§£æï¼š</p><hr><h3 id="1-ä»£ç è¿è¡ŒåŠè¾“å‡º"><a href="#1-ä»£ç è¿è¡ŒåŠè¾“å‡º" class="headerlink" title="1. ä»£ç è¿è¡ŒåŠè¾“å‡º"></a><strong>1. ä»£ç è¿è¡ŒåŠè¾“å‡º</strong></h3><h4 id="1-1-é™æ€åˆ†é…çš„ç»“æ„ä½“"><a href="#1-1-é™æ€åˆ†é…çš„ç»“æ„ä½“" class="headerlink" title="1.1 é™æ€åˆ†é…çš„ç»“æ„ä½“"></a><strong>1.1 é™æ€åˆ†é…çš„ç»“æ„ä½“</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Stu s<span class="token punctuation">;</span>s<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>c<span class="token punctuation">,</span> <span class="token string">"121"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> <span class="token string">"--"</span> <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong><code>Stu</code> ç»“æ„ä½“å†…å­˜å¸ƒå±€</strong>ï¼ˆå‡è®¾ 64 ä½ç³»ç»Ÿï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">int a       -&gt; 4 å­—èŠ‚char c[13]  -&gt; 13 å­—èŠ‚å¡«å……        -&gt; 3 å­—èŠ‚ï¼ˆä»¥æ»¡è¶³ 4 å­—èŠ‚å¯¹é½ï¼‰æ€»å¤§å°      -&gt; 20 å­—èŠ‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong><code>sizeof(s)</code> è¾“å‡º</strong>ï¼š<code>20</code>ï¼ˆæ€»å¤§å°åŒ…å«å¯¹é½åçš„å¡«å……å­—èŠ‚ï¼‰ã€‚</p></li><li><p><strong><code>s.a</code> å’Œ <code>s.c</code> çš„å€¼</strong>ï¼šåˆ†åˆ«ä¸º <code>12</code> å’Œå­—ç¬¦ä¸² <code>&quot;121&quot;</code>ã€‚</p></li></ul><h4 id="1-2-åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“"><a href="#1-2-åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“" class="headerlink" title="1.2 åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“"></a><strong>1.2 åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Stu <span class="token operator">*</span>pStu <span class="token operator">=</span> <span class="token punctuation">(</span>Stu <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pStu<span class="token operator">-></span>a <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>pStu<span class="token operator">-></span>c<span class="token punctuation">,</span> <span class="token string">"qwe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>a <span class="token operator">&lt;&lt;</span> <span class="token string">"---"</span> <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åŠ¨æ€åˆ†é…äº†å¤§å°ä¸º <code>sizeof(Stu)</code> çš„å†…å­˜å—ã€‚</li><li>ä½¿ç”¨ç®­å¤´æ“ä½œç¬¦ (<code>-&gt;</code>) å¯¹ç»“æ„ä½“çš„æˆå‘˜è¿›è¡Œèµ‹å€¼å’Œè®¿é—®ã€‚</li><li>è¾“å‡ºï¼š<code>11---qwe</code>ã€‚</li></ul><hr><h3 id="2-å…³é”®çŸ¥è¯†ç‚¹"><a href="#2-å…³é”®çŸ¥è¯†ç‚¹" class="headerlink" title="2. å…³é”®çŸ¥è¯†ç‚¹"></a><strong>2. å…³é”®çŸ¥è¯†ç‚¹</strong></h3><h4 id="2-1-ç»“æ„ä½“çš„é™æ€åˆ†é…"><a href="#2-1-ç»“æ„ä½“çš„é™æ€åˆ†é…" class="headerlink" title="2.1 ç»“æ„ä½“çš„é™æ€åˆ†é…"></a><strong>2.1 ç»“æ„ä½“çš„é™æ€åˆ†é…</strong></h4><ul><li>å®šä¹‰ <code>Stu s;</code> ä¼šåœ¨æ ˆä¸Šåˆ†é…å†…å­˜ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç”±å½“å‰ä½œç”¨åŸŸå†³å®šã€‚</li><li>é€šè¿‡ç‚¹æ“ä½œç¬¦ (<code>.</code>) è®¿é—®å’Œæ“ä½œç»“æ„ä½“çš„æˆå‘˜ã€‚</li><li>å¯¹é½å¡«å……ï¼š<ul><li>ä¸ºäº†æé«˜ CPU è®¿é—®æ•ˆç‡ï¼Œç³»ç»Ÿé€šå¸¸è¦æ±‚ç»“æ„ä½“æˆå‘˜å¯¹é½åˆ°å…¶æœ€å¤§ç±»å‹å¤§å°çš„å€æ•°ï¼ˆæ­¤å¤„ä¸º 4 å­—èŠ‚ï¼‰ã€‚</li><li><code>char c[13]</code> åéœ€è¦å¡«å…… 3 å­—èŠ‚ï¼Œç¡®ä¿ç»“æ„ä½“æ€»å¤§å°ä¸º 4 çš„å€æ•°ã€‚</li></ul></li></ul><hr><h4 id="2-2-ç»“æ„ä½“çš„åŠ¨æ€åˆ†é…"><a href="#2-2-ç»“æ„ä½“çš„åŠ¨æ€åˆ†é…" class="headerlink" title="2.2 ç»“æ„ä½“çš„åŠ¨æ€åˆ†é…"></a><strong>2.2 ç»“æ„ä½“çš„åŠ¨æ€åˆ†é…</strong></h4><ul><li>ä½¿ç”¨ <code>malloc</code> åˆ†é…å†…å­˜æ—¶ï¼Œå†…å­˜æ˜¯ä»å †ä¸Šåˆ†é…çš„ï¼Œ<strong>ç”Ÿå‘½å‘¨æœŸç”±ç¨‹åºå‘˜æ‰‹åŠ¨æ§åˆ¶</strong>ï¼ˆéœ€æ³¨æ„é‡Šæ”¾å†…å­˜ä»¥é˜²æ­¢å†…å­˜æ³„æ¼ï¼‰ã€‚</li><li>åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“éœ€è¦é€šè¿‡ <strong>æŒ‡é’ˆè®¿é—®</strong>ï¼Œä½¿ç”¨ç®­å¤´æ“ä½œç¬¦ (<code>-&gt;</code>) è®¿é—®æˆå‘˜ã€‚</li></ul><h4 id="2-3-å†…å­˜ç®¡ç†æ³¨æ„äº‹é¡¹"><a href="#2-3-å†…å­˜ç®¡ç†æ³¨æ„äº‹é¡¹" class="headerlink" title="2.3 å†…å­˜ç®¡ç†æ³¨æ„äº‹é¡¹"></a><strong>2.3 å†…å­˜ç®¡ç†æ³¨æ„äº‹é¡¹</strong></h4><ol><li><p><strong>åŠ¨æ€åˆ†é…çš„å†…å­˜éœ€è¦é‡Šæ”¾</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">free</span><span class="token punctuation">(</span>pStu<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</p></li><li><p><strong>é¿å…ä½¿ç”¨æœªåˆå§‹åŒ–çš„å†…å­˜</strong>ï¼š åŠ¨æ€åˆ†é…åï¼Œå†…å­˜ä¸­çš„å€¼æ˜¯æœªå®šä¹‰çš„ï¼Œéœ€æ˜¾å¼èµ‹å€¼æˆ–åˆå§‹åŒ–ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Stu <span class="token operator">*</span>pStu <span class="token operator">=</span> <span class="token punctuation">(</span>Stu <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>pStu<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆå§‹åŒ–ä¸º 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>ä½¿ç”¨ <code>malloc</code> æ—¶æ³¨æ„ç±»å‹è½¬æ¢</strong>ï¼š åœ¨ C++ ä¸­ï¼Œæœ€å¥½ä½¿ç”¨ <code>new</code> è€Œä¸æ˜¯ <code>malloc</code>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Stu <span class="token operator">*</span>pStu <span class="token operator">=</span> <span class="token keyword">new</span> Stu<span class="token punctuation">;</span><span class="token keyword">delete</span> pStu<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ–è€…å¯ä»¥ä½¿ç”¨ç°ä»£çš„æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†åŠ¨æ€å†…å­˜ï¼Œé¿å…æ‰‹åŠ¨é‡Šæ”¾çš„éº»çƒ¦ã€‚</p></li></ol><hr><h3 id="3-è¾“å‡ºç»“æœï¼ˆå‡è®¾-64-ä½ç³»ç»Ÿï¼‰"><a href="#3-è¾“å‡ºç»“æœï¼ˆå‡è®¾-64-ä½ç³»ç»Ÿï¼‰" class="headerlink" title="3. è¾“å‡ºç»“æœï¼ˆå‡è®¾ 64 ä½ç³»ç»Ÿï¼‰"></a><strong>3. è¾“å‡ºç»“æœï¼ˆå‡è®¾ 64 ä½ç³»ç»Ÿï¼‰</strong></h3><p>è¿è¡Œç¨‹åºæ—¶ä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">2012--12111---qwe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h3 id="4-æ¨èæ”¹è¿›"><a href="#4-æ¨èæ”¹è¿›" class="headerlink" title="4. æ¨èæ”¹è¿›"></a><strong>4. æ¨èæ”¹è¿›</strong></h3><h4 id="4-1-æ›¿æ¢-malloc"><a href="#4-1-æ›¿æ¢-malloc" class="headerlink" title="4.1 æ›¿æ¢ malloc"></a><strong>4.1 æ›¿æ¢ <code>malloc</code></strong></h4><p>C++ æä¾›äº†æ›´å®‰å…¨çš„å†…å­˜åˆ†é…æ–¹æ³•ï¼Œå¯ä»¥ç”¨ <code>new</code> æ›¿æ¢ <code>malloc</code>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Stu <span class="token operator">*</span>pStu <span class="token operator">=</span> <span class="token keyword">new</span> Stu<span class="token punctuation">;</span>pStu<span class="token operator">-></span>a <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>pStu<span class="token operator">-></span>c<span class="token punctuation">,</span> <span class="token string">"qwe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>a <span class="token operator">&lt;&lt;</span> <span class="token string">"---"</span> <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">delete</span> pStu<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-2-ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ"><a href="#4-2-ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="4.2 ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ"></a><strong>4.2 ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</strong></h4><p>ä½¿ç”¨ <code>std::unique_ptr</code> æˆ– <code>std::shared_ptr</code> æ¥ç®¡ç†åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>Stu<span class="token operator">></span> pStu <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>Stu<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pStu<span class="token operator">-></span>a <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token function">strcpy</span><span class="token punctuation">(</span>pStu<span class="token operator">-></span>c<span class="token punctuation">,</span> <span class="token string">"qwe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>a <span class="token operator">&lt;&lt;</span> <span class="token string">"---"</span> <span class="token operator">&lt;&lt;</span> pStu<span class="token operator">-></span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å¯ä»¥è‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ <code>delete</code> æˆ– <code>free</code>ã€‚</p><hr><h3 id="5-æ€»ç»“-2"><a href="#5-æ€»ç»“-2" class="headerlink" title="5. æ€»ç»“"></a><strong>5. æ€»ç»“</strong></h3><ol><li><strong>åŠ¨æ€åˆ†é…çš„å†…å­˜éœ€æ‰‹åŠ¨ç®¡ç†</strong>ï¼Œæ¨èä½¿ç”¨ç°ä»£ C++ çš„ <code>new/delete</code> æˆ–æ™ºèƒ½æŒ‡é’ˆä»£æ›¿ <code>malloc/free</code>ã€‚</li><li>ç»“æ„ä½“çš„å¤§å°å—å¯¹é½è§„åˆ™å½±å“ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´æˆå‘˜é¡ºåºå‡å°‘å¡«å……å­—èŠ‚ã€‚</li><li>å¯¹åŠ¨æ€åˆ†é…çš„ç»“æ„ä½“æŒ‡é’ˆï¼Œå°½é‡åˆå§‹åŒ–ï¼Œé¿å…å‡ºç°æœªå®šä¹‰è¡Œä¸ºã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»Ÿè®¡é¡¹ç›®ä»£ç è¡Œæ•°</title>
      <link href="/2023/06/22/tong-ji-xiang-mu-dai-ma-xing-shu/"/>
      <url>/2023/06/22/tong-ji-xiang-mu-dai-ma-xing-shu/</url>
      
        <content type="html"><![CDATA[<h1 id="Clocå·¥å…·ä»‹ç»"><a href="#Clocå·¥å…·ä»‹ç»" class="headerlink" title="Clocå·¥å…·ä»‹ç»"></a>Clocå·¥å…·ä»‹ç»</h1><p><code>cloc</code>æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºè®¡ç®—é¡¹ç›®ä¸­çš„ä»£ç è¡Œæ•°ï¼Œæ³¨é‡Šè¡Œæ•°ï¼Œç©ºç™½è¡Œæ•°ï¼Œå…¨ç§°æ˜¯ï¼šCount Lines of Codeã€‚</p><p>è¯¥å·¥å…·åœ¨ç»Ÿè®¡çš„æ—¶å€™ä¹Ÿå¯ä»¥æŒ‡å®šä»£ç è¾“å‡ºçš„æ ¼å¼ä»¥åŠå„ç§å‚æ•°çš„é…ç½®ï¼Œæ¯”å¦‚è¾“å‡ºCSVæ ¼å¼ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œåé¢åŠ ä¸Š<code>--csv</code>ï¼Œæ¯”å¦‚è¿˜å¯ä»¥æŒ‡å®šç»Ÿè®¡çš„æ¡ä»¶ï¼Œ<code>--include-ext</code>ï¼Œå¡«å†™éœ€è¦ç»Ÿè®¡çš„æ‰©å±•åå­—ï¼š<code>c</code>ã€<code>cpp</code>ã€<code>py</code>ã€‚</p><h1 id="Ubuntuç”¨æˆ·"><a href="#Ubuntuç”¨æˆ·" class="headerlink" title="Ubuntuç”¨æˆ·"></a>Ubuntuç”¨æˆ·</h1><p>ä½¿ç”¨<code>cloc</code>åœ¨ubuntuå†…ç»Ÿè®¡ä»£ç è¡Œæ•°</p><ol><li><p>å®‰è£…<code>cloc</code>å·¥å…·</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> cloc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>è¿›å…¥éœ€è¦ç»Ÿè®¡çš„ç›®å½•å†…ï¼Œç„¶åæ‰§è¡Œ</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cloc <span class="token builtin class-name">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ç„¶åå°±ä¼šæ˜¾ç¤ºæ–‡ä»¶ç›®å½•ä¸­çš„æ–‡ä»¶æ•°(files)ã€ç©ºç™½è¡Œæ•°(blank)ã€æ³¨é‡Šè¡Œæ•°(comment)å’Œä»£ç è¡Œæ•°(code)ã€‚</p></li></ol><h1 id="Windows-ç”¨æˆ·"><a href="#Windows-ç”¨æˆ·" class="headerlink" title="Windows ç”¨æˆ·"></a>Windows ç”¨æˆ·</h1><p>ä¹Ÿæ˜¯ä½¿ç”¨<code>cloc</code>å·¥å…·</p><ol><li><p>ä¸‹è½½æœ€æ–°<code>cloc.exe</code>å·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="http://cloc.sourceforge.net/">http://cloc.sourceforge.net/</a></p><p> <img src="https://s2.loli.net/2023/06/22/Plp519xOn8NyDBS.png" alt=""></p><p> <img src="https://s2.loli.net/2023/06/22/f2RycgumFT16pIS.png" alt=""></p><p> <img src="https://s2.loli.net/2023/06/22/r32Wm6QleJzScDP.png" alt=""></p></li><li><p>ä¸‹è½½å®Œæˆåï¼Œå°†<code>cloc-1.64.exe</code>åç§°ä¿®æ”¹ä¸º<code>cloc.exe</code>ï¼Œæ”¾åœ¨éœ€è¦ç»Ÿè®¡ä»£ç çš„æ–‡ä»¶å¤¹æ‰€åœ¨ç›®å½•</p><p><img src="https://s2.loli.net/2023/06/22/gdZl8Fko7QmuNHJ.png" alt=""></p><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å‘½ä»¤<code>&gt;cloc.exe Project</code>(Projectå³è¦ç»Ÿè®¡ä»£ç è¡Œæ•°çš„æ–‡ä»¶å)</p></li><li><p>æ˜¾ç¤ºç»“æœ<img src="https://s2.loli.net/2023/06/22/BsDR8yoI9OaYrwT.png" alt=""></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹ä¸å®‰å…¨ç‰ˆæœ¬çš„å•ä¾‹æ¨¡å¼ï¼ˆè¯¦è§£ï¼‰</title>
      <link href="/2023/06/22/xian-cheng-bu-an-quan-ban-ben-de-dan-li-mo-shi-xiang-jie/"/>
      <url>/2023/06/22/xian-cheng-bu-an-quan-ban-ben-de-dan-li-mo-shi-xiang-jie/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å‡ºå‘ç‚¹"><a href="#å‡ºå‘ç‚¹" class="headerlink" title="å‡ºå‘ç‚¹"></a>å‡ºå‘ç‚¹</h1><p>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚ â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><h2 id="å•ä¾‹åˆ†ä¸ºä¸¤ç§å®ç°æ–¹æ³•ï¼š"><a href="#å•ä¾‹åˆ†ä¸ºä¸¤ç§å®ç°æ–¹æ³•ï¼š" class="headerlink" title="å•ä¾‹åˆ†ä¸ºä¸¤ç§å®ç°æ–¹æ³•ï¼š"></a>å•ä¾‹åˆ†ä¸ºä¸¤ç§å®ç°æ–¹æ³•ï¼š</h2><ul><li><h3 id="æ‡’æ±‰"><a href="#æ‡’æ±‰" class="headerlink" title="æ‡’æ±‰"></a>æ‡’æ±‰</h3></li></ul><ul><li>ç¬¬ä¸€æ¬¡ç”¨åˆ°ç±»å®ä¾‹çš„æ—¶å€™æ‰ä¼šå»å®ä¾‹åŒ–ï¼Œä¸Šè¿°å°±æ˜¯æ‡’æ±‰å®ç°ã€‚</li><li><h3 id="é¥¿æ±‰"><a href="#é¥¿æ±‰" class="headerlink" title="é¥¿æ±‰"></a>é¥¿æ±‰</h3></li></ul><ul><li>å•ä¾‹ç±»å®šä¹‰çš„æ—¶å€™å°±è¿›è¡Œäº†å®ä¾‹åŒ–ã€‚</li></ul><p><strong>æ‡’æ±‰æ¨¡å¼çš„å®ç°ï¼š</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Singleton&#123;public:    static Singleton* getInstance()&#123;        &#x2F;&#x2F; å…ˆæ£€æŸ¥å¯¹è±¡æ˜¯å¦å­˜åœ¨        if (m_instance &#x3D;&#x3D; nullptr) &#123;            m_instance &#x3D; new Singleton();        &#125;        return m_instance;    &#125;private:    Singleton(); &#x2F;&#x2F;ç§æœ‰æ„é€ å‡½æ•°ï¼Œä¸å…è®¸ä½¿ç”¨è€…è‡ªå·±ç”Ÿæˆå¯¹è±¡    &#x2F;&#x2F;å…³é”®ç‚¹å°±æ˜¯å°†Singleton()è®¾ç½®ä¸ºç§æœ‰çš„    Singleton(const Singleton&amp; other);    static Singleton* m_instance; &#x2F;&#x2F;é™æ€æˆå‘˜å˜é‡ &#125;;Singleton* Singleton::m_instance&#x3D;nullptr; &#x2F;&#x2F;é™æ€æˆå‘˜éœ€è¦å…ˆç±»å¤–åˆå§‹åŒ–<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é¥¿æ±‰çš„å®ç°ï¼š</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class singleton &#123;private:    singleton() &#123;&#125;    static singleton *p;public:    static singleton *instance();&#125;;singleton *singleton::p &#x3D; new singleton();singleton* singleton::instance() &#123;    return p;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h1><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å®ç°ï¼Œå°†æ„é€ å‡½æ•°å£°æ˜ä¸º<strong>private</strong>æˆ–<strong>protect</strong>é˜²æ­¢è¢«<strong>å¤–éƒ¨å‡½æ•°å®ä¾‹åŒ–</strong>ï¼Œå†…éƒ¨æœ‰ä¸€ä¸ªé™æ€çš„ç±»æŒ‡é’ˆä¿å­˜å”¯ä¸€çš„å®ä¾‹ï¼Œ<strong>å®ä¾‹çš„å®ç°ç”±ä¸€ä¸ªpublicæ–¹æ³•æ¥å®ç°</strong>ï¼Œè¯¥æ–¹æ³•è¿”å›è¯¥ç±»çš„å”¯ä¸€å®ä¾‹ã€‚</p><p>å½“ç„¶è¿™ä¸ªä»£ç åªé€‚åˆåœ¨å•çº¿ç¨‹ä¸‹ï¼Œå½“å¤šçº¿ç¨‹æ—¶ï¼Œæ˜¯ä¸å®‰å…¨çš„ã€‚è€ƒè™‘ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶é¦–æ¬¡è°ƒç”¨instanceæ–¹æ³•ä¸”åŒæ—¶æ£€æµ‹åˆ°pæ˜¯nullptrï¼Œåˆ™<strong>ä¸¤ä¸ªçº¿ç¨‹ä¼šåŒæ—¶æ„é€ ä¸€ä¸ªå®ä¾‹ç»™pï¼Œè¿™å°†è¿åäº†å•ä¾‹çš„å‡†åˆ™ã€‚</strong></p><h2 id="å¤šçº¿ç¨‹ä¸‹çš„åˆ†æï¼š"><a href="#å¤šçº¿ç¨‹ä¸‹çš„åˆ†æï¼š" class="headerlink" title="å¤šçº¿ç¨‹ä¸‹çš„åˆ†æï¼š"></a><strong>å¤šçº¿ç¨‹ä¸‹çš„åˆ†æï¼š</strong></h2><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœçº¿ç¨‹Aè°ƒç”¨å®Œäº†getInstance()ä¹‹åï¼Œå°†m_instanceåˆå§‹åŒ–äº†ï¼Œçº¿ç¨‹Bå†å»è°ƒç”¨getInstance()å°±ä¸ä¼šåœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹äº†ï¼Œç›´æ¥ä½¿ç”¨ä¹‹å‰Aåˆ›å»ºå¥½çš„å®ä¾‹ï¼›ç„¶è€Œå­˜åœ¨è¿™ä¸€ç§æƒ…å†µï¼Œå½“çº¿ç¨‹Aæ­£åœ¨æ‰§è¡ŒgetInstance()ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰åˆ›å»ºå¥½m_instanceï¼Œæ­¤æ—¶Bçº¿ç¨‹è°ƒç”¨getInstance()ï¼Œm_instanceæ˜¯nullptrï¼Œä¼šnewä¸€ä¸ªå®ä¾‹ã€‚Aä¸€ä¸ªå®ä¾‹ï¼ŒBä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ ·å°±å¯èƒ½å¯¼è‡´ç¨‹åºé”™è¯¯ï¼ŒåŒæ—¶ï¼Œè¿˜ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>ä½¿ç”¨å¤šçº¿ç¨‹åŠ é”ã€åŒé‡æ£€æŸ¥é”æ¨¡å¼ã€memory barrieræŒ‡ä»¤ã€é™æ€å±€éƒ¨å˜é‡ã€Atomicã€pthread_onceç­‰æ–¹æ³•</p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¶é—´æˆ³çš„ç®€å•å«ä¹‰</title>
      <link href="/2023/06/22/shi-jian-chuo-de-jian-dan-han-yi/"/>
      <url>/2023/06/22/shi-jian-chuo-de-jian-dan-han-yi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p>æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼Œæ˜¯è®¡ç®—æœºé‡Œå­˜å‚¨å’Œè¡¨ç¤ºæ—¶é—´çš„åŸºæœ¬æ–¹å¼ã€‚</p><p>ä»¥1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ä½œä¸ºåŸºå‡†</p><p>è®¡ç®—å½“å‰æ—¶åˆ»ä¸è¿™ä¸ªåŸºå‡†æ—¶åˆ»çš„ç§’æ•°/æ¯«ç§’/å¾®å¦™ä¹‹å·®</p><p>å¾—åˆ°çš„è¿™ä¸ªæ•°å­—å°±å«åšæ—¶é—´å·®</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯æŒä¹…å±‚æ¡†æ¶</title>
      <link href="/2023/06/22/shi-me-shi-chi-jiu-ceng-kuang-jia/"/>
      <url>/2023/06/22/shi-me-shi-chi-jiu-ceng-kuang-jia/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ä»€ä¹ˆæ˜¯æŒä¹…å±‚"><a href="#ä»€ä¹ˆæ˜¯æŒä¹…å±‚" class="headerlink" title="ä»€ä¹ˆæ˜¯æŒä¹…å±‚?"></a>ä»€ä¹ˆæ˜¯<a href="https://so.csdn.net/so/search?q=%E6%8C%81%E4%B9%85%E5%B1%82&amp;spm=1001.2101.3001.7020">æŒä¹…å±‚</a>?</h1><p>æŒä¹…æ˜¯ç›¸å¯¹äºç¬æ—¶æ¥è¯´çš„ï¼Œ<strong><em> æŒä¹…å±‚ï¼Œå¯ä»¥ç†è§£æˆæ•°æ® ä¿å­˜åœ¨ æ•°æ®åº“æˆ–è€… ç¡¬ç›˜ä¸€ç±»å¯ä»¥ä¿å­˜å¾ˆé•¿æ—¶é—´çš„è®¾å¤‡é‡Œé¢ï¼Œä¸åƒæ”¾åœ¨å†…å­˜ä¸­é‚£æ ·æ–­ç”µå°±æ¶ˆå¤±äº†ï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®å­˜åœ¨æŒä¹…åŒ–è®¾å¤‡ä¸Š</em></strong> ï¼Œä½ æƒ³ä¸€ä¸‹ <a href="https://so.csdn.net/so/search?q=%E5%86%85%E5%AD%98&amp;spm=1001.2101.3001.7020">å†…å­˜</a>ä¸­çš„æ•°æ® æ–­ç”µå°±æ²¡æœ‰äº†ï¼Œç¡¬ç›˜çš„æ•°æ® æ˜¯å¦ä¼šåƒå†…å­˜ä¸­çš„æ•°æ®ä¸€æ ·æ–­ç”µæ¶ˆå¤±ä¹ˆï¼Ÿ</p><h1 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æŒä¹…åŒ–æ¡†æ¶"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æŒä¹…åŒ–æ¡†æ¶" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æŒä¹…åŒ–æ¡†æ¶?"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æŒä¹…åŒ–æ¡†æ¶?</h1><p>ä¼ä¸šåº”ç”¨ä¸­<strong>* æ•°æ®å¾ˆé‡è¦(å„ç§è®¢å•æ•°æ®ã€å®¢æˆ·æ•°æ®ã€åº“å­˜æ•°æ®ä¹‹ç±»çš„)ï¼Œä»–ä»¬çš„æ•°æ®å°±æ˜¯è´¢å¯Œï¼Œæ¯”åº”ç”¨ç¨‹åºæœ¬èº«æ›´é‡è¦ï¼Œ</strong> æ‰€ä»¥éœ€è¦æŠŠæ•°æ®<strong>æŒä¹…åŒ–</strong>ã€‚æŒä¹…åŒ–å¯ä»¥é€šè¿‡å¾ˆå¤šæ–¹å¼ï¼Œå†™æ–‡ä»¶å’Œæ•°æ®åº“éƒ½å¯ä»¥ã€‚åªæ˜¯ç°åœ¨ä¼ä¸šä¸€èˆ¬éƒ½ä¼šé€‰æ‹©æŠŠæ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ï¼Œå› ä¸ºå¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥è¯¢ç»Ÿè®¡åˆ†æï¼Œä½†æ•°æ®åº“çš„æ•°æ®æœ€ç»ˆè¿˜æ˜¯ä¼šå†™åˆ°ç£ç›˜ä¸Šçš„ã€‚Java ç¨‹åºå‘˜ä¸ºäº†æ“ä½œæ•°æ®åº“ï¼Œ<strong> æœ€å¼€å§‹æ˜¯ä½¿ç”¨JDBC*</strong> æ¥è¿›è¡Œçš„ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼<strong>* å¼€å‘æ•ˆç‡ä½</strong> ï¼Œè¦å†™ä¸€å †é‡å¤ä»£ç ï¼ŒåŠ ä¸Šå…³ç³»æ•°æ®åº“å’Œå¯¹è±¡æœ¬èº«å­˜åœ¨æ‰€è°“çš„é˜»æŠ—ä¸åŒ¹é…æƒ…å†µï¼Œæ‰€ä»¥<strong> ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œæœ‰äººå‘æ˜äº† ORM å³ å¯¹è±¡å…³ç³»æ˜ å°„æ¡†æ¶*</strong> (Hibernateæ˜¯å…¶ä¸­çš„ä½¼ä½¼è€…)ï¼Œå¯¹äº Java ç¨‹åºå‘˜æ¥è¯´ï¼Œå°±å¯ä»¥é€šè¿‡æ“çºµå¯¹è±¡æ¥æ“çºµæ•°æ®åº“äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UTF-8ç¼–ç </title>
      <link href="/2023/06/22/utf8-bian-ma/"/>
      <url>/2023/06/22/utf8-bian-ma/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p>UTF-8å°±æ˜¯åœ¨äº’è”ç½‘ä¸Šä½¿ç”¨æœ€Unicodeçš„å®ç°æ–¹å¼ï¼Œå…¶ä»–å®ç°æ–¹å¼è¿˜åŒ…æ‹¬UTF-16å’ŒUTF-32ã€‚ä¸è¿‡åœ¨äº’è”ç½‘ä¸ŠåŸºæœ¬ä¸ç”¨ã€‚é‡å¤ä¸€éï¼Œè¿™é‡Œçš„å…³ç³»æ˜¯ï¼ŒUTF-8æ˜¯Unicodeçš„å®ç°æ–¹å¼ä¹‹ä¸€ã€‚</p><p>ä¸–ç•Œä¸Šå­˜åœ¨ç€å¤šç§ç¼–ç æ–¹å¼ï¼ŒåŒä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—å¯ä»¥è¢«è§£é‡Šæˆä¸åŒçš„ç¬¦å·ã€‚å› æ­¤ï¼Œè¦æƒ³æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå°±å¿…é¡»çŸ¥é“å®ƒçš„ç¼–ç æ–¹å¼ï¼Œå¦åˆ™ç”¨é”™è¯¯çš„ç¼–ç æ–¹å¼è§£è¯»ï¼Œå°±ä¼šå‡ºç°ä¹±ç ã€‚ä¸ºä»€ä¹ˆç”µå­é‚®ä»¶å¸¸å¸¸å‡ºç°ä¹±ç ï¼Ÿå°±æ˜¯å› ä¸ºå‘ä¿¡äººå’Œæ”¶ä¿¡äººä½¿ç”¨çš„ç¼–ç æ–¹å¼ä¸ä¸€æ ·ã€‚</p><p>å¯ä»¥æƒ³è±¡ï¼Œå¦‚æœæœ‰ä¸€ç§ç¼–ç ï¼Œå°†ä¸–ç•Œä¸Šæ‰€æœ‰çš„ç¬¦å·éƒ½çº³å…¥å…¶ä¸­ã€‚æ¯ä¸€ä¸ªç¬¦å·éƒ½ç»™äºˆä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç¼–ç ï¼Œé‚£ä¹ˆä¹±ç é—®é¢˜å°±ä¼šæ¶ˆå¤±ã€‚è¿™å°±æ˜¯Unicodeï¼Œå°±åƒå®ƒçš„åå­—éƒ½è¡¨ç¤ºçš„ï¼Œè¿™æ˜¯ä¸€ç§æ‰€æœ‰ç¬¦å·çš„ç¼–ç ã€‚</p><p>è€ŒUnicodeé‡Œé¢UTF-8æœ€å¤§çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒæ˜¯ä¸€ç§å˜é•¿çš„ç¼–ç æ–¹å¼ã€‚å®ƒå¯ä»¥ä½¿ç”¨1~4ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œæ ¹æ®ä¸åŒçš„ç¬¦å·è€Œå˜åŒ–å­—èŠ‚é•¿åº¦ã€‚å®ƒåŒæ ·åŒ…å«å…¨ä¸–ç•Œæ‰€æœ‰å›½å®¶ç”¨åˆ°çš„å­—ç¬¦ï¼Œæ˜¯å›½é™…ç¼–ç äº†ï¼Œé€šç”¨æ€§å¼ºï¼Œä¸»è¦ç”¨ä»¥è§£å†³å›½é™…ä¸Šå­—ç¬¦çš„ä¸€ç§å¤šå­—èŠ‚ç¼–ç ï¼Œå¯¹è‹±æ–‡ä½¿ç”¨å…«ä½ï¼ˆå³ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼Œä¸­æ–‡ä½¿ç”¨24ä½ï¼ˆå³ä¸‰ä¸ªå­—èŠ‚ï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLå°å°çŸ¥è¯†ç‚¹ï¼šè¶…é”®ï¼Œå€™é€‰é”®ï¼Œä¸»é”®ï¼Œå¤–é”®åŸºæœ¬æ¦‚å¿µ</title>
      <link href="/2023/06/22/sql-xiao-xiao-zhi-shi-dian-chao-jian-hou-xuan-jian-zhu-jian-wai-jian-ji-ben-gai-nian/"/>
      <url>/2023/06/22/sql-xiao-xiao-zhi-shi-dian-chao-jian-hou-xuan-jian-zhu-jian-wai-jian-ji-ben-gai-nian/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="è¶…é”®"><a href="#è¶…é”®" class="headerlink" title="è¶…é”®"></a>è¶…é”®</h1><p><strong>å®šä¹‰</strong>ï¼šåœ¨å…³ç³»æ¨¡å¼ä¸­ï¼Œå¯ä»¥<strong>å”¯ä¸€æ ‡è¯†</strong>ä¸€ä¸ªå…ƒç»„çš„<strong>å±æ€§é›†</strong>ç§°ä¸º<strong>è¶…é”®ï¼ˆSuper Keyï¼‰</strong>ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼šstudent(Sno, Sname, Sage, Ssex)</p><p>åœ¨è¿™ä¸ªç»“æ„ä¸­ï¼Œåªæœ‰åŒ…å«Snoçš„å±æ€§é›†åˆæ‰èƒ½æ˜¯è¶…é”®ï¼Œå› ä¸ºå¦‚æœä¸åŒ…å«Snoï¼Œå¯èƒ½ä¼šå‡ºç°åŒåï¼ŒåŒå§“çš„äººï¼Œä¹Ÿå¯èƒ½å‡ºç°åŒå²çš„äººï¼Œæ‰€ä»¥åœ¨ä¸Šé¢çš„å…³ç³»æ¨¡å¼ä¸­åªæœ‰é€šè¿‡å­¦å·æ‰èƒ½æ‰¾åˆ°æŸä¸ªç‰¹å®šçš„å­¦ç”Ÿã€‚</p><p>å› æ­¤ä¸Šè¿°å…³ç³»æ¨¡å¼ä¸­åªæœ‰åŒ…å«å­¦å·çš„å±æ€§é›†æ‰èƒ½ç§°ä¹‹ä¸ºè¶…é”®ï¼š</p><p>ä¾‹å¦‚ï¼š(Sno), (Sno, Sname), (Sno, Sname, Sage)ç­‰</p><h1 id="å€™é€‰é”®"><a href="#å€™é€‰é”®" class="headerlink" title="å€™é€‰é”®"></a>å€™é€‰é”®</h1><p><strong>å®šä¹‰</strong>ï¼šåœ¨å…³ç³»æ¨¡å¼ä¸­ï¼Œèƒ½<strong>å”¯ä¸€æ ‡è¯†å…ƒç»„</strong>å¹¶ä¸”<strong>ä¸å«å¤šä½™å±æ€§çš„å±æ€§é›†</strong>ç§°ä¸º<strong>å€™é€‰é”®ï¼ˆCandidate Keyï¼‰</strong>ã€‚</p><p>ä¾‹å¦‚åœ¨ä¸Šé¢æåˆ°çš„ä¾‹å­ä¸­ï¼Œstudent(Sno, Sname, Sage, Ssex)</p><p>å¦‚æœæ²¡æœ‰é‡åçš„å­¦ç”Ÿï¼ŒSnameä¹Ÿå¯ä»¥å½“æˆæ˜¯å€™é€‰é”®ï¼Œè¿™é‡Œå¯ä»¥çœ‹å‡ºå€™<strong>é€‰é”®æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¶…é”®ï¼Œå³æŠŠè¶…é”®ä¸­å¤šä½™çš„å±æ€§åˆ é™¤å°±å¯ä»¥å«åšå€™é€‰é”®ã€‚</strong></p><p>æ‰€ä»¥ä¸Šè¿°å…³ç³»ä¸­ï¼ˆSnoï¼‰ï¼ˆSnameï¼‰å¯ä»¥å«åšå€™é€‰é”®ã€‚</p><h1 id="ä¸»é”®"><a href="#ä¸»é”®" class="headerlink" title="ä¸»é”®"></a>ä¸»é”®</h1><p>å®šä¹‰ï¼šåœ¨å…³ç³»æ¨¡å¼ä¸­çš„<strong>è‹¥å¹²ä¸ªå€™é€‰é”®</strong>ä¸­ï¼Œéšæ„æŒ‡å®šä¸€ä¸ªä½œä¸ºå…³é”®å­—ï¼Œæ­¤å…³é”®å­—å³ä¸º<strong>ä¸»é”®ï¼ˆPrimary Keyï¼‰</strong>ã€‚</p><p>åˆ†æï¼šstudent(Sno, Sname, Sage, Ssex)</p><p>ã€€ã€€ä¸»é”®å¾ˆå¥½ç†è§£ï¼Œ<strong>å°±åœ¨åœ¨å€™é€‰é”®çš„åŸºç¡€ä¸Šä»»æ„é€‰æ‹©ä¸€ä¸ªä½œä¸ºä¸»é”®ï¼ˆç†è§£è¿™ç‚¹å°±æ˜ç™½äº†ä»€ä¹ˆå¯ä»¥å½“ä¸»é”®äº†ï¼‰</strong>ï¼ŒåŒæ—¶è¡ç”Ÿå‡º<strong>å¤åˆä¸»é”®</strong>å’Œ<strong>è”åˆä¸»é”®</strong> ï¼Œå‡è®¾æˆ‘ä»¬æ²¡æœ‰å­¦å·å­—æ®µï¼Œå¦‚æœå¯ä»¥é€šè¿‡å§“åï¼Œå¹´é¾„ï¼Œæ€§åˆ«ä¸€åŒæ‰¾åˆ°æŸä¸ªç‰¹å®šçš„å­¦ç”Ÿï¼Œé‚£ä¹ˆå°±ç§°(name, age, sex)ä¸ºå¤åˆä¸»é”®ï¼Œå…¨éƒ¨ç”±ä¸»é”®æ„æˆçš„ç§°ä¸ºè”åˆä¸»é”®ã€‚</p><p>ã€€ã€€å› æ­¤ä¸Šè¿°å…³ç³»æ¨¡å¼ä¸­ï¼Œå§“åï¼Œå’Œå¹´é¾„ä¹Ÿèƒ½å”¯ä¸€ç¡®å®šå­¦ç”Ÿï¼Œé‚£ä¹ˆä¸»é”®æœ‰ï¼š</p><p>ã€€ã€€ä¾‹ï¼š(Sno), (Sname)ï¼Œå¤åˆä¸»é”®ï¼ˆSnameï¼ŒSageï¼‰</p><h1 id="å¤–é”®"><a href="#å¤–é”®" class="headerlink" title="å¤–é”®"></a>å¤–é”®</h1><p>å®šä¹‰ï¼šå¯ä»¥æŠŠä¸€å¼ è¡¨çš„æ•°æ®ä¸å¦ä¸€å¼ è¡¨å…³è”èµ·æ¥ï¼Œè¿™ç§åˆ—ç§°ä¸º<strong><code>å¤–é”®</code>ï¼ˆForeign Keyï¼‰</strong>ã€‚</p><p>åˆ†æï¼šstudent(Sno, Sname, Sage, Ssex,SCredit), score(Sno, Tno, Sco)</p><p>ã€€ã€€å¤–é”®æ˜¯å»ºç«‹åœ¨ä¸¤ä¸ªå…³ç³»æ¨¡å¼ä¸­çš„ï¼Œä»ä¸Šè¿°å®šä¹‰ä¸­å¯ç”¨çŸ¥é“ï¼ŒæŸå…³ç³»æ¨¡å¼ä¸­ä¸»é”®ä¸€å®šæ˜¯å…¶å€™é€‰é”®ï¼Œé‚£å¯¹äºå¦ä¸€å…³ç³»ï¼Œåªè¦åŸå…³ç³»çš„ä¸»é”®åªè¡¨ç¤ºæ™®é€šå±æ€§ï¼Œé‚£å®ƒå°±æ˜¯å¦ä¸€å±æ€§çš„å¤–é”®ï¼Œä¸Šè¡¨ä¸­Snoå°±æ˜¯scoreçš„å¤–é”®ï¼Œä»–æŠŠä¸¤ä¸ªè¡¨å…³è”èµ·æ¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QTè¿æ¥Mysqlåçš„ç®€å•æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</title>
      <link href="/2023/06/22/qt-lian-jie-mysql-hou-de-jian-dan-cao-zuo-zeng-shan-gai-cha/"/>
      <url>/2023/06/22/qt-lian-jie-mysql-hou-de-jian-dan-cao-zuo-zeng-shan-gai-cha/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h1><p>é¦–å…ˆè¦è¿æ¥è‡ªå·±åœ¨ç”µè„‘ä¸Šå®‰è£…çš„MySqlçš„æ•°æ®åº“ï¼ˆè¿™ä¸ªæ˜¯æœ€éš¾ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œä¸‡äº‹èµ·æ­¥éš¾ï¼‰ï¼Œè¿æ¥ä¸Šäº†ä¹‹åçš„Sqlè¯­å¥å°±ä¼šå°±ä¼šéå¸¸ç®€å•äº†ï¼Œè¿æ¥æ•°æ®åº“å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ï¼ˆæ³¨æ„åœ¨è¿æ¥æ—¶ä¼šæœ‰å¯èƒ½ä¼šæœ‰å¾ˆå¤šæŠ¥é”™ä¿¡æ¯ï¼Œä½†æ˜¯åªè¦æŒ‰ç…§è¿™ä¸ªæ“ä½œæ¥ï¼Œä¸€æ­¥ä¸€æ­¥æ“ä½œåº”è¯¥æ²¡æœ‰é—®é¢˜ã€‚ï¼‰ </p><p><a href="https://blog.csdn.net/qq_38832450/article/details/110452117">Qtç¼–è¯‘MySQLæ•°æ®åº“é©±åŠ¨_ç„•å°è°¢çš„åšå®¢-CSDNåšå®¢_qtç¼–è¯‘mysqlé©±åŠ¨</a></p><p>æ³¨æ„åœ¨æ“ä½œå®Œè¿™äº›æ“ä½œåä¸è¦ç›´æ¥ç‚¹æ„å»ºï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/ff8480a26a9d41a68a8cc1141003af75.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/eb55c56339f749a28cc2965a0b817e68.png" alt=""></p><p>è¦ç‚¹é‡æ–°æ„å»ºæ‰€æœ‰é¡¹ç›®ï¼ˆæˆ‘å› ä¸ºè¿™ä¸ªé—®é¢˜å¼„äº†å¥½ä¹…ğŸ˜­ğŸ˜­ğŸ˜­ï¼‰ã€‚</p><h1 id="å¢åˆ æ”¹æŸ¥ï¼ˆMySqlï¼‰"><a href="#å¢åˆ æ”¹æŸ¥ï¼ˆMySqlï¼‰" class="headerlink" title="å¢åˆ æ”¹æŸ¥ï¼ˆMySqlï¼‰"></a>å¢åˆ æ”¹æŸ¥ï¼ˆMySqlï¼‰</h1><p>é¦–å…ˆåœ¨xxx.proæ–‡ä»¶ä¸­åŠ å…¥sqlæ¨¡å—ã€‚</p><p><img src="https://img-blog.csdnimg.cn/1711a48b7b8c47c3805b9219e761cc0a.png" alt=""></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;#include &lt;QDebug&gt;#include &lt;QSqlDatabase&gt;#include &lt;QStringList&gt;#include &lt;QSqlError&gt;#include &lt;QSqlQuery&gt;#include &lt;QMessageBox&gt;Widget::Widget(QWidget *parent)    : QWidget(parent)    , ui(new Ui::Widget)&#123;    ui-&gt;setupUi(this);    &#x2F;&#x2F; 1. æ·»åŠ ä¸€ä¸ªæ•°æ®åº“å®ä¾‹    QStringList ls &#x3D; QSqlDatabase::drivers();    qDebug() &lt;&lt; ls;    QSqlDatabase db &#x3D; QSqlDatabase::addDatabase(&quot;QMYSQL&quot;);    &#x2F;&#x2F; 2. å¾—åˆ°å®ä¾‹å¯¹è±¡ä¹‹åéœ€è¦åˆå§‹åŒ–è¿æ¥ä¿¡æ¯    &#x2F;&#x2F;    -- æœåŠ¡å™¨çš„IP, ç«¯å£, æ•°æ®åº“å, ç”¨æˆ·å, å¯†ç     db.setHostName(&quot;localhost&quot;);    db.setPort(3306);   &#x2F;&#x2F; å¦‚æœä½¿ç”¨çš„æ˜¯é»˜è®¤ç«¯å£, å¯ä»¥ä¸è°ƒç”¨è¯¥å‡½æ•°    db.setDatabaseName(&quot;student&quot;);&#x2F;&#x2F;è¿™æ˜¯æˆ‘è‡ªå·±å»ºçš„è¡¨çš„åå­—ï¼Œè¦çœ‹è‡ªå·±åœ¨DBMSä¸Šé¢å»ºäº†ä»€ä¹ˆè¡¨ã€‚    db.setUserName(&quot;root&quot;);&#x2F;&#x2F;rootç”¨æˆ·    db.setPassword(&quot;123456&quot;);&#x2F;&#x2F;å¯†ç     &#x2F;&#x2F; 3. è¿æ¥æ•°æ®åº“    bool bl &#x3D; db.open();    if(!bl)    &#123;        qDebug() &lt;&lt; db.lastError().text();        return;    &#125;    else    &#123;&#x2F;&#x2F;        qDebug() &lt;&lt; &quot;æ•°æ®åº“è¿æ¥æˆåŠŸäº†...&quot;;        QMessageBox::information(this, &quot;succeed&quot;, &quot;hahah&quot;);    &#125;    QSqlQuery query;    &#x2F;&#x2F; 4. æ’å…¥æ•°æ®&#x2F;&#x2F;    QString sql &#x3D; &quot;insert into dept values(23, &#39;ç«å½±å¿è€…&#39;, &#39;ä¸œäº¬&#39;)&quot;;&#x2F;&#x2F;    QString sql &#x3D; &quot;select * from student&quot;;    &#x2F;&#x2F; å¼€å¯äº‹åŠ¡&#x2F;&#x2F;    db.transaction();&#x2F;&#x2F;    bool flag &#x3D; query.exec(sql);&#x2F;&#x2F;    if(flag)&#x2F;&#x2F;    &#123;&#x2F;&#x2F;       db.commit();&#x2F;&#x2F;    &#125;&#x2F;&#x2F;    else&#x2F;&#x2F;    &#123;&#x2F;&#x2F;       db.rollback();&#x2F;&#x2F;    &#125;&#x2F;&#x2F;    &#x2F;&#x2F; 5. æŸ¥è¯¢æ•°æ®è¡¨ - dept&#x2F;&#x2F;    query.exec(&quot;select * from score&quot;);    &#x2F;&#x2F; éå†ç»“æœé›†    while(query.next())    &#123;        &#x2F;&#x2F; ä»å½“å‰è®°å½•ä¸­å–å‡ºå„ä¸ªå­—æ®µçš„å€¼&#x2F;&#x2F;        qDebug() &lt;&lt; query.value(0).toString()&#x2F;&#x2F;                &lt;&lt; query.value(1).toString()&#x2F;&#x2F;                &lt;&lt; query.value(&quot;dname&quot;).toString()&#x2F;&#x2F;                &lt;&lt; query.value(&quot;loc&quot;).toString();        QString sno &#x3D; query.value(0).toString();        QString cno &#x3D; query.value(1).toString();        QString tno &#x3D; query.value(2).toString();        double grade &#x3D; query.value(3).toDouble();        qDebug()&lt;&lt;sno&lt;&lt;&quot; &quot;&lt;&lt;cno&lt;&lt;&quot; &quot;&lt;&lt;tno&lt;&lt;&quot; &quot;&lt;&lt;grade;    &#125;    db.close();&#125;Widget::~Widget()&#123;    delete ui;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¢åˆ æ”¹æŸ¥å…¶å®å°±åˆ©ç”¨è¿™ä¸ªæ¨¡æ¿æ¥æ“ä½œäº†ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦çœ‹ä½ çš„MqSqlçš„åŠŸåº•äº†ã€‚</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">query.exec(&quot;insert into student values(......)&quot;);&#x2F;&#x2F;å¢query.exec(&quot;DELETE FROM table_name [WHERE Clause]&quot;);&#x2F;&#x2F;åˆ é™¤query.exec(&quot;UPDATE table_name SET field1&#x3D;new-value1, field2&#x3D;new-value2[WHERE Clause]&quot;);&#x2F;&#x2F;æ›´æ–°query.exec(&quot;select * from score&quot;);&#x2F;&#x2F;æŸ¥è¯¢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt:_QWidget::paintEngine:_Should_no_longer_be_called</title>
      <link href="/2023/06/22/qtqwidgetpaintengineshouldnolongerbecalled/"/>
      <url>/2023/06/22/qtqwidgetpaintengineshouldnolongerbecalled/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="ç”±æ¥"><a href="#ç”±æ¥" class="headerlink" title="ç”±æ¥"></a>ç”±æ¥</h2><p>ä»Šå¤©åœ¨QT Createrä½¿ç”¨QPainterçš„æ—¶å€™å‡ºç°äº†è¿™ä¸ªé”™è¯¯ï¼Œåœ¨å¼•ç”¨è¾“å‡ºçª—å£è¿˜æœ‰è¿™ä¹ˆä¸€äº›é”™è¯¯</p><p><img src="https://img-blog.csdnimg.cn/d4c9c9eaba8d46789d0896411d73845e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_18,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p>ä¹‹å‰åœ¨ä½¿ç”¨å…¶ä»–ç±»çš„æ—¶å€™ï¼Œç›´æ¥åœ¨widget.hä¸­çš„MainWindowä¸­å†™éƒ½å¯ä»¥è¿è¡Œåƒè¿™æ ·</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &quot;mainwindow.h&quot;#include &quot;ui_mainwindow.h&quot;#include &lt;QDialog&gt;#include &lt;QStatusBar&gt;#include &lt;QMessageBox&gt;#include &lt;QColorDialog&gt;#include &lt;QDebug&gt;#include &lt;QFileDialog&gt;#include &lt;QString&gt;#include &lt;QFontDialog&gt;MainWindow::MainWindow(QWidget *parent) :    QMainWindow(parent),    ui(new Ui::MainWindow)&#123;    ui-&gt;setupUi(this);    QStatusBar *staBar &#x3D; statusBar();    setStatusBar(staBar);&#x2F;&#x2F;only one set, not only one add;    ui-&gt;actionNew-&gt;setIcon(QIcon(&quot;D:&#x2F;å›¾ç‰‡&#x2F;ä¸‰ä½“æ™ºå­é«˜æ¸…4kåŠ¨æ¼«å£çº¸_å½¼å²¸å›¾ç½‘.jpg&quot;));    connect(ui-&gt;actionNew, &amp;QAction::triggered, [&#x3D;]()&#123;&#x2F;&#x2F;        mo tai duihuakuang&#x2F;&#x2F;        QDialog log(this);&#x2F;&#x2F;æ¨¡æ€        QDialog *log &#x3D; new QDialog(this);&#x2F;&#x2F;newåœ¨å †åŒºçš„        log-&gt;resize(200, 100);        log-&gt;show();&#x2F;&#x2F;éæ¨¡æ€        log-&gt;setAttribute(Qt::WA_DeleteOnClose);&#x2F;&#x2F;éæ¨¡æ€çš„æ—¶å€™æ‰éœ€è¦è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºéæ¨¡æ€æ˜¯newåœ¨å †åŒºçš„&#x2F;&#x2F;        log.exec();&#x2F;&#x2F;æ¨¡æ€ï¼ŒæŠŠçª—å£é˜»å¡äº†&#x2F;&#x2F;        fei motai dui hua kuang    &#125;);&#x2F;&#x2F;    QMessageBox::critical(this, &quot;ha&quot;, &quot;é”™è¯¯&quot;);&#x2F;&#x2F;    QColorDialog color &#x3D; QColorDialog::getColor(QColor(255, 0, 0));&#x2F;&#x2F;    qDebug()&lt;&lt;&quot;r&#x3D;&quot;&lt;&lt;color.red()&lt;&lt;&quot; &quot;&lt;&lt;&quot;g&#x3D;&quot;&lt;&lt;color.green();&#x2F;&#x2F;    QString str &#x3D; QFileDialog::getOpenFileName(this, &quot;open&quot;,&#x2F;&#x2F;                                 &quot;D:\OneDriveæ–‡æ¡£\OneDrive - officeapp.org\Desktop&quot;, &quot;*.txt&quot;);&#x2F;&#x2F;    qDebug()&lt;&lt;str;&#x2F;&#x2F;    bool flag;&#x2F;&#x2F;    QFont font &#x3D; QFontDialog::getFont(&amp;flag, QFont(&quot;åæ–‡å½©æ–‡&quot;, 36));&#125;MainWindow::~MainWindow()&#123;    delete ui;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ³¨æ„ä¸‹é¢æˆ‘çš„åˆ›å»ºè¿‡ç¨‹ï¼š"><a href="#æ³¨æ„ä¸‹é¢æˆ‘çš„åˆ›å»ºè¿‡ç¨‹ï¼š" class="headerlink" title="æ³¨æ„ä¸‹é¢æˆ‘çš„åˆ›å»ºè¿‡ç¨‹ï¼š"></a><strong>æ³¨æ„ä¸‹é¢æˆ‘çš„åˆ›å»ºè¿‡ç¨‹ï¼š</strong></h2><p><img src="https://img-blog.csdnimg.cn/df90169dccb34d2c98305119b73c16fd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/790e51f20a0747b7b0383ad851bf85e4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/3549f541aa1c4b829ec037504a448ea8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/c64d24b5f45a4ab9a435e4f4ca2caac0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><strong> æ³¨æ„è¿™ä¸€æ­¥</strong>ï¼š</p><p><img src="https://img-blog.csdnimg.cn/57fac6cc320a41da80e11097ec5aad22.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p> ç„¶åæˆ‘åœ¨QWidget.cppä¸­å†™äº†ä¸‹é¢çš„ä»£ç </p><p><img src="https://img-blog.csdnimg.cn/0cf0563fb3424b9497d8a7eb9c94d29c.png" alt=""></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &quot;ui_widget.h&quot;#include &lt;ui_widget.h&gt;Widget::Widget(QWidget *parent) :    QWidget(parent),    ui(new Ui::Widget)&#123;    ui-&gt;setupUi(this);    QPainterPath path;    path.addRect(20, 20, 60, 60);&#x2F;&#x2F;    path.moveTo(0, 0);&#x2F;&#x2F;    path.cubicTo(99, 0,  50, 50,  99, 99);&#x2F;&#x2F;    path.cubicTo(0, 99,  50, 50,  0, 0);    QPainter painter(this);    painter.fillRect(0, 0, 100, 100, Qt::white);    painter.setPen(QPen(QColor(79, 106, 25), 1, Qt::SolidLine,                        Qt::FlatCap, Qt::MiterJoin));    painter.setBrush(QColor(122, 163, 39));    painter.drawPath(path);&#125;Widget::~Widget()&#123;    delete ui;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> ç„¶åå°±å‡ºç°äº†ä¸Šé¢çš„é”™è¯¯ã€‚</p><h2 id="ä¸‹é¢æ˜¯è§£å†³æ–¹æ³•ï¼š"><a href="#ä¸‹é¢æ˜¯è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="ä¸‹é¢æ˜¯è§£å†³æ–¹æ³•ï¼š"></a><strong>ä¸‹é¢æ˜¯è§£å†³æ–¹æ³•ï¼š</strong></h2><p><strong>é¦–å…ˆåœ¨QWidget.hä¸­åŠ å…¥è¿™ä¸ªå‡½æ•°çš„ç”³æ˜</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">void paintEvent(QPaintEvent *);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> ç„¶åå†QWidget.cppä¸­å®šä¹‰è¿™ä¸ªå‡½æ•°ï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨QPainterç±»äº†</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;Widget::Widget(QWidget *parent) :    QWidget(parent),    ui(new Ui::Widget)&#123;    ui-&gt;setupUi(this);&#125;void Widget::paintEvent(QPaintEvent *)&#123;    QPainterPath path;    path.addRect(20, 20, 60, 60);    path.moveTo(0, 0);    path.cubicTo(99, 0,  50, 50,  99, 99);    path.cubicTo(0, 99,  50, 50,  0, 0);    QPainter painter(this);    painter.fillRect(0, 0, 100, 100, Qt::white);    painter.setPen(QPen(QColor(79, 106, 25), 1, Qt::SolidLine,                        Qt::FlatCap, Qt::MiterJoin));    painter.setBrush(QColor(122, 163, 39));    painter.drawPath(path);&#125;Widget::~Widget()&#123;    delete ui;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š </strong></p><p><img src="https://img-blog.csdnimg.cn/0ef6cebd17a440108de64de391623118.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_12,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š"><a href="#äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š" class="headerlink" title="äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š"></a>äº§ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› ï¼š</h2><p>åœ¨è¿™é‡Œå¾ˆå¥½åœ°è§£é‡Šäº†è¿™ä¸€ç‚¹ï¼š<br><a href="https://forum.qt.io/topic/64693/unable-to-paint-on-qt-widget-shows-error-paintengine-should-no-longer-be-called/3">https://forum.qt.io/topic/64693/unable-to-paint-on-qt-widget-shows-error-paintengine-should-no-longer-be-called/3</a></p><p>ç®€è€Œè¨€ä¹‹ï¼šä¸è¦å°è¯•ç›´æ¥ä»è¾“å…¥äº‹ä»¶å¤„ç†ç¨‹åºè¿›è¡Œç»˜åˆ¶ï¼Œè€Œæ˜¯åœ¨æ‚¨çš„å°éƒ¨ä»¶ä¸­é‡è½½ paintEvent æ–¹æ³•å¹¶åœ¨é‚£é‡Œåˆ›å»º QPainterã€‚ä»…ä½¿ç”¨è¾“å…¥äº‹ä»¶æ¥ä¿®æ”¹å†…éƒ¨æ•°æ®æ¨¡å‹ï¼Œå¹¶åœ¨paintEvent ä¸­ä½¿ç”¨QPainter å°†å…¶æ˜¾ç¤ºåœ¨è¾“å‡ºè·¯å¾„ä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT_Createrå·¥ç¨‹æ–‡ä»¶ä»‹ç»</title>
      <link href="/2023/06/22/qtcreater-gong-cheng-wen-jian-jie-shao/"/>
      <url>/2023/06/22/qtcreater-gong-cheng-wen-jian-jie-shao/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Qt-Creatorå·¥ç¨‹ç®¡ç†"><a href="#Qt-Creatorå·¥ç¨‹ç®¡ç†" class="headerlink" title="Qt Creatorå·¥ç¨‹ç®¡ç†"></a>Qt Creatorå·¥ç¨‹ç®¡ç†</h1><p>Qt Creatorä»¥<strong>å·¥ç¨‹é¡¹ç›®çš„æ–¹å¼</strong>å¯¹<a href="https://so.csdn.net/so/search?q=%E6%BA%90%E7%A0%81&amp;spm=1001.2101.3001.7020">æºç </a>è¿›è¡Œç®¡ç†</p><p>ä¸€ä¸ªQt Craetorå·¥ç¨‹åŒ…å«ä¸åŒç±»å‹çš„æ–‡ä»¶</p><ul><li>.proé¡¹ç›®æè¿°æ–‡ä»¶+ .pro.userç”¨æˆ·é…ç½®æè¿°æ–‡ä»¶+ .hå¤´æ–‡ä»¶+ .cppæºæ–‡ä»¶+ .uiç•Œé¢æè¿°æ–‡ä»¶+ .qrcèµ„æºæ–‡ä»¶ï¼ˆå›¾ç‰‡ï¼Œè§†é¢‘ï¼Œç­‰ï¼‰</li></ul><h1 id="proé¡¹ç›®æè¿°æ–‡ä»¶"><a href="#proé¡¹ç›®æè¿°æ–‡ä»¶" class="headerlink" title=".proé¡¹ç›®æè¿°æ–‡ä»¶"></a>.proé¡¹ç›®æè¿°æ–‡ä»¶</h1><p>å®è´¨ä¸Šæ˜¯Makefileæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#-------------------------------------------------</span><span class="token comment">#</span><span class="token comment"># Project created by QtCreator 2022-04-08T19:06:19</span><span class="token comment">#</span><span class="token comment">#-------------------------------------------------</span>QT       <span class="token operator">+=</span> core gui              <span class="token comment"># æ¨¡å—å£°æ˜ coreæ¨¡å— guiæ¨¡å—</span>greaterThan<span class="token punctuation">(</span>QT_MAJOR_VERSION, <span class="token number">4</span><span class="token punctuation">)</span>: QT <span class="token operator">+=</span> widgets    <span class="token comment"># å¦‚æœä½¿ç”¨QTç‰ˆæœ¬å¤§äº4ï¼Œé‚£ä¹ˆéœ€è¦å‘Šè¯‰QTï¼Œè¿˜éœ€è¦widgetsæ¨¡å—</span>TARGET <span class="token operator">=</span> test1                    <span class="token comment"># å¯æ‰§è¡Œæ–‡ä»¶å</span>TEMPLATE <span class="token operator">=</span> app                    <span class="token comment"># test1æ˜¯ä¸€ä¸ªappï¼Œå¯æ‰§è¡Œç¨‹åº</span>SOURCES <span class="token operator">+=</span> main.cpp<span class="token punctuation">\</span>                <span class="token comment"># æºæ–‡ä»¶</span>        mainwindow.cppHEADERS  <span class="token operator">+=</span> mainwindow.h            <span class="token comment"># å¤´æ–‡ä»¶</span>FORMS    <span class="token operator">+=</span> mainwindow.ui            <span class="token comment">#ç•Œé¢æè¿°æ–‡ä»¶.ui</span>RESOURCES <span class="token operator">+=</span> <span class="token punctuation">\</span>                        <span class="token comment"># èµ„æºæ–‡ä»¶</span>    image.qrcCONFIG <span class="token operator">+=</span> <span class="token punctuation">\</span>                        <span class="token comment">#è®¾å®šé¡¹ç›®çš„é…ç½®ä¿¡æ¯å’Œç¼–è¯‘é€‰é¡¹ï¼Œè¿™é‡Œæ˜¯æ·»åŠ äº†c++11æ ‡å‡†</span>    c++11<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h1><p>1ã€Qt Creatoråœ¨æ‰“å¼€é¡¹ç›®æ–‡ä»¶çš„<strong>åŒæ—¶ä¼šç”Ÿæˆ.pro.useræ–‡ä»¶</strong></p><p>2ã€.pro.useræ–‡ä»¶åŒ…å«ä¸€äº›ä¸Qtç›¸å…³çš„æœ¬åœ°é…ç½®ä¿¡æ¯</p><p>3ã€<strong>å½“éœ€è¦åœ¨ä¸åŒè®¡ç®—æœºä¹‹é—´ç§»åŠ¨é¡¹ç›®æºç æ—¶ï¼Œå»ºè®®åˆ é™¤.pro.useræ–‡ä»¶</strong></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt5_çš„ç±»_QPointï¼ŒQPointFï¼ˆç›¸å…³çš„æ–¹æ³•ï¼Œä¸ä¼šçš„éƒ½åœ¨ï¼‰</title>
      <link href="/2023/06/22/qt5-de-lei-qpointqpointf-xiang-guan-de-fang-fa-bu-hui-de-du-zai/"/>
      <url>/2023/06/22/qt5-de-lei-qpointqpointf-xiang-guan-de-fang-fa-bu-hui-de-du-zai/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="QPoint"><a href="#QPoint" class="headerlink" title="QPoint"></a>QPoint</h1><p><a href="https://doc.qt.io/qt-5/qpoint.html">QPointå®˜ç½‘é“¾æ¥</a></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>QPoint ç±»ä½¿ç”¨æ•´æ•°ç²¾åº¦æ¥å®šä¹‰å¹³é¢ä¸­çš„ä¸€ä¸ªç‚¹</p><h2 id="åŒ…å«çš„æˆå‘˜"><a href="#åŒ…å«çš„æˆå‘˜" class="headerlink" title="åŒ…å«çš„æˆå‘˜"></a>åŒ…å«çš„æˆå‘˜</h2><p><img src="https://img-blog.csdnimg.cn/0043bcf801d74b6c952319df2648a945.png" alt=""></p><p>æˆ‘è§‰å¾—ä½ å¯èƒ½<strong>çœ‹ä¸æ‡‚</strong>çš„æˆå‘˜ä½¿ç”¨çš„æ–¹æ³•ï¼š</p><p>1ã€dotProduct(const QPoint &amp;, const QPoint &amp;):intï¼Œå‚æ•°æ˜¯ä¸¤ä¸ªç‚¹çš„åæ ‡ï¼Œreturn ä»–ä»¬ä¸¤ç‚¹ä¹‹é—´çš„ç‚¹ç§¯ï¼Œå³è¿›è¡Œå‘é‡çš„ç‚¹ä¹˜è¿ç®—ï¼Œå³x1<em>x2+y1</em>y2ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">QPoint p<span class="token punctuation">(</span> <span class="token number">3</span>, <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPoint q<span class="token punctuation">(</span>-1, <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>int lengthSquared <span class="token operator">=</span> QPoint::dotProduct<span class="token punctuation">(</span>p, q<span class="token punctuation">)</span><span class="token punctuation">;</span>   // lengthSquared becomes <span class="token number">25</span>// -3+28<span class="token operator">=</span><span class="token number">25</span>ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—ä¸¤æ¡ç›´çº¿ä¹‹é—´çš„è§’åº¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>2ã€isNull()const : boolï¼Œå¦‚æœ x å’Œ y åæ ‡éƒ½è®¾ç½®ä¸º 0ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><p>3ã€manhattanLength() const : int ï¼Œæ›¼å“ˆé¡¿é•¿åº¦ï¼Œè¿”å›çš„æ˜¯ä»–ä»¬çš„æ›¼å“ˆé¡¿è·ç¦»d(i,j)=|xi-xj|+|yi-yj|ã€‚</p><p>4ã€rx()ï¼Œry()ï¼Œåˆ™æ˜¯å¯¹ä¸€ä¸ªç‚¹çš„xï¼Œyåæ ‡å•ç‹¬æ‹¿å‡ºæ¥è¿›è¡Œæ›´æ”¹</p><p>5ã€transPosed(): const QPointï¼Œäº¤æ¢ä¸€ä¸ªç‚¹çš„xï¼Œyåæ ‡ï¼ˆexchangedï¼‰ã€‚</p><h1 id="QPointF"><a href="#QPointF" class="headerlink" title="QPointF"></a>QPointF</h1><h2 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ç¬¬ä¸€çœ¼çœ‹ä¸Šå»ä»¥ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„ç±»ï¼Œç»“æœå‘ç°å°±æ˜¯Float QPointï¼ˆå“ˆå“ˆğŸ˜ï¼‰ï¼Œç”¨æ³•çš„è¯ç›¸ä¿¡ä½ è®¤çœŸçœ‹å®Œå‰é¢çš„QPointåï¼Œè¿™ä¸€ä¸ªç±»çš„ä½¿ç”¨ä¹Ÿä¼šæç„¶å¤§æ‚Ÿã€‚QPointFåœ¨æµ®ç‚¹ç²¾åº¦ä¸Šè¡¨å¾å¹³é¢ä¸Šçš„ç‚¹ï¼Œç»å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯ä¸QPointç›¸ç±»ä¼¼çš„ï¼Œç»†å¾®çš„å·®åˆ«åœ¨äºè¿ç®—ç¬¦é‡è½½ä»¥åŠæä¾›äº†QPointä¸QPointFçš„ç›¸äº’è½¬æ¢ã€‚</p><h2 id="æˆå‘˜å‡½æ•°"><a href="#æˆå‘˜å‡½æ•°" class="headerlink" title="æˆå‘˜å‡½æ•°"></a>æˆå‘˜å‡½æ•°</h2><p><img src="https://img-blog.csdnimg.cn/292ce357d1b04be7843cc413ca582df2.png" alt=""></p><p>çœ‹å®Œè¿™å¼ å›¾ä½ å°±ä¼šå‘ç°QPointFçš„ç”¨æ³•å’ŒQPointåŸºæœ¬ä¸€æ ·çš„ï¼Œé‡Œé¢çš„å¾ˆå¤šæ–¹æ³•å’ŒQPointä¸€æ ·éƒ½æ˜¯å¯¹è¿ç®—ç¬¦çš„é‡è½½ã€‚</p><p>å‡ ä¸ªè¦æ³¨æ„çš„å‡½æ•°ï¼š</p><p>1ã€toPoint() constç”±æµ®ç‚¹ç²¾åº¦è½¬åŒ–ä¸ºæ•´æ•°ç²¾åº¦</p><p>2ã€æ„é€ å‡½æ•°é‚£é‡ŒQPointF(const QPoint&amp; point)ç”±æ˜¯ä¸ºäº†ä»æ•´æ•°ç²¾åº¦è½¬åŒ–ä¸ºæµ®ç‚¹ç²¾åº¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_å­—å…¸ä¸­getï¼ˆï¼‰çš„ä½¿ç”¨</title>
      <link href="/2023/06/22/python-zi-dian-zhong-get-de-shi-yong/"/>
      <url>/2023/06/22/python-zi-dian-zhong-get-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p>å½“æˆ‘ä»¬ä½¿ç”¨å­—å…¸ä¸­ä¸å­˜åœ¨çš„é”®å€¼æ—¶ï¼Œä¼šå¯¼è‡´pythonæ˜¾ç¤ºTracebackï¼ŒæŒ‡å‡ºå­˜åœ¨é”®å€¼é”™è¯¯ï¼ˆKeyErrorï¼‰ï¼Œè¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•get()åœ¨æŒ‡å®šçš„é”®å€¼ä¸å­˜åœ¨æ—¶ï¼Œæ˜¾ç¤ºè¿”å›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä»è€Œé¿å…è¿™æ ·çš„é”™è¯¯ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a<span class="token operator">=</span><span class="token punctuation">&#123;</span>    <span class="token string">"jason"</span><span class="token punctuation">:</span><span class="token string">"c"</span><span class="token punctuation">,</span>    <span class="token string">"sarah"</span><span class="token punctuation">:</span><span class="token string">"c++"</span><span class="token punctuation">,</span>    <span class="token string">"aaa"</span><span class="token punctuation">:</span><span class="token string">"python"</span><span class="token punctuation">,</span>    <span class="token string">"bbb"</span><span class="token punctuation">:</span><span class="token string">"javasripe"</span><span class="token punctuation">&#125;</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token string">"jason"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>b<span class="token operator">=</span>a<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token string">"Do not have this person."</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://img-blog.csdnimg.cn/73148b5a36e948c68ad0f09512de3643.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_17,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p>è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥å‘ç°è¿™ç§é”™è¯¯ã€‚</p><p>å¦‚æœæŒ‡å®šçš„é”®å€¼å¯èƒ½ä¸å­˜åœ¨æ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘è¿™ç§æ–¹æ³•ï¼Œä¸åº”è¯¥ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡Œæ°æ›¿æ¢åŸåˆ™</title>
      <link href="/2023/06/22/liskovsubstitutionprinciple-ji-cheng-li-shi-ti-huan-yuan-ze/"/>
      <url>/2023/06/22/liskovsubstitutionprinciple-ji-cheng-li-shi-ti-huan-yuan-ze/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Liskov-Substitution-principle"><a href="#Liskov-Substitution-principle" class="headerlink" title="Liskov Substitution principle"></a>Liskov Substitution principle</h1><p>åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ä¸­ï¼Œ<strong>é‡Œæ°æ›¿æ¢åŸåˆ™</strong>ï¼ˆLiskov Substitution principleï¼‰æ˜¯å¯¹å­ç±»å‹çš„ç‰¹åˆ«å®šä¹‰ã€‚å®ƒç”±èŠ­èŠ­æ‹‰Â·åˆ©æ–¯ç§‘å¤«ï¼ˆBarbara Liskovï¼‰åœ¨1987å¹´åœ¨ä¸€æ¬¡ä¼šè®®ä¸Šåä¸ºâ€œæ•°æ®çš„æŠ½è±¡ä¸å±‚æ¬¡â€çš„æ¼”è¯´ä¸­é¦–å…ˆæå‡ºã€‚</p><p>é‡Œæ°æ›¿æ¢åŸåˆ™çš„å†…å®¹å¯ä»¥æè¿°ä¸ºï¼šâ€œæ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰å¯¹è±¡å¯ä»¥åœ¨ç¨‹åºä¸­ä»£æ›¿å…¶åŸºç±»ï¼ˆè¶…ç±»ï¼‰å¯¹è±¡ã€‚â€åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨å­ç±»å¯¹è±¡å»æ›¿æ¢æ‰ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡ï¼Œè¿™æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä¸€ä¸ªå¸¸è§çš„è¡Œä¸ºã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""äºº"""</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>_age <span class="token operator">=</span> age    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_name    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_age    <span class="token decorator annotation punctuation">@age<span class="token punctuation">.</span>setter</span>    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_age <span class="token operator">=</span> age    <span class="token keyword">def</span> <span class="token function">play</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%sæ­£åœ¨æ„‰å¿«çš„ç©è€.'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>_name<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">watch_av</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>_age <span class="token operator">>=</span> <span class="token number">18</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%sæ­£åœ¨è§‚çœ‹çˆ±æƒ…åŠ¨ä½œç‰‡.'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>_name<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%såªèƒ½è§‚çœ‹ã€Šç†Šå‡ºæ²¡ã€‹.'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>_name<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""å­¦ç”Ÿ"""</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> grade<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_grade <span class="token operator">=</span> grade    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">grade</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_grade    <span class="token decorator annotation punctuation">@grade<span class="token punctuation">.</span>setter</span>    <span class="token keyword">def</span> <span class="token function">grade</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> grade<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_grade <span class="token operator">=</span> grade    <span class="token keyword">def</span> <span class="token function">study</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%sçš„%sæ­£åœ¨å­¦ä¹ %s.'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_grade<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_name<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""è€å¸ˆ"""</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> title    <span class="token decorator annotation punctuation">@property</span>    <span class="token keyword">def</span> <span class="token function">title</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_title    <span class="token decorator annotation punctuation">@title<span class="token punctuation">.</span>setter</span>    <span class="token keyword">def</span> <span class="token function">title</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> title    <span class="token keyword">def</span> <span class="token function">teach</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s%sæ­£åœ¨è®²%s.'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>_name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_title<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    stu <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'ç‹å¤§é”¤'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">'åˆä¸‰'</span><span class="token punctuation">)</span>    stu<span class="token punctuation">.</span>study<span class="token punctuation">(</span><span class="token string">'æ•°å­¦'</span><span class="token punctuation">)</span>    stu<span class="token punctuation">.</span>watch_av<span class="token punctuation">(</span><span class="token punctuation">)</span>    t <span class="token operator">=</span> Teacher<span class="token punctuation">(</span><span class="token string">'éª†æ˜Š'</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">'ç –å®¶'</span><span class="token punctuation">)</span>    t<span class="token punctuation">.</span>teach<span class="token punctuation">(</span><span class="token string">'Pythonç¨‹åºè®¾è®¡'</span><span class="token punctuation">)</span>    t<span class="token punctuation">.</span>watch_av<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå°±æ˜¯ä¸€ä¸ªç»§æ‰¿å…³ç³»ï¼Œä½¿ç”¨äº†@propertyåŒ…è£…å™¨æ¥åŒ…è£…getterå’Œsetteræ–¹æ³•ï¼Œå¯ä»¥è®©å±æ€§çš„è®¿é—®æ—¢æ–¹ä¾¿åˆå®‰å…¨ï¼Œä¸‹é¢æ˜¯@propertyçš„ç”¨æ³•è§£é‡Šã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">Typical use <span class="token keyword">is</span> to define a managed attribute x<span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">getx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x    <span class="token keyword">def</span> <span class="token function">setx</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>_x <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">delx</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">del</span> self<span class="token punctuation">.</span>_x x <span class="token operator">=</span> <span class="token builtin">property</span><span class="token punctuation">(</span>getx<span class="token punctuation">,</span> setx<span class="token punctuation">,</span> delx<span class="token punctuation">,</span> <span class="token string">"I'm the 'x' property."</span><span class="token punctuation">)</span>Decorators make defining new properties <span class="token keyword">or</span> modifying existing ones easy<span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@property</span> <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token string">"I am the 'x' property."</span> <span class="token keyword">return</span> self<span class="token punctuation">.</span>_x    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>setter</span> <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>_x <span class="token operator">=</span> value    <span class="token decorator annotation punctuation">@x<span class="token punctuation">.</span>deleter</span> <span class="token keyword">def</span> <span class="token function">x</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">del</span> self<span class="token punctuation">.</span>_x<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dbms_output.put_lineçš„ç”¨æ³•ï¼ˆOracleï¼‰</title>
      <link href="/2023/06/22/dbmsoutputputline-de-yong-fa-oracle/"/>
      <url>/2023/06/22/dbmsoutputputline-de-yong-fa-oracle/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="dbms-output-put-lineçš„ç”¨æ³•"><a href="#dbms-output-put-lineçš„ç”¨æ³•" class="headerlink" title="dbms_output.put_lineçš„ç”¨æ³•"></a><strong>dbms_output.put_lineçš„ç”¨æ³•</strong></h1><h1 id="æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š"><a href="#æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š" class="headerlink" title="æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š"></a>æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š</h1><h2 id="1ã€enableï¼š"><a href="#1ã€enableï¼š" class="headerlink" title="1ã€enableï¼š"></a>1ã€enableï¼š</h2><p>åœ¨serveroutput onçš„æƒ…å†µä¸‹ï¼Œç”¨æ¥ä½¿dbms_outputç”Ÿæ•ˆ(é»˜è®¤å³æ‰“å¼€)</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set serveroutput on --å°†output æœåŠ¡æ‰“å¼€<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2ã€disableï¼š"><a href="#2ã€disableï¼š" class="headerlink" title="2ã€disableï¼š"></a>2ã€disableï¼š</h2><p>åœ¨serveroutput onçš„æƒ…å†µä¸‹ï¼Œç”¨æ¥ä½¿dbms_outputå¤±æ•ˆ</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set serveroutput off --å°†output æœåŠ¡å…³é—­<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/5ccf8ce979664cd9ac2103cc09e0058e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="3ã€putï¼š"><a href="#3ã€putï¼š" class="headerlink" title="3ã€putï¼š"></a>3ã€putï¼š</h2><p>å°†å†…å®¹å†™åˆ°å†…å­˜ï¼Œç­‰åˆ°put_lineæ—¶ä¸€èµ·è¾“å‡ºï¼Œnew_lineçš„æ—¶å€™ä¹Ÿå¯ä»¥è¾“å‡ºã€‚</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">begin  dbms_output.put_line(&#39;hello world1111111&#39;);  dbms_output.new_line();  dbms_output.put(&#39;Hello, Lao An &#39;);  dbms_output.put(&#39;Hello, Lao An &#39;);  dbms_output.new_line();  dbms_output.put_line(&#39;Hello, Lao An &#39;);end;&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><p><img src="https://img-blog.csdnimg.cn/76f3c865dc57456f8a525932af924bac.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_15,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="4ã€put-lineï¼š"><a href="#4ã€put-lineï¼š" class="headerlink" title="4ã€put_lineï¼š"></a>4ã€put_lineï¼š</h2><p>ä¸ç”¨å¤šè¯´äº†ï¼Œè¾“å‡ºå­—ç¬¦ï¼Œå¹¶åˆ·æ–°bufferï¼Œå‰ææ˜¯set severoutput onï¼›</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">exec dbms_output.put_line(&#39;hello world1111111&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/6afc315404ed49bb9f4a3358ece7ff8a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="5ã€new-lineï¼š"><a href="#5ã€new-lineï¼š" class="headerlink" title="5ã€new_lineï¼š"></a>5ã€new_lineï¼š</h2><p>ä½œä¸ºä¸€è¡Œçš„ç»“æŸï¼Œå¯ä»¥ç†è§£ä¸ºå†™å…¥bufferæ—¶çš„æ¢è¡Œç¬¦</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set serveroutput onbegin  dbms_output.put_line(&#39;hello world1111111&#39;);  dbms_output.put(&#39;Hello, Lao An&#39;);  dbms_output.new_line();  dbms_output.put_line(&#39;Hello, Lao An&#39;);end;&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/184650230b38414d9a9c55c14a29b417.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><strong>è¿™é‡Œè¿ç”¨äº†begin+/æ¥æ‰§è¡ŒPL/SQLè¿‡ç¨‹ï¼Œæˆ‘è§£é‡Šä¸€ä¸‹oracleä¸­æ–œæ (/)</strong>çš„å«ä¹‰ æ–œæ å°±æ˜¯è®©<strong>æœåŠ¡å™¨æ‰§è¡Œå‰é¢æ‰€å†™çš„sqlè„šæœ¬</strong>ã€‚å¦‚æœæ˜¯æ™®é€šçš„selectè¯­å¥ï¼Œä¸€ä¸ªåˆ†å·ï¼Œå°±å¯ä»¥æ‰§è¡Œäº†ã€‚ä½†æ˜¯å¦‚æœæ˜¯å­˜å‚¨è¿‡ç¨‹ï¼Œé‚£ä¹ˆé‡åˆ°åˆ†å·ï¼Œå°±ä¸èƒ½é©¬ä¸Šæ‰§è¡Œäº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦é€šè¿‡æ–œæ (/)æ¥æ‰§è¡Œã€‚</p><p><img src="https://img-blog.csdnimg.cn/33849042ca5845109d969979e1147cb5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="6ã€get-line-value-index-ï¼š"><a href="#6ã€get-line-value-index-ï¼š" class="headerlink" title="6ã€get_line(value, index)ï¼š"></a>6ã€get_line(value, index)ï¼š</h2><p>è·å–ç¼“å†²åŒºçš„å•è¡Œä¿¡æ¯ã€‚</p><p>æ³¨ï¼šä½¿ç”¨get_lineæ—¶ä¸èƒ½ç”¨put_lineè¾“å‡ºï¼Œå› ä¸ºput_lineä¹‹åä¼šå°†bufferæ¸…ç©ºã€‚(å½“ç„¶åœ¨<strong>serveroutput offçš„æƒ…å†µä¸‹put_lineæ˜¯ä¸å½±å“bufferçš„</strong>)ã€‚</p><h2 id="7ã€get-lines-array-index-ï¼š"><a href="#7ã€get-lines-array-index-ï¼š" class="headerlink" title="7ã€get_lines(array, index)ï¼š"></a>7ã€get_lines(array, index)ï¼š</h2><p>ä»¥æ•°ç»„å½¢å¼æ¥è·å–ç¼“å†²åŒºçš„å¤šè¡Œä¿¡æ¯</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">declare   v_data dbms_output.chararr;   --å…ˆå£°æ˜å±€éƒ¨å˜é‡                          v_numlines number;                                   begin                                                  --enable the buffer first.                             dbms_output.enable(1000000);   --è®¾ç½®ç¼“å†²åŒºçš„å¤§å°                                                                               dbms_output.put_line(&#39;line one&#39;);                       dbms_output.put_line(&#39;line two&#39;);                       dbms_output.put_line(&#39;line three&#39;);                                                                          v_numlines :&#x3D; 3;                                       dbms_output.get_lines(v_data, v_numlines);  --array, index           for v_counter in 1..v_numlines loop                        dbms_output.put_line(v_data(v_counter));               end loop;                                           end;                                                &#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> è¾“å‡ºï¼š</p><p><img src="https://img-blog.csdnimg.cn/91e4417305374c8199922a56fd95e2d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_10,color_FFFFFF,t_70,g_se,x_16" alt=""></p>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++_ä¸­æ•°æ®ç±»å‹å¤§å°ï¼ˆæ‰€å ç”¨å­—èŠ‚æ•°ï¼‰</title>
      <link href="/2023/06/22/c-zhong-shu-ju-lei-xing-da-xiao-suo-zhan-yong-zi-jie-shu/"/>
      <url>/2023/06/22/c-zhong-shu-ju-lei-xing-da-xiao-suo-zhan-yong-zi-jie-shu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#include&lt;iostream></span>using namespace std<span class="token punctuation">;</span><span class="token comment">#define str(type) #type</span><span class="token comment">#define sz(type) cout&lt;&lt; str(type) &lt;&lt; ":" &lt;&lt; sizeof(type) &lt;&lt; "B"&lt;&lt; endl; </span>int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>sz<span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned char<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>short<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned short<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned int<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>int long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned int long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>long long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>unsigned long long<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>float<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>double<span class="token punctuation">)</span><span class="token punctuation">;</span>sz<span class="token punctuation">(</span>long double<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="defineå­—ç¬¦ä¸²åŒ–è¿ç®—ç¬¦"><a href="#defineå­—ç¬¦ä¸²åŒ–è¿ç®—ç¬¦" class="headerlink" title="defineå­—ç¬¦ä¸²åŒ–è¿ç®—ç¬¦"></a>defineå­—ç¬¦ä¸²åŒ–è¿ç®—ç¬¦</h1><p>åœ¨è¿™é‡Œç¬¬å››è¡Œï¼Œç”¨åˆ°äº†define çš„ä¸€å…ƒè¿ç®—ç¬¦ #ï¼Œå®ƒå¸¸ç§°ä¸ºå­—ç¬¦ä¸²åŒ–è¿ç®—ç¬¦ï¼ˆstringify operator æˆ– stringizing operatorï¼‰ï¼Œ<strong>å®ƒä¼šæŠŠå®è°ƒç”¨æ—¶çš„å®å‚è½¬æ¢ä¸ºå­—ç¬¦ä¸²</strong>ã€‚# çš„æ“ä½œæ•°å¿…é¡»æ˜¯å®æ›¿æ¢æ–‡æœ¬ä¸­çš„å½¢å‚ã€‚å½“å½¢å‚åç§°å‡ºç°åœ¨æ›¿æ¢æ–‡æœ¬ä¸­ï¼Œå¹¶ä¸”å…·æœ‰å‰ç¼€ # å­—ç¬¦æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šæŠŠä¸è¯¥å½¢å‚å¯¹åº”çš„å®å‚æ”¾åˆ°ä¸€å¯¹åŒå¼•å·ä¸­ï¼Œå½¢æˆä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ã€‚</p><p><strong>æ¯”å¦‚åœ¨è¿™é‡Œï¼Œsz(char)ï¼Œ#ä¼šæŠŠcharè½¬åŒ–æˆâ€charâ€ï¼Œèµ‹å€¼ç»™str(type)ï¼Œç„¶åè¾“å‡ºã€‚</strong></p><h1 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h1><p><img src="https://img-blog.csdnimg.cn/6c36ca9663924a3e9d801828e632ee64.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_8,color_FFFFFF,t_70,g_se,x_16" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++_ä¸­explicitçš„ä½œç”¨åŠç”¨æ³•ï¼ˆè™½ç„¶ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ç”¨çš„ï¼‰</title>
      <link href="/2023/06/22/c-zhong-explicit-de-zuo-yong-ji-yong-fa-sui-ran-jian-dan-dan-shi-huan-shi-you-yong-de/"/>
      <url>/2023/06/22/c-zhong-explicit-de-zuo-yong-ji-yong-fa-sui-ran-jian-dan-dan-shi-huan-shi-you-yong-de/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#%C2%A0C%2B%2Bexplicit%EF%BC%88%E5%AE%98%E7%BD%91%E7%9A%84%E8%AF%B4%E6%B3%95%EF%BC%89"> C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰</a></p><p><a href="#firstHeading">explicit specifier</a></p><p><a href="#C%2B%2Bexplicit%20%E6%B8%85%E6%A5%9A%E7%9A%84%E8%AF%B4%E6%B3%95%EF%BC%88%E5%BB%BA%E8%AE%AE%E8%8B%B1%E6%96%87%E4%B8%8D%E5%A5%BD%E7%9A%84%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B%E9%A3%9F%E7%94%A8%E5%93%A6%EF%BC%89">C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</a></p><p><a href="#explicit%E4%BD%9C%E7%94%A8%3A">explicitä½œç”¨:</a></p><p><a href="#explicit%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%3A">explicitä½¿ç”¨æ³¨æ„äº‹é¡¹:</a></p><p><a href="#C%2B%2Bexplicit%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BE%8B%E5%AD%90%EF%BC%88%E5%BB%BA%E8%AE%AE%E5%96%9C%E6%AC%A2%E8%87%AA%E5%B7%B1%E6%95%B2%E4%BB%A3%E7%A0%81%E5%AE%9E%E9%AA%8C%E7%9A%84%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B%E9%A3%9F%E7%94%A8%E5%93%A6%EF%BC%89">C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</a></p><p><a href="#%E4%BE%8B%E5%AD%90">ä¾‹å­</a></p><p><a href="#%C2%A0%E4%B8%8A%E9%9D%A2%E4%B8%89%E8%A1%8C%E7%9A%84%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF%EF%BC%9A"> ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼š</a></p><p><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></p><h1 id="C-explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰"><a href="#C-explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰" class="headerlink" title="C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰"></a>C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰</h1><h1 id="explicit-specifier"><a href="#explicit-specifier" class="headerlink" title="explicit specifier"></a><code>explicit</code> specifier</h1><p><code>**explicit**</code>(1)<code>**explicit (**</code> expression <code>**)**</code>(2)(since C++20)<br>expression-<a href="https://en.cppreference.com/w/cpp/language/constant_expression#Converted_constant_expression">contextually converted constant expression of type bool</a></p><p>1) Specifies that a constructor or conversion function (since C++11) or <a href="https://en.cppreference.com/w/cpp/language/ctad">deduction guide</a> (since C++17) is explicit, that is, it cannot be used for <a href="https://en.cppreference.com/w/cpp/language/implicit_cast">implicit conversions</a> and <a href="https://en.cppreference.com/w/cpp/language/copy_initialization">copy-initialization</a>.</p><p>ç¿»è¯‘ï¼šæŒ‡å®šæ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•° (C++11 èµ·) æˆ–æ¨å¯¼æŒ‡å— (C++17 èµ·) æ˜¯æ˜¾å¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸èƒ½ç”¨äºéšå¼è½¬æ¢å’Œå¤åˆ¶åˆå§‹åŒ–ã€‚</p><p>2) The explicit specifier may be used with a constant expression. The function is explicit if and only if that constant expression evaluates to true. (since C++20)</p><p>ç¿»è¯‘ï¼šæ˜¾å¼è¯´æ˜ç¬¦å¯ä»¥ä¸å¸¸é‡è¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚å½“ä¸”ä»…å½“è¯¥å¸¸é‡è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸ºçœŸæ—¶ï¼Œè¯¥å‡½æ•°æ‰æ˜¯æ˜¾å¼çš„ã€‚ </p><p>The explicit specifier may only appear within the decl-specifier-seq of the declaration of a constructor or conversion function (since C++11) within its class definition.</p><p>ç¿»è¯‘ï¼šæ˜¾å¼è¯´æ˜ç¬¦åªèƒ½å‡ºç°åœ¨å…¶ç±»å®šä¹‰ä¸­çš„æ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•°ï¼ˆC++11 èµ·ï¼‰å£°æ˜çš„ decl-specifier-seq ä¸­ã€‚</p><h1 id="C-explicit-æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"><a href="#C-explicit-æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰" class="headerlink" title="C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"></a>C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</h1><h2 id="explicitä½œç”¨"><a href="#explicitä½œç”¨" class="headerlink" title="explicitä½œç”¨:"></a><strong>explicitä½œç”¨:</strong></h2><p>åœ¨C++ä¸­ï¼Œexplicitå…³é”®å­—ç”¨æ¥<strong>ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°</strong>ï¼Œè¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±»ï¼Œä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢ï¼Œåªèƒ½ä»¥æ˜¾å¼çš„æ–¹å¼è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p><h2 id="explicitä½¿ç”¨æ³¨æ„äº‹é¡¹"><a href="#explicitä½¿ç”¨æ³¨æ„äº‹é¡¹" class="headerlink" title="explicitä½¿ç”¨æ³¨æ„äº‹é¡¹:"></a>explicitä½¿ç”¨æ³¨æ„äº‹é¡¹:</h2><pre><code>  ï¼ˆ1ï¼‰explicit å…³é”®å­—åªèƒ½ç”¨äºç±»å†…éƒ¨çš„æ„é€ å‡½æ•°å£°æ˜ä¸Šã€‚  ï¼ˆ2ï¼‰ explicit å…³é”®å­—ä½œç”¨äºå•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ã€‚* åœ¨C++ä¸­ï¼Œexplicitå…³é”®å­—ç”¨æ¥ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°ï¼Œè¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±»ï¼Œä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢</code></pre><h1 id="C-explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"><a href="#C-explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰" class="headerlink" title="C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"></a>C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</h1><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;class Circle&#123;    public:        Circle()&#123;&#125;        Circle(double _a):a(_a)&#123;&#125;        Circle(int _b, int _c):b(_b), c(_c)&#123;&#125;        Circle(const Circle&amp; A)        &#123;            a&#x3D;A.a; b&#x3D;A.b; c&#x3D;A.c;        &#125;        void Print()        &#123;            cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;endl;        &#125;    private:        double a;        int b;        int c;&#125;;class Circle1&#123;    public:        Circle1()&#123;&#125;        explicit Circle1(double _a):a(_a)&#123;&#125;        explicit Circle1(int _b, int _c):b(_b), c(_c)&#123;&#125;        explicit Circle1(const Circle1&amp; A)        &#123;            a&#x3D;A.a; b&#x3D;A.b; c&#x3D;A.c;        &#125;        void Print()        &#123;            cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;endl;        &#125;    private:        double a;        int b;        int c;&#125;;int main()&#123;    Circle q1(1);    Circle w1(2, 3);    q1.Print();    w1.Print();    &#x2F;&#x2F;éšå¼è°ƒç”¨, ä¸ä¼šæŠ¥é”™    Circle q2 &#x3D; 1;&#x2F;&#x2F; just like Circle q(1); è°ƒç”¨çš„æ˜¯Circle(double _a)    Circle w2 &#x3D; 1.0;&#x2F;&#x2F; just like Circle q(1.0); è°ƒç”¨çš„æ˜¯Circle(double _a)    Circle e &#x3D; q2;&#x2F;&#x2F; è°ƒç”¨çš„æ˜¯Circle(const Circle&amp; A)            &#x2F;&#x2F;éšå¼è°ƒç”¨ï¼Œä¼šæŠ¥é”™ï¼Œæ³¨æ„Circle1()çš„æ„é€ å‡½æ•°ï¼Œéƒ½æœ‰explicit    &#x2F;&#x2F; Circle1 q3 &#x3D; 1;    &#x2F;&#x2F; Circle1 w3 &#x3D; 1.0;    &#x2F;&#x2F; Circle1 e1 &#x3D; q3;    &#x2F;&#x2F; ä»¥ä¸Šä¸‰è¡Œéƒ½ä¼šæŠ¥é”™ã€‚    &#x2F;&#x2F;æ˜¾å¼è°ƒç”¨ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜    Circle1 q3(1);    Circle1 w3(1.0);    Circle1 e1(q3);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼š"><a href="#ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼š" class="headerlink" title="ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼š"></a>ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/597541d462a9453d918bbb4657e54c68.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_16,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ea541e17239346b9abf52c487615d072.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_17,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/583c79b46bd24c49953bb1a84ba525b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_14,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>explicitå¯ä»¥<strong>æŠ‘åˆ¶</strong>å†…ç½®ç±»å‹éšå¼è½¬æ¢ï¼Œæ‰€ä»¥åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œ<strong>æœ€å¥½å°½å¯èƒ½å¤šç”¨explicitå…³é”®å­—ï¼Œ</strong>é˜²æ­¢ä¸å¿…è¦çš„éšå¼è½¬æ¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++_std::arrayç”¨æ³•</title>
      <link href="/2023/06/22/c-stdarray-yong-fa/"/>
      <url>/2023/06/22/c-stdarray-yong-fa/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Arrayç®€ä»‹"><a href="#Arrayç®€ä»‹" class="headerlink" title="Arrayç®€ä»‹"></a>Arrayç®€ä»‹</h1><p><code>std::array</code> is a container that encapsulates fixed size arrays.</p><p>Defined in header <code>[&lt;array&gt;](https://en.cppreference.com/w/cpp/header/array)</code> template&lt;<br>    class T,     <a href="http://en.cppreference.com/w/cpp/types/size_t">std::size_t</a> N &gt; struct array;(since C++11)</p><p>å®ƒæ˜¯c++é‡Œé¢çš„ä¸€ä¸ªå®¹å™¨ï¼Œåœ¨ä½¿ç”¨ä¸Šä¸æ™®é€šæ•°ç»„ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ— æ³•åƒvectorä¸€æ ·åŠ¨æ€æ‰©å±•ï¼Œå®‰å…¨æ€§ä¸Šé¢ä¹Ÿæ¯”æ™®é€šæ•°ç»„æ›´åŠ å®‰å…¨ ã€‚</p><h1 id="åˆå§‹åŒ–æ–¹å¼"><a href="#åˆå§‹åŒ–æ–¹å¼" class="headerlink" title="åˆå§‹åŒ–æ–¹å¼"></a>åˆå§‹åŒ–æ–¹å¼</h1><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">array&lt;int, 10&gt; arr&#x3D;&#123;1, 2, 3, 4, 5&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œåªåˆå§‹åŒ–äº†æ•°ç»„çš„å‰äº”ä¸ªå€¼ï¼Œåé¢çš„äº”ä¸ªå€¼éƒ½æ˜¯0ã€‚</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;array&gt;using namespace std;int main() &#123;    array&lt;int, 10&gt; a &#x3D; &#123; 1, 2 ,3, 4, 5 &#125;;    for (int i &#x3D; 0; i &lt; 10; i++)    &#123;        cout &lt;&lt; a.at(i) &lt;&lt; &quot; &quot;;    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š </p><p><img src="https://img-blog.csdnimg.cn/b69f3e004722493e84bcb6d0812ce8bf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_13,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h1 id="arrayå®¹å™¨æˆå‘˜å‡½æ•°æ±‡æ€»"><a href="#arrayå®¹å™¨æˆå‘˜å‡½æ•°æ±‡æ€»" class="headerlink" title="arrayå®¹å™¨æˆå‘˜å‡½æ•°æ±‡æ€»"></a>arrayå®¹å™¨æˆå‘˜å‡½æ•°æ±‡æ€»</h1><p><strong>æˆå‘˜å‡½æ•°åŠŸèƒ½</strong></p><ol><li>begin()è¿”å›æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</li><li>end()è¿”å›æŒ‡å‘å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åä¸€ä¸ªä½ç½®çš„éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œé€šå¸¸å’Œ begin() ç»“åˆä½¿ç”¨ã€‚</li><li>rbegin()è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</li><li>rend()è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ä¸€ä¸ªä½ç½®çš„éšæœºè®¿é—®è¿­ä»£å™¨ã€‚</li><li>cbegin()å’Œ begin() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</li><li>cend()å’Œ end() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚crbegin()å’Œ rbegin() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</li><li>crend()å’Œ rend() åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šï¼Œå¢åŠ äº† const å±æ€§ï¼Œä¸èƒ½ç”¨äºä¿®æ”¹å…ƒç´ ã€‚</li><li>size()è¿”å›å®¹å™¨ä¸­å½“å‰å…ƒç´ çš„æ•°é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•° Nã€‚</li><li>max_size()è¿”å›å®¹å™¨å¯å®¹çº³å…ƒç´ çš„æœ€å¤§æ•°é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•° Nã€‚</li><li>empty()åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©ºï¼Œå’Œé€šè¿‡ size()==0 çš„åˆ¤æ–­æ¡ä»¶åŠŸèƒ½ç›¸åŒï¼Œä½†å…¶æ•ˆç‡å¯èƒ½æ›´å¿«ã€‚</li><li>at(n)è¿”å›å®¹å™¨ä¸­ n ä½ç½®å¤„å…ƒç´ çš„å¼•ç”¨ï¼Œè¯¥å‡½æ•°è‡ªåŠ¨æ£€æŸ¥ n æ˜¯å¦åœ¨æœ‰æ•ˆçš„èŒƒå›´å†…ï¼Œå¦‚æœä¸æ˜¯åˆ™æŠ›å‡º out_of_range å¼‚å¸¸ã€‚</li><li>front()è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç›´æ¥å¼•ç”¨ï¼Œè¯¥å‡½æ•°ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨ã€‚</li><li>back()è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ç›´æ¥åº”ç”¨ï¼Œè¯¥å‡½æ•°åŒæ ·ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨ã€‚</li><li>data()è¿”å›ä¸€ä¸ªæŒ‡å‘å®¹å™¨é¦–ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚åˆ©ç”¨è¯¥æŒ‡é’ˆï¼Œå¯å®ç°å¤åˆ¶å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ ç­‰ç±»ä¼¼åŠŸèƒ½ã€‚</li><li>fill(val)å°† val è¿™ä¸ªå€¼èµ‹å€¼ç»™å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚</li><li>array1.swap(array2)äº¤æ¢ array1 å’Œ array2 å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†å‰ææ˜¯å®ƒä»¬å…·æœ‰ç›¸åŒçš„é•¿åº¦å’Œç±»å‹ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++_allocatorç±»</title>
      <link href="/2023/06/22/c-callocator-lei/"/>
      <url>/2023/06/22/c-callocator-lei/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#firstHeading">std::allocator::allocate</a></p><p><a href="#c%2B%2B%E4%B8%AD%E7%9A%84allocator%E7%B1%BB">c++ä¸­çš„allocatorç±»</a></p><p><a href="#%E6%A6%82%E8%BF%B0">æ¦‚è¿°</a></p><p><a href="#allocator%E7%94%A8%E6%B3%95">allocatorç”¨æ³•</a></p><p><a href="#%E8%AF%A6%E8%A7%A3">è¯¦è§£</a></p><p><a href="#allocate%E7%94%A8%E4%BA%8E%E5%88%86%E9%85%8D%E5%8E%9F%E5%A7%8B%E5%86%85%E5%AD%98">allocateç”¨äºåˆ†é…åŸå§‹å†…å­˜</a></p><p><a href="#Return%20value">Return value</a></p><p><a href="#%E5%9C%A8STL%E4%B8%AD%E4%B9%9F%E4%BC%9A%E7%94%A8allocate%E7%B1%BB">åœ¨STLä¸­ä¹Ÿä¼šç”¨allocateç±»</a></p><h1 id="std-allocator-allocate"><a href="#std-allocator-allocate" class="headerlink" title="std::allocator::allocate"></a>std::allocator<T>::allocate</h1><p>(1)<br>pointer allocate( size_type n, const void <em> hint = 0 ); (until C++17)<br>T</em> allocate( <a href="http://en.cppreference.com/w/cpp/types/size_t">std::size_t</a> n, const void <em> hint); (since C++17) (deprecated) (removed in C++20)(2)<br>T</em> allocate( <a href="http://en.cppreference.com/w/cpp/types/size_t">std::size_t</a> n ); (since C++17) (until C++20)<br>[[nodiscard]] constexpr T* allocate( <a href="http://en.cppreference.com/w/cpp/types/size_t">std::size_t</a> n ); (since C++20)</p><h1 id="c-ä¸­çš„allocatorç±»"><a href="#c-ä¸­çš„allocatorç±»" class="headerlink" title="c++ä¸­çš„allocatorç±»"></a>c++ä¸­çš„allocatorç±»</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul><li>å®ƒç”¨äºå°†å†…å­˜çš„åˆ†é…å’Œå¯¹è±¡çš„æ„é€ åˆ†ç¦»å¼€æ¥. å®ƒåˆ†é…çš„<strong>å†…å­˜æ˜¯åŸå§‹çš„ã€æœªæ„é€ çš„.</strong>+ Throws <a href="https://en.cppreference.com/w/cpp/memory/new/bad_alloc">std::bad_alloc</a> if allocation fails.+ æ ‡å‡†åº“ä¸­allocatorç±»å®šä¹‰åœ¨å¤´æ–‡ä»¶memoryä¸­</li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">allocator&lt;string&gt; alloc;  &#x2F;&#x2F; å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥åˆ†é…stringçš„allocatorå¯¹è±¡auto const p &#x3D; alloc.allocate(n);  &#x2F;&#x2F; åˆ†é…nä¸ªæœªåˆå§‹åŒ–çš„stringå†…å­˜ï¼Œå³ä¸ºnä¸ªç©ºstringåˆ†é…äº†å†…å­˜ï¼Œåˆ†é…çš„å†…å­˜æ˜¯åŸå§‹çš„ã€æœªæ„é€ çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="allocatorç”¨æ³•"><a href="#allocatorç”¨æ³•" class="headerlink" title="allocatorç”¨æ³•"></a>allocatorç”¨æ³•</h1><ul><li>allocator a // å®šä¹‰äº†ä¸€ä¸ªåä¸ºaçš„allocatorå¯¹è±¡ï¼Œå®ƒå¯ä»¥ä¸ºç±»å‹Tçš„å¯¹è±¡åˆ†é…å†…å­˜+ a.allocate(n) // åˆ†é…èƒ½ä¿å­˜<strong>nä¸ªç±»å‹ä¸ºTçš„å¯¹è±¡çš„å†…å­˜</strong>+ a.deallocate(p, n) // <strong>é‡Šæ”¾T*æŒ‡é’ˆpåœ°å€å¼€å§‹çš„å†…å­˜</strong>ï¼Œè¿™å—å†…å­˜ä¿å­˜äº†nä¸ªç±»å‹ä¸ºTçš„å¯¹è±¡ï¼Œpå¿…é¡»æ˜¯ä¸€ä¸ªå…ˆå‰ç”±allocateè¿”å›çš„æŒ‡é’ˆï¼Œä¸”nå¿…é¡»æ˜¯påˆ›å»ºæ—¶æ‰€è¦æ±‚çš„å¤§å°ï¼Œä¸”<strong>åœ¨è°ƒç”¨è¯¥å‡½æ•°ä¹‹å‰å¿…é¡»é”€æ¯åœ¨è¿™ç‰‡å†…å­˜ä¸Šåˆ›å»ºçš„å¯¹è±¡</strong>ï¼Œè¿™æ˜¯å› ä¸ºåœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­æˆ‘ä»¬åˆ†é…çš„æ˜¯æœ€åŸå§‹çš„å†…å­˜ï¼Œæ‰€ä»¥åœ¨é‡Šæ”¾å†…å­˜çš„æ—¶å€™ä¹Ÿåªèƒ½ä¸¥æ ¼é‡Šæ”¾<strong>è¿™ç‰‡æœ€åŸå§‹çš„å†…å­˜</strong>+ a.construct(p, args) // på¿…é¡»æ˜¯ä¸€ä¸ªç±»å‹ä¸ºT<em>çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ç‰‡åŸå§‹å†…å­˜ï¼Œargå°†è¢«ä¼ é€’ç»™ç±»å‹ä¸ºTçš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥åœ¨pæŒ‡å‘çš„åŸå§‹å†…å­˜ä¸Šæ„å»ºå¯¹è±¡+ a.destory(p) // pä¸ºT</em>ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå¯¹pæŒ‡å‘çš„å¯¹è±¡æ‰§è¡Œææ„å‡½æ•°</li></ul><h1 id="è¯¦è§£"><a href="#è¯¦è§£" class="headerlink" title="è¯¦è§£"></a>è¯¦è§£</h1><ul><li><h2 id="allocateç”¨äºåˆ†é…åŸå§‹å†…å­˜"><a href="#allocateç”¨äºåˆ†é…åŸå§‹å†…å­˜" class="headerlink" title="allocateç”¨äºåˆ†é…åŸå§‹å†…å­˜"></a>allocateç”¨äº<strong>åˆ†é…åŸå§‹å†…å­˜</strong></h2></li></ul><ul><li>æ­£å¦‚å‰é¢è¯´åˆ°ï¼Œallocateå‡ºæ¥çš„å†…å­˜æ˜¯æœ€åŸå§‹çš„ï¼Œæœªæ„é€ çš„å†…å­˜. å®ƒçš„constructæˆå‘˜å‡½æ•°æ¥å—ä¸€ä¸ªæŒ‡é’ˆå’Œé›¶ä¸ªæˆ–å¤šä¸ªé¢å¤–çš„å‚æ•°ï¼Œåœ¨<strong>ç»™å®šä½ç½®æ„é€ å¯¹è±¡</strong>ï¼Œ é¢å¤–çš„å‚æ•°æ˜¯ç”¨äºåˆå§‹åŒ–æ„é€ å¯¹è±¡çš„</li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">auto q &#x3D; p;  &#x2F;&#x2F; qæŒ‡å‘æœ€åæ„é€ çš„å…ƒç´ ä¹‹åçš„ä½ç½®alloc.construct(q++);  &#x2F;&#x2F; *qä¸ºç©ºå­—ç¬¦ä¸²alloc.construct(q++, 10, &#39;c&#39;);  &#x2F;&#x2F; *qä¸ºccccccccccalloc.construct(q++, &quot;hi&quot;);  &#x2F;&#x2F; *qä¸ºhi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç”¨å®Œå¯¹è±¡åï¼Œ<strong>å¿…é¡»å¯¹è¿™ç§æ„é€ çš„å¯¹è±¡è°ƒç”¨destoryé”€æ¯</strong>ï¼Œå®ƒæ¥å—ä¸€ä¸ªæŒ‡é’ˆï¼Œå¯¹æŒ‡å‘çš„å¯¹è±¡æ‰§è¡Œææ„å‡½æ•°</li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">while(q !&#x3D; p)alloc.destory(--q);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> å¾ªç¯å¼€å§‹å¤„ï¼Œqæ˜¯æŒ‡å‘æœ€åæ„é€ çš„å…ƒç´ ä¹‹åçš„ä¸€ä¸ªä½ç½®ï¼Œè°ƒç”¨destoryä¹‹å‰æˆ‘ä»¬å…ˆå¯¹qè¿›è¡Œé€’å‡æ“ä½œï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è°ƒç”¨destoryé”€æ¯çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¾æ¬¡æ‰§è¡Œé”€æ¯æ“ä½œç›´åˆ°qå’Œpç›¸ç­‰. æˆ‘ä»¬åªèƒ½å¯¹çœŸæ­£æ„é€ äº†çš„å…ƒç´ è¿›è¡Œdestoryæ“ä½œï¼Œä¸€æ—¦å…ƒç´ è¢«é”€æ¯ï¼Œå°±å¯ä»¥é‡æ–°ä½¿ç”¨è¿™éƒ¨åˆ†å†…å­˜æ¥ä¿å­˜å…¶ä»–stringæˆ–å½’è¿˜ç»™ç³»ç»Ÿï¼Œé‡Šæ”¾å†…å­˜é€šè¿‡è°ƒç”¨deallocateå®Œæˆ<br><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">alloc.deallocate(p, n)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br> å…¶ä¸­pä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»æŒ‡å‘allocateåˆ†é…çš„å†…å­˜ï¼Œè€Œä¸”å¤§å°å‚æ•°nä¹Ÿå¿…é¡»ä¸è°ƒç”¨allocateåˆ†é…å†…å­˜æ—¶æä¾›çš„å¤§å°å‚æ•°ç›¸ç­‰ã€‚ +  ### Return value<br> Pointer to the first element of an array of <code>n</code> objects of type <code>T</code> whose elements have not been constructed yet.  å°±æ˜¯è¿”å›æœªæ„é€ çš„ç¬¬ä¸€ä¸ªå…ƒç´  </p><h1 id="åœ¨STLä¸­ä¹Ÿä¼šç”¨allocateç±»"><a href="#åœ¨STLä¸­ä¹Ÿä¼šç”¨allocateç±»" class="headerlink" title="åœ¨STLä¸­ä¹Ÿä¼šç”¨allocateç±»"></a>åœ¨STLä¸­ä¹Ÿä¼šç”¨allocateç±»</h1><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">Vector</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">elements</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">first_free</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>allocator<span class="token operator">&lt;</span>T<span class="token operator">></span> alloc<span class="token punctuation">;</span> <span class="token comment">// object to get raw memory</span>    <span class="token keyword">void</span> <span class="token function">reallocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// get more space and copy existing elements</span>    T<span class="token operator">*</span> elements<span class="token punctuation">;</span>        <span class="token comment">// pointer to first elment in the array</span>    T<span class="token operator">*</span> first_free<span class="token punctuation">;</span>      <span class="token comment">// pointer to first free element in the array</span>    T<span class="token operator">*</span> end<span class="token punctuation">;</span>             <span class="token comment">// pointer to one past the end of the array</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span> std<span class="token double-colon punctuation">::</span>allocator<span class="token operator">&lt;</span>T<span class="token operator">></span> Vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span>alloc<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token class-name">Vector</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>first_free <span class="token operator">==</span> end<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">reallocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    alloc<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>first_free<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>    first_free<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token class-name">Vector</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">reallocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// compute size of current array and allocate space for twice as many elements</span>    std<span class="token double-colon punctuation">::</span>ptrdiff_t size <span class="token operator">=</span> first_free <span class="token operator">-</span> elements<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>ptrdiff_t newcapacity <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>size <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> size <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®¹é‡ç¿»å€</span>    T<span class="token operator">*</span> newelements <span class="token operator">=</span> alloc<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span><span class="token function">uninitialized_copy</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> first_free<span class="token punctuation">,</span> newelements<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…ƒç´ æ‹·è´</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>T<span class="token operator">*</span> p <span class="token operator">=</span> first_free<span class="token punctuation">;</span> p <span class="token operator">!=</span> elements<span class="token punctuation">;</span> alloc<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token operator">--</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åŸæ¥çš„ç©ºé—´çš„é‡Šæ”¾</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>elements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        alloc<span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> end <span class="token operator">-</span> elements<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    elements <span class="token operator">=</span> newelements<span class="token punctuation">;</span>    first_free <span class="token operator">=</span> elements <span class="token operator">+</span> size<span class="token punctuation">;</span>    end <span class="token operator">=</span> elements <span class="token operator">+</span> newcapacity<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ</title>
      <link href="/2023/06/20/ji-suan-ji-wang-luo/"/>
      <url>/2023/06/20/ji-suan-ji-wang-luo/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„"><a href="#ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„"></a>ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„</h1><h2 id="å¸¸ç”¨çš„åè®®ï¼š"><a href="#å¸¸ç”¨çš„åè®®ï¼š" class="headerlink" title="å¸¸ç”¨çš„åè®®ï¼š"></a>å¸¸ç”¨çš„åè®®ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/fb9c783cc0c442e2a3d497680c8f4795.png" alt=""></p><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><img src="https://img-blog.csdnimg.cn/253fedbd8c504b41933283d8ff6e3119.png" alt=""></p><p>è®¡ç®—æœºç½‘ç»œæ˜¯ä¸€ä¸ªäº’è”ã€è‡ªæ²»çš„è®¡ç®—æœºé›†åˆ</p><p>è®¡ç®—æœºç½‘ç»œçš„åŠŸèƒ½ï¼šæ•°æ®å…±äº«</p><p><img src="https://img-blog.csdnimg.cn/e5be72d0e6a44376ab3ec718f5b1b478.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ce799324e4064e62a435468654ec0d7e.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/0517ad2799a94e42b39006294adc9f82.png" alt=""></p><p>kb KB</p><p><img src="https://img-blog.csdnimg.cn/c57ccbd895fe4072b13f17b2ae7241be.png" alt=""></p><p>æœ€é«˜é¢‘ç‡ä¸æœ€ä½é¢‘ç‡ä¹‹å·®</p><p>ååé‡ï¼šå•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆé€šé“æˆ–æ¥å£ï¼‰çš„æ•°æ®é‡</p><p><img src="https://img-blog.csdnimg.cn/e443f06f7f0c4875aba56b6c59df1c46.png" alt=""></p><p>å‘é€æ—¶å»¶æ˜¯ï¼šå‘ç”Ÿåœ¨ä¸»æœºä¸Šï¼Œå‘é€åˆ°ä¿¡é“ä¸Šæ‰€éœ€è¦çš„æ—¶é—´ã€‚</p><p>ä¼ æ’­æ—¶å»¶ï¼šä»ä¸€ä¸ªä¸»æœºä¼ æ’­åˆ°å¦å¤–ä¸€ä¸ªä¸»æœºçš„æ—¶é—´ï¼Œå•ä½m/s</p><p>æ’é˜Ÿæ—¶å»¶å’Œå¤„ç†æ—¶å»¶ï¼šå¯ä»¥æƒ³è±¡æˆæœºåœºå®‰æ£€çš„è¿‡ç¨‹ï¼Œå‘ç”Ÿåœ¨è·¯ç”±å™¨ä¸Šã€‚</p><p><img src="https://img-blog.csdnimg.cn/4af9b8c56c3e4fb787fdbee25d11be34.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/90b7e18f73ac4d759c47e70bc682e1b1.png" alt=""></p><p>åè®®ï¼šå¯¹ç­‰å®ä½“ä¹‹é—´æ•°æ®äº¤æ¢çš„è§„åˆ™</p><p>æ¥å£ï¼šä¸Šå±‚ä½¿ç”¨ä¸‹å±‚æœåŠ¡çš„å…¥å£ï¼ˆæŠŠé…’è£…ç®±çš„æœåŠ¡ï¼‰</p><p><img src="https://img-blog.csdnimg.cn/2a36454f6b6644ebbd6a6fce5061c316.png" alt=""></p><p>OSI 7å±‚å‚è€ƒæ¨¡å‹ </p><p><img src="https://img-blog.csdnimg.cn/f8415f92949c449d92ed1a9bb49c4a5c.png" alt=""></p><p><strong>ç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº”</strong></p><p><img src="https://img-blog.csdnimg.cn/78a0a734d960457abedfcd34697979e9.png" alt=""></p><p>TCP/IPå‚è€ƒæ¨¡å‹ï¼šç½‘ç½‘ä¼ åº”</p><p><img src="https://img-blog.csdnimg.cn/8c2b7f35e9474184b7cf08c6b42ac46b.png" alt=""></p><h2 id="å¸¸è§é¢è¯•é¢˜-1ï¼š-TCP-å»ºç«‹è¿æ¥ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ"><a href="#å¸¸è§é¢è¯•é¢˜-1ï¼š-TCP-å»ºç«‹è¿æ¥ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ" class="headerlink" title="å¸¸è§é¢è¯•é¢˜ 1ï¼š TCP å»ºç«‹è¿æ¥ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ"></a>å¸¸è§é¢è¯•é¢˜ 1ï¼š TCP å»ºç«‹è¿æ¥ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹è€Œä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ</h2><p>ç­”ï¼šç½‘ä¸Šå¤§å¤šæ•°èµ„æ–™å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”åªæœ‰ç®€å•çš„ä¸€å¥ï¼šé˜²æ­¢å·²è¿‡æœŸçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡çªç„¶åˆä¼ é€åˆ°æœåŠ¡å™¨ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ï¼Œè¿™æ—¢ä¸å¤Ÿå…¨é¢ä¹Ÿä¸å¤Ÿå…·ä½“ã€‚ä¸‹é¢ç»™å‡ºæ¯”è¾ƒè¯¦ç»†è€Œå…¨é¢çš„å›ç­”ï¼š</p><ul><li>é˜²æ­¢å·²è¿‡æœŸçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡çªç„¶åˆä¼ é€åˆ°æœåŠ¡å™¨ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯</li></ul><p>åœ¨åŒæ–¹ä¸¤æ¬¡æ¡æ‰‹å³å¯å»ºç«‹è¿æ¥çš„æƒ…å†µä¸‹ï¼Œå‡è®¾å®¢æˆ·ç«¯å‘é€ A æŠ¥æ–‡æ®µè¯·æ±‚å»ºç«‹è¿æ¥ï¼Œç”±äºç½‘ç»œåŸå› é€ æˆ A æš‚æ—¶æ— æ³•åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶ä¸åˆ°è¯·æ±‚æŠ¥æ–‡æ®µå°±ä¸ä¼šè¿”å›ç¡®è®¤æŠ¥æ–‡æ®µï¼Œå®¢æˆ·ç«¯åœ¨é•¿æ—¶é—´å¾—ä¸åˆ°åº”ç­”çš„æƒ…å†µä¸‹é‡æ–°å‘é€è¯·æ±‚æŠ¥æ–‡æ®µ Bï¼Œè¿™æ¬¡ B é¡ºåˆ©åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨éšå³è¿”å›ç¡®è®¤æŠ¥æ–‡å¹¶è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œå®¢æˆ·ç«¯åœ¨æ”¶åˆ° ç¡®è®¤æŠ¥æ–‡åä¹Ÿè¿›å…¥ ESTABLISHED çŠ¶æ€ï¼ŒåŒæ–¹å»ºç«‹è¿æ¥å¹¶ä¼ è¾“æ•°æ®ï¼Œä¹‹åæ­£å¸¸æ–­å¼€è¿æ¥ã€‚æ­¤æ—¶å§—å§—æ¥è¿Ÿçš„ A æŠ¥æ–‡æ®µæ‰åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨éšå³è¿”å›ç¡®è®¤æŠ¥æ–‡å¹¶è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œä½†æ˜¯å·²ç»è¿›å…¥ CLOSED çŠ¶æ€çš„å®¢æˆ·ç«¯æ— æ³•å†æ¥å—ç¡®è®¤æŠ¥æ–‡æ®µï¼Œæ›´æ— æ³•è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œè¿™å°†å¯¼è‡´æœåŠ¡å™¨é•¿æ—¶é—´å•æ–¹é¢ç­‰å¾…ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚</p><ul><li>ä¸‰æ¬¡æ¡æ‰‹æ‰èƒ½è®©åŒæ–¹å‡ç¡®è®¤è‡ªå·±å’Œå¯¹æ–¹çš„å‘é€å’Œæ¥æ”¶èƒ½åŠ›éƒ½æ­£å¸¸</li></ul><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯åªæ˜¯å‘é€å¤„è¯·æ±‚æŠ¥æ–‡æ®µï¼Œä»€ä¹ˆéƒ½æ— æ³•ç¡®è®¤ï¼Œè€ŒæœåŠ¡å™¨å¯ä»¥ç¡®è®¤è‡ªå·±çš„æ¥æ”¶èƒ½åŠ›å’Œå¯¹æ–¹çš„å‘é€èƒ½åŠ›æ­£å¸¸ï¼›</p><p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å¯ä»¥ç¡®è®¤è‡ªå·±å‘é€èƒ½åŠ›å’Œæ¥æ”¶èƒ½åŠ›æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€èƒ½åŠ›å’Œæ¥æ”¶èƒ½åŠ›æ­£å¸¸ï¼›</p><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨å¯ä»¥ç¡®è®¤è‡ªå·±å‘é€èƒ½åŠ›å’Œæ¥æ”¶èƒ½åŠ›æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€èƒ½åŠ›å’Œæ¥æ”¶èƒ½åŠ›æ­£å¸¸ï¼›</p><p>å¯è§ä¸‰æ¬¡æ¡æ‰‹æ‰èƒ½è®©åŒæ–¹éƒ½ç¡®è®¤è‡ªå·±å’Œå¯¹æ–¹çš„å‘é€å’Œæ¥æ”¶èƒ½åŠ›å…¨éƒ¨æ­£å¸¸ï¼Œè¿™æ ·å°±å¯ä»¥æ„‰å¿«åœ°è¿›è¡Œé€šä¿¡äº†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/9629dc61c1604c4093b56a9a17d982c1.png" alt=""></p><h2 id="äº”å±‚å‚è€ƒæ¨¡å‹"><a href="#äº”å±‚å‚è€ƒæ¨¡å‹" class="headerlink" title="äº”å±‚å‚è€ƒæ¨¡å‹"></a>äº”å±‚å‚è€ƒæ¨¡å‹</h2><p><img src="https://img-blog.csdnimg.cn/10a15ff26ebc4156a8de2c884ea9e85f.png" alt=""></p><h2 id="å…¸å‹çš„æ•°æ®é€šä¿¡æ¨¡å‹"><a href="#å…¸å‹çš„æ•°æ®é€šä¿¡æ¨¡å‹" class="headerlink" title="å…¸å‹çš„æ•°æ®é€šä¿¡æ¨¡å‹"></a>å…¸å‹çš„æ•°æ®é€šä¿¡æ¨¡å‹</h2><p>æ•°æ®é€šä¿¡ï¼šä»ä¿¡æºè¾“å…¥ä¿¡æ¯ï¼Œè½¬ä¸ºæ•°å­—ä¿¡å·ï¼Œé€šè¿‡è°ƒåˆ¶è°ƒè§£å™¨å°†æ•°å­—ä¿¡å·è½¬ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼Œå¹¿åŸŸç½‘ï¼Œå·¦å³å¯¹ç§°ã€‚</p><p><img src="https://img-blog.csdnimg.cn/94b8f8920b5b448ab9761eddf6de6811.png" alt=""></p><h2 id="æ•°æ®é€šä¿¡ç›¸å…³æœ¯è¯­"><a href="#æ•°æ®é€šä¿¡ç›¸å…³æœ¯è¯­" class="headerlink" title="æ•°æ®é€šä¿¡ç›¸å…³æœ¯è¯­"></a>æ•°æ®é€šä¿¡ç›¸å…³æœ¯è¯­</h2><p><img src="https://img-blog.csdnimg.cn/1085a3911e344b69bfba8ded8de4c670.png" alt=""></p><h2 id="ä¸‰ç§é€šä¿¡æ–¹å¼"><a href="#ä¸‰ç§é€šä¿¡æ–¹å¼" class="headerlink" title="ä¸‰ç§é€šä¿¡æ–¹å¼"></a>ä¸‰ç§é€šä¿¡æ–¹å¼</h2><p><img src="https://img-blog.csdnimg.cn/5ef2c94d86a1485991f9f5d3df1df365.png" alt=""></p><h2 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h2><p><strong>å¤šä¸ªåˆ†ç»„è½¬å‘çš„æ—¶å»¶çš„è®¡ç®—ï¼š</strong></p><p><img src="https://s2.loli.net/2023/07/20/oeRh5ZOwYqJLIUf.png" alt=""></p><h1 id="ç¬¬äºŒç« ï¼šç‰©ç†å±‚"><a href="#ç¬¬äºŒç« ï¼šç‰©ç†å±‚" class="headerlink" title="ç¬¬äºŒç« ï¼šç‰©ç†å±‚"></a>ç¬¬äºŒç« ï¼šç‰©ç†å±‚</h1><h2 id="å¥ˆæ°å‡†åˆ™ä¸é¦™å¥ˆå®šç†"><a href="#å¥ˆæ°å‡†åˆ™ä¸é¦™å¥ˆå®šç†" class="headerlink" title="å¥ˆæ°å‡†åˆ™ä¸é¦™å¥ˆå®šç†"></a>å¥ˆæ°å‡†åˆ™ä¸é¦™å¥ˆå®šç†</h2><p>ç é—´ä¸²æ‰°ï¼šä¿¡å·é¢‘ç‡è¿‡å¿«ï¼Œå¯¼è‡´ç å…ƒé—´ç•Œé™ä¸æ˜æ˜¾ï¼Œæ— æ³•åŒºåˆ†ä¿¡å·ï¼Œå¥ˆæ°å‡†åˆ™å¯ä»¥è§£å†³ã€‚</p><p><img src="https://img-blog.csdnimg.cn/3d38ada810694509851b026148777b76.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/2c657f88b5074394b682101c9828493e.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/2c2ff203e655476187b80311b39fdddd.png" alt=""></p><p>ä¾‹é¢˜ï¼š</p><p><img src="https://img-blog.csdnimg.cn/dc0dba84ce1e41ec919db0a615fb276a.png" alt=""></p><p>å¦‚ä½•é€‰æ‹©â€œNiceâ€å’Œâ€œé¦™æµ“â€</p><p><img src="https://img-blog.csdnimg.cn/486e1151b2b8404e8d212220144f15dc.png" alt=""></p><h2 id="åŸºå¸¦ä¿¡å·å’Œå®½å¸¦ä¿¡å·"><a href="#åŸºå¸¦ä¿¡å·å’Œå®½å¸¦ä¿¡å·" class="headerlink" title="åŸºå¸¦ä¿¡å·å’Œå®½å¸¦ä¿¡å·"></a>åŸºå¸¦ä¿¡å·å’Œå®½å¸¦ä¿¡å·</h2><p><img src="https://img-blog.csdnimg.cn/88cdda2b18ae43d09e0e8465c34f0c38.png" alt=""></p><p>è·ç¦»è¿‘ä½¿ç”¨åŸºå¸¦ä¿¡å·ï¼ˆå‘å‡ºå»äº†å°±ç›´æ¥è¡¨è¾¾å‡ºæ¥ï¼Œæ¯”å¦‚å£°æ³¢ï¼‰ï¼Œè·ç¦»è¿œä½¿ç”¨å®½å¸¦ä¿¡å·ï¼ˆè¡°å‡åˆ°äº†å¾ˆä½çš„é¢‘ç‡ï¼Œé€šè¿‡è°ƒåˆ¶åˆ°é«˜çš„ä¿¡å·ï¼‰</p><h2 id="ç¼–ç ä¸è°ƒåˆ¶"><a href="#ç¼–ç ä¸è°ƒåˆ¶" class="headerlink" title="ç¼–ç ä¸è°ƒåˆ¶"></a>ç¼–ç ä¸è°ƒåˆ¶</h2><p><img src="https://img-blog.csdnimg.cn/73360047c8ed4e7e8b99cd388e581edd.png" alt=""></p><h3 id="ä¸€-æ•°å­—æ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·"><a href="#ä¸€-æ•°å­—æ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·" class="headerlink" title="ä¸€.æ•°å­—æ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·"></a>ä¸€.æ•°å­—æ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·</h3><p>1.éå½’é›¶ç¼–ç ã€NRZã€‘</p><p>é«˜1ä½0ï¼Œæœ€æ™®é€šçš„ç¼–ç æ–¹å¼</p><p>ç¼–ç å®¹æ˜“å®ç°ï¼Œä½†æ²¡æœ‰æ£€é”™åŠŸèƒ½ï¼Œä¸”æ— æ³•åˆ¤æ–­ä¸€ä¸ªç å…ƒçš„å¼€å§‹å’Œç»“æŸï¼Œä»¥è‡³äºåŒæ–¹éš¾ä»¥ä¿æŒåŒæ­¥</p><p>2.æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼š</p><p>å°†ä¸€ä¸ªç å…ƒåˆ†æˆä¸¤ä¸ªç›¸ç­‰çš„é—´éš”ï¼Œå‰ä¸€ä¸ªé—´éš”ä¸ºä½ç”µå¹³åä¸€ä¸ªé—´éš”ä¸ºé«˜ç”µå¹³è¡¨ç¤ºç å…ƒ1ï¼›ç å…ƒ0åˆ™æ­£å¥½ç›¸åã€‚ä¹Ÿå¯ä»¥é‡‡ç”¨ç›¸åçš„è§„å®šã€‚è¯¥ç¼–ç çš„ç‰¹ç‚¹æ˜¯åœ¨æ¯ä¸€ä¸ªç å…ƒçš„ä¸­é—´å‡ºç°ç”µå¹³è·³åŠ¨ï¼Œä½ä¸­é—´çš„è·³å˜å³ä½œæ—¶é’Ÿä¿¡å·ï¼ˆå¯ç”¨äºåŒæ­¥ï¼‰ï¼Œåˆåæ•°æ®ä¿¡å·ï¼Œä½†å®ƒæ‰€å çš„é¢‘å¸¦å®½åº¦æ˜¯åŸå§‹æ•°æ®çš„åŸºå¸¦å®½åº¦çš„ä¸¤å€ã€‚</p><p>æ¯ä¸€ä¸ªç å…ƒéƒ½è¢«è°ƒæˆä¸¤ä¸ªç”µå¹³ï¼Œæ‰€ä»¥æ•°æ®ä¼ è¾“é€Ÿç‡åªæœ‰è°ƒåˆ¶é€Ÿç‡çš„1/2ã€‚</p><p>3.å·®åˆ†æ›¼å½»æ–¯ç‰¹ç¼–ç </p><p>åŒ1å¼‚0</p><p>å¸¸ç”¨äºå±€åŸŸç½‘ä¼ è¾“ï¼Œå…¶è§„åˆ™æ˜¯ï¼šè‹¥ç å…ƒä¸º1ï¼Œåˆ™å‰åŠä¸ªç å…ƒçš„ç”µå¹³ä¸ä¸Šä¸€ä¸ªç å…ƒçš„ååŠä¸ªç å…ƒçš„ç”µå¹³ç›¸åŒï¼Œè‹¥ä¸º0ï¼Œåˆ™ç›¸åã€‚è¯¥ç¼–ç çš„ç‰¹ç‚¹æ˜¯ï¼Œåœ¨æ¯ä¸ªç å…ƒçš„ä¸­é—´ï¼Œéƒ½æœ‰ä¸€æ¬¡ç”µå¹³çš„è·³è½¬ï¼Œå¯ä»¥å®ç°è‡ªåŒæ­¥ï¼Œä¸”æŠ—å¹²æ‰°æ€§å¼ºäºæ›¼å½»æ–¯ç‰¹ç¼–ç ã€‚</p><p>4.å½’é›¶ç¼–ç ã€RZã€‘</p><p>ä¿¡å·ç”µå¹³åœ¨ä¸€ä¸ªç å…ƒä¹‹å†…éƒ½è¦æ¢å¤åˆ°é›¶çš„è¿™ç§ç¼–ç æˆç¼–ç æ–¹å¼ã€‚</p><p>ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰å› ä¸ºå¤„äºä½ç”µé¢‘æ¯”è¾ƒå¤šæ¯”è¾ƒä¹…ã€‚</p><p>5.åå‘ä¸å½’é›¶ç¼–ç ã€NRZIã€‘</p><p>ä¿¡å·ç”µå¹³ç¿»è½¬è¡¨ç¤º0ï¼Œä¿¡å·ç”µå¹³ä¸å˜è¡¨ç¤º1. ä¸å½’é›¶ç¼–ç ä¸»è¦åŒºåˆ«ï¼šä¸€ä¸ªç å…ƒå†…ä¸ä¼šè·³å˜ã€‚</p><p>ç»¼åˆä»¥ä¸Šçš„ç¼–ç æ–¹å¼äº§ç”Ÿï¼š</p><p>ï¼ˆ6ï¼‰4B/5B ç¼–ç </p><p>æ¯”ç‰¹æµä¸­æ’å…¥é¢å¤–çš„æ¯”ç‰¹ä»¥æ‰“ç ´ä¸€è¿ä¸²çš„0æˆ–1ï¼Œå°±æ˜¯ç”¨5ä¸ªæ¯”ç‰¹æ¥ç¼–ç 4ä¸ªæ¯”ç‰¹çš„æ•°æ®ï¼Œä¹‹åå†ä¼ é€ç»™æ¥æ”¶æ–¹ï¼Œå› æ­¤ç§°ä¸º4B/5Bã€‚ç¼–ç æ•ˆç‡ä¸º80%ã€‚</p><p>åªé‡‡ç”¨16ç§å¯¹åº”çš„64ç§ä¸åŒçš„4ä¸ºç ï¼Œå…¶ä»–çš„16ç§ä½œä¸ºæ§åˆ¶ç ï¼ˆå¸§çš„å¼€å§‹å’Œç»“æŸï¼Œçº¿è·¯çš„çŠ¶æ€ä¿¡æ¯ç­‰ï¼‰æˆ–ä¿ç•™ã€‚</p><h3 id="äºŒ-æ•°å­—æ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·"><a href="#äºŒ-æ•°å­—æ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·" class="headerlink" title="äºŒ.æ•°å­—æ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·"></a>äºŒ.æ•°å­—æ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·</h3><p><img src="https://img-blog.csdnimg.cn/f38a4b777fc247939a1596288bd1736a.png" alt=""></p><p>æ•°å­—æ•°æ®è°ƒåˆ¶æŠ€æœ¯åœ¨å‘é€ç«¯å°†æ•°å­—ä¿¡å·è½¬æ¢ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼Œè€Œåœ¨æ¥æ”¶ç«¯å°†æ¨¡æ‹Ÿä¿¡å·è¿˜åŸä¸ºæ•°å­—ä¿¡å·ï¼Œåˆ†åˆ«å¯¹åº”äºè°ƒåˆ¶è§£è°ƒå™¨çš„è°ƒåˆ¶å’Œè§£è°ƒè¿‡ç¨‹ã€‚</p><p>æ­£äº¤æŒ¯å¹…è°ƒåˆ¶QAM</p><p><img src="https://s2.loli.net/2023/07/21/8Bu6zCmfFexcts1.png" alt=""></p><h3 id="ä¸‰-æ¨¡æ‹Ÿæ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·"><a href="#ä¸‰-æ¨¡æ‹Ÿæ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·" class="headerlink" title="ä¸‰.æ¨¡æ‹Ÿæ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·"></a>ä¸‰.æ¨¡æ‹Ÿæ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·</h3><p><img src="https://img-blog.csdnimg.cn/a8461752f95549a58d9b9c0f53911614.png" alt=""></p><h3 id="å››ã€ç¼–ç ä¸è°ƒåˆ¶çš„ç»¼è¿°ï¼š"><a href="#å››ã€ç¼–ç ä¸è°ƒåˆ¶çš„ç»¼è¿°ï¼š" class="headerlink" title="å››ã€ç¼–ç ä¸è°ƒåˆ¶çš„ç»¼è¿°ï¼š"></a>å››ã€ç¼–ç ä¸è°ƒåˆ¶çš„ç»¼è¿°ï¼š</h3><p><img src="https://img-blog.csdnimg.cn/91020adbec94455197627c412481dda1.png" alt=""></p><h1 id="ç¬¬ä¸‰ç« ï¼šæ•°æ®é“¾è·¯å±‚"><a href="#ç¬¬ä¸‰ç« ï¼šæ•°æ®é“¾è·¯å±‚" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šæ•°æ®é“¾è·¯å±‚"></a>ç¬¬ä¸‰ç« ï¼šæ•°æ®é“¾è·¯å±‚</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p><img src="https://img-blog.csdnimg.cn/cd4e2f3397c448c0a7d85198b9e6a486.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/cc7b9077368f41978b60e0b14a7702a3.png" alt=""></p><p>æ•°æ®é“¾è·¯å±‚åœ¨ä¼ è¾“æ•°æ®çš„æ—¶å€™ï¼Œæ·»åŠ é¦–å’Œå°¾ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/bd707318c33243c5a6db23483db7fe34.png" alt=""></p><p>ç§°ä¸ºæ•°æ®é“¾è·¯å±‚åè®®é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç®€ç§°å¸§å¤´å’Œå¸§å°¾ã€‚è¿™ä¸ªåŠ¨ä½œå«åšå°è£…æˆå¸§ã€‚</p><p><img src="https://img-blog.csdnimg.cn/ff2f7925bb6d442997320ef7ade2ec7e.png" alt=""></p><h2 id="å¸§å®šç•Œï¼š"><a href="#å¸§å®šç•Œï¼š" class="headerlink" title="å¸§å®šç•Œï¼š"></a>å¸§å®šç•Œï¼š</h2><p><img src="https://img-blog.csdnimg.cn/8f8d009b0ca444ac8fa20a94122a99c6.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/d5abeaea1d9d43888f1c5f0e61f17e7b.png" alt=""></p><p>å¦‚æœä¼ è¾“æ•°æ®é‡Œé¢æ­£å¥½åŒ…å«äº†å¸§å®šç•Œç¬¦ï¼Œæ•°æ®é“¾è·¯å±‚ä¼šåœ¨ä¸æ˜¯å¸§å®šç•Œç¬¦åŠ ä¸Šè½¬ä¹‰å­—ç¬¦ï¼Œé˜²æ­¢å‡ºç°è¯¯åˆ¤ï¼Œè®¤ä¸ºæ•°æ®ä¼ è¾“ç»“æŸäº†ã€‚</p><h2 id="å·®é”™æ£€æµ‹ï¼šå¥‡å¶æ ¡éªŒï¼ˆè®¡ç»„ï¼‰"><a href="#å·®é”™æ£€æµ‹ï¼šå¥‡å¶æ ¡éªŒï¼ˆè®¡ç»„ï¼‰" class="headerlink" title="å·®é”™æ£€æµ‹ï¼šå¥‡å¶æ ¡éªŒï¼ˆè®¡ç»„ï¼‰"></a>å·®é”™æ£€æµ‹ï¼šå¥‡å¶æ ¡éªŒï¼ˆè®¡ç»„ï¼‰</h2><h3 id="å¥‡å¶æ ¡éªŒ"><a href="#å¥‡å¶æ ¡éªŒ" class="headerlink" title="å¥‡å¶æ ¡éªŒ"></a>å¥‡å¶æ ¡éªŒ</h3><p><img src="https://img-blog.csdnimg.cn/6ea616730ac444fb82dde9478fed1ee7.png" alt=""></p><h3 id="å¾ªç¯å†—ä½™æ ¡éªŒCRC"><a href="#å¾ªç¯å†—ä½™æ ¡éªŒCRC" class="headerlink" title="å¾ªç¯å†—ä½™æ ¡éªŒCRC"></a>å¾ªç¯å†—ä½™æ ¡éªŒCRC</h3><p><img src="https://img-blog.csdnimg.cn/35f5a4bd4a494d55ad4d251a102ce47b.png" alt=""></p><h2 id="å¯é ä¼ è¾“çš„åŸºæœ¬æ¦‚å¿µ"><a href="#å¯é ä¼ è¾“çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="å¯é ä¼ è¾“çš„åŸºæœ¬æ¦‚å¿µ"></a>å¯é ä¼ è¾“çš„åŸºæœ¬æ¦‚å¿µ</h2><p>é¦–å…ˆç›´åˆ°æœ‰ä¸¤ç§æœåŠ¡ï¼šä¸å¯é æœåŠ¡ï¼ˆä¸¢å¼ƒè¯¯ç çš„å¸§ï¼‰å’Œå¯é æœåŠ¡ï¼ˆä¸ä¼šä¸¢å¼ƒï¼‰ã€‚</p><p><img src="https://img-blog.csdnimg.cn/38b202e85d6c497a91ded7ddeb8e83b1.png" alt=""></p><p>å¯é ä¼ è¾“çš„å¼€é”€æ¯”è¾ƒå¤§ï¼Œè¦æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚</p><h2 id="SWåè®®ï¼šStop-and-Waitï¼ˆåœæ­¢ç­‰å¾…åè®®ï¼‰"><a href="#SWåè®®ï¼šStop-and-Waitï¼ˆåœæ­¢ç­‰å¾…åè®®ï¼‰" class="headerlink" title="SWåè®®ï¼šStop and Waitï¼ˆåœæ­¢ç­‰å¾…åè®®ï¼‰"></a>SWåè®®ï¼šStop and Waitï¼ˆåœæ­¢ç­‰å¾…åè®®ï¼‰</h2><p>ACKæ˜¯æ­£ç¡®æ— è¯¯çš„æ”¶åˆ°å‘é€æ–¹çš„å…¨éƒ¨æ•°æ®ä¹‹åæ¥æ”¶æ–¹çš„å›åº”ï¼Œåˆ™NAKæ˜¯å‡ºç°è¯¯ç çš„å›åº”ï¼Œä¸¢å¼ƒè¯¥æ•°æ®ã€‚</p><p>ç‰¹æ®Šæƒ…å†µï¼šæ¯æ¬¡çš„æ•°æ®ä¼ è¾“ï¼Œå‘é€æ–¹éƒ½ä¼šå¯åŠ¨ä¸€ä¸ªè¶…æ—¶è®¡æ•°å™¨ï¼Œå¦‚æœDATAåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å‡ºç°ä¸¢å¤±ï¼Œç­‰å¾…æ—¶é—´æ“è¿‡äº†é‡ä¼ æ—¶é—´ï¼Œå‘é€æ–¹å°±ä¼šé‡æ–°å‘é€ï¼Œè¿™å°±å«åšè¶…æ—¶é‡ä¼ ã€‚è§£å†³æ¥æ”¶æ–¹æ”¶ä¸åˆ°åˆ†ç»„çš„æƒ…å†µï¼šè®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ•°å™¨ï¼Œå¦‚æœè¶…è¿‡äº†æœ€å¤§çš„é‡ä¼ æ—¶é—´ï¼Œå‘é€æ–¹é‡ä¼ ï¼ˆè¶…æ—¶é‡ä¼ ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://img-blog.csdnimg.cn/5ce2c9974adb400ab437215aa0c88dd8.png" alt=""></p><p>ä¸ºäº†å…‹æœåœæ­¢ç­‰å¾…åè®®çš„ä¿¡é“åˆ©ç”¨ç‡ä½çš„ç¼ºç‚¹ï¼Œå°±äº§ç”Ÿäº†å¦å¤–ä¸¤ç§åè®®ï¼šåé€€Nå¸§åè®®ã€é€‰æ‹©é‡ä¼ åè®®</p><p><img src="https://img-blog.csdnimg.cn/7af198b8d611413fa2a3b20225bd03aa.png" alt=""></p><p>æ€»ç»“ï¼šå„ç§å¯èƒ½å‡ºç°çš„é—®é¢˜çš„æè¿°ä¸è§£å†³ã€‚</p><p><img src="https://img-blog.csdnimg.cn/9783f5fa0eb04a92ba3613b9acf195e0.png" alt=""></p><h2 id="å›é€€Nå¸§åè®®ï¼šGBNåè®®"><a href="#å›é€€Nå¸§åè®®ï¼šGBNåè®®" class="headerlink" title="å›é€€Nå¸§åè®®ï¼šGBNåè®®"></a>å›é€€Nå¸§åè®®ï¼š<a href="https://zhuanlan.zhihu.com/p/405573476">GBNåè®®</a></h2><p>å¦‚æœå‘é€æ–¹åœ¨æ”¶åˆ°ACKä¹‹å‰ï¼Œå¯ä»¥è¿ç»­å‘é€å¤šä¸ªDATAï¼Œåˆ™å¯ä»¥å¤§å¤§æé«˜ä¿¡é“åˆ©ç”¨ç‡ï¼Œè¿™æ˜¯ä¸€ç§æµæ°´çº¿å¼çš„ä¼ è¾“ã€‚è¿™ä¸ªåè®®åˆ©ç”¨ä¼ è¾“çª—å£ï¼Œæ¥é™åˆ¶å‘é€æ–¹å’Œè¿ç»­å‘é€åˆ†ç»„ä¸ªæ•°ã€‚</p><p>é‡‡ç”¨çš„æ˜¯ç´¯è®¡ç¡®è®¤çš„æ–¹å¼:æ¥æ”¶æ–¹ä¸ä¸€å®šè¦å¯¹æ”¶åˆ°çš„æ•°æ®åˆ†ç»„é€ä¸ªå‘é€ç¡®è®¤ï¼Œè€Œæ˜¯å¯ä»¥åœ¨æ”¶åˆ°å‡ ä¸ªæ•°æ®åˆ†ç»„åï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªæ•°æ®åˆ†ç»„å‘é€ç¡®è®¤ï¼ŒACKnè¡¨ç¤ºåºå·ä¸ºnåŠä»¥å‰çš„æ‰€æœ‰æ•°æ®åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ¥æ”¶ã€‚</p><p>åœ¨æœ‰å·®é”™çš„æƒ…å†µä¸‹ï¼šæ¥æ”¶æ–¹åˆ©ç”¨æ£€é”™ç å‘ç°è¿™ä¸ªæ•°æ®åˆ†ç»„ä¸­æœ‰æ•°æ®å‡ºé”™äº†ï¼Œå°±ä¸¢å¼ƒè¿™ä¸ªæ•°æ®ï¼Œè¿™æ ·å°±ä¼šè®©æ¥ä¸‹æ¥æ¥å—çš„æ•°æ®åºå·ä¸æ¥å—çª—å£çš„åºå·ä¸åŒ¹é…ï¼Œè¿™æ ·å°±è¦æŠŠè¿™ä¸€ç»„çš„å…¶ä»–æ•°æ®ä¹Ÿä¸¢å¼ƒï¼ˆå›é€€Nå¸§çš„ç”±æ¥ï¼‰ï¼Œå…¨éƒ¨é‡æ–°å‘é€ã€‚é‡æ–°å‘é€å¯ä»¥ç­‰è¶…æ—¶è®¡æ•°å™¨è¶…æ—¶ä¹Ÿå¯ä»¥æ ¹æ®å›ä¼ çš„é‡å¤ä¿¡å·ACKnã€‚</p><p><img src="https://img-blog.csdnimg.cn/b7ecdea1a6fb4756b412ad01e3973641.png" alt=""></p><p>æ€»ç»“ï¼šç´¯è®¡ç¡®è®¤ã€‚æ¥æ”¶æ–¹å‘é€ACKNä»£è¡¨å‰é¢Nï¼ˆåŒ…æ‹¬Nï¼‰ä¸ªå¸§éƒ½æ”¶åˆ°äº†ï¼Œä½†æ˜¯å¦‚æœä¸­é—´å‡ºç°äº†ä¸¢å¤±ï¼Œé‡ä¼ äº†ï¼Œå°±ä¼šæŠŠå‘é€çª—å£å†…çš„éƒ½ä¸¢å¼ƒé‡ä¼ ã€‚</p><p><img src="https://img-blog.csdnimg.cn/065ca957ad294aeda36d771eafaa0c27.png" alt=""></p><h2 id="é€‰æ‹©é‡ä¼ åè®®ï¼šSRåè®®"><a href="#é€‰æ‹©é‡ä¼ åè®®ï¼šSRåè®®" class="headerlink" title="é€‰æ‹©é‡ä¼ åè®®ï¼šSRåè®®"></a>é€‰æ‹©é‡ä¼ åè®®ï¼š<a href="https://zhuanlan.zhihu.com/p/405575394">SRåè®®</a></h2><p>å›é€€Nå¸§åè®®çš„æ¥å—çª—å£å°ºå¯¸åªèƒ½ç­‰äº1ï¼Œå› æ­¤æ¥æ”¶æ–¹åªèƒ½æŒ‰åºæ¥å—æ­£ç¡®åˆ°è¾¾çš„DATAã€‚</p><p>ä¸ºäº†è¿›ä¸€æ­¥æå‡æ€§èƒ½ï¼Œå¯è®¾æ³•åªé‡ä¼ å‡ºç°è¯¯ç çš„æ•°æ®åˆ†ç»„ï¼Œå› æ­¤ï¼Œæ¥æ”¶çª—å£çš„å°ºå¯¸ä¸åº”è¯¥å†ç­‰äº1ï¼Œè€Œåº”è¯¥å¤§äº1ï¼Œä»¥ä¾¿æ¥æ”¶æ–¹æ”¶ä¸‹å¤±åºåˆ°è¾¾ä½†æ— è¯¯ç å¹¶ä¸”åºå·è½åœ¨æ¥æ”¶çª—å£å†…çš„DATAï¼Œç­‰åˆ°æ‰€ç¼ºåˆ†ç»„æ”¶é½åå†ä¸€èµ·é€äº¤ä¸Šå±‚ï¼Œè¿™å°±æ˜¯é€‰æ‹©é‡ä¼ åè®®ï¼ˆSelective Requestï¼‰ã€‚</p><p>æ³¨æ„ï¼šç”±äºåªé‡ä¼ å‡ºç°è¯¯ç çš„æ•°æ®åˆ†ç»„ï¼Œæ¥æ”¶æ–¹ä¸èƒ½é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼Œè¦é‡‡ç”¨é€ä¸€ç¡®è®¤ã€‚</p><p>å‘é€çª—å£å°ºå¯¸å¿…é¡»æ»¡è¶³ï¼š <img src="https://img-blog.csdnimg.cn/02e7bc17425844518916d7a2d863bb00.png" alt=""></p><p>å…¶ä¸­næ˜¯æ„æˆåˆ†ç»„åºå·çš„æ¯”ç‰¹æ•°é‡<img src="https://img-blog.csdnimg.cn/b46103aef36648c7ba2fdc7a7f592ae8.png" alt=""></p><ul><li>å¦‚æœ  ï¼šå°±æ˜¯åœæ­¢-ç­‰å¾…åè®®</li><li>å¦‚æœ  ï¼šé€ æˆæ¥æ”¶æ–¹æ— æ³•åˆ†è¾¨æ–°æ—§DATAçš„é—®é¢˜</li></ul><p>æ¥æ”¶çª—å£çš„å°ºå¯¸å¿…é¡»æ»¡è¶³ï¼š <img src="https://img-blog.csdnimg.cn/244acbd55cee453e9e7b9c2f33be9843.png" alt=""></p><ul><li><p>å¦‚æœ<img src="https://img-blog.csdnimg.cn/76892842442a4a9eb4aa4100205b9611.png" alt="">ï¼šä¸å›é€€Nå¸§åè®®ç›¸åŒ</p></li><li><p>å¦‚æœ<img src="https://img-blog.csdnimg.cn/c292ece4bb8a4ddd9c3201bab2252eab.png" alt=""> ï¼šæ— æ„ä¹‰</p></li></ul><h2 id="ç‚¹å¯¹ç‚¹åè®®ï¼ˆPoint-to-Point-Protocolï¼‰"><a href="#ç‚¹å¯¹ç‚¹åè®®ï¼ˆPoint-to-Point-Protocolï¼‰" class="headerlink" title="ç‚¹å¯¹ç‚¹åè®®ï¼ˆPoint-to-Point Protocolï¼‰"></a><a href="https://www.cnblogs.com/fudashi/p/6814652.html">ç‚¹å¯¹ç‚¹åè®®ï¼ˆPoint-to-Point Protocolï¼‰</a></h2><p>å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œ</p><p>PPPåè®®çš„ç»„æˆ</p><p><img src="https://img-blog.csdnimg.cn/2046a88462854af69800f667788bc4d5.png" alt=""></p><ul><li>å»ºç«‹ã€é…ç½®æ•°æ®é“¾è·¯è¿æ¥çš„LCPï¼ˆLink Control Protocolï¼‰+ ç½‘ç»œæ§åˆ¶åè®®NCPï¼ˆNetwork Control Protocolï¼‰+ å°†IPæ•°æ®æŠ¥å°è£…åˆ°ä¸²è¡Œé“¾è·¯çš„æ–¹æ³•</li></ul><p>è·Ÿå…¶ä»–åè®®ä¸€æ ·ï¼Œä¹Ÿè¦è§£å†³æ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼šå°è£…æˆå¸§ï¼Œé€æ˜ä¼ è¾“ï¼Œå·®é”™æ£€æµ‹ã€‚</p><h2 id="åª’ä½“æ¥å…¥æ§åˆ¶"><a href="#åª’ä½“æ¥å…¥æ§åˆ¶" class="headerlink" title="åª’ä½“æ¥å…¥æ§åˆ¶"></a>åª’ä½“æ¥å…¥æ§åˆ¶</h2><p><img src="https://img-blog.csdnimg.cn/d32143d24fb34a1f985be0df6410a948.png" alt=""></p><h2 id="ä»‹è´¨è®¿é—®æ§åˆ¶"><a href="#ä»‹è´¨è®¿é—®æ§åˆ¶" class="headerlink" title="ä»‹è´¨è®¿é—®æ§åˆ¶"></a>ä»‹è´¨è®¿é—®æ§åˆ¶</h2><p>ã€€ã€€ä»‹è´¨è®¿é—®æ§åˆ¶å°±æ˜¯é‡‡å–ä¸€å®šçš„æªæ–½ï¼Œä½¿å¾—ä¸¤å¯¹èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ä¸ä¼šå‘ç”Ÿäº’ç›¸å¹²æ‰°çš„æƒ…å†µã€‚</p><p>ã€€ã€€ä»‹è´¨è®¿é—®æ§åˆ¶ï¼ˆå°±æ˜¯åª’ä½“æ¥å…¥æ§åˆ¶ï¼‰å¯ä»¥åˆ†ä¸ºé™æ€åˆ’åˆ†ä¿¡é“å’ŒåŠ¨æ€åˆ†é…ä¿¡é“ã€‚</p><p>ã€€ã€€ï¼ˆ1ï¼‰é™æ€åˆ’åˆ†ä¿¡é“ï¼šä¹Ÿå«ä¿¡é“åˆ’åˆ†ä»‹è´¨è®¿é—®æ§åˆ¶ï¼Œæœ‰å››ç§æ§åˆ¶çš„æ–¹æ³•ï¼Œ1ã€é¢‘åˆ†å¤šè·¯å¤ç”¨FDMï¼›2ã€æ—¶åˆ†å¤šè·¯å¤ç”¨TDMï¼›3ã€æ³¢åˆ†å¤šè·¯å¤ç”¨WDMï¼›4ã€ç åˆ†å¤šè·¯å¤ç”¨CDMã€‚</p><p>ã€€ã€€ï¼ˆ2ï¼‰åŠ¨æ€åˆ†é…ä¿¡é“ï¼Œå¯ä»¥åˆ†ä¸ºè½®è¯¢è®¿é—®æ§åˆ¶  ä»¤ç‰Œä¼ é€’åè®®ï¼›éšæœºè®¿é—®ä»‹è´¨è®¿é—®æ§åˆ¶ ALOHAåè®®ã€CSMAåè®®ã€CSMA/CDåè®®ã€CSMA/CAåè®®ã€‚</p><h3 id="1ã€é¢‘åˆ†å¤šè·¯å¤ç”¨FDM"><a href="#1ã€é¢‘åˆ†å¤šè·¯å¤ç”¨FDM" class="headerlink" title="1ã€é¢‘åˆ†å¤šè·¯å¤ç”¨FDM"></a>1ã€é¢‘åˆ†å¤šè·¯å¤ç”¨FDM</h3><p>å¤šè·¯å¤ç”¨å™¨æ¥å—æ¥è‡ªå¤šä¸ªæºçš„æ¨¡æ‹Ÿä¿¡å·ï¼Œæ¯ä¸ªä¿¡å·æœ‰è‡ªå·±ç‹¬ç«‹çš„å¸¦å®½ï¼Œä¿¡å·åœ¨é€šä¿¡çš„è¿‡ç¨‹ä¸­è‡ªå§‹è‡ªç»ˆéƒ½å ç”¨è¿™ä¸ªé¢‘å¸¦ï¼Œåœ¨åŒæ ·çš„æ—¶é—´å ç”¨ä¸åŒçš„å¸¦å®½é¢‘ç‡ï¼Œä¿¡å·è¢«ç»„åˆæˆä¸€ä¸ªå…·æœ‰æ›´å¤§å¸¦å®½çš„ä¿¡å·</p><p><img src="https://img-blog.csdnimg.cn/0f6e460c8dae4d1196e922cb0c99d28f.png" alt=""></p><h3 id="2ã€æ—¶åˆ†å¤šè·¯å¤ç”¨TDM"><a href="#2ã€æ—¶åˆ†å¤šè·¯å¤ç”¨TDM" class="headerlink" title="2ã€æ—¶åˆ†å¤šè·¯å¤ç”¨TDM"></a>2ã€æ—¶åˆ†å¤šè·¯å¤ç”¨TDM</h3><p>æ—¶åˆ†å¤šè·¯å¤ç”¨TDMï¼Œä¿¡é“åˆ†å‰²çš„æ–¹æ³•æ˜¯ä¿¡å·å ç”¨çš„æ—¶é—´ï¼Œå°†ä½¿ç”¨å¤ç”¨çš„å„è·¯ä¿¡å·åœ¨æ—¶é—´ä¸Šäº’ä¸é‡å ï¼Œåœ¨ä¼ è¾“æ—¶æŠŠæ—¶é—´åˆ†æˆå°çš„æ—¶éš™ï¼Œæ¯ä¸€æ—¶éš™ç”±å¤ç”¨çš„ä¸€ä¸ªä¿¡å·å ç”¨ã€‚</p><p><img src="https://img-blog.csdnimg.cn/f1c59e5bb03f49a69733cc1cbc4cc807.png" alt=""></p><h3 id="3ã€æ³¢åˆ†å¤šè·¯å¤ç”¨WDM"><a href="#3ã€æ³¢åˆ†å¤šè·¯å¤ç”¨WDM" class="headerlink" title="3ã€æ³¢åˆ†å¤šè·¯å¤ç”¨WDM"></a>3ã€æ³¢åˆ†å¤šè·¯å¤ç”¨WDM</h3><p><img src="https://img-blog.csdnimg.cn/151a54463c37462caadb8472f9628a66.png" alt=""></p><h3 id="4ã€ç åˆ†å¤šè·¯å¤ç”¨CDM"><a href="#4ã€ç åˆ†å¤šè·¯å¤ç”¨CDM" class="headerlink" title="4ã€ç åˆ†å¤šè·¯å¤ç”¨CDM"></a>4ã€ç åˆ†å¤šè·¯å¤ç”¨CDM</h3><p>å®ƒæ—¢å…±äº«ä¿¡é“çš„é¢‘ç‡ï¼Œä¹Ÿå…±äº«æ—¶é—´ï¼Œæ˜¯ä¸€ç§çœŸæ­£çš„åŠ¨æ€å¤ç”¨æŠ€æœ¯</p><h2 id="CSMA-CD-åè®®"><a href="#CSMA-CD-åè®®" class="headerlink" title="CSMA/CD åè®®"></a>CSMA/CD åè®®</h2><p>æ€»çº¿å±€åŸŸç½‘ä½¿ç”¨çš„åè®®ï¼šCSMA/CDåè®®ä¸ºå¸¦æœ‰å†²çªæ£€æµ‹çš„è½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®æŠ€æœ¯ï¼Œæ•°æ®é“¾è·¯å±‚ï¼Œåè®®çš„å®è´¨æ˜¯â€œè½½æ³¢ç›‘å¬â€å’Œâ€œç¢°æ’æ£€æµ‹â€ã€‚</p><p>è½½æ³¢ç›‘å¬å°±æ˜¯åˆ©ç”¨ç”µå­æŠ€æœ¯æ£€æµ‹æ€»çº¿ä¸Šæœ‰æ²¡æœ‰å…¶ä»–è®¡ç®—æœºä¹Ÿåœ¨å‘é€ã€‚è½½æ³¢ç›‘å¬å®é™…ä¸Šå°±æ˜¯æ£€æµ‹ä¿¡é“ã€‚åœ¨å‘é€å‰ï¼Œæ¯ä¸ªç«™ä¸åœåœ°æ£€æµ‹ä¿¡é“ï¼Œæ˜¯ä¸ºäº†è·å¾—å‘é€æƒï¼›åœ¨å‘é€ä¸­æ£€æµ‹ä¿¡é“ï¼Œæ˜¯ä¸ºäº†åŠæ—¶å‘ç°æœ‰æ²¡æœ‰å…¶ä»–ç«™çš„å‘é€å’Œæœ¬ç«™å‘é€çš„ç¢°æ’ï¼Œè¿™å°±æ˜¯ç¢°æ’æ£€æµ‹ã€‚æ€»ä¹‹ï¼Œè½½æ³¢ç›‘å¬æ˜¯å…¨ç¨‹éƒ½åœ¨è¿›è¡Œçš„ã€‚</p><p>ç¢°æ’æ£€æµ‹å°±æ˜¯è¾¹å‘é€è¾¹ç›‘å¬ã€‚å°±æ˜¯ç½‘å¡è¾¹å‘é€æ•°æ®è¾¹æ£€æµ‹æ–°å²›ä¸Šçš„ä¿¡å·ç”µå‹çš„å˜åŒ–æƒ…å†µï¼Œä»¥ä¾¿åˆ¤æ–­è‡ªå·±åœ¨å‘é€æ•°æ®çš„æ—¶å€™å…¶ä»–ç«™æ˜¯å¦ä¹Ÿåœ¨å‘é€æ•°æ®ã€‚å½“å‡ ä¸ªç«™åŒæ—¶åœ¨æ€»çº¿ä¸Šå‘é€æ•°æ®æ—¶ï¼Œæ€»çº¿ä¸Šçš„ä¿¡å·ç”µå‹å˜åŒ–å¹…åº¦å°†ä¼šå¢å¤§ï¼ˆäº’ç›¸å åŠ ï¼‰ï¼Œå½“ç½‘å¡æ£€æµ‹åˆ°çš„ä¿¡å·ç”µå‹è¶…è¿‡ä¸€å®šçš„é—¨é™å€¼æ—¶ï¼Œè¯´æ˜æ€»çº¿ä¸Šè‡³å°‘æœ‰ä¸¤ä¸ªç«™åŒæ—¶åœ¨å‘é€æ•°æ®ï¼Œè¡¨æ˜äº§ç”Ÿäº†ç¢°æ’ï¼ˆå†²çªï¼‰ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸ºå†²çªæ£€æµ‹ã€‚è¿™æ—¶ï¼Œç”±äºæ¥æ”¶çš„ä¿¡å·å·²ç»è¯†åˆ«ä¸å‡ºæ¥ï¼Œæ‰€ä»¥ä»»ä½•ä¸€ä¸ªæ­£åœ¨å‘é€çš„ç«™å°±ä¼šç«‹å³åœæ­¢å‘é€æ•°æ®ï¼Œç„¶åç­‰å¾…ä¸€æ®µéšæœºäº‹ä»¶ä»¥åå†æ¬¡å‘é€ã€‚</p><p>CSMA/CD ç®—æ³•å¦‚ä¸‹</p><ul><li>å½“å¸§å‡†å¤‡å¥½æ—¶ï¼Œå‘é€ç«™æ£€æŸ¥ä¿¡é“æ˜¯ç©ºé—²è¿˜æ˜¯å¿™ç¢Œã€‚+ å¦‚æœä¿¡é“æ‹¥å¡ï¼Œè¯¥ç«™å°†ç­‰å¾…ç›´åˆ°å®ƒå˜å¾—å¯ç”¨ã€‚+ å¦‚æœä¿¡é“æ˜¯ç©ºçš„ï¼Œåˆ™ç«™å¼€å§‹ä¼ è¾“å¹¶è§‚å¯Ÿä¿¡é“æ˜¯å¦å‘ç”Ÿå†²çª+ å¦‚æœæ£€æµ‹åˆ°å†²çªï¼Œè¯¥ç«™å¯åŠ¨å†²çªè§£å†³ç¨‹åºã€‚</li></ul><p>ç«™ç‚¹é‡ç½®é‡ä¼ è®¡æ•°å™¨å¹¶å®Œæˆå¸§ä¼ è¾“ã€‚</p><p>å°½ç®¡ CSMA/CS æ£€æµ‹åˆ°å†²çªï¼Œä½†å®ƒæ²¡æœ‰å‡å°‘å†²çªæ•°é‡çš„æœºåˆ¶ã€‚å› æ­¤ï¼Œå®ƒä¸é€‚ç”¨äºå¤§å‹ç½‘ç»œï¼Œå› ä¸ºå½“æ·»åŠ æ›´å¤šç«™ç‚¹æ—¶æ€§èƒ½ä¼šå‘ˆæŒ‡æ•°çº§ä¸‹é™ã€‚</p><h2 id="CSMA-CAåè®®"><a href="#CSMA-CAåè®®" class="headerlink" title="CSMA/CAåè®®"></a>CSMA/CAåè®®</h2><p>è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥ / ç¢°æ’é¿å…åè®®ï¼ˆCarrier Sense Multiple Access With Collision Avoidanceï¼‰</p><p>CSMA/CA çš„ç®—æ³•å¦‚ä¸‹ï¼š</p><ul><li>å½“å¸§å‡†å¤‡å¥½æ—¶ï¼Œå‘é€ç«™æ£€æŸ¥ä¿¡é“æ˜¯ç©ºé—²è¿˜æ˜¯å¿™ç¢Œã€‚+ å¦‚æœé€šé“ä¸ç•…é€šï¼Œåˆ™èŠ‚ç‚¹å¼€å§‹ç­‰å¾…éšæœºæ—¶é—´é‡ï¼Œç„¶åå†æ£€æŸ¥æ˜¯å¦ç•…é€šã€‚</li></ul><p>è¿™ä¸ªç­‰å¾…æ—¶é—´è¢«ç§°ä¸ºâ€œé€€é¿å› å­â€ï¼Œå®ƒç”±é€€é¿è®¡æ•°å™¨å€’è®¡æ—¶ã€‚</p><ul><li>å¦‚æœä¿¡é“ç©ºé—²ï¼Œåˆ™ç«™ç­‰å¾…å¸§é—´é—´éš™ (IFG) æ—¶é—´ï¼Œç„¶åå‘é€å¸§ã€‚+ å®ƒåœ¨å‘é€å¸§åè®¾ç½®ä¸€ä¸ªè®¡æ—¶å™¨ã€‚+ ç„¶åè¯¥ç«™ç­‰å¾…æ¥æ”¶å™¨çš„ç¡®è®¤ã€‚</li></ul><p>å¦‚æœåœ¨å®šæ—¶å™¨è¶…æ—¶å‰æ”¶åˆ°ç¡®è®¤ï¼Œåˆ™è¡¨ç¤ºå‘é€æˆåŠŸã€‚</p><ul><li>å¦åˆ™ï¼Œå®ƒä¼šç­‰å¾…ä¸€ä¸ªå›é€€æ—¶é—´æ®µå¹¶é‡æ–°å¯åŠ¨ç®—æ³•ã€‚</li></ul><p>CMSA/CA é˜²æ­¢å†²çªã€‚å½“å®ƒç­‰å¾…ç¡®è®¤æ—¶ï¼Œæ•°æ®ä¸ä¼šä¸å¿…è¦åœ°ä¸¢å¤±ï¼Œå¹¶ä¸”é¿å…äº†æµªè´¹çš„ä¼ è¾“ã€‚CSMA/CA éå¸¸é€‚åˆæ— çº¿ä¼ è¾“ã€‚</p><h2 id="Macåœ°å€-IPåœ°å€-Arpåè®®"><a href="#Macåœ°å€-IPåœ°å€-Arpåè®®" class="headerlink" title="Macåœ°å€ IPåœ°å€ Arpåè®®"></a>Macåœ°å€ IPåœ°å€ Arpåè®®</h2><p><img src="https://img-blog.csdnimg.cn/985b1e00a3c4487ca861693bc211682e.png" alt=""></p><p>Macåœ°å€åˆç§°ä¸ºç‰©ç†åœ°å€ï¼ŒMAC åœ°å€ç”±å…­ç»„ä¸¤ä½å­—ç¬¦ç»„æˆï¼Œç”±å†’å·åˆ†éš”ã€‚æ¯”å¦‚00:1B:44:11:3A:B7ï¼Œå°±æ˜¯ä¸€ä¸ª MAC åœ°å€ã€‚å›ºåŒ–åœ¨ç½‘å¡çš„EEPROMä¸­ï¼Œæ‰€ä»¥å«åšç¡¬ä»¶åœ°å€ã€‚</p><p>IPåœ°å€ï¼šå®Œæ•´çš„ IP å¯»å€èŒƒå›´ä» 0.0.0.0 åˆ° 255.255.255.255ã€‚</p><p>æ•°æ®åŒ…çš„è½¬å‘ï¼šæ•°æ®åŒ…åœ¨è½¬å‘è¿‡ç¨‹ä¸­ï¼ŒæºIPåœ°å€å’Œç›®çš„IPåœ°å€å§‹ç»ˆä¿æŒä¸å˜ï¼Œè€Œæ•°æ®åœ¨æ•°æ®é“¾è·¯å±‚é€šè¿‡ARPåè®®æ‰¾åˆ°ä¸€æ¡å»å¾€ç›®çš„åœ°çš„è·¯ï¼Œå³è·¯ä¸Šè¦ç»è¿‡çš„è·¯ç”±å™¨çš„MACåœ°å€ï¼Œç»è¿‡ä¸€ä¸ªæˆ–å¤šä¸ªè·¯ç”±å™¨ï¼ˆä¸€æ¬¡åªèƒ½å¤Ÿæ‰¾åˆ°ä¸‹ä¸€æ­¥çš„MACåœ°å€ï¼Œä¸èƒ½ä¸€æ¬¡æ€§çš„æŠŠè·¯ä¸Šæ‰€æœ‰çš„MACéƒ½æ‰¾åˆ°ï¼‰ï¼Œæœ€ç»ˆäº¤ä»˜ç»™ç›®çš„åœ°ã€‚</p><p><img src="https://img-blog.csdnimg.cn/12af1a7f22e841989ec813e76d65d02f.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/7360393ad10f481c9b0cc9eec76394c6.png" alt=""></p><p><a href="https://cloud.tencent.com/developer/news/637065">ä¸€æ–‡è¯»æ‡‚ARPåè®®ï¼Œä»IPè·å–å¯¹æ–¹MACå®æ“</a> </p><h2 id="é›†çº¿å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨"><a href="#é›†çº¿å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨" class="headerlink" title="é›†çº¿å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨"></a>é›†çº¿å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨</h2><p>é›†çº¿å™¨ä»¥å¹¿æ’­æ–¹å¼å‘é€ï¼Œäº¤æ¢æœºå•ç‹¬å‘é€</p><p><img src="https://img-blog.csdnimg.cn/0010f4b68f3b4557a48c692e73a1c254.png" alt=""></p><p>é›†çº¿å™¨å¯¹æ¥æ”¶åˆ°çš„ä¿¡å·æ”¾å¤§ã€è½¬å‘ï¼Œäº¤æ¢æœºæ ¹æ®MACåœ°å€å¯¹å¸§è¿›è¡Œè½¬å‘ã€‚</p><p><img src="https://img-blog.csdnimg.cn/888ac41ce78d4aad86f0a111553c8722.png" alt=""></p><p><a href="https://www.eet-china.com/mp/a73949.html">ä¸€æ–‡è®©ä½ ææ‡‚ï¼šè·¯ç”±å™¨ï¼Œé›†çº¿å™¨ï¼Œäº¤æ¢æœºï¼Œç½‘æ¡¥ï¼Œå…‰çŒ«æœ‰å•¥åŒºåˆ«ï¼Ÿ</a></p><h2 id="ä»¥å¤ªç½‘äº¤æ¢æœºçš„è‡ªå­¦ä¹ å’Œè½¬å‘å¸§çš„æµç¨‹"><a href="#ä»¥å¤ªç½‘äº¤æ¢æœºçš„è‡ªå­¦ä¹ å’Œè½¬å‘å¸§çš„æµç¨‹" class="headerlink" title="ä»¥å¤ªç½‘äº¤æ¢æœºçš„è‡ªå­¦ä¹ å’Œè½¬å‘å¸§çš„æµç¨‹"></a>ä»¥å¤ªç½‘äº¤æ¢æœºçš„è‡ªå­¦ä¹ å’Œè½¬å‘å¸§çš„æµç¨‹</h2><p><img src="https://img-blog.csdnimg.cn/670ac883aca7420586fb8e53a850d854.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/56dccf0ac6cd4672aba092571f69f144.png" alt=""></p><h2 id="ä»¥å¤ªç½‘äº¤æ¢æœºçš„ç”Ÿæˆæ ‘åè®®"><a href="#ä»¥å¤ªç½‘äº¤æ¢æœºçš„ç”Ÿæˆæ ‘åè®®" class="headerlink" title="ä»¥å¤ªç½‘äº¤æ¢æœºçš„ç”Ÿæˆæ ‘åè®®"></a>ä»¥å¤ªç½‘äº¤æ¢æœºçš„ç”Ÿæˆæ ‘åè®®</h2><p><img src="https://img-blog.csdnimg.cn/04c2ca11663e4980982423008433654e.png" alt=""></p><h2 id="è™šæ‹Ÿå±€åŸŸç½‘VLANçš„å®ç°æœºåˆ¶"><a href="#è™šæ‹Ÿå±€åŸŸç½‘VLANçš„å®ç°æœºåˆ¶" class="headerlink" title="è™šæ‹Ÿå±€åŸŸç½‘VLANçš„å®ç°æœºåˆ¶"></a>è™šæ‹Ÿå±€åŸŸç½‘VLANçš„å®ç°æœºåˆ¶</h2><p>å¯¹ä»¥å¤ªç½‘çš„MACå¸§è¿›è¡Œäº†æ‰©å±•ï¼Œæ’å…¥äº†å››ä¸ªå­—èŠ‚çš„VLANæ ‡è®°ã€‚å½“äº¤æ¢æœºæ”¶åˆ°æ™®é€šçš„ä»¥å¤ªç½‘å¸§æ—¶ï¼Œæ’å…¥å››å­—èŠ‚çš„VLANæ ‡è®°ï¼Œè½¬å˜ä¸º802.1Qå¸§ï¼Œâ€œæ‰“æ ‡ç­¾â€ã€‚å½“äº¤æ¢æœºè½¬å‘802.1Qå¸§æ—¶ï¼Œä¼šåˆ é™¤æ ‡ç­¾ï¼Œâ€œå»æ ‡ç­¾â€ã€‚</p><p><img src="https://img-blog.csdnimg.cn/b6e72333ee944c81a7d86634295ad3fd.png" alt=""></p><p>äº¤æ¢æœºçš„Accessç«¯å£ï¼šPVIDä¸VIDç›¸ç­‰æ—¶æ‰ä¼šè½¬å‘ï¼Œç”¨äºè¿æ¥ç”¨æˆ·è®¡ç®—æœºã€‚</p><p><img src="https://img-blog.csdnimg.cn/066c241eaf2440d19b02c4536d5a2fc7.png" alt=""></p><p>Trunkç«¯å£ï¼šç”¨äºè¿æ¥äº¤æ¢æœºä¹‹é—´æˆ–è€…äº¤æ¢æœºä¸è·¯ç”±å™¨ä¹‹é—´ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2deb1f838eac45ddaf908bcbaae0155e.png" alt=""></p><p>Hybirdç«¯å£ï¼šå‘é€æ—¶æŸ¥çœ‹è¯¥å¸§æ˜¯å¦åœ¨ç«¯å£çš„å»æ ‡ç­¾åˆ—è¡¨ä¸­ï¼Œå­˜åœ¨åˆ™å»æ ‡ç­¾è½¬å‘ï¼Œå¦åˆ™ç›´æ¥è½¬å‘ï¼›æ¥å—æ—¶</p><p><img src="https://img-blog.csdnimg.cn/546a6319646a4c21a34a89b7a3e0a0d4.png" alt=""></p><p>è™šæ‹Ÿå±€åŸŸç½‘VLANçš„å®ç°æœºåˆ¶</p><p>å¯¹ä»¥å¤ªç½‘çš„MACå¸§è¿›è¡Œäº†æ‰©å±•ï¼Œæ’å…¥äº†å››ä¸ªå­—èŠ‚çš„VLANæ ‡è®°ã€‚å½“äº¤æ¢æœºæ”¶åˆ°æ™®é€šçš„ä»¥å¤ªç½‘å¸§æ—¶ï¼Œæ’å…¥å››å­—èŠ‚çš„VLANæ ‡è®°ï¼Œè½¬å˜ä¸º802.1Qå¸§ï¼Œâ€œæ‰“æ ‡ç­¾â€ã€‚å½“äº¤æ¢æœºè½¬å‘802.1Qå¸§æ—¶ï¼Œä¼šåˆ é™¤æ ‡ç­¾ï¼Œâ€œå»æ ‡ç­¾â€ã€‚</p><p><img src="https://img-blog.csdnimg.cn/f5fe83defdd34e9a82d510866262c1e4.png" alt=""></p><p>äº¤æ¢æœºçš„Accessç«¯å£ï¼šPVIDä¸VIDç›¸ç­‰æ—¶æ‰ä¼šè½¬å‘ï¼Œç”¨äºè¿æ¥ç”¨æˆ·è®¡ç®—æœºã€‚</p><p><img src="https://img-blog.csdnimg.cn/a1508fea46c24a8b939d5851412a688a.png" alt=""></p><p>Trunkç«¯å£ï¼šç”¨äºè¿æ¥äº¤æ¢æœºä¹‹é—´æˆ–è€…äº¤æ¢æœºä¸è·¯ç”±å™¨ä¹‹é—´ã€‚</p><p><img src="https://img-blog.csdnimg.cn/691a870ef6ca4d86ba6ea69e77211c55.png" alt=""></p><p>Hybirdç«¯å£ï¼šå‘é€æ—¶æŸ¥çœ‹è¯¥å¸§æ˜¯å¦åœ¨ç«¯å£çš„å»æ ‡ç­¾åˆ—è¡¨ä¸­ï¼Œå­˜åœ¨åˆ™å»æ ‡ç­¾è½¬å‘ï¼Œå¦åˆ™ç›´æ¥è½¬å‘ï¼›æ¥å—æ—¶</p><p><img src="https://img-blog.csdnimg.cn/38dd150fd262475fad714c65b9257f80.png" alt=""></p><h1 id="ç¬¬å››ç« ï¼šç½‘ç»œå±‚"><a href="#ç¬¬å››ç« ï¼šç½‘ç»œå±‚" class="headerlink" title="ç¬¬å››ç« ï¼šç½‘ç»œå±‚"></a>ç¬¬å››ç« ï¼šç½‘ç»œå±‚</h1><h2 id="IPv4åœ°å€çš„æ ¼å¼"><a href="#IPv4åœ°å€çš„æ ¼å¼" class="headerlink" title="IPv4åœ°å€çš„æ ¼å¼"></a>IPv4åœ°å€çš„æ ¼å¼</h2><p>ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ–¹æ³•ï¼š</p><p><img src="https://img-blog.csdnimg.cn/4f5c8548fc3743da887a612825744600.png" alt=""></p><p>è¾¨åˆ«ABCç±»åœ°å€</p><p><img src="https://img-blog.csdnimg.cn/f555fa48ed484a0a96e71dc7a1a9d533.png" alt=""></p><h2 id="åˆ†ç±»ç¼–åˆ¶çš„IPv4åœ°å€"><a href="#åˆ†ç±»ç¼–åˆ¶çš„IPv4åœ°å€" class="headerlink" title="åˆ†ç±»ç¼–åˆ¶çš„IPv4åœ°å€"></a>åˆ†ç±»ç¼–åˆ¶çš„IPv4åœ°å€</h2><p>å°ç»“ï¼šä¸»æœºå·å…¨é›¶æ˜¯ç½‘ç»œåœ°å€ï¼Œå…¨ä¸€æ˜¯å¹¿æ’­åœ°å€ï¼Œæ³¨æ„ABCç±»åœ°å€çš„èŒƒå›´</p><p><img src="https://img-blog.csdnimg.cn/a9a8afe218404f1ea23b42cb4d95f850.png" alt=""></p><h2 id="åˆ’åˆ†å­ç½‘çš„IPv4åœ°å€"><a href="#åˆ’åˆ†å­ç½‘çš„IPv4åœ°å€" class="headerlink" title="åˆ’åˆ†å­ç½‘çš„IPv4åœ°å€"></a>åˆ’åˆ†å­ç½‘çš„IPv4åœ°å€</h2><p>å­ç½‘æ©ç ï¼šä½¿ç”¨è¿ç»­çš„1æ¥ä»£è¡¨ç½‘ç»œå·å’Œå­ç½‘å·ï¼Œ0å¯¹åº”ä¸»æœºå·ï¼Œä¸åŸæ¥çš„ç½‘ç»œåœ°å€ç›¸ä¸å°±å¯ä»¥å¾—åˆ°ç½‘ç»œåœ°å€ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2511e43a339d4f819a2ea037f1c32875.png" alt=""></p><p>åˆ’åˆ†ç»†èŠ‚ï¼šå…¨é›¶çš„å’Œå…¨ä¸€çš„è¦å¿½ç•¥æ‰</p><p><img src="https://img-blog.csdnimg.cn/28f70672318a497db8a46837a3962ec1.png" alt=""></p><p>å°ç»“ï¼š</p><p><img src="https://img-blog.csdnimg.cn/673e396d7304422ea0b042885d425ede.png" alt=""></p><h2 id="æ— åˆ†ç±»ç¼–å€çš„åˆ’åˆ†å­ç½‘CIDR"><a href="#æ— åˆ†ç±»ç¼–å€çš„åˆ’åˆ†å­ç½‘CIDR" class="headerlink" title="æ— åˆ†ç±»ç¼–å€çš„åˆ’åˆ†å­ç½‘CIDR"></a>æ— åˆ†ç±»ç¼–å€çš„åˆ’åˆ†å­ç½‘CIDR</h2><p>åœ¨IPv4åœ°å€åé¢åŠ ä¸Šæ–œçº¿ï¼Œè¡¨ç¤ºç½‘ç»œå‰ç¼€æ‰€å çš„æ¯”ç‰¹æ•°é‡ã€‚</p><p><img src="https://img-blog.csdnimg.cn/882a3453ea464552a79e8dce6df9785f.png" alt=""></p><p>æœ€é•¿å‰ç¼€åŒ¹é…ï¼š</p><p><img src="https://img-blog.csdnimg.cn/a9393a3c29fb4a2683702f55fa792aa8.png" alt=""></p><p>ä¸¾ä¾‹è¯´æ˜ï¼š</p><p><img src="https://img-blog.csdnimg.cn/894242eb41264e69aa18392d8d32e96a.png" alt=""></p><p>ä¾‹é¢˜2ï¼š</p><p><img src="https://img-blog.csdnimg.cn/d390e4fe857d4c9fb70153f47d520bc7.png" alt=""></p><p>å°ç»“ï¼š</p><p><img src="https://img-blog.csdnimg.cn/bdc1a6541ed943c9854fa7fa1e5ae5ac.png" alt=""></p><h2 id="IPæ•°æ®æŠ¥çš„å‘é€ä¸è½¬å‘è¿‡ç¨‹"><a href="#IPæ•°æ®æŠ¥çš„å‘é€ä¸è½¬å‘è¿‡ç¨‹" class="headerlink" title="IPæ•°æ®æŠ¥çš„å‘é€ä¸è½¬å‘è¿‡ç¨‹"></a>IPæ•°æ®æŠ¥çš„å‘é€ä¸è½¬å‘è¿‡ç¨‹</h2><p>å¦‚æœåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­ï¼Œç›´æ¥äº¤ä»˜ï¼›ä¸åœ¨ï¼Œé—´æ¥äº¤ä»˜ã€‚</p><p><strong>å¦‚ä½•åˆ¤æ–­ç›®çš„ä¸»æœºä¸è‡ªå·±æ˜¯å¦åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­ï¼Ÿ</strong></p><p>å°†æœ¬æœºIPåœ°å€ä¸æœ¬æœºå­ç½‘æ©ç ç›¸ä¸å¾—åˆ°ç½‘ç»œåœ°å€ï¼Œå°†ç›®çš„ä¸»æœºIPåœ°å€ä¸æœ¬æœºå­ç½‘æ©ç ç›¸ä¸å¾—åˆ°å¦å¤–ä¸€ä¸ªç½‘ç»œåœ°å€ï¼Œçœ‹çœ‹ä¸¤ä¸ªç½‘ç»œåœ°å€æ˜¯å¦ç›¸åŒã€‚åŒï¼Œåœ¨ä¸€ä¸ªç½‘ç»œï¼›ä¸åŒåœ¨ä¸åŒçš„ç½‘ç»œã€‚</p><p><img src="https://img-blog.csdnimg.cn/1b1eccc36c9543688b2bf826d946450f.png" alt=""></p><h2 id="é™æ€è·¯ç”±é…ç½®ä»¥åŠå¯èƒ½äº§ç”Ÿçš„è·¯ç”±ç¯è·¯é—®é¢˜"><a href="#é™æ€è·¯ç”±é…ç½®ä»¥åŠå¯èƒ½äº§ç”Ÿçš„è·¯ç”±ç¯è·¯é—®é¢˜" class="headerlink" title="é™æ€è·¯ç”±é…ç½®ä»¥åŠå¯èƒ½äº§ç”Ÿçš„è·¯ç”±ç¯è·¯é—®é¢˜"></a>é™æ€è·¯ç”±é…ç½®ä»¥åŠå¯èƒ½äº§ç”Ÿçš„è·¯ç”±ç¯è·¯é—®é¢˜</h2><p>ç½‘ç»œç®¡ç†å‘˜è‡ªå·±æ‰‹åŠ¨é…ç½®è·¯ç”±è¡¨ã€‚</p><p><img src="https://img-blog.csdnimg.cn/87cc07ac8af4429b9dc01f721c7e5d26.png" alt=""></p><h2 id="å¤–éƒ¨-BGP-ä¸å†…éƒ¨-BGP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#å¤–éƒ¨-BGP-ä¸å†…éƒ¨-BGP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="å¤–éƒ¨ BGP ä¸å†…éƒ¨ BGP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>å¤–éƒ¨ BGP ä¸å†…éƒ¨ BGP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>åœ¨äº’è”ç½‘ä¸Šï¼Œè·¯ç”±äº¤æ¢å’Œæµé‡ä¼ è¾“æ˜¯é€šè¿‡å¤–éƒ¨ BGPï¼ˆeBGPï¼‰è¿›è¡Œçš„ã€‚è‡ªæ²»ç³»ç»Ÿä¹Ÿå¯ä½¿ç”¨ BGP çš„å†…éƒ¨ç‰ˆæœ¬æ¥è·¯ç”±å†…éƒ¨ç½‘ç»œä¸Šçš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ iBGPï¼ˆinternalï¼‰ã€‚åº”è¯¥æŒ‡å‡ºçš„æ˜¯ï¼Œä½¿ç”¨å†…éƒ¨ BGP å¹¶éä½¿ç”¨å¤–éƒ¨ BGP çš„å‰ææ¡ä»¶ã€‚è‡ªæ²»ç³»ç»Ÿå¯ä»å¤šç§å†…éƒ¨åè®®ä¸­é€‰æ‹©ï¼Œæ¥è¿æ¥å†…éƒ¨ç½‘ç»œä¸Šçš„è·¯ç”±å™¨ã€‚</p><p>å¤–éƒ¨ BGP å°±åƒå›½é™…è¿è¾“ã€‚åœ¨å›½é™…ä¸Šè¿é€é‚®ä»¶æ—¶ï¼Œéœ€è¦éµå¾ªç‰¹å®šçš„æ ‡å‡†å’Œè§„åˆ™ã€‚é‚®ä»¶åˆ°è¾¾ç›®çš„åœ°å›½å®¶åï¼Œå¿…é¡»é€šè¿‡ç›®çš„åœ°å›½å®¶çš„æœ¬åœ°é‚®æ”¿æœåŠ¡æ‰èƒ½è¾¾åˆ°å…¶æœ€ç»ˆç›®çš„åœ°ã€‚æ¯ä¸ªå›½å®¶éƒ½æœ‰è‡ªå·±çš„å†…éƒ¨é‚®æ”¿æœåŠ¡ï¼Œä¸å¿…éµå¾ªå…¶ä»–å›½å®¶çš„ç›¸åŒè§„åˆ™ã€‚åŒæ ·ï¼Œæ¯ä¸ªè‡ªæ²»ç³»ç»Ÿéƒ½å¯ä»¥æœ‰è‡ªå·±çš„å†…éƒ¨è·¯ç”±åè®®ï¼Œç”¨äºè·¯ç”±è‡ªèº«ç½‘ç»œå†…éƒ¨çš„æ•°æ®ã€‚</p><h2 id="å†…éƒ¨ç½‘å…³åè®®ï¼šè·¯ç”±ä¿¡æ¯åè®®RIPçš„åŸºæœ¬å·¥ä½œåŸç†"><a href="#å†…éƒ¨ç½‘å…³åè®®ï¼šè·¯ç”±ä¿¡æ¯åè®®RIPçš„åŸºæœ¬å·¥ä½œåŸç†" class="headerlink" title="å†…éƒ¨ç½‘å…³åè®®ï¼šè·¯ç”±ä¿¡æ¯åè®®RIPçš„åŸºæœ¬å·¥ä½œåŸç†"></a>å†…éƒ¨ç½‘å…³åè®®ï¼šè·¯ç”±ä¿¡æ¯åè®®RIPçš„åŸºæœ¬å·¥ä½œåŸç†</h2><p>RIPçš„è·¯ç”±æ¡ç›®çš„æ›´æ–°è§„åˆ™ï¼Œå…ˆåŠ 1ï¼Œç„¶åé€æ¸æ›´æ–°</p><p><img src="https://img-blog.csdnimg.cn/c124805b378f4c61a971f52a755a66ba.png" alt=""></p><p>ä½¿ç”¨è·³æ•°æ¥è¡¡é‡åˆ°è¾¾ç›®çš„ç½‘ç»œçš„è·ç¦»ï¼Œnext hopï¼Œä¸‹ä¸€è·³</p><p><img src="https://img-blog.csdnimg.cn/9961223a7ffd40939ab535a9495b31bd.png" alt=""></p><h2 id="å¹¿æ’­åŸŸä¸å†²çªåŸŸ"><a href="#å¹¿æ’­åŸŸä¸å†²çªåŸŸ" class="headerlink" title="å¹¿æ’­åŸŸä¸å†²çªåŸŸ"></a>å¹¿æ’­åŸŸä¸å†²çªåŸŸ</h2><p>ä¸€ä¸ªé›†çº¿å™¨ï¼ˆä¸­ç»§å™¨ï¼‰è¿æ¥çš„ç½‘ç»œæˆä¸ºå†²çªåŸŸï¼Œå› ä¸ºæ¯å°ä¸»æœºéƒ½è¿æ¥åœ¨äº†åŒä¸€æ¡çº¿è·¯ä¸Šï¼Œæ‰€ä»¥ä¼ é€ä¿¡æ¯æ—¶ä¼šå†²çªã€‚<strong>å†²çªåŸŸæ˜¯åŸºäºç¬¬ä¸€å±‚(ç‰©ç†å±‚)</strong></p><p>è€Œäº¤æ¢æœºçš„æœ¬è´¨æ˜¯ä¸€ä¸ªå¤šå€Ÿå£ç½‘æ¡¥ï¼Œå°±æ˜¯è¯´ç”±äº¤æ¢æœºç»„æˆçš„ç½‘ç»œä¸­ï¼Œä»»æ„ä¸¤å°ä¸»æœºé€šä¿¡éƒ½æ˜¯é€šè¿‡ä¸€æ¡ä¸“æœ‰çº¿è·¯ï¼Œæ•…ä¸ä¼šå†²çªã€‚æ‰€ä»¥äº¤æ¢æœºå‡ºæ¥çš„æ¯ä¸ªæ¥å£éƒ½æ˜¯ä¸€ä¸ªå†²çªåŸŸã€‚<strong>å¹¿æ’­åŸŸæ˜¯åŸºäºç¬¬äºŒå±‚(é“¾è·¯å±‚)</strong></p><p>é€šå¸¸ä¸€ä¸ªå±€åŸŸç½‘VLANç®—ä¸€ä¸ªå¹¿æ’­åŸŸï¼Œæ•…è·¯ç”±å™¨çš„æ¯ä¸ªç«¯å£äº§ç”Ÿä¸€ä¸ªå¹¿æ’­åŸŸã€‚</p><h2 id="å¼€æ”¾æœ€çŸ­è·¯å¾„OSPFçš„åŸºæœ¬å·¥ä½œåŸç†"><a href="#å¼€æ”¾æœ€çŸ­è·¯å¾„OSPFçš„åŸºæœ¬å·¥ä½œåŸç†" class="headerlink" title="å¼€æ”¾æœ€çŸ­è·¯å¾„OSPFçš„åŸºæœ¬å·¥ä½œåŸç†"></a>å¼€æ”¾æœ€çŸ­è·¯å¾„OSPFçš„åŸºæœ¬å·¥ä½œåŸç†</h2><p>åœ¨è‡ªæ²»ç³»ç»ŸASä¸­å¯ä»¥é€šè¿‡OSPFå°†å…¶åˆ’åˆ†æˆæ›´å°çš„åŒºåŸŸã€‚</p><p><img src="https://img-blog.csdnimg.cn/ce148a6ff01b4569b374611147313b1d.png" alt=""></p><h3 id="OSPFåœ¨å¤šç‚¹æ¥å…¥ç½‘ç»œä¸­è·¯ç”±é‚»å±…å…³ç³»çš„å»ºç«‹"><a href="#OSPFåœ¨å¤šç‚¹æ¥å…¥ç½‘ç»œä¸­è·¯ç”±é‚»å±…å…³ç³»çš„å»ºç«‹" class="headerlink" title="OSPFåœ¨å¤šç‚¹æ¥å…¥ç½‘ç»œä¸­è·¯ç”±é‚»å±…å…³ç³»çš„å»ºç«‹"></a>OSPFåœ¨å¤šç‚¹æ¥å…¥ç½‘ç»œä¸­è·¯ç”±é‚»å±…å…³ç³»çš„å»ºç«‹</h3><p>é€‰ä¸¾æŒ‡å®šè·¯ç”±å™¨DRå’Œå¤‡ç”¨çš„æŒ‡å®šè·¯ç”±å™¨BDRï¼Œå‡å°‘ç½‘ç»œä¸­é‚»å±…å…³ç³»ä¹‹é—´çš„é—®å€™åˆ†ç»„ï¼ˆHelloåˆ†ç»„ï¼‰</p><p><img src="https://s2.loli.net/2023/07/24/KhRbkJlWF6VernL.png" alt="image-20230724165601768"></p><h3 id="OSPFå°ç»“"><a href="#OSPFå°ç»“" class="headerlink" title="OSPFå°ç»“"></a>OSPFå°ç»“</h3><p><img src="https://img-blog.csdnimg.cn/e772b21b41f04d1f9b6765cf985cfb36.png" alt=""></p><h2 id="è¾¹ç•Œç½‘å…³åè®®BGP"><a href="#è¾¹ç•Œç½‘å…³åè®®BGP" class="headerlink" title="è¾¹ç•Œç½‘å…³åè®®BGP"></a>è¾¹ç•Œç½‘å…³åè®®BGP</h2><p>BGPæ˜¯æ‰¾åˆ°æœ‰è·¯å¾„å°±å¯ä»¥ï¼Œä¸ç”¨å»æ‰¾æœ€ä½³çš„è·¯ç”±ã€‚</p><p><img src="https://img-blog.csdnimg.cn/852d8062d30a45969c981b765eaa9d47.png" alt=""></p><p>ä¾‹é¢˜ï¼š</p><p><img src="https://img-blog.csdnimg.cn/029ca4afc3144ab9ba44a69539f70932.png" alt=""></p><p>å°ç»“ï¼š</p><p><img src="https://img-blog.csdnimg.cn/bd44fdb4680141fb8f2ed835a5713968.png" alt=""></p><h2 id="IPVv4æ•°æ®æŠ¥çš„æ ¼å¼"><a href="#IPVv4æ•°æ®æŠ¥çš„æ ¼å¼" class="headerlink" title="IPVv4æ•°æ®æŠ¥çš„æ ¼å¼"></a>IPVv4æ•°æ®æŠ¥çš„æ ¼å¼</h2><p>TTLå­—æ®µçš„ä½œç”¨ï¼šé˜²æ­¢IPæ•°æ®æŠ¥åœ¨ç½‘ç»œä¸­æ°¸ä¹…å…œåœˆã€‚</p><p>å¦‚ä¸‹å›¾å°†R2çš„é™æ€è·¯ç”±è¡¨é…ç½®é”™äº†ï¼Œå¯¼è‡´è¦è½¬å‘ç»™R3çš„è½¬å‘ç»™äº†R1ï¼Œé€ æˆè·¯ç”±ç¯è·¯ã€‚</p><p><img src="https://img-blog.csdnimg.cn/bc99ba4e538a411085020b799467e526.png" alt=""></p><p>å½“IPæ•°æ®æŠ¥ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨çš„æ—¶å€™ï¼šTTLå­—æ®µå‡ä¸€ï¼Œé¦–éƒ¨æ£€éªŒå’Œéœ€è¦æ›´æ”¹ï¼Œå¦‚æœIPæ•°æ®æŠ¥è¿‡å¤§ï¼Œå¤§äºMTUï¼ˆæœ€å¤§æ•°æ®æŠ¥å•å…ƒï¼‰ï¼Œåˆ™è¦é‡æ–°åˆ†ç‰‡ï¼Œæ ‡å¿—å­—æ®µã€æ€»é•¿åº¦å­—æ®µã€ç‰‡ä½ç§»å­—æ®µéƒ½è¦ä¿®æ”¹ã€‚</p><p><img src="https://img-blog.csdnimg.cn/5c0ea351cc244fa895481c3c59f08e90.png" alt=""></p><h2 id="ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ICMP"><a href="#ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ICMP" class="headerlink" title="ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ICMP"></a>ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ICMP</h2><p>é€šè¿‡ICMPæ¥å‘é€å·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’Œè¯¢é—®æŠ¥æ–‡ï¼ŒICMPæŠ¥æ–‡è¢«å°è£…åœ¨IPæ•°æ®æŠ¥ä¸­å‘é€å‡ºå»ï¼Œæœ‰äº”ç§å·®é”™æŠ¥æ–‡ã€‚</p><p>ICMPçš„åº”ç”¨ï¼šPINGã€tracerouteï¼ˆTTLä»1å¼€å§‹ï¼Œåˆ°äº†ä¸€ä¸ªä¸­é—´çš„ç«™ç‚¹ï¼Œå‘é€ä¸€ä¸ªæ—¶é—´è¶…è¿‡æŠ¥æ–‡ï¼‰</p><p><img src="https://img-blog.csdnimg.cn/e686be839f394ae7bccfbc3c3e2404a7.png" alt=""></p><h2 id="ç½‘ç»œåœ°å€è½¬æ¢NATå’Œè™šæ‹Ÿä¸“ç”¨ç½‘VPN"><a href="#ç½‘ç»œåœ°å€è½¬æ¢NATå’Œè™šæ‹Ÿä¸“ç”¨ç½‘VPN" class="headerlink" title="ç½‘ç»œåœ°å€è½¬æ¢NATå’Œè™šæ‹Ÿä¸“ç”¨ç½‘VPN"></a>ç½‘ç»œåœ°å€è½¬æ¢NATå’Œè™šæ‹Ÿä¸“ç”¨ç½‘VPN</h2><p>åˆ©ç”¨ç«¯å£å·å’ŒIPåœ°å€ä¸€èµ·æ”¾å…¥è½¬æ¢è¡¨ä¸­ï¼Œè¿™æ ·å¯ä»¥æå¤§ç¨‹åº¦çš„åˆ©ç”¨ä¸€ä¸ªåˆ†é…IPåœ°å€è·¯ç”±å™¨ä¸å¤šä¸ªä¸»æœºçš„å¤šä¸ªæœåŠ¡ä¹‹é—´é€šä¿¡ã€è½¬å‘ï¼Œå‡ç¼“IPåœ°å€çš„ä½¿ç”¨ã€‚</p><p><img src="https://img-blog.csdnimg.cn/7603516f32f641f28dd366cc80dcfbc0.png" alt=""></p><p>ä¸¤ä¸ªç§æœ‰çš„ç½‘é€šè¿‡å…¬æœ‰çš„å› ç‰¹ç½‘è¿›è¡Œé€šä¿¡ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå°†åŸå§‹çš„æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œç„¶åå°†å…¶å°è£…ï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚</p><p>å¤–åœ°å‘˜å·¥è¿å†…ç½‘ï¼Œåˆ©ç”¨ä¸“æœ‰çš„è½¯ä»¶ï¼Œè¿œç¨‹æ¥å…¥VPN</p><p><img src="https://img-blog.csdnimg.cn/5b0d54007dd2445797b0a044e4fb3548.png" alt=""></p><h2 id="ç§»åŠ¨IPæŠ€æœ¯"><a href="#ç§»åŠ¨IPæŠ€æœ¯" class="headerlink" title="ç§»åŠ¨IPæŠ€æœ¯"></a>ç§»åŠ¨IPæŠ€æœ¯</h2><p>é€šä¿—çš„è§£é‡Šï¼šå½’å±ä»£ç†å°±ç›¸å½“äºä½ è€å®¶çš„é‚®å±€ï¼Œå¤–åœ°ä»£ç†å°±ç›¸å½“äºä½ å…¬å¸çš„é‚®å±€ï¼Œä½ å¯èƒ½æ¢ä¸åŒå…¬å¸ï¼Œä½†ä½ çš„è€åŒå­¦ç»™ä½ å¯„ä¸œè¥¿å¯ä»¥å…ˆå¯„ç»™ä½ è€å®¶ï¼Œç„¶åè½¬äº¤ç»™ä½ çš„å…¬å¸</p><p>åº”ç”¨åœºæ™¯ï¼šåœ¨ç§»åŠ¨çš„æ±½è½¦å†…ä¸‹è½½æ–‡ä»¶</p><p><img src="https://s2.loli.net/2023/07/24/eyLmW7UwtFj6Tvp.png" alt="image-20230724173809610"></p><h1 id="ç¬¬äº”ç« ï¼šè¿è¾“å±‚"><a href="#ç¬¬äº”ç« ï¼šè¿è¾“å±‚" class="headerlink" title="ç¬¬äº”ç« ï¼šè¿è¾“å±‚"></a>ç¬¬äº”ç« ï¼šè¿è¾“å±‚</h1><h2 id="è¿è¾“å±‚ç®€ä»‹"><a href="#è¿è¾“å±‚ç®€ä»‹" class="headerlink" title="è¿è¾“å±‚ç®€ä»‹"></a>è¿è¾“å±‚ç®€ä»‹</h2><p>é€šè¿‡è¿™ä¸€å±‚çš„å°è£…ï¼Œä¸¤ä¸ªè®¡ç®—æœºä¹‹é—´çš„é€šä¿¡å¥½åƒå˜æˆäº†å®ƒä»¬ä¹‹é—´ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„ç›´æ¥é€šä¿¡ï¼Œç«¯å£å·ä»£è¡¨äº†è¿›ç¨‹çš„æ ‡è¯†ç¬¦ï¼ˆ0-65535ï¼Œ0-2^16-1ï¼‰ã€‚</p><p><img src="https://img-blog.csdnimg.cn/d23f41ef64c040ea994c53cca10cb04d.png" alt=""></p><h2 id="è¿è¾“å±‚ç«¯å£å·ã€åˆ†ç”¨ã€å¤ç”¨çš„æ¦‚å¿µ"><a href="#è¿è¾“å±‚ç«¯å£å·ã€åˆ†ç”¨ã€å¤ç”¨çš„æ¦‚å¿µ" class="headerlink" title="è¿è¾“å±‚ç«¯å£å·ã€åˆ†ç”¨ã€å¤ç”¨çš„æ¦‚å¿µ"></a>è¿è¾“å±‚ç«¯å£å·ã€åˆ†ç”¨ã€å¤ç”¨çš„æ¦‚å¿µ</h2><p>åº”ç”¨å±‚åè®®çš„å¸¸ç”¨ç†ŸçŸ¥ç«¯å£å·ã€‚</p><p><img src="https://img-blog.csdnimg.cn/43addfd97cee4ff3981f67aa4bb4bee5.png" alt=""></p><p>ç«¯å£å·åªå…·æœ‰æœ¬åœ°æ„ä¹‰ï¼Œä¸åŒè®¡ç®—æœºä¹‹é—´çš„ç›¸åŒç«¯å£å·æ˜¯æ²¡æœ‰è”ç³»çš„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/61d88ad2e5324e12942048bdd045f7c9.png" alt=""></p><h2 id="UDPå’ŒTCPçš„å¯¹æ¯”"><a href="#UDPå’ŒTCPçš„å¯¹æ¯”" class="headerlink" title="UDPå’ŒTCPçš„å¯¹æ¯”"></a>UDPå’ŒTCPçš„å¯¹æ¯”</h2><p>UDPæ”¯æŒå•æ’­ã€å¤šæ’­ä»¥åŠå¹¿æ’­ï¼ŒTCPä»…æ”¯æŒ1å¯¹1çš„æœåŠ¡ã€‚</p><p>UDPé€‚ç”¨äºè§†é¢‘é€šè¯</p><p><img src="https://img-blog.csdnimg.cn/fbaf0c5aa964406ca1f04340c2a40573.png" alt=""></p><p>UDPé¢å‘æŠ¥æ–‡ï¼ŒTCPé¢å‘å­—èŠ‚æµã€‚</p><p><img src="https://img-blog.csdnimg.cn/0ead83be92d94f65aa5131475282148f.png" alt=""></p><p>UDPé¦–éƒ¨åªæœ‰8ä¸ªå­—èŠ‚ï¼ŒTCPé¦–éƒ¨æœ€å°‘20å­—èŠ‚ï¼Œæœ€å¤š60å­—èŠ‚ã€‚</p><p><img src="https://img-blog.csdnimg.cn/b2c80ecffebe4abdb7e1708aeed0b729.png" alt=""></p><p>å°ç»“ï¼š</p><p><img src="https://img-blog.csdnimg.cn/f9c6c942c08744dea8b0366e1593741e.png" alt=""></p><h2 id="TCPçš„æµé‡æ§åˆ¶"><a href="#TCPçš„æµé‡æ§åˆ¶" class="headerlink" title="TCPçš„æµé‡æ§åˆ¶"></a>TCPçš„æµé‡æ§åˆ¶</h2><p>è§£å†³æ­»é”æƒ…å†µçš„è®¡æ—¶å™¨ï¼šåœ¨æ¥æ”¶æ–¹å°†çª—å£ä¿®æ”¹ä¸º0æ—¶å¯åŠ¨ï¼Œ</p><p>é›¶çª—å£æ¢æµ‹æŠ¥æ–‡åœ¨rwnd=0æ—¶ä¹Ÿå¯ä»¥æ¥æ”¶ã€‚</p><p>å¤§å†™çš„ACKæ˜¯ç¡®è®¤ä¿¡å·ï¼Œè¿”å›ç»™clientï¼Œå°å†™çš„ackæ˜¯ç´¯è®¡ç¡®è®¤ï¼Œè¡¨ç¤ºackå·å­—èŠ‚ä»¥å‰çš„æ•°æ®éƒ½æ”¶åˆ°äº†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/c7f2754415d6437d9ca11ac1fdabaf3a.png" alt=""></p><p>ä¾‹é¢˜ï¼šæ³¨æ„é€šé«˜çš„æ¥å—çª—å£çš„å¤§å°æ˜¯2000å­—èŠ‚</p><p><img src="https://img-blog.csdnimg.cn/e51e63d89af14aa48df52851a904e2c8.png" alt=""></p><p>å°ç»“ï¼šæµé‡æ§åˆ¶æ˜¯ä¸ºäº†è®©å‘é€æ–¹çš„å‘é€é€Ÿåº¦ä¸è¦è¿‡å¿«ï¼Œåˆ©ç”¨çš„æ˜¯æ»‘åŠ¨çª—å£çš„æœºåˆ¶ã€‚æ¥æ”¶æ–¹å‘é€é›¶çª—å£é€šçŸ¥åï¼Œå‘é€æ–¹æ”¶åˆ°åä¼šå¯åŠ¨æŒç»­è®¡æ—¶å™¨ã€‚æ¥æ”¶æ–¹æ˜¯é€šè¿‡rwndçš„å€¼æ¥è®¾ç½®çª—å£å¤§å°ï¼Œä»è€Œå®ç°æµé‡æ§åˆ¶ã€‚</p><p><img src="https://img-blog.csdnimg.cn/82dbdd4e7c8f455aa78026c42f5059d8.png" alt=""></p><h2 id="TCPçš„æ‹¥å¡æ§åˆ¶"><a href="#TCPçš„æ‹¥å¡æ§åˆ¶" class="headerlink" title="TCPçš„æ‹¥å¡æ§åˆ¶"></a>TCPçš„æ‹¥å¡æ§åˆ¶</h2><p>æ…¢å¼€å§‹ï¼Œæ‹¥å¡é¿å…ï¼š</p><p>ç»´æŠ¤ä¸‰ä¸ªå˜é‡ï¼šæ‹¥å¡çª—å£cwndã€å‘é€çª—å£swndï¼Œæ…¢å¼€å§‹é—¨é™ssthreshã€‚</p><p><img src="https://img-blog.csdnimg.cn/4646d065760f4e4284b09047d7913e0c.png" alt=""></p><p>å¿«é‡ä¼ ç®—æ³•ï¼šä¸ç­‰å¾…è¶…æ—¶é‡ä¼ è®¡æ—¶å™¨çš„è¶…æ—¶ï¼Œè€Œæ˜¯æ”¶åˆ°äº†ä¸‰ä¸ªè¿ç»­çš„é‡å¤ç¡®è®¤å°±å°†æŠ¥æ–‡æ®µç«‹å³é‡ä¼ ã€‚</p><p><img src="https://img-blog.csdnimg.cn/c688bcccb4b34422a94ddd5bcf0fe114.png" alt=""></p><p>å¿«æ¢å¤ç®—æ³•ï¼šæ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤å°±çŸ¥é“äº†åªæ˜¯ä¸¢å¤±äº†ä¸ªåˆ«çš„æŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæ—¶å€™ä¸å¯åŠ¨æ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯æ‰§è¡Œå¿«æ¢å¤ç®—æ³•ã€‚</p><p><img src="https://img-blog.csdnimg.cn/774dd5e4144e4c518f228718ace023d3.png" alt=""></p><p>æ…¢å¼€å§‹ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œå¿«é‡ä¼ ï¼Œå¿«æ¢å¤</p><p><img src="https://img-blog.csdnimg.cn/39fcf6826f94478faf3cb0cd1f34547b.png" alt=""></p><p>TCPè¶…æ—¶é‡ä¼ æ—¶é—´çš„è®¡ç®—</p><p>RTO=RTTs+4*RTT Dï¼›</p><p>å‡ºç°è¶…æ—¶é‡ä¼ ï¼Œæ–°RTO=2*æ—§çš„RTOã€‚</p><p><img src="https://img-blog.csdnimg.cn/f80d68c1c0e44794b629796fd445b1b7.png" alt=""></p><h2 id="TCPå¯é ä¼ è¾“çš„å®ç°"><a href="#TCPå¯é ä¼ è¾“çš„å®ç°" class="headerlink" title="TCPå¯é ä¼ è¾“çš„å®ç°"></a>TCPå¯é ä¼ è¾“çš„å®ç°</h2><p>è¿”é€çª—å£çš„å‰æ²¿å’Œåæ²¿çš„ç§»åŠ¨æƒ…å†µï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/52e84af5653c470fbda5718335c16500.png" alt=""></p><p>å°ç»“ï¼šä»¥å­—èŠ‚ä¸ºå•ä½çš„æ»‘åŠ¨çª—å£æ¥å®ç°å¯é ä¼ è¾“ã€‚è€Œå¯¹äºæ²¡æœ‰æŒ‰åºåˆ°è¾¾çš„æ•°æ®çš„å¤„ç†ï¼Œæ²¡æœ‰æ˜ç¡®è§„å®šï¼Œé€šå¸¸æ˜¯å°†è¿™äº›æ•°æ®ä¸´æ—¶ä¿å­˜åœ¨æ¥æ”¶çª—å£ä¸­ã€‚</p><p><img src="https://img-blog.csdnimg.cn/dcebef6fe5124728bd3f5b81314a1220.png" alt=""></p><h2 id="TCPçš„è¿æ¥å»ºç«‹ï¼šä¸‰æ¡æ‰‹"><a href="#TCPçš„è¿æ¥å»ºç«‹ï¼šä¸‰æ¡æ‰‹" class="headerlink" title="TCPçš„è¿æ¥å»ºç«‹ï¼šä¸‰æ¡æ‰‹"></a>TCPçš„è¿æ¥å»ºç«‹ï¼šä¸‰æ¡æ‰‹</h2><p>ä¸‰æŠ¥æ–‡æ¡æ‰‹æ¥å»ºç«‹è¿æ¥ã€‚</p><p><img src="https://img-blog.csdnimg.cn/a5423c39832b4c94b230e67a968cbff2.png" alt=""></p><p>ä¸¤æ¬¡æ¡æ‰‹ä¸å¯è¡Œçš„ç¤ºæ„å›¾ï¼šå¤±æ•ˆçš„TCPè¿æ¥è¯·æ±‚åœ¨ä¸€æ®µæ—¶é—´ååˆ°è¾¾æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿä¼šè®¤ä¸ºæ˜¯ä¸€ä¸ªè¯·æ±‚ï¼Œé”™è¯¯çš„è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œä¼šæµªè´¹èµ„æºã€‚</p><p><img src="https://img-blog.csdnimg.cn/e9af9490c0164a75a51f0517b827d6da.png" alt=""></p><p>æ‰€ä»¥ç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¸æ˜¯å¤šä½™çš„ï¼›</p><p><img src="https://img-blog.csdnimg.cn/4e80798d88e84c9a89df449f55496209.png" alt=""></p><p>ä¾‹é¢˜ï¼šSYN=1 ACK=1 seq=11221 ack=11221</p><p><img src="https://img-blog.csdnimg.cn/eeffe6784ef649fa97fb915ebac7f631.png" alt=""></p><p>å°ç»“ï¼šSYN=1çš„æŠ¥æ–‡æ®µä¸èƒ½æºå¸¦æ•°æ®ã€‚</p><p><img src="https://img-blog.csdnimg.cn/d0a78f9448c34e7bb6dba8da42a83ea2.png" alt=""></p><h2 id="TCPè¿æ¥çš„é‡Šæ”¾ï¼šå››æŒ¥æ‰‹"><a href="#TCPè¿æ¥çš„é‡Šæ”¾ï¼šå››æŒ¥æ‰‹" class="headerlink" title="TCPè¿æ¥çš„é‡Šæ”¾ï¼šå››æŒ¥æ‰‹"></a>TCPè¿æ¥çš„é‡Šæ”¾ï¼šå››æŒ¥æ‰‹</h2><p>4æŠ¥æ–‡æŒ¥æ‰‹ï¼Œå®¢æˆ·ç«¯æœ€åè¿˜è¦ç»è¿‡2MSLçš„æ—¶é—´æ‰ä¼šè¿›å…¥å…³é—­çŠ¶æ€ï¼Œç¡®ä¿è¿”å›ç»™æœåŠ¡å™¨çš„ACKåˆ°è¾¾æœåŠ¡ç«¯ï¼Œä»¥åŠæ¸…ç†æ‰æ­¤æ¬¡è¿æ¥ä¸­çš„æ‰€æœ‰æŠ¥æ–‡æ®µã€‚</p><p><img src="https://img-blog.csdnimg.cn/b7a540c088e744e2b5f5c00737fce93f.png" alt=""></p><p>ä½¿ç”¨2*MSLæ—¶é—´çš„åŸå› ï¼šå½“å‡ºç°æœ€åçš„ç¡®è®¤æŠ¥æ–‡æ®µä¸¢å¤±çš„æƒ…å†µæ—¶ï¼Œè¿˜å¯ä»¥æ”¶åˆ°æœåŠ¡ç«¯çš„FINä¿¡å·ï¼Œå¦åˆ™æœåŠ¡å™¨å°±ä¼šä¸€ç›´é‡ä¼ FINæŠ¥æ–‡æ®µï¼Œè€Œæ­¤æ—¶å®¢æˆ·ç«¯å·²ç»è¿›å…¥äº†CLOSEDçŠ¶æ€ï¼Œä¸ä¼šå‘é€ACKï¼ŒæœåŠ¡ç«¯è¿™æ—¶ä¼šä¸€ç›´æ”¶ä¸åˆ°ç¡®è®¤ä¿¡å·ã€‚</p><p><img src="https://img-blog.csdnimg.cn/f2fdfceb80e44182b7f9d8ab1ff3aeb6.png" alt=""></p><p>ä¿æ´»è®¡æ—¶å™¨</p><p><img src="https://img-blog.csdnimg.cn/b051b9fec6914671a305be27606b66a6.png" alt=""></p><h2 id="TCPæŠ¥æ–‡æ®µçš„é¦–éƒ¨æ ¼å¼"><a href="#TCPæŠ¥æ–‡æ®µçš„é¦–éƒ¨æ ¼å¼" class="headerlink" title="TCPæŠ¥æ–‡æ®µçš„é¦–éƒ¨æ ¼å¼"></a>TCPæŠ¥æ–‡æ®µçš„é¦–éƒ¨æ ¼å¼</h2><p>éƒ½æœ‰20å­—èŠ‚çš„å›ºå®šé¦–éƒ¨</p><p><img src="https://img-blog.csdnimg.cn/0eed4e40c69b40f3bb4d6c84cc5dec1c.png" alt=""></p><h1 id="ç¬¬å…­ç« ï¼šåº”ç”¨å±‚"><a href="#ç¬¬å…­ç« ï¼šåº”ç”¨å±‚" class="headerlink" title="ç¬¬å…­ç« ï¼šåº”ç”¨å±‚"></a>ç¬¬å…­ç« ï¼šåº”ç”¨å±‚</h1><h2 id="B-Så’ŒP2Pæ–¹å¼"><a href="#B-Så’ŒP2Pæ–¹å¼" class="headerlink" title="B/Så’ŒP2Pæ–¹å¼"></a>B/Så’ŒP2Pæ–¹å¼</h2><p>P2Pæ–¹å¼æ˜¯ä¸¤è¾¹å¯¹ç­‰çš„ï¼Œæ²¡æœ‰å›ºå®šçš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/7791c8324f8f4e6aa6cd1d07ac087dfe.png" alt=""></p><h2 id="åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCP"><a href="#åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCP" class="headerlink" title="åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCP"></a>åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCP</h2><p>DHCPçš„å·¥ä½œè¿‡ç¨‹ï¼šä¸»è¦æœ‰å››æ­¥ï¼ŒDHCP DISCOVERã€DHCP OFFERã€DHCP REQUESTã€DHCP ACKã€‚</p><p><img src="https://img-blog.csdnimg.cn/d7332fef336047de984f5e003408675c.png" alt=""></p><p>DHCPä¸­ç»§ä»£ç†ï¼šåœ¨ä¸»æœºå‘é€å¹¿æ’­çš„DHCP DISCOVERæ—¶ï¼Œå°†è·¯ç”±å™¨å½“æˆä¸­ç»§ä»£ç†ï¼Œè®©å®ƒç»™æœåŠ¡å™¨å‘é€å•æ’­DHCP DISCOVERï¼Œè¿™æ ·ä¸»æœºå°±å¯ä»¥è·å–åˆ°IPåœ°å€åˆ†é…ã€‚å¦‚æœä¸è¿™æ ·é…ç½®ï¼Œè·¯ç”±å™¨ä¼šç›´æ¥ä¸¢å¼ƒå¹¿æ’­çš„DHCP DISCOVERã€‚</p><p><img src="https://img-blog.csdnimg.cn/d2c09e54836942e4a7aa6f732c4bd777.png" alt=""></p><p>å°ç»“ï¼š</p><p><img src="https://img-blog.csdnimg.cn/9ef3bdde05704fa482ae618afb99d432.png" alt=""></p><h2 id="åŸŸåç³»ç»ŸDNS"><a href="#åŸŸåç³»ç»ŸDNS" class="headerlink" title="åŸŸåç³»ç»ŸDNS"></a>åŸŸåç³»ç»ŸDNS</h2><p>åŸŸåçš„å±‚æ¬¡ç»“æ„ï¼šæ ‘æ ¹æ²¡æœ‰åŸŸåï¼Œé¡¶çº§ã€äºŒçº§ã€ä¸‰çº§ã€å››çº§åŸŸåã€‚</p><p><img src="https://img-blog.csdnimg.cn/ba5b4ee5d5aa4bb086a890e1c9edda80.png" alt=""></p><p>åŸŸåçš„è§£ææœ‰ä¸¤ç§ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢ã€‚</p><p><img src="https://img-blog.csdnimg.cn/e48b660d791147b49924ba1b6f107ee0.png" alt=""></p><h2 id="æ–‡ä»¶ä¼ è¾“åè®®FTP"><a href="#æ–‡ä»¶ä¼ è¾“åè®®FTP" class="headerlink" title="æ–‡ä»¶ä¼ è¾“åè®®FTP"></a>æ–‡ä»¶ä¼ è¾“åè®®FTP</h2><p>ä¸‰æ¡å‘½ä»¤ï¼Œå¯ä»¥ä¼ è¾“æ–‡ä»¶</p><p>fpt ip; //è¿æ¥FTPæœåŠ¡å™¨</p><p>get [name]//ä¸‹è½½æ–‡ä»¶</p><p>put [name]//ä¸Šä¼ æ–‡ä»¶</p><p><img src="https://img-blog.csdnimg.cn/582ded89c75f4f049cb95e424c0c6c9d.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/73a0f218414247129ba2e59b99afa3bc.png" alt=""></p><p>å°ç»“</p><p><img src="https://s2.loli.net/2023/07/25/ksQzKMjp46nIyLJ.png" alt=""></p><h2 id="ç”µå­é‚®ä»¶"><a href="#ç”µå­é‚®ä»¶" class="headerlink" title="ç”µå­é‚®ä»¶"></a>ç”µå­é‚®ä»¶</h2><p>ç®€å•é‚®ä»¶ä¼ é€åè®®SMTPï¼šsimple mail transfer protocolï¼ŒåŸºäºTCPè¿æ¥ï¼Œä½¿ç”¨ç†ŸçŸ¥ç«¯å£å·25ï¼Œåªèƒ½å‘é€ASCIIæ–‡æœ¬ã€‚</p><p><img src="https://img-blog.csdnimg.cn/1ea41adb8ef0430086ed44888eaf7f66.png" alt=""></p><p>ç”µå­é‚®ä»¶çš„æ ¼å¼ï¼šä¿¡å°å’Œå†…å®¹</p><p><img src="https://img-blog.csdnimg.cn/f7bd5712d610441ba05057b7824d35fd.png" alt=""></p><p>å°ç»“ï¼šå¸¸è§çš„é‚®ä»¶è¯»å–åè®®æœ‰POP3ã€IMAPã€‚é‚®ä»¶è¯»å–åè®®æ˜¯æŒ‡é‚®ä»¶æœåŠ¡å™¨è¯»å–é‚®ä»¶å†…å®¹çš„æ—¶å€™è¦éµå¾ªçš„åè®®ã€‚</p><p><img src="https://img-blog.csdnimg.cn/df53058638094f77b5cbbee24dabd68f.png" alt=""></p><h2 id="ä¸‡ç»´ç½‘WWW"><a href="#ä¸‡ç»´ç½‘WWW" class="headerlink" title="ä¸‡ç»´ç½‘WWW"></a>ä¸‡ç»´ç½‘WWW</h2><p>HTTPçš„æŠ¥æ–‡æ ¼å¼ï¼šåŒ…å«è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡</p><p><img src="https://img-blog.csdnimg.cn/8e9f7489cf1f4059a447c0a5da0b232e.png" alt=""></p><p>ä¸‡ç»´ç½‘ç¼“å­˜ä¸ä»£ç†æœåŠ¡å™¨ï¼šæé«˜ä¸‡ç»´ç½‘çš„æ•ˆç‡ï¼Œå‡è½»åŸå§‹æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><p><img src="https://img-blog.csdnimg.cn/531aaa4985c5495abe4b5d2e7c7222c2.png" alt=""></p><p>å°ç»“ï¼š</p><p>ä¸‡ç»´ç½‘ä½¿ç”¨ç»Ÿä¸€èµ„æºå®šä½ç¬¦URLæ¥æŒ‡å®šè‹±ç‰¹ç½‘ä¸Šçš„èµ„æºçš„ä½ç½®ï¼š</p><p>&lt;åè®®&gt;://&lt;ä¸»æœº&gt;:&lt;ç«¯å£&gt;/&lt;è·¯å¾„&gt;ï¼Œå¦‚ï¼š<a href="https://www.baidu.com/">https://www.baidu.com/</a></p><p>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œ1.0é‡‡ç”¨æ— è¿æ¥çš„æ–¹å¼ï¼Œ1.1é‡‡ç”¨æŒç»­è¿æ¥çš„æ–¹å¼</p><p>ï¼ˆkeep-aliveï¼‰ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/5f8dfed559db45589de599feb0caa3b0.png" alt=""></p><h1 id="å‚è€ƒè§†é¢‘é“¾æ¥"><a href="#å‚è€ƒè§†é¢‘é“¾æ¥" class="headerlink" title="å‚è€ƒè§†é¢‘é“¾æ¥"></a>å‚è€ƒè§†é¢‘é“¾æ¥</h1><p><a href="https://www.bilibili.com/video/BV1c4411d7jb?p=1&amp;vd_source=b99c7e40ffa0f64b68b706f2af755c8e">è®¡ç®—æœºç½‘ç»œå¾®è¯¾å ‚ï¼ˆæœ‰å­—å¹•æ— èƒŒæ™¯éŸ³ä¹ç‰ˆï¼‰</a> </p><p><a href="https://www.bilibili.com/video/BV1NT411g7n6">æ·±å…¥æµ…å‡ºè®¡ç®—æœºç½‘ç»œ å¾®è¯¾è§†é¢‘</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¿æ’­åŸŸä¸å†²çªåŸŸ</title>
      <link href="/2023/06/20/guang-bo-yu-yu-chong-tu-yu/"/>
      <url>/2023/06/20/guang-bo-yu-yu-chong-tu-yu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å¹¿æ’­åŸŸä¸å†²çªåŸŸ"><a href="#å¹¿æ’­åŸŸä¸å†²çªåŸŸ" class="headerlink" title="å¹¿æ’­åŸŸä¸å†²çªåŸŸ"></a>å¹¿æ’­åŸŸä¸å†²çªåŸŸ</h1><p> ä¸€ä¸ªé›†çº¿å™¨ï¼ˆä¸­ç»§å™¨ï¼‰è¿æ¥çš„ç½‘ç»œæˆä¸ºå†²çªåŸŸï¼Œå› ä¸ºæ¯å°ä¸»æœºéƒ½è¿æ¥åœ¨äº†åŒä¸€æ¡çº¿è·¯ä¸Šï¼Œæ‰€ä»¥ä¼ é€ä¿¡æ¯æ—¶ä¼šå†²çªã€‚ å†²çªåŸŸæ˜¯åŸºäºç¬¬ä¸€å±‚(ç‰©ç†å±‚)</p><p>è€Œäº¤æ¢æœºçš„æœ¬è´¨æ˜¯ä¸€ä¸ªå¤šå€Ÿå£ç½‘æ¡¥ï¼Œå°±æ˜¯è¯´ç”±äº¤æ¢æœºç»„æˆçš„ç½‘ç»œä¸­ï¼Œä»»æ„ä¸¤å°ä¸»æœºé€šä¿¡éƒ½æ˜¯é€šè¿‡ä¸€æ¡ä¸“æœ‰çº¿è·¯ï¼Œæ•…ä¸ä¼šå†²çªã€‚æ‰€ä»¥äº¤æ¢æœºå‡ºæ¥çš„æ¯ä¸ªæ¥å£éƒ½æ˜¯ä¸€ä¸ªå†²çªåŸŸã€‚ å¹¿æ’­åŸŸæ˜¯åŸºäºç¬¬äºŒå±‚(é“¾è·¯å±‚)</p><p>é€šå¸¸ä¸€ä¸ªå±€åŸŸç½‘VLANç®—ä¸€ä¸ªå¹¿æ’­åŸŸï¼Œæ•…è·¯ç”±å™¨çš„æ¯ä¸ªç«¯å£äº§ç”Ÿä¸€ä¸ªå¹¿æ’­åŸŸã€‚</p><p>ä¾‹é¢˜ï¼š</p><p>åœ¨ä¸‹å›¾çš„ç½‘ç»œé…ç½®ä¸­ï¼Œæ€»å…±æœ‰ï¼ˆï¼‰ä¸ªå¹¿æ’­åŸŸï¼Œï¼ˆï¼‰ä¸ªå†²çªåŸŸã€‚</p><p><img src="https://img-blog.csdnimg.cn/img_convert/58c839a3804405ab3622e4e9ded13dc3.png" alt=""></p><p>ç­”æ¡ˆæ˜¯ï¼š2ä¸ªå¹¿æ’­åŸŸï¼Œ7ä¸ªå†²çªåŸŸã€‚</p><p>è§£æï¼šæ¯ä¸ªè·¯ç”±å™¨çš„ä¸€ä¸ªç«¯å£å°±æ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸå’Œå†²çªåŸŸï¼›é›†çº¿å™¨ä¸éš”ç¦»å†²çªåŸŸ ï¼Œä¹Ÿä¸éš”ç¦»å¹¿æ’­åŸŸï¼›äº¤æ¢æœºéš”ç¦»å†²çªåŸŸï¼Œä¸éš”ç¦»å¹¿æ’­åŸŸã€‚æ‰€ä»¥è·¯ç”±å™¨æœ‰ä¸¤ä¸ªç«¯å£ï¼Œå°±æœ‰ä¸¤ä¸ªå¹¿æ’­åŸŸï¼›å·¦è¾¹æœ‰ä¸€ä¸ªå†²çªåŸŸï¼Œå³è¾¹æœ‰6ä¸ªå†²çªåŸŸï¼Œæ€»å…±7ä¸ªã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·Ÿè…¾è®¯æ¶æ„å¤§å¸ˆå­¦ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„</title>
      <link href="/2023/06/20/gen-teng-xun-jia-gou-da-shi-xue-wang-luo-kuang-jia-yu-hou-tai-jia-gou/"/>
      <url>/2023/06/20/gen-teng-xun-jia-gou-da-shi-xue-wang-luo-kuang-jia-yu-hou-tai-jia-gou/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„"><a href="#ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„" class="headerlink" title="ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„"></a>ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„</h1><h1 id="å•æœºæœåŠ¡"><a href="#å•æœºæœåŠ¡" class="headerlink" title="å•æœºæœåŠ¡"></a>å•æœºæœåŠ¡</h1><h2 id="1ã€å•æœºæœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ"><a href="#1ã€å•æœºæœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€å•æœºæœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ"></a>1ã€å•æœºæœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ</h2><p><img src="https://img-blog.csdnimg.cn/55d5b77b35c94c63a074bf1fe72bc547.png" alt=""></p><h2 id="2ã€å•æœºæœåŠ¡ï¼šåŒæ­¥é˜»å¡"><a href="#2ã€å•æœºæœåŠ¡ï¼šåŒæ­¥é˜»å¡" class="headerlink" title="2ã€å•æœºæœåŠ¡ï¼šåŒæ­¥é˜»å¡"></a>2ã€å•æœºæœåŠ¡ï¼šåŒæ­¥é˜»å¡</h2><p><img src="https://img-blog.csdnimg.cn/c06c9be4fdb84121a914af18173b0411.png" alt=""></p><h2 id="3ã€å•æœºæœåŠ¡ï¼šå¼‚æ­¥éé˜»å¡æ¡†æ¶"><a href="#3ã€å•æœºæœåŠ¡ï¼šå¼‚æ­¥éé˜»å¡æ¡†æ¶" class="headerlink" title="3ã€å•æœºæœåŠ¡ï¼šå¼‚æ­¥éé˜»å¡æ¡†æ¶"></a>3ã€å•æœºæœåŠ¡ï¼šå¼‚æ­¥éé˜»å¡æ¡†æ¶</h2><p>ä½¿ç”¨éé˜»å¡IOï¼Œæ£€æµ‹åˆ°æœ‰äº‹ä»¶</p><p>æ€§èƒ½æœ€é«˜ï¼šä¸ä¼šé˜»å¡IOï¼Œæ•°æ®æ‹·è´æœ€å°‘</p><p><img src="https://img-blog.csdnimg.cn/483f1de6bcde4b9281ff41ab37eaf348.png" alt=""></p><h2 id="4ã€å•æœºæœåŠ¡ï¼šå…¸å‹æ¡†æ¶ï¼š"><a href="#4ã€å•æœºæœåŠ¡ï¼šå…¸å‹æ¡†æ¶ï¼š" class="headerlink" title="4ã€å•æœºæœåŠ¡ï¼šå…¸å‹æ¡†æ¶ï¼š"></a>4ã€å•æœºæœåŠ¡ï¼šå…¸å‹æ¡†æ¶ï¼š</h2><p><img src="https://img-blog.csdnimg.cn/b1c58c550e9340d0bfbebb1f7b7d0c5a.png" alt=""></p><h2 id="5ã€å•æœºæœåŠ¡ï¼šåç¨‹æ¡†æ¶"><a href="#5ã€å•æœºæœåŠ¡ï¼šåç¨‹æ¡†æ¶" class="headerlink" title="5ã€å•æœºæœåŠ¡ï¼šåç¨‹æ¡†æ¶"></a>5ã€å•æœºæœåŠ¡ï¼šåç¨‹æ¡†æ¶</h2><p><img src="https://img-blog.csdnimg.cn/31fe20c831fe4b33b0b134a5128ff38d.png" alt=""></p><h2 id="6ã€å•æœºæœåŠ¡ï¼šæ–°ç©æ³•ï¼ŒNODEJSçš„é—­åŒ…"><a href="#6ã€å•æœºæœåŠ¡ï¼šæ–°ç©æ³•ï¼ŒNODEJSçš„é—­åŒ…" class="headerlink" title="6ã€å•æœºæœåŠ¡ï¼šæ–°ç©æ³•ï¼ŒNODEJSçš„é—­åŒ…"></a>6ã€å•æœºæœåŠ¡ï¼šæ–°ç©æ³•ï¼ŒNODEJSçš„é—­åŒ…</h2><p>åˆ©ç”¨ä¸Šå±‚æ¥ä¿å­˜ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸Šå±‚çš„å±€éƒ¨å˜é‡ï¼Œå›è°ƒçš„åœ°ç‹±ã€‚<br><img src="https://img-blog.csdnimg.cn/11117a7ab6fd407ba560e135ae68596f.png" alt=""></p><h2 id="7ã€å•æœºæœåŠ¡ï¼šå‡ ç§å…¸å‹æ¡†æ¶å¯¹æ¯”"><a href="#7ã€å•æœºæœåŠ¡ï¼šå‡ ç§å…¸å‹æ¡†æ¶å¯¹æ¯”" class="headerlink" title="7ã€å•æœºæœåŠ¡ï¼šå‡ ç§å…¸å‹æ¡†æ¶å¯¹æ¯”"></a>7ã€å•æœºæœåŠ¡ï¼šå‡ ç§å…¸å‹æ¡†æ¶å¯¹æ¯”</h2><p><code>nodejs</code>å¯èƒ½æ¯”å¤šçº¿ç¨‹åŒæ­¥é«˜<br><img src="https://img-blog.csdnimg.cn/ca91f235d577474f836476480ce1e930.png" alt=""></p><h2 id="8ã€å•æœºæœåŠ¡ï¼šç½‘ç»œæ¡†æ¶çš„ç›‘æ§"><a href="#8ã€å•æœºæœåŠ¡ï¼šç½‘ç»œæ¡†æ¶çš„ç›‘æ§" class="headerlink" title="8ã€å•æœºæœåŠ¡ï¼šç½‘ç»œæ¡†æ¶çš„ç›‘æ§"></a>8ã€å•æœºæœåŠ¡ï¼šç½‘ç»œæ¡†æ¶çš„ç›‘æ§</h2><p>ç›‘æ§ç‚¹å¤šä¸€ç‚¹ï¼Œå‡ºç°é—®é¢˜çš„æ—¶å€™å°±æ¯”è¾ƒå¿«çš„æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚<br><img src="https://img-blog.csdnimg.cn/139325a2cf4946a0b38c94151d912130.png" alt=""></p><h2 id="9ã€å•æœºæœåŠ¡ï¼šä»C10Ké—®é¢˜åˆ°C10Mé—®é¢˜"><a href="#9ã€å•æœºæœåŠ¡ï¼šä»C10Ké—®é¢˜åˆ°C10Mé—®é¢˜" class="headerlink" title="9ã€å•æœºæœåŠ¡ï¼šä»C10Ké—®é¢˜åˆ°C10Mé—®é¢˜"></a>9ã€å•æœºæœåŠ¡ï¼šä»C10Ké—®é¢˜åˆ°C10Mé—®é¢˜</h2><p><img src="https://img-blog.csdnimg.cn/b2a3871eb49b4fc1ade8c358631c58c7.png" alt=""></p><h2 id="10ã€å•æœºæœåŠ¡ï¼šç¥å™¨"><a href="#10ã€å•æœºæœåŠ¡ï¼šç¥å™¨" class="headerlink" title="10ã€å•æœºæœåŠ¡ï¼šç¥å™¨"></a>10ã€å•æœºæœåŠ¡ï¼šç¥å™¨</h2><p><img src="https://img-blog.csdnimg.cn/072d7bf470a24c48aa11b026356333d0.png" alt=""></p><h1 id="Cache-ç±»æœåŠ¡"><a href="#Cache-ç±»æœåŠ¡" class="headerlink" title="Cache ç±»æœåŠ¡"></a>Cache ç±»æœåŠ¡</h1><h2 id="1ã€Cacheç±»æœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ"><a href="#1ã€Cacheç±»æœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€Cacheç±»æœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ"></a>1ã€Cacheç±»æœåŠ¡ï¼šåŸºæœ¬æ¦‚å¿µ</h2><p><img src="https://img-blog.csdnimg.cn/109c7607980b4f0b9cc76c3e342419ea.png" alt=""></p><h2 id="2ã€Cacheç±»ï¼šLocal-Cache"><a href="#2ã€Cacheç±»ï¼šLocal-Cache" class="headerlink" title="2ã€Cacheç±»ï¼šLocal Cache"></a>2ã€Cacheç±»ï¼šLocal Cache</h2><p><img src="https://img-blog.csdnimg.cn/700ccc63c546415cb75bdb8357c0edba.png" alt=""></p><h2 id="3ã€Cacheç±»ï¼šåˆ†å¸ƒå¼Cache"><a href="#3ã€Cacheç±»ï¼šåˆ†å¸ƒå¼Cache" class="headerlink" title="3ã€Cacheç±»ï¼šåˆ†å¸ƒå¼Cache"></a>3ã€Cacheç±»ï¼šåˆ†å¸ƒå¼Cache</h2><p><img src="https://img-blog.csdnimg.cn/2cc03bdf362d4b5498f36feba06a82c6.png" alt=""></p><h1 id="å­˜å‚¨ç±»"><a href="#å­˜å‚¨ç±»" class="headerlink" title="å­˜å‚¨ç±»"></a>å­˜å‚¨ç±»</h1><h2 id="1ã€å­˜å‚¨ç±»ï¼šåŸºæœ¬æ¦‚å¿µ"><a href="#1ã€å­˜å‚¨ç±»ï¼šåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€å­˜å‚¨ç±»ï¼šåŸºæœ¬æ¦‚å¿µ"></a>1ã€å­˜å‚¨ç±»ï¼šåŸºæœ¬æ¦‚å¿µ</h2><p><img src="https://img-blog.csdnimg.cn/bb3e5b4c1cfd42da99ad8660782f4711.png" alt=""></p><h2 id="2ã€å­˜å‚¨ç±»ï¼šSQL"><a href="#2ã€å­˜å‚¨ç±»ï¼šSQL" class="headerlink" title="2ã€å­˜å‚¨ç±»ï¼šSQL"></a>2ã€å­˜å‚¨ç±»ï¼šSQL</h2><p><img src="https://img-blog.csdnimg.cn/e6bd6d57996b46edab4bac05c96059b7.png" alt=""></p><h2 id="3ã€å­˜å‚¨ç±»ï¼šNOSQL"><a href="#3ã€å­˜å‚¨ç±»ï¼šNOSQL" class="headerlink" title="3ã€å­˜å‚¨ç±»ï¼šNOSQL"></a>3ã€å­˜å‚¨ç±»ï¼šNOSQL</h2><p>æœ‰æŒä¹…åŒ–ä¸éæŒä¹…åŒ–çš„é€‰æ‹©ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªçŠ¶æ€ï¼Œä¸éœ€è¦è½åœ°</p><p>å¾ˆå®¹æ˜“æ‰©å±•ï¼Œå¹³è¡Œæ‰©å±•ã€‚</p><p>å¼±ä¸€è‡´æ€§</p><p>è¿œç¨‹æ•°æ®åº“redisï¼Œæ–‡æ¡£æ•°æ®åº“mongoDBã€‚<br><img src="https://img-blog.csdnimg.cn/c25102f873a24480a778b3a58da602f9.png" alt=""></p><p>while key-value ?<br><img src="https://img-blog.csdnimg.cn/fec8269f285e4e6da4a8a49bb15fc303.png" alt=""></p><p>CAPç†è®º</p><p><img src="https://img-blog.csdnimg.cn/64cedc466e6b4d6882d99ec59c83add4.png" alt=""></p><h2 id="4ã€å­˜å‚¨ç±»ï¼šå¦‚ä½•ä¸ä¸¢æ•°æ®"><a href="#4ã€å­˜å‚¨ç±»ï¼šå¦‚ä½•ä¸ä¸¢æ•°æ®" class="headerlink" title="4ã€å­˜å‚¨ç±»ï¼šå¦‚ä½•ä¸ä¸¢æ•°æ®"></a>4ã€å­˜å‚¨ç±»ï¼šå¦‚ä½•ä¸ä¸¢æ•°æ®</h2><p>master-slaveï¼šmasterå®•æœºä¹‹åï¼Œå°†slaveè½¬ä¸ºmasterã€‚</p><p>æµæ°´+å¿«ç…§ï¼š<br><img src="https://img-blog.csdnimg.cn/8ff2e265f1db4cb0a8c76eca039d4280.png" alt=""></p><h2 id="5ã€å­˜å‚¨ç±»ï¼šå…¶ä»–å­˜å‚¨"><a href="#5ã€å­˜å‚¨ç±»ï¼šå…¶ä»–å­˜å‚¨" class="headerlink" title="5ã€å­˜å‚¨ç±»ï¼šå…¶ä»–å­˜å‚¨"></a>5ã€å­˜å‚¨ç±»ï¼šå…¶ä»–å­˜å‚¨</h2><p><img src="https://img-blog.csdnimg.cn/528f7b7b26294fba8d2d7f141e4d5104.png" alt=""></p><h1 id="é€šè®¯ç±»æœåŠ¡"><a href="#é€šè®¯ç±»æœåŠ¡" class="headerlink" title="é€šè®¯ç±»æœåŠ¡"></a>é€šè®¯ç±»æœåŠ¡</h1><p><img src="https://img-blog.csdnimg.cn/93692cb56a4243d28efa848aa37650c6.png" alt=""></p><h1 id="è®¡ç®—ç±»æœåŠ¡"><a href="#è®¡ç®—ç±»æœåŠ¡" class="headerlink" title="è®¡ç®—ç±»æœåŠ¡"></a>è®¡ç®—ç±»æœåŠ¡</h1><p> <img src="https://img-blog.csdnimg.cn/70fe9f09378f46b8b1a4ffa8f09afffa.png" alt=""></p><h1 id="å¯»å€ç±»æœåŠ¡"><a href="#å¯»å€ç±»æœåŠ¡" class="headerlink" title="å¯»å€ç±»æœåŠ¡"></a>å¯»å€ç±»æœåŠ¡</h1><p><img src="https://img-blog.csdnimg.cn/03e85d73e2fd4f56b4e722c772c1afc2.png" alt=""></p><h1 id="äº‹åŠ¡ç±»æœåŠ¡"><a href="#äº‹åŠ¡ç±»æœåŠ¡" class="headerlink" title="äº‹åŠ¡ç±»æœåŠ¡"></a>äº‹åŠ¡ç±»æœåŠ¡</h1><p><img src="https://img-blog.csdnimg.cn/08d39e57acf44e27bf6d3882f0d297b4.png" alt=""></p><h1 id="å±•æœ›"><a href="#å±•æœ›" class="headerlink" title="å±•æœ›"></a>å±•æœ›</h1><p><img src="https://img-blog.csdnimg.cn/ab4c9fbdbfb343d2bf966f36f3016d72.png" alt=""></p><h1 id="è§†é¢‘é“¾æ¥"><a href="#è§†é¢‘é“¾æ¥" class="headerlink" title="è§†é¢‘é“¾æ¥"></a>è§†é¢‘é“¾æ¥</h1><p><a href="https://www.bilibili.com/video/BV1Jv41117Zu/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click&amp;vd_source=b99c7e40ffa0f64b68b706f2af755c8e">è·Ÿè…¾è®¯æ¶æ„å¤§å¸ˆå­¦ç½‘ç»œæ¡†æ¶ä¸åå°æ¶æ„_å“”å“©å“”å“©_bilibili</a></p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç³»ç»ŸåŸºç¡€æ•™ç¨‹</title>
      <link href="/2023/06/20/cao-zuo-xi-tong-ji-chu-jiao-cheng/"/>
      <url>/2023/06/20/cao-zuo-xi-tong-ji-chu-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ç¬¬äºŒç« ï¼šå¤„ç†å™¨ç®¡ç†"><a href="#ç¬¬äºŒç« ï¼šå¤„ç†å™¨ç®¡ç†" class="headerlink" title="ç¬¬äºŒç« ï¼šå¤„ç†å™¨ç®¡ç†"></a><strong>ç¬¬äºŒç« ï¼šå¤„ç†å™¨ç®¡ç†</strong></h1><p><a href="https://houbb.github.io/2020/10/04/os-03-schedule">æ“ä½œç³»ç»Ÿå­¦ä¹ (3)å¤„ç†æœºè°ƒåº¦ï¼šè°ƒåº¦çš„æ¦‚å¿µã€æ—¶æœºã€åˆ‡æ¢ã€è¿‡ç¨‹ä»¥åŠè°ƒåº¦æ–¹å¼å’ŒåŸºæœ¬å‡†åˆ™ | Echo Blog</a></p><h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><p>1ã€æŒ‡ä»¤ç³»ç»Ÿå’Œå¯„å­˜å™¨ã€‚</p><p>2ã€ç‰¹æƒæŒ‡ä»¤å’Œéç‰¹æƒæŒ‡ä»¤ï¼šç‰¹æƒæŒ‡ä»¤åªèƒ½åœ¨å†…æ ¸æ€ä½¿ç”¨ï¼Œéç‰¹æƒæŒ‡ä»¤åœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€ï¼ˆç®¡æ€å’Œç›®æ€ï¼‰éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p><p>3ã€å†…æ ¸æ€ã€ç”¨æˆ·æ€</p><p>4ã€å¤„ç†å™¨çŠ¶æ€åŠå…¶è½¬æ¢ï¼šæœ‰å‡ ç§æƒ…å†µå¯ä»¥è®©å¤„ç†å™¨ä»ç”¨æˆ·æ€è½¬ä¸ºå†…æ ¸æ€ï¼Œä¸€ã€æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œç¨‹åºè¯·æ±‚æ“ä½œç³»ç»ŸæœåŠ¡ï¼›äºŒã€ä¸­æ–­äº‹ä»¶ï¼›ä¸‰ã€äº§ç”Ÿå¼‚å¸¸ã€‚</p><p><strong>ä¸­æ–­æŠ€æœ¯ï¼š</strong>åˆ†ä¸ºå†…ä¸­æ–­ï¼ˆå‡ºç°å°±ç«‹å³æ‰§è¡Œï¼‰ï¼Œå¤–ä¸­æ–­ã€‚</p><h2 id="è¿›ç¨‹è°ƒåº¦çš„å±‚æ¬¡"><a href="#è¿›ç¨‹è°ƒåº¦çš„å±‚æ¬¡" class="headerlink" title="è¿›ç¨‹è°ƒåº¦çš„å±‚æ¬¡"></a>è¿›ç¨‹è°ƒåº¦çš„å±‚æ¬¡</h2><p><strong>æœ‰ä¸‰ç§å±‚æ¬¡ï¼š</strong></p><p>1ã€é«˜çº§è°ƒåº¦ï¼šä½œä¸šè°ƒåº¦ï¼Œå†…å­˜ä¸è¾…å­˜ä¹‹é—´çš„è°ƒåº¦</p><p>2ã€ä¸­çº§è°ƒåº¦ï¼šä¸€ç§ç¼“å†²æœºåˆ¶ï¼Œä½œç”¨æ˜¯å°†æš‚æ—¶æŒ‚èµ·çš„è¿›ç¨‹é‡æ–°è°ƒå…¥å†…å­˜è¿è¡Œã€‚è¿›ç¨‹æŒ‚èµ·å½“å†…å­˜ä¸è¶³çš„æ—¶å€™è¯¥è¿›ç¨‹ä¸è¿›å…¥å†…å­˜ï¼Œè€Œæ˜¯åœ¨å¤–å­˜ç­‰å¾…ï¼Œå³æŒ‚èµ·çŠ¶æ€ã€‚</p><p>3ã€ä½çº§è°ƒåº¦ï¼šè¿›ç¨‹/çº¿ç¨‹è°ƒåº¦ï¼Œæ˜¯æ“ä½œç³»ç»Ÿä¸­æœ€åŸºæœ¬çš„ä¸€ç§è°ƒåº¦ã€‚</p><h2 id="è¿›ç¨‹çš„è°ƒåº¦æ–¹å¼ï¼š"><a href="#è¿›ç¨‹çš„è°ƒåº¦æ–¹å¼ï¼š" class="headerlink" title="è¿›ç¨‹çš„è°ƒåº¦æ–¹å¼ï¼š"></a>è¿›ç¨‹çš„è°ƒåº¦æ–¹å¼ï¼š</h2><p>1ã€éå‰¥å¤ºå¼è°ƒåº¦ï¼Œä¸€æ—¦å¼€å§‹å°±å¿…é¡»ç­‰ä»–è¿è¡Œç»“æŸï¼Œå®ç°ç®€å•ï¼Œç³»ç»Ÿå¼€é”€å°ã€‚</p><p>2ã€å‰¥å¤ºå¼è°ƒåº¦ï¼šåœ¨æœ‰ä¼˜å…ˆçº§çš„è¿›ç¨‹æ—¶ï¼Œå¤„ç†ä¸€ä¸ªä¼˜å…ˆçº§æ›´é«˜çš„è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹å°±è¦æ˜¯å‰¥å¤ºå¼è¿›ç¨‹ï¼Œå°±æ˜¯è¦å¤„ç†æ›´åŠ ç´§æ€¥çš„è¿›ç¨‹ä»»åŠ¡ã€‚<strong>é‡†ç”¨å‰¥å¤ºå¼çš„è°ƒåº¦ï¼Œå¯¹æé«˜ç³»ç»Ÿååç‡å’Œå“åº”æ•ˆç‡éƒ½æœ‰æ˜æ˜¾çš„å¥½å¤„ã€‚</strong></p><h2 id="è°ƒåº¦çš„è¯„ä»·æ ‡å‡†ï¼š"><a href="#è°ƒåº¦çš„è¯„ä»·æ ‡å‡†ï¼š" class="headerlink" title="è°ƒåº¦çš„è¯„ä»·æ ‡å‡†ï¼š"></a>è°ƒåº¦çš„è¯„ä»·æ ‡å‡†ï¼š</h2><p>1ã€CPU åˆ©ç”¨ç‡</p><p>2ã€ç³»ç»Ÿååç‡</p><p>3ã€å‘¨è½¬æ—¶é—´ï¼šä½œä¸šå®Œæˆæ—¶é—´-ä½œä¸šåˆ°æ¥æ—¶é—´</p><p>å¹³å‡ä½œä¸šå‘¨è½¬æ—¶é—´ï¼ˆç›¸åŠ ä¹‹å’Œ/æ•°é‡ï¼‰ã€å¹³å‡å¸¦æƒä½œä¸šå‘¨è½¬æ—¶é—´=ï¼ˆå®Œæˆæ—¶é—´/æ‰€éœ€CPUæ—¶é—´+â€¦ï¼‰/size</p><p>4ã€ç­‰å¾…æ—¶é—´</p><p>5ã€å“åº”æ—¶é—´</p><h2 id="å…¸å‹çš„è°ƒåº¦ç®—æ³•ï¼š"><a href="#å…¸å‹çš„è°ƒåº¦ç®—æ³•ï¼š" class="headerlink" title="å…¸å‹çš„è°ƒåº¦ç®—æ³•ï¼š"></a>å…¸å‹çš„è°ƒåº¦ç®—æ³•ï¼š</h2><p><strong>1ã€å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•ï¼ˆFirst Come First Servedï¼ŒFCFSï¼‰ï¼š</strong>æ¯æ¬¡ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥è¯¥é˜Ÿåˆ—çš„è¿›ç¨‹ï¼Œç›´åˆ°å®Œæˆã€‚</p><p><strong>2ã€çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ï¼ˆShortest Job Firstï¼ŒSJFï¼‰ï¼š</strong>ä»åå¤‡é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–è‹¥å¹²ä¸ªä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„ä½œä¸šï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜è¿è¡Œã€‚ç”±äºä¸€ç›´é€‰åˆ™æœ€çŸ­çš„ä½œä¸šè¿è¡Œï¼Œæœ€æ—©è¿›å…¥ä½†æ˜¯è¿è¡Œæ—¶é—´é•¿çš„ä½œä¸šç­‰å¾…æ—¶é—´ä¼šå¾ˆé•¿ï¼Œ<strong>å‡ºç°é¥¥é¥¿ç°è±¡ã€‚</strong></p><p><strong>3ã€æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆç®—æ³•ï¼ˆShortest Remaining Time Firstï¼ŒSRTFï¼‰ï¼š</strong>å°†SJFæ”¹ä¸ºå‰¥å¤ºå¼ç®—æ³•å°±æˆä¸ºäº†è¯¥ç®—æ³•ã€‚</p><p><strong>3ã€ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼š</strong>ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•æ¯æ¬¡ä»åå¤‡ä½œä¸šé˜Ÿåˆ—ä¸­é€‰æ‹©ä¼˜å…ˆçº§æœ€é«™çš„ä¸€ä¸ªæˆ–å‡ ä¸ªä½œä¸šï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜ï¼Œåˆ†é…å¿…è¦çš„èµ„æºï¼Œåˆ›å»ºè¿›ç¨‹å¹¶æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ä¹Ÿåˆ†ä¸ºé™æ€ä¼˜å…ˆçº§å’ŒåŠ¨æ€ä¼˜å…ˆçº§ï¼Œé™æ€ä¼˜å…ˆçº§å¯èƒ½ä¼šé€ æˆé¥¥é¥¿ç°è±¡ï¼Œå³ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹ä¸€ç›´æ¨è¿Ÿè¿è¡Œã€‚</p><p><strong>4ã€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ï¼ˆHighest Response Radio Firstï¼ŒHRRFï¼‰ï¼š</strong>è¯¥ç®—æ³•æ˜¯å¯¹FCFSè°ƒåº¦ç®—æ³•å’ŒSJFè°ƒåº¦ç®—æ³•çš„ä¸€ç§ç»¼åˆå¹³è¡¡ï¼ŒåŒæ—¶è€ƒè™‘æ¯ä¸ªä½œä¸šçš„ç­‰å¾…æ—¶é—´å’Œä¼°è®¡çš„è¿è¡Œæ—¶é—´ã€‚åœ¨æ¯æ¬¡è¿›è¡Œä½œä¸šè°ƒåº¦æ—¶ï¼Œå…ˆè®¡ç®—åå¤‡ä½œä¸šé˜Ÿåˆ—ä¸­æ¯ä¸ªä½œä¸šçš„å“åº”æ¯”ï¼Œä»ä¸­<strong>é€‰å‡ºå“åº”æ¯”æœ€é«˜</strong>çš„ä½œä¸šæŠ•å…¥è¿è¡Œã€‚å…¶ä¸­å“åº”æ¯”=(ç­‰å¾…æ—¶é—´ + ä½œä¸šå¤„ç†æ—¶é—´) / ä½œä¸šå¤„ç†æ—¶é—´ã€‚</p><p><strong>5ã€æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼ˆRound-Robinï¼ŒRRï¼‰ï¼š</strong>åœ¨è¿™ç§ç®—æ³•ä¸­ï¼Œç³»ç»Ÿå°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰åˆ°è¾¾æ—¶é—´çš„å…ˆåæ¬¡åºæ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿›ç¨‹è°ƒåº¦ç¨‹åºæ€»æ˜¯é€‰æ‹©å°±ç»ªé˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œå³å…ˆæ¥å…ˆæœåŠ¡çš„åŸåˆ™ï¼Œä½†ä»…èƒ½è¿è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå¦‚100msï¼Œå½¢æˆä¸€ä¸ªæ—¶é—´ç¯ã€‚</p><p><strong>6ã€å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ï¼š</strong>å®ƒæ˜¯æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•å’Œä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•çš„ç»¼åˆå’Œå‘å±•ï¼Œå¤šä¸ªå°±ç»ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§ï¼Œè€Œä¸”èµ‹äºˆæ¯ä¸ªé˜Ÿåˆ—çš„æ—¶é—´ç‰‡ä¹Ÿä¸ç›¸åŒï¼Œå¦‚ç¬¬ä¸€ä¸ªé˜Ÿåˆ—çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ—¶é—´ç‰‡æœ€çŸ­ã€‚å¦‚æœæ˜¯ä¸€ä¸ªçŸ­ä½œä¸šï¼Œå®ƒåœ¨çº§åˆ«è¾ƒé«˜çš„é˜Ÿåˆ—å°±å¯ä»¥å¤„ç†å®Œï¼›å¦‚æœæ˜¯ä¸€ä¸ªé•¿ä½œä¸šï¼Œç¬¬ä¸€çº§é˜Ÿåˆ—æ²¡æœ‰å®Œæˆï¼Œå¯ä»¥è½¬åˆ°ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡æ›´é•¿çš„é˜Ÿåˆ—<strong>æœ«å°¾</strong>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><h1 id="ç¬¬ä¸‰ç« ï¼šåŒæ­¥ã€é€šä¿¡å’Œæ­»é”"><a href="#ç¬¬ä¸‰ç« ï¼šåŒæ­¥ã€é€šä¿¡å’Œæ­»é”" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šåŒæ­¥ã€é€šä¿¡å’Œæ­»é”"></a>ç¬¬ä¸‰ç« ï¼šåŒæ­¥ã€é€šä¿¡å’Œæ­»é”</h1><p><a href="https://blog.csdn.net/Shangxingya/article/details/113799732">æ“ä½œç³»ç»Ÿ~è¿›ç¨‹åŒæ­¥ä¸è¿›ç¨‹äº’æ–¥çš„æ¦‚å¿µå’Œå®ç°æ–¹å¼_Listen-Yçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="ä»€ä¹ˆæ˜¯è¿›ç¨‹åŒæ­¥ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¿›ç¨‹åŒæ­¥ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿›ç¨‹åŒæ­¥ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¿›ç¨‹åŒæ­¥ï¼Ÿ</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/6bf12302e0c526b5e63e31f3d67167c8.png" alt=""></p><p>è¯·çœ‹è¿™ä¸ªç®¡é“é€šä¿¡çš„ä¾‹å­ï¼Œæ˜¾ç„¶å¿…é¡»å…ˆå¾€é‡Œé¢å†™äº†æ•°æ®ä¹‹åï¼Œæ‰å¯ä»¥è¯»æ•°æ®ï¼Œä½†æ˜¯è¯»æ•°æ®å’Œå†™æ•°æ®æ˜¯å¼‚æ­¥å‘ç”Ÿçš„ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å®é™…çš„è¯»å†™æ•°æ®æ“ä½œè°å…ˆè°åï¼Œæ‰€ä»¥éœ€è¦ç”¨è¿›ç¨‹åŒæ­¥æ¥è§£å†³è¿™ç§é—®é¢˜ã€‚</p><p>åŒæ­¥äº¦ç§°<strong>ç›´æ¥åˆ¶çº¦å…³ç³»</strong>ï¼Œå®ƒæ˜¯æŒ‡ä¸ºå®ŒæˆæŸç§ä»»åŠ¡è€Œå»ºç«‹çš„ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹å› ä¸ºéœ€è¦åœ¨æŸäº›ä½ç½®ä¸Šåè°ƒå®ƒä»¬çš„å·¥ä½œæ¬¡åºè€Œäº§ç”Ÿçš„åˆ¶çº¦å…³ç³»ã€‚è¿›ç¨‹é—´çš„ç›´æ¥åˆ¶çº¦å…³ç³»å°±æ˜¯<strong>æºäºå®ƒä»¬ä¹‹é—´çš„ç›¸äº’åˆä½œ</strong>ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯è¿›ç¨‹äº’æ–¥ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¿›ç¨‹äº’æ–¥ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿›ç¨‹äº’æ–¥ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¿›ç¨‹äº’æ–¥ï¼Ÿ</h2><p>ä¸€å¥è¯æ¥è§£é‡Šå°±æ˜¯å¯¹å…±äº«èµ„æºï¼ˆä¹Ÿå«ä¸´ç•Œèµ„æºï¼‰çš„äº’æ–¥è®¿é—®çš„æ§åˆ¶ã€‚å…±äº«èµ„æºå°±æ˜¯å¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„éœ€è¦å…±äº«çš„èµ„æºï¼Œåœ¨ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼ˆC++ä¸­å¯ä»¥ä½¿ç”¨std::unique_lock<std::mutex> std::lock_guard<std::mutex>æ¥å®ç°èµ„æºçš„äº’æ–¥é”ï¼‰ã€‚</p><p>å®ç°èµ„æºäº’æ–¥ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹åŸåˆ™:1.ç©ºé—²è®©è¿›ã€‚2.å¿™åˆ™ç­‰å¾…ã€‚3.æœ‰é™ç­‰å¾…ã€‚4. è®©æƒç­‰å¾…ã€‚</p><h2 id="è¿›ç¨‹åŒæ­¥çš„å®ç°æ–¹å¼"><a href="#è¿›ç¨‹åŒæ­¥çš„å®ç°æ–¹å¼" class="headerlink" title="è¿›ç¨‹åŒæ­¥çš„å®ç°æ–¹å¼"></a>è¿›ç¨‹åŒæ­¥çš„å®ç°æ–¹å¼</h2><p>1ã€ä¸´ç•ŒåŒºï¼šCritical Section é€šè¿‡å¯¹å¤šçº¿ç¨‹çš„ä¸²è¡ŒåŒ–æ¥è®¿é—®å…¬å…±èµ„æºæˆ–ä¸€æ®µä»£ç ï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆæ§åˆ¶æ•°æ®è®¿é—®ã€‚</p><p>2ã€äº’æ–¥é‡ï¼ˆMutexï¼‰ï¼šä¸ºåè°ƒå…±åŒå¯¹ä¸€ä¸ªå…±äº«èµ„æºçš„å•ç‹¬è®¿é—®è€Œè®¾è®¡çš„ã€‚</p><p>3ã€ä¿¡å·é‡ï¼ˆSemaphoreï¼‰</p><p>4ã€äº‹ä»¶ï¼šç”¨æ¥é€šçŸ¥çº¿ç¨‹æœ‰ä¸€äº›äº‹ä»¶å·²å‘ç”Ÿï¼Œä»è€Œå¯åŠ¨åç»§ä»»åŠ¡çš„å¼€å§‹ã€‚</p><h2 id="è¿›ç¨‹äº’æ–¥çš„å®ç°æ–¹å¼"><a href="#è¿›ç¨‹äº’æ–¥çš„å®ç°æ–¹å¼" class="headerlink" title="è¿›ç¨‹äº’æ–¥çš„å®ç°æ–¹å¼"></a>è¿›ç¨‹äº’æ–¥çš„å®ç°æ–¹å¼</h2><p>è½¯ä»¶ç®—æ³•ï¼šPetersonç®—æ³•ï¼Œç»™æ¯ä¸ªè¿›ç¨‹è®¾ç½®æ ‡å¿—ï¼Œä¸ºtrueä»£è¡¨æ­¤è¿›ç¨‹è¦æ±‚è¿›å…¥ä¸´ç•ŒåŒºã€‚</p><p>ç¡¬ä»¶ç®—æ³•ï¼š</p><p>1ã€ä¸­æ–­å±è”½æ–¹æ³•ï¼šåˆ©ç”¨â€œå¼€/å…³ä¸­æ–­æŒ‡ä»¤â€å®ç°ï¼ˆä¸åŸè¯­çš„å®ç°æ€æƒ³ç›¸åŒï¼Œå³åœ¨æŸè¿›ç¨‹å¼€å§‹è®¿é—®ä¸´ç•ŒåŒºåˆ°ç»“æŸè®¿é—®ä¸ºæ­¢éƒ½ä¸å…è®¸è¢«ä¸­æ–­ï¼Œä¹Ÿå°±ä¸èƒ½å‘ç”Ÿè¿›ç¨‹åˆ‡æ¢ï¼Œå› æ­¤ä¹Ÿä¸å¯èƒ½å‘ç”Ÿä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸´ç•ŒåŒºçš„æƒ…å†µ)</p><p>2ã€æµ‹è¯•å¹¶è®¾ç½®æŒ‡ä»¤ï¼šç³»ç»Ÿåˆ©ç”¨TSæŒ‡ä»¤æ¥å®ç°ä¸´ç•ŒåŒºçš„ä¸Šé”å’Œå¼€é”åŸè¯­æ“ä½œï¼ˆä¸å¯ä»¥ä¸­æ–­çš„æ“ä½œï¼‰ã€‚</p><p>3ã€å¯¹æ¢æŒ‡ä»¤ï¼švoid SWAP(bool key, bool lock){ bool temp=b; b=a; a=tmep;}</p><h2 id="ä¿¡å·é‡å’ŒPVæ“ä½œ"><a href="#ä¿¡å·é‡å’ŒPVæ“ä½œ" class="headerlink" title="ä¿¡å·é‡å’ŒPVæ“ä½œ"></a>ä¿¡å·é‡å’ŒPVæ“ä½œ</h2><p><strong>1ã€ä¸€èˆ¬ä¿¡å·é‡</strong></p><p><code>**typedef struct&#123; int value; struct pcb* list;&#125;**</code><strong>ï¼Œ</strong><code>**void P(semaphore s)&#123; s.value--; if(s.value&lt;0) sleep(s.list);&#125;**</code><strong>ï¼Œ</strong></p><p><code>**void V(semaphore s)&#123; s.value++; if(s.value&lt;=0) wakeup(s.list);&#125;**</code></p><p>ä¸Šé¢å°±æ˜¯PVæ“ä½œçš„ç›¸å…³ç»“æ„å’Œå‡½æ•°ï¼Œæ³¨æ„PVæ“ä½œéƒ½æ˜¯åŸè¯­ï¼ˆAtomic Languageï¼‰ã€‚</p><p>æ¨è®ºï¼š</p><p>1ï¼‰è‹¥<code>s.value&gt;0</code>ï¼Œs.valueä»£è¡¨å¯ä»¥ä½¿ç”¨çš„èµ„æºæ•°é‡ã€‚</p><p>2ï¼‰è‹¥<code>s.value&lt;0</code>ï¼Œs.valueä»£è¡¨ç­‰å¾…é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹æ•°é‡ã€‚</p><p>3ï¼‰é€šå¸¸Pæ“ä½œä»£è¡¨ç”³è¯·ä¸€ä¸ªèµ„æºï¼Œvæ“ä½œä»£è¡¨å½’è¿˜ä¸€ä¸ªèµ„æº</p><p><strong>ä¿¡å·é‡è§£å†³çš„é—®é¢˜ï¼š</strong></p><ul><li>ä¿¡å·é‡å®ç°äº’æ–¥+ ä¿¡å·é‡è§£å†³äº”ä½å“²å­¦å®¶è¿›é¤é—®é¢˜+ ä¿¡å·é‡è§£å†³ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜+ ä¿¡å·é‡è§£å†³è¯»è€…-å†™è€…é—®é¢˜+ ä¿¡å·é‡è§£å†³ç¡çœ ç†å‘å¸ˆé—®é¢˜ã€‚</li></ul><h2 id="ç®¡ç¨‹"><a href="#ç®¡ç¨‹" class="headerlink" title="ç®¡ç¨‹"></a>ç®¡ç¨‹</h2><p>åœ¨ç®¡ç¨‹ä¸­æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œå«åšæ¡ä»¶å˜é‡ã€‚</p><p><a href="https://www.zhihu.com/question/68017337">æ€æ ·ç†è§£C++11ä¸­çš„æ¡ä»¶å˜é‡ï¼Ÿ - çŸ¥ä¹</a></p><p><a href="https://en.cppreference.com/w/cpp/thread/condition_variable">std::condition_variable - cppreference.com</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ“ä½œç³»ç»Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…«å¤§æ’åºç®—æ³•</title>
      <link href="/2023/06/20/pai-xu-suan-fa/"/>
      <url>/2023/06/20/pai-xu-suan-fa/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h1><h2 id="1ã€å†’æ³¡æ’åº"><a href="#1ã€å†’æ³¡æ’åº" class="headerlink" title="1ã€å†’æ³¡æ’åº"></a>1ã€å†’æ³¡æ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">BubbleSort</span><span class="token punctuation">(</span>T a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>len<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">></span>a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">&#123;</span>                <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€é€‰æ‹©æ’åº"><a href="#2ã€é€‰æ‹©æ’åº" class="headerlink" title="2ã€é€‰æ‹©æ’åº"></a>2ã€é€‰æ‹©æ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">SelectSort</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> min<span class="token operator">=</span>i<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                min<span class="token operator">=</span>j<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€æ’å…¥æ’åº"><a href="#3ã€æ’å…¥æ’åº" class="headerlink" title="3ã€æ’å…¥æ’åº"></a>3ã€æ’å…¥æ’åº</h2><pre class="line-numbers language-none"><code class="language-none">template&lt;typename T&gt;void InsertSort(T arr[], int len)&#123;    for(int i&#x3D;1; i&lt;len; i++)&#123;        int key&#x3D;arr[i];        int j&#x3D;i-1;        while(j&gt;&#x3D;0 &amp;&amp; key&lt;arr[j])&#123;            arr[j+1]&#x3D;arr[j];            j--;        &#125;        arr[j+1]&#x3D;key;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4ã€å¸Œå°”æ’åº"><a href="#4ã€å¸Œå°”æ’åº" class="headerlink" title="4ã€å¸Œå°”æ’åº"></a>4ã€å¸Œå°”æ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">ShellSort</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> gap<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>gap<span class="token operator">&lt;</span>len<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        gap<span class="token operator">=</span>gap<span class="token operator">*</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>gap<span class="token operator">>=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>gap<span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span> j<span class="token operator">></span>gap <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">-=</span>gap<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        gap<span class="token operator">/=</span><span class="token number">3</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5ã€å¿«é€Ÿæ’åº"><a href="#5ã€å¿«é€Ÿæ’åº" class="headerlink" title="5ã€å¿«é€Ÿæ’åº"></a>5ã€å¿«é€Ÿæ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>x<span class="token punctuation">;</span>        i <span class="token operator">=</span> l<span class="token punctuation">;</span>        j <span class="token operator">=</span> r<span class="token punctuation">;</span>        x <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> x<span class="token punctuation">)</span>                j<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// ä»å³å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªå°äºxçš„æ•°</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span>                a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> x<span class="token punctuation">)</span>                i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// ä»å·¦å‘å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äºxçš„æ•°</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span>                a<span class="token punctuation">[</span>j<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token comment">// å°†åˆ†å‰²ç‚¹æ”¾åˆ°æ­£ç¡®ä½ç½®</span>        <span class="token function">quickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> l<span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* é€’å½’è°ƒç”¨ */</span>        <span class="token function">quickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* é€’å½’è°ƒç”¨ */</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6ã€å †æ’åº"><a href="#6ã€å †æ’åº" class="headerlink" title="6ã€å †æ’åº"></a>6ã€å †æ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">sift_down</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> parent <span class="token operator">=</span> start<span class="token punctuation">;</span>    <span class="token keyword">int</span> child <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>child<span class="token operator">&lt;=</span>end<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>child<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span>end <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>child<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            child<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token operator">></span>arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token keyword">else</span><span class="token punctuation">&#123;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å¾€ä¸‹è°ƒæ•´</span>            parent<span class="token operator">=</span>child<span class="token punctuation">;</span>            child<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>parent<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">heap_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è°ƒæ•´ä¸ºå¤§æ ¹å †ï¼Œä»æœ€åä¸€ä¸ªçˆ¶å…ƒç´ å¼€å§‹(len-1-1)/2</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token punctuation">(</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">sift_down</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å°†å †çš„æ ¹ï¼ˆæœ€å¤§å€¼ï¼‰æ‰æ¢åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆä»å°åˆ°å¤§æ’åºï¼‰ï¼Œåœ¨é‡æ–°è°ƒæ•´ä¸ºå¤§æ ¹å †</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sift_down</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7ã€å½’å¹¶æ’åº"><a href="#7ã€å½’å¹¶æ’åº" class="headerlink" title="7ã€å½’å¹¶æ’åº"></a>7ã€å½’å¹¶æ’åº</h2><p>ä¸€åŠä¸€åŠç å¼€æ¥ï¼Œç æˆåªæœ‰ä¸¤ä¸ªå…ƒç´ ä¹‹åï¼Œå½’å¹¶ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">merge_sort1</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    T<span class="token operator">*</span> a <span class="token operator">=</span> arr<span class="token punctuation">;</span>    T<span class="token operator">*</span> b <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> seg <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> seg <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> seg <span class="token operator">+=</span> seg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//åŒºé—´é•¿åº¦</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> start <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> start <span class="token operator">+=</span> seg <span class="token operator">+</span> seg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> low <span class="token operator">=</span> start<span class="token punctuation">,</span> mid <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>start <span class="token operator">+</span> seg<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">,</span> high <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>start <span class="token operator">+</span> seg <span class="token operator">+</span> seg<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> k <span class="token operator">=</span> low<span class="token punctuation">;</span>            <span class="token keyword">int</span> start1 <span class="token operator">=</span> low<span class="token punctuation">,</span> end1 <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">int</span> start2 <span class="token operator">=</span> mid<span class="token punctuation">,</span> end2 <span class="token operator">=</span> high<span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>start1 <span class="token operator">&lt;</span> end1 <span class="token operator">&amp;&amp;</span> start2 <span class="token operator">&lt;</span> end2<span class="token punctuation">)</span>                b<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>start1<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>start2<span class="token punctuation">]</span> <span class="token operator">?</span> a<span class="token punctuation">[</span>start1<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">:</span> a<span class="token punctuation">[</span>start2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>start1 <span class="token operator">&lt;</span> end1<span class="token punctuation">)</span>                b<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>start1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>start2 <span class="token operator">&lt;</span> end2<span class="token punctuation">)</span>                b<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>start2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        T<span class="token operator">*</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>        a <span class="token operator">=</span> b<span class="token punctuation">;</span>        b <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//è¿™é‡Œæ²¡æœ‰çœ‹æ‡‚</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        b <span class="token operator">=</span> a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8ã€æ¡¶æ’åº"><a href="#8ã€æ¡¶æ’åº" class="headerlink" title="8ã€æ¡¶æ’åº"></a>8ã€æ¡¶æ’åº</h2><p>å°†æ•°æ®æ”¾åˆ°åˆ°å„ä¸ªæ¡¶ä¸­ï¼Œåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™æ¯ä¸ªæ¡¶çš„æ•°æ®ä¿æŒæœ‰åºï¼Œæ‰€ä»¥æ¯ä¸ªæ¡¶ç›¸å½“äºæ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚æœ€åå°†å„ä¸ªæ¡¶åˆå¹¶èµ·æ¥ï¼Œå³å°†å„ä¸ªé“¾è¡¨Mergeï¼Œå½¢æˆä¸€ä¸ªæœ‰åºçš„æ•´ä½“ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iterator></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> BUCKET_NUM <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// æ¡¶çš„ä¸ªæ•°</span><span class="token comment">/** *é“¾è¡¨ç»“æ„ä½“ */</span><span class="token keyword">struct</span> <span class="token class-name">ListNode</span><span class="token punctuation">&#123;</span><span class="token keyword">explicit</span> <span class="token function">ListNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">mData</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">mNext</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>ListNode<span class="token operator">*</span> mNext<span class="token punctuation">;</span><span class="token keyword">int</span> mData<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/** * æ’å…¥çš„æ—¶å€™æ˜¯æœ‰åºçš„ï¼Œè¿”å›å€¼æ˜¯å¤´èŠ‚ç‚¹ */</span>ListNode<span class="token operator">*</span> <span class="token function">insert</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ListNode dummyNode<span class="token punctuation">;</span>ListNode <span class="token operator">*</span>newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>ListNode <span class="token operator">*</span>pre<span class="token punctuation">,</span><span class="token operator">*</span>curr<span class="token punctuation">;</span>dummyNode<span class="token punctuation">.</span>mNext <span class="token operator">=</span> head<span class="token punctuation">;</span>pre <span class="token operator">=</span> <span class="token operator">&amp;</span>dummyNode<span class="token punctuation">;</span>curr <span class="token operator">=</span> head<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token operator">!=</span>curr <span class="token operator">&amp;&amp;</span> curr<span class="token operator">-></span>mData<span class="token operator">&lt;=</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>pre <span class="token operator">=</span> curr<span class="token punctuation">;</span>curr <span class="token operator">=</span> curr<span class="token operator">-></span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>newNode<span class="token operator">-></span>mNext <span class="token operator">=</span> curr<span class="token punctuation">;</span>pre<span class="token operator">-></span>mNext <span class="token operator">=</span> newNode<span class="token punctuation">;</span><span class="token keyword">return</span> dummyNode<span class="token punctuation">.</span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * å°†ä¸¤ä¸ªé“¾è¡¨åˆå¹¶ï¼Œåˆå¹¶åä»ç„¶ä¿æŒæœ‰åº  */</span>ListNode<span class="token operator">*</span> <span class="token function">Merge</span><span class="token punctuation">(</span>ListNode <span class="token operator">*</span>head1<span class="token punctuation">,</span>ListNode <span class="token operator">*</span>head2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ListNode dummyNode<span class="token punctuation">;</span>ListNode <span class="token operator">*</span>dummy <span class="token operator">=</span> <span class="token operator">&amp;</span>dummyNode<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token operator">!=</span>head1 <span class="token operator">&amp;&amp;</span> <span class="token constant">NULL</span><span class="token operator">!=</span>head2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>head1<span class="token operator">-></span>mData <span class="token operator">&lt;=</span> head2<span class="token operator">-></span>mData<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dummy<span class="token operator">-></span>mNext <span class="token operator">=</span> head1<span class="token punctuation">;</span>head1 <span class="token operator">=</span> head1<span class="token operator">-></span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>dummy<span class="token operator">-></span>mNext <span class="token operator">=</span> head2<span class="token punctuation">;</span>head2 <span class="token operator">=</span> head2<span class="token operator">-></span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>dummy <span class="token operator">=</span> dummy<span class="token operator">-></span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token operator">!=</span>head1<span class="token punctuation">)</span> dummy<span class="token operator">-></span>mNext <span class="token operator">=</span> head1<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token operator">!=</span>head2<span class="token punctuation">)</span> dummy<span class="token operator">-></span>mNext <span class="token operator">=</span> head2<span class="token punctuation">;</span><span class="token keyword">return</span> dummyNode<span class="token punctuation">.</span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * æ¡¶æ’åºä¸»ä½“éƒ¨åˆ† */</span><span class="token keyword">void</span> <span class="token function">BucketSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span>ListNode<span class="token operator">*</span><span class="token operator">></span> <span class="token function">buckets</span><span class="token punctuation">(</span>BUCKET_NUM<span class="token punctuation">,</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å­˜çš„æ˜¯æ¯ä¸ªæ¡¶çš„å¤´èŠ‚ç‚¹ï¼Œä¸€ä¸ªæ¡¶ç›¸å½“äºæ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> index <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">/</span>BUCKET_NUM<span class="token punctuation">;</span> <span class="token comment">// çœ‹è¦å°†æ•°æ®æ”¾åœ¨å“ªä¸ªæ¡¶é‡Œé¢</span>ListNode <span class="token operator">*</span>head <span class="token operator">=</span> buckets<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å±€éƒ¨å˜é‡</span>buckets<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ’å…¥æ¡¶ä¸­</span><span class="token punctuation">&#125;</span>ListNode <span class="token operator">*</span>head <span class="token operator">=</span> buckets<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å€¼æ˜¯ç¬¬0ä¸ªæ¡¶</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>BUCKET_NUM<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>head <span class="token operator">=</span> <span class="token function">Merge</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span>buckets<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†ä¸¤ä¸ªæ¡¶åˆå¹¶</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token operator">-></span>mData<span class="token punctuation">;</span>head <span class="token operator">=</span> head<span class="token operator">-></span>mNext<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="9ã€æŠ˜åŠæ’å…¥æ’åº"><a href="#9ã€æŠ˜åŠæ’å…¥æ’åº" class="headerlink" title="9ã€æŠ˜åŠæ’å…¥æ’åº"></a>9ã€æŠ˜åŠæ’å…¥æ’åº</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">insertSort1</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n<span class="token operator">=</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> r<span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        T key<span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> mid<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l<span class="token operator">&lt;=</span>r<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            mid<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> r<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> l<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token comment">//å¯»æ‰¾ç¬¬ä¸€ä¸ªå¤§äºkeyçš„ä½ç½®ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨elseï¼Œ&lt;=çš„å…ƒç´ éƒ½ä¸éœ€è¦ç®¡</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> k<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">></span>r<span class="token punctuation">;</span> k<span class="token operator">--</span><span class="token punctuation">)</span> v<span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>        v<span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>key<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stringåº•å±‚å®ç°ä¹‹SSO</title>
      <link href="/2023/06/20/string-di-ceng-shi-xian-zhi-sso/"/>
      <url>/2023/06/20/string-di-ceng-shi-xian-zhi-sso/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="stringåº•å±‚å®ç°ä¹‹SSO"><a href="#stringåº•å±‚å®ç°ä¹‹SSO" class="headerlink" title="stringåº•å±‚å®ç°ä¹‹SSO"></a>stringåº•å±‚å®ç°ä¹‹SSO</h1><p><a href="https://cplusplus.com/reference/string/string/string/">stringçš„æ„é€ å‡½æ•°</a></p><p><a href="https://www.ccppcoding.com/archives/1199">å‚è€ƒèµ„æ–™</a></p><p>Simple String Optimizationï¼Œæœ€å°å­—ç¬¦ä¸²ä¼˜åŒ–ï¼ŒåŸºæœ¬åŸç†æ˜¯ï¼š<strong>å½“åˆ†é…çš„å­—èŠ‚æ•°å°äº16å­—èŠ‚çš„æ—¶å€™ï¼Œç›´æ¥ä»æ ˆä¸Šè¿›è¡Œè¿›è¡Œå†…å­˜åˆ†é…ï¼Œå¦‚æœå¤§äº16å­—èŠ‚ï¼Œåˆ™åœ¨å †ä¸Šè¿›è¡Œå†…å­˜åˆ†é…ã€‚</strong></p><p>éªŒè¯ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;stdlib.h&gt;using namespace std;void *operator new(size_t n)&#123;    cout&lt;&lt;&quot;new size&#x3D;&quot;&lt;&lt;n;    return malloc(n);&#125;void operator delete(void* p)&#123;    free(p);&#125;int main()&#123;    for(int i&#x3D;0; i&lt;30; i++)&#123;        cout&lt;&lt;&quot;i&#x3D;&quot;&lt;&lt;i&lt;&lt;&quot;: &quot;&lt;&lt;string(i, &#39;&#x3D;&#39;)&lt;&lt;endl;    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå¯¹newè¿›è¡Œäº†é‡è½½ï¼Œä»¥ä¾¿æˆ‘ä»¬è§‚å¯Ÿæ˜¯å¦è°ƒç”¨çš„newã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@***********************:~<span class="token comment"># g++ -o test test.cpp </span>root@***********************:~<span class="token comment"># ./test</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>: <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>: <span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">2</span>: <span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">3</span>: <span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">4</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">5</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">6</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">7</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">8</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">9</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">10</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">11</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">12</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">13</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">14</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">15</span>: <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">16</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">17</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">17</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">18</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">18</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">19</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">19</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">20</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">20</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">21</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">21</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">22</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">22</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">23</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">23</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">24</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">24</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">25</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">25</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">26</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">26</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">27</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">27</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">28</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">28</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">29</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">29</span>: new <span class="token assign-left variable">size</span><span class="token operator">=</span><span class="token number">30</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™å°±è¯´æ˜å½“å­—ç¬¦ä¸²é•¿åº¦å°äº16æ—¶ï¼Œæ˜¯åœ¨æ ˆä¸Šé¢åˆ†é…å†…å­˜ï¼Œå¤§äº16çš„æ—¶å€™ï¼Œåœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨äº†newæ–¹æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Staticã€#defineã€constã€mutableã€typedef</title>
      <link href="/2023/06/20/staticdefineconstmutabletypedef/"/>
      <url>/2023/06/20/staticdefineconstmutabletypedef/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Staticã€-defineã€constã€mutableã€typedef"><a href="#Staticã€-defineã€constã€mutableã€typedef" class="headerlink" title="Staticã€#defineã€constã€mutableã€typedef"></a>Staticã€#defineã€constã€mutableã€typedef</h1><p>ä»£ç å­˜å‚¨åŒºåŸŸï¼šå¸¸é‡åŒºã€ä»£ç åŒºã€é™æ€åŒºï¼ˆå…¨å±€åŒºï¼‰ã€å †åŒºã€æ ˆåŒº</p><p>æ ˆåŒºå‘ä¸‹å¢é•¿ï¼Œå †åŒºå‘ä¸Šå¢é•¿ã€‚<strong>æ ˆç”±ç³»ç»Ÿç®¡ç†ï¼Œæ²¡æœ‰å†…å­˜ç¢ç‰‡ï¼Œæ¯ä¸ªå…ƒç´ ä¹‹é—´éƒ½æ˜¯è¿ç»­çš„ï¼Œå¤§å°æ¯”è¾ƒå°ï¼Œ8kï¼Œå¯ä»¥ä¿®æ”¹ç³»ç»Ÿå‚æ•°</strong>ï¼Œå †åŒºå­˜å‚¨åŠ¨æ€å¼€è¾Ÿçš„å˜é‡ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªå†…æ ¸ç©ºé—´ï¼Œä½†æ˜¯å®ƒä¸ä¸ç”¨æˆ·ç›´æ¥äº¤äº’ï¼ˆå†…æ ¸åŒºï¼‰ã€‚</p><p><img src="https://img-blog.csdnimg.cn/03ce5015530048e18593741047e6988d.png#pic_center" alt=""></p><h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><p>ä¿®é¥°å±€éƒ¨å˜é‡ï¼šå±€éƒ¨å˜é‡çš„å­˜å‚¨åŒºåŸŸæ”¹å˜ã€å˜ä¸ºé™æ€åŒºï¼Œç”Ÿå‘½å‘¨æœŸæ”¹ä¸ºç¨‹åºç»“æŸæ‰é”€æ¯ã€‚</p><p>ä¿®é¥°å…¨å±€å˜é‡ï¼šå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è®¿é—®ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è®¿é—®ï¼Œ <strong>extern å¤–éƒ¨å£°æ˜</strong>ä¹Ÿä¸å¯ä»¥ã€‚</p><p>ä¿®é¥°æˆå‘˜å˜é‡ï¼šé™æ€æˆå‘˜å˜é‡ä¸å±äºå®ä½“çš„ç±»å¯¹è±¡ï¼Œè¦åœ¨ç±»å¤–åˆå§‹åŒ–</p><p>ä¿®é¥°æˆå‘˜å‡½æ•°ï¼šé™æ€å‡½æ•°<strong>å±äºç±»ä¸å±äºç±»å¯¹è±¡</strong> éœ€è¦é€šè¿‡ç±»ä½œç”¨åŸŸè°ƒç”¨ <strong>å‡½æ•°æ— thisæŒ‡é’ˆ</strong>(é™æ€æˆå‘˜å‡½æ•°ä»…èƒ½è®¿é—®é™æ€çš„æ•°æ®æˆå‘˜ï¼Œä¸èƒ½è®¿é—®éé™æ€çš„æ•°æ®æˆå‘˜ï¼Œä¹Ÿä¸èƒ½è®¿é—®éé™æ€çš„æˆå‘˜å‡½æ•°)</p><h2 id="define"><a href="#define" class="headerlink" title="#define"></a>#define</h2><p>å¸¦å‚æ•°çš„å®å®šä¹‰å¯ä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œåœ¨è¿è¡Œæ—¶åªæ˜¯ç®€å•çš„å±•å¼€ã€‚</p><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>ç”³æ˜ä¸€ä¸ªå¸¸é‡ï¼Œåœ¨è¿è¡ŒæœŸé—´å¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><h2 id="mutable"><a href="#mutable" class="headerlink" title="mutable"></a>mutable</h2><p>mutableä¸ºå¯å˜çš„ï¼Œæ˜“å˜çš„è·ŸC++ä¸­çš„constæ˜¯åä¹‰è¯ã€‚è¢«mutableä¿®é¥°çš„å˜é‡(mutableæ™ºèƒ½ç”¨äºä¿®é¥°ç±»çš„éé™æ€æ•°æ®æˆå‘˜)<strong>,å°†æ°¸è¿œå¤„äºå¯å˜çš„çŠ¶æ€</strong>, å³ä½¿åœ¨ä¸€ä¸ªconstå‡½æ•°ä¸­</p><h2 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h2><p>ç”¨é€”ï¼š 1ã€ä¸ºåç§°å¤æ‚çš„å˜é‡åˆ›å»ºåˆ«åï¼› 2ã€åˆ›å»ºä¸å¹³å°æ— å…³çš„å˜é‡ï¼Œå½“è·¨å¹³å°æ—¶ï¼Œåªè¦æ”¹ä¸‹ typedef æœ¬èº«å°±è¡Œï¼Œä¸ç”¨å¯¹å…¶ä»–æºç åšä»»ä½•ä¿®æ”¹ã€‚ å¦å¤–ï¼Œå› ä¸ºtypedefæ˜¯å®šä¹‰äº†ä¸€ç§ç±»å‹çš„æ–°åˆ«åï¼Œä¸æ˜¯ç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæ‰€ä»¥å®ƒæ¯”å®æ¥å¾—ç¨³å¥ï¼ˆè™½ç„¶ç”¨å®æœ‰æ—¶ä¹Ÿå¯ä»¥å®Œæˆä»¥ä¸Šçš„ç”¨é€”ï¼‰ã€‚ æ¯”å¦‚ï¼š<a href="https://en.cppreference.com/w/cpp/types/size_t">size_tçš„ä»‹ç»</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// åœ¨vsä¸­ï¼Œshort 2ä¸ªå­—èŠ‚ï¼Œint 4ä¸ªï¼Œlongä¹Ÿæ˜¯4ä¸ªï¼Œlong long 8ä¸ª</span><span class="token keyword">typedef</span> <span class="token keyword">short</span> <span class="token keyword">int16_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token keyword">int32_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token keyword">int64_t</span><span class="token punctuation">;</span><span class="token comment">// åœ¨Linuxä¸‹ï¼Œshort 2ä¸ªï¼Œint 4 ä¸ªï¼Œlong 8ä¸ªï¼Œlong long ä¹Ÿæ˜¯8ä¸ª</span><span class="token keyword">typedef</span> <span class="token keyword">short</span> <span class="token keyword">int16_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">int</span> <span class="token keyword">int32_t</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">int64_t</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥åœ¨ç¨‹åºæºç ä¸­ï¼Œåªä½¿ç”¨è¿™äº›åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜çš„åˆ«åã€‚ å‚è€ƒï¼š<a href="https://www.cnblogs.com/Solomon-xm/articles/9140576.html">typedefç”¨æ³•è¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactoræ¨¡å¼ç†è®ºæ”¯æŒ</title>
      <link href="/2023/06/20/reactor-mo-shi-li-lun-zhi-chi/"/>
      <url>/2023/06/20/reactor-mo-shi-li-lun-zhi-chi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#1.%20%E5%89%8D%E8%A8%80">1. å‰è¨€</a></p><p><a href="#2%E3%80%81%E4%B8%BB%E8%A6%81%E6%80%9D%E6%83%B3">2ã€ä¸»è¦æ€æƒ³</a></p><p><a href="#3%E3%80%81%E4%B8%89%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AE%9E%E7%8E%B0">3ã€ä¸‰ç§ä¸åŒçš„å®ç°</a></p><p><a href="#%E5%8D%95%20Reactor%20%E5%8D%95%E7%BA%BF%E7%A8%8B">å• Reactor å•çº¿ç¨‹</a></p><p><a href="#%E5%8D%95%20Reactor%20%E5%A4%9A%E7%BA%BF%E7%A8%8B">å• Reactor å¤šçº¿ç¨‹</a></p><p><a href="#%E4%B8%BB%E4%BB%8E%20Reactor%20%E5%A4%9A%E7%BA%BF%E7%A8%8B">ä¸»ä» Reactor å¤šçº¿ç¨‹</a></p><h2 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h2><p>å¼€å§‹çš„æœåŠ¡ç«¯çš„è®¾è®¡æ˜¯æ¯ä¸€ä¸ªè¿æ¥éƒ½åˆ›å»ºä¸€ä¸ªthreadå»å¤„ç†ï¼Œä½†æ˜¯å½“è¯·æ±‚å¼€å§‹å˜å¤šäº†ä¹‹åï¼Œæ¯”å¦‚æœ‰1wçš„requeståˆ°è¾¾æœåŠ¡ç«¯ï¼Œå°±ä¼š <strong>pthread_create() </strong>åˆ›å»º1wä¸ªthreadï¼Œç»“æŸä¹‹åé”€æ¯çº¿ç¨‹ã€‚è¿™æ ·çš„åˆ›å»ºï¼Œå¤„ç†å®Œç„¶åé”€æ¯æ— ç–‘æ˜¯éå¸¸æ¶ˆè€—èµ„æºçš„ã€‚</p><p>ä¹‹åå°±å‡çº§ï¼Œé‡‡ç”¨çº¿ç¨‹æ± å¤„ç†è¯·æ±‚ï¼Œæå‰åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä»çº¿ç¨‹æ± å–å‡ºçº¿ç¨‹å¤„ç†ã€‚è¿˜æœ‰è¦æ³¨æ„ï¼Œè¿™ä¸ªçº¿ç¨‹é˜Ÿåˆ—æ˜¯å…¨å±€å…±äº«çš„ï¼Œä¸ºäº†é¿å…å¤šä¸ªçº¿ç¨‹ç«äº‰ï¼Œè¦æå‰ç»™è¿™ä¸ªçº¿ç¨‹åŠ é”ã€‚</p><p>é‡‡ç”¨çº¿ç¨‹æ± å¤„ç†ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š1ã€ä¸ç”¨é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ã€‚2ã€çº¿ç¨‹æ± èƒ½å¤„ç†çš„çº¿ç¨‹æœ‰ä¸Šé™ï¼Œå¯ä»¥é˜²æ­¢æ— é™å¼€è¾Ÿçº¿ç¨‹è€Œå°†æœåŠ¡å™¨èµ„æºæ¶ˆè€—æ®†å°½ï¼ŒæŒ‚æ‰ã€‚</p><p>çº¿ç¨‹æ± ï¼š<a href="https://en.wikipedia.org/wiki/Thread_pool">https://en.wikipedia.org/wiki/Thread_pool</a></p><p>å®ç°ï¼š<a href="https://github.com/progschj/ThreadPool/blob/master/ThreadPool.h">ThreadPool/ThreadPool.h at master Â· progschj/ThreadPool Â· GitHub</a></p><p>å…¶å®åœ¨ä¸Šé¢çš„æ¨¡å‹æ˜¯ä¸ªã€<strong>å¤šçº¿ç¨‹æ¨¡å‹</strong>ã€‘ï¼Œå…¶å®è¿˜æœ‰ä¸€ç§ã€<strong>å¤šè¿›ç¨‹æ¨¡å‹</strong>ã€‘ã€‚ä¸»è¦æ€æƒ³æ˜¯åˆ©ç”¨<strong> fork()</strong> å‡½æ•°ï¼Œåˆ›å»ºå­è¿›ç¨‹ã€‚çˆ¶è¿›ç¨‹è¦å¤„ç†å¥½è‡ªå·±çš„å­©å­ï¼Œå°±æ˜¯åœ¨è¿›ç¨‹é€€å‡ºçš„æ—¶å€™è¦å›æ”¶å¥½èµ„æºï¼Œå¦åˆ™å¯èƒ½å˜æˆã€åƒµå°¸è¿›ç¨‹ã€‘ï¼ˆè¿›ç¨‹åªä¿ç•™äº†ç›¸å…³çš„ä¿¡æ¯ï¼Œä½†æ˜¯å ç”¨äº†è¿›ç¨‹å·ï¼‰ã€‚æ€ä¹ˆå›æ”¶èµ„æºå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è°ƒç”¨ã€<strong>wait()</strong>ã€‘å’Œã€<strong>waitpid()</strong>ã€‘ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯¹çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹çš„å¤„ç†æ˜¯ä¸ç›¸åŒçš„ï¼š</p><ul><li>çˆ¶è¿›ç¨‹ï¼šåªéœ€è¦ç®¡ç†ç›‘å¬çš„ ã€Socketã€‘æè¿°ç¬¦ï¼Œè€Œä¸å…³å¿ƒå·²ç»è¿æ¥çš„ã€Socketã€‘+ å­è¿›ç¨‹ï¼šåªå…³å¿ƒå·²ç»è¿æ¥çš„ã€Socketã€‘ï¼Œä¸ç”¨ç®¡ç›‘å¬çš„ã€Socketã€‘</li></ul><p>ä¸Šé¢ä¸¤ä¸ªæ¨¡å‹ï¼Œã€<strong>å¤šçº¿ç¨‹æ¨¡å‹</strong>ã€‘ç¼ºç‚¹ä¸»è¦æ˜¯æœåŠ¡ç«¯å¦‚æœåŒæ—¶ç»´æŠ¤å¤šä¸ªçº¿ç¨‹æ˜¯ä¸ç°å®çš„ï¼Œæ“ä½œç³»ç»Ÿä¼šæ‰›ä¸ä½ï¼›ã€<strong>å¤šè¿›ç¨‹æ¨¡å‹</strong>ã€‘ç¼ºç‚¹åˆ™æ˜¯åœ¨å¤šä¸ªè¿æ¥åŒæ—¶å­˜åœ¨çš„æƒ…å†µä¸‹è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ‰€è€—è´¹çš„ç³»ç»Ÿèµ„æºè¿‡å¤§ã€‚è¿™ä¸ªæ—¶å€™æ›´ä¸ºè®¾è®¡ä¸€ç§é«˜æ•ˆçš„æ¨¡å¼æ˜¯å½“åŠ¡ä¹‹æ€¥ï¼Œã€<strong>Reactoræ¨¡å¼</strong>ã€‘åº”è¿è€Œç”Ÿ</p><h2 id="2ã€ä¸»è¦æ€æƒ³"><a href="#2ã€ä¸»è¦æ€æƒ³" class="headerlink" title="2ã€ä¸»è¦æ€æƒ³"></a>2ã€ä¸»è¦æ€æƒ³</h2><p>ã€<strong>Reactoræ¨¡å¼</strong>ã€‘åŸºäºã€<strong>select/poll/epoll</strong>ã€‘çš„ã€<strong>IOå¤šè·¯å¤ç”¨</strong>ã€‘è¿›è¡Œäº†ä¸€å±‚å°è£…ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨ç¼–å†™ç½‘ç»œç¨‹åºçš„æ—¶å€™ï¼Œä¸éœ€è¦è€ƒè™‘åº•å±‚APIçš„ç»†èŠ‚ï¼Œç¬¦åˆå½“ä¸‹é¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚</p><p> IOå¤ç”¨ï¼š<a href="https://mp.weixin.qq.com/s/Qpa0qXxuIM8jrBqDaXmVNA">è¿™æ¬¡ç­”åº”æˆ‘ï¼Œä¸€ä¸¾æ‹¿ä¸‹ I/O å¤šè·¯å¤ç”¨ï¼</a></p><p>ã€<strong>Reactoræ¨¡å¼</strong>ã€‘çš„ Reactor çš„ç¿»è¯‘æ˜¯ååº”å †ï¼Œæ„æ€æ˜¯åªè¦æ¥äº†ä¸€ä¸ªäº‹ä»¶ï¼ŒReactor å°±æœ‰ååº”ã€‚</p><p>Reactorä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šReactor å’Œå¤„ç†èµ„æºæ± ã€‚</p><ul><li>Reactor è´Ÿè´£ç›‘å¬äº‹ä»¶å’Œåˆ†å‘äº‹ä»¶ï¼Œäº‹ä»¶å¯èƒ½æ˜¯è¯»å†™äº‹ä»¶æˆ–è¿æ¥äº‹ä»¶ã€‚+ å¤„ç†èµ„æºæ± å°†Reactor åˆ†å‘ç»™ä»–çš„äº‹ä»¶ï¼Œä¸»è¦çš„æµç¨‹ï¼šRead-&gt;å¤„ç†ä¸šåŠ¡-&gt;Send</li></ul><p>å› æ­¤ ã€<strong>Reactoræ¨¡å¼</strong>ã€‘ä¹Ÿå«ã€<strong>Dispatcher æ¨¡å¼ã€‘</strong>ï¼Œä¸€ä¸ªä¸»çº¿ç¨‹è´Ÿè´£ç›‘å¬å’Œåˆ†å‘äº‹ä»¶ï¼Œå…¶ä»–çš„çº¿ç¨‹å¤„ç†ä¸šåŠ¡ï¼Œæ‰€ä»¥è¿™ä¸ªåå­—åº”è¯¥æ›´åŠ çš„è´´åˆ‡ã€‚</p><p>ç›®çš„æ˜¯å‡å°‘ç­‰å¾…ï¼Œå½“é‡åˆ°éœ€è¦ç­‰å¾…çš„IOçš„æ—¶å€™ï¼Œå…ˆé‡Šæ”¾èµ„æºï¼Œåœ¨IOå®Œæˆä¹‹åï¼Œé€šè¿‡äº‹ä»¶é©±åŠ¨çš„æ–¹å¼æ²¡ç»§ç»­æ¥ä¸‹æ¥çš„å¤„ç†ã€‚</p><p>æ ¹æ® Reactor çš„æ•°é‡å’Œå¤„ç†èµ„æºæ± çº¿ç¨‹çš„æ•°é‡ä¸åŒï¼Œæœ‰ 3 ç§å…¸å‹çš„å®ç°ï¼š</p><ul><li>å• Reactor å•çº¿ç¨‹ +  å• Reactor å¤šçº¿ç¨‹ +  ä¸»ä» Reactor å¤šçº¿ç¨‹ </li></ul><h2 id="3ã€ä¸‰ç§ä¸åŒçš„å®ç°"><a href="#3ã€ä¸‰ç§ä¸åŒçš„å®ç°" class="headerlink" title="3ã€ä¸‰ç§ä¸åŒçš„å®ç°"></a>3ã€ä¸‰ç§ä¸åŒçš„å®ç°</h2><h3 id="å•-Reactor-å•çº¿ç¨‹"><a href="#å•-Reactor-å•çº¿ç¨‹" class="headerlink" title="å• Reactor å•çº¿ç¨‹"></a>å• Reactor å•çº¿ç¨‹</h3><p>è¯ä¸å¤šè¯´ï¼Œå…ˆçœ‹ä¸€ä¸ªå›¾ç‰‡ã€‚</p><p><img src="https://img-blog.csdnimg.cn/8a592a409ca64f1eba4ef26fc02d9917.png" alt=""></p><p> é¦–å…ˆä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>Reactor å¤„ç†ç›‘å¬ä»¥åŠäº‹ä»¶çš„åˆ†å‘+ Accept å¤„ç†è¿æ¥+ Handler å¤„ç†IOäº‹ä»¶ä»¥åŠä¸šåŠ¡</li></ul><p>ä¸‹é¢è¯¦ç»†ä»‹ç»ä¸‹æµç¨‹ï¼š</p><ul><li>ã€<strong>Reactor</strong>ã€‘é€šè¿‡ selectï¼ˆIOå¤šè·¯å¤ç”¨æ¥å£ï¼‰ç›‘å¬å¤šä¸ª Socket ï¼Œå¦‚æœ Socket æœ‰äº‹ä»¶å‘ç”Ÿï¼Œåˆ¤æ–­äº‹ä»¶ç±»åˆ«åçœ‹çœ‹åˆ†é…ç»™ã€<strong>Acceptor</strong>ã€‘ï¼Œè¿˜æ˜¯ã€<strong>Handler</strong>ã€‘ã€‚+ å¦‚æœæ˜¯å»ºç«‹è¿æ¥äº‹ä»¶ï¼Œäº¤ä»˜ç»™ã€<strong>Acceptor</strong>ã€‘å¤„ç†ï¼Œã€<strong>Acceptor</strong>ã€‘ä¼šåˆ›å»ºä¸€ä¸ªã€<strong>Handler</strong>ã€‘æ¥å¤„ç†è¿™ä¸ªåˆšè¿æ¥çš„ Socket çš„åç»­äº‹ä»¶ã€‚+ å¦‚æœæ˜¯å¤„ç†éè¿æ¥äº‹ä»¶ï¼Œäº¤ä»˜ç»™ã€<strong>Handler</strong>ã€‘å¤„ç†ï¼Œä¸€èˆ¬å¤„ç†è¿‡ç¨‹ï¼šread-&gt;ä¸šåŠ¡å¤„ç†-&gt;sendã€‚</li></ul><p>ç¼ºç‚¹æ˜¯æ— æ³•åˆ©ç”¨CPUå¤šæ ¸çš„èƒ½åŠ›</p><p>åº”ç”¨åœºæ™¯ï¼šRedisä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ¨¡å¼ï¼Œä½†æ˜¯å®ƒæ˜¯åœ¨å†…å­˜ä¸­å¤„ç†ä¸šåŠ¡çš„ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥å¾ˆå¿«ã€‚</p><h3 id="å•-Reactor-å¤šçº¿ç¨‹"><a href="#å•-Reactor-å¤šçº¿ç¨‹" class="headerlink" title="å• Reactor å¤šçº¿ç¨‹"></a>å• Reactor å¤šçº¿ç¨‹</h3><p>çœ‹ä¸€ä¸‹æµç¨‹å›¾</p><p><img src="https://img-blog.csdnimg.cn/93aaef58ff03418da459b6110980b9e4.png" alt=""></p><p>æµç¨‹ï¼š</p><ul><li>ã€<strong>Reactor</strong>ã€‘é€šè¿‡ selectï¼ˆIOå¤šè·¯å¤ç”¨æ¥å£ï¼‰ç›‘å¬å¤šä¸ª Socket ï¼Œå¦‚æœ Socket æœ‰äº‹ä»¶å‘ç”Ÿï¼Œåˆ¤æ–­äº‹ä»¶ç±»åˆ«åçœ‹çœ‹åˆ†é…ç»™ã€<strong>Acceptor</strong>ã€‘ï¼Œè¿˜æ˜¯ã€<strong>Handler</strong>ã€‘ã€‚+ å¦‚æœæ˜¯å»ºç«‹è¿æ¥äº‹ä»¶ï¼Œäº¤ä»˜ç»™ã€<strong>Acceptor</strong>ã€‘å¤„ç†ï¼Œã€<strong>Acceptor</strong>ã€‘ä¼šåˆ›å»ºä¸€ä¸ªã€<strong>Handler</strong>ã€‘æ¥å¤„ç†è¿™ä¸ªåˆšè¿æ¥çš„ Socket çš„åç»­äº‹ä»¶ã€‚+ å¦‚æœæ˜¯å¤„ç†éè¿æ¥äº‹ä»¶ï¼Œäº¤ä»˜ç»™ã€<strong>Handler</strong>ã€‘å¤„ç†ã€‚</li></ul><p>ä¸Šé¢çš„ä¸‰ä¸ªæ­¥éª¤å’Œå• Reactor å•çº¿ç¨‹æ–¹æ¡ˆæ˜¯ä¸€æ ·çš„ï¼Œæ¥ä¸‹æ¥çš„æ­¥éª¤å°±å¼€å§‹ä¸ä¸€æ ·äº†ï¼š</p><ul><li>ã€<strong>Handler</strong>ã€‘ å¯¹è±¡ä¸å†è´Ÿè´£ä¸šåŠ¡å¤„ç†ï¼Œåªè´Ÿè´£æ•°æ®çš„æ¥æ”¶å’Œå‘é€ï¼Œã€<strong>Handler</strong>ã€‘ å¯¹è±¡é€šè¿‡ read è¯»å–åˆ°æ•°æ®åï¼Œä¼šå°†æ•°æ®å‘ç»™å­çº¿ç¨‹é‡Œçš„ ã€<strong>Processor</strong>ã€‘ å¯¹è±¡è¿›è¡Œä¸šåŠ¡å¤„ç†ï¼›+ å­çº¿ç¨‹é‡Œçš„ ã€<strong>Processor</strong>ã€‘ å¯¹è±¡å°±è¿›è¡Œä¸šåŠ¡å¤„ç†ï¼Œå¤„ç†å®Œåï¼Œå°†ç»“æœå‘ç»™ä¸»çº¿ç¨‹ä¸­çš„ ã€<strong>Handler</strong>ã€‘å¯¹è±¡ï¼Œæ¥ç€ç”± ã€<strong>Handler</strong>ã€‘é€šè¿‡ send æ–¹æ³•å°†å“åº”ç»“æœå‘é€ç»™ clientï¼›</li></ul><h3 id="ä¸»ä»-Reactor-å¤šçº¿ç¨‹"><a href="#ä¸»ä»-Reactor-å¤šçº¿ç¨‹" class="headerlink" title="ä¸»ä» Reactor å¤šçº¿ç¨‹"></a>ä¸»ä» Reactor å¤šçº¿ç¨‹</h3><p>æµç¨‹ï¼š</p><ul><li>ä¸»çº¿ç¨‹ä¸­çš„ MainReactor å¯¹è±¡é€šè¿‡ select ç›‘æ§è¿æ¥å»ºç«‹äº‹ä»¶ï¼Œæ”¶åˆ°äº‹ä»¶åé€šè¿‡ Acceptor å¯¹è±¡ä¸­çš„ accept è·å–è¿æ¥ï¼Œå°†æ–°çš„è¿æ¥åˆ†é…ç»™æŸä¸ªå­çº¿ç¨‹ï¼›+ å­çº¿ç¨‹ä¸­çš„ SubReactor å¯¹è±¡å°† MainReactor å¯¹è±¡åˆ†é…çš„è¿æ¥åŠ å…¥ select ç»§ç»­è¿›è¡Œç›‘å¬ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª Handler ç”¨äºå¤„ç†è¿æ¥çš„å“åº”äº‹ä»¶ã€‚+ å¦‚æœæœ‰æ–°çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒSubReactor å¯¹è±¡ä¼šè°ƒç”¨å½“å‰è¿æ¥å¯¹åº”çš„ Handler å¯¹è±¡æ¥è¿›è¡Œå“åº”ã€‚+ Handler å¯¹è±¡é€šè¿‡ read -&gt; ä¸šåŠ¡å¤„ç† -&gt; send çš„æµç¨‹æ¥å®Œæˆå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ã€‚</li></ul><p><a href="https://www.zhihu.com/question/26943938/answer/1856426252">å¦‚ä½•æ·±åˆ»ç†è§£Reactorå’ŒProactorï¼Ÿ - çŸ¥ä¹</a></p><p><a href="https://www.modb.pro/db/189720">ä»Reactoræ¨¡å¼ä¿¯ç°Nginxï¼Œä½ ä¼šå‘ç°ä½ ä¸é«˜æ‰‹çš„å·®è·å°±åœ¨è®¾è®¡æ¨¡å¼ä¸Šï¼Œä¸åœ¨å†…å·ä¸Š - å¢¨å¤©è½®</a></p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QTä¸­å›½è±¡æ£‹åˆç‰ˆ</title>
      <link href="/2023/06/20/qt-zhong-guo-xiang-qi-chu-ban/"/>
      <url>/2023/06/20/qt-zhong-guo-xiang-qi-chu-ban/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Chinese-Chess"><a href="#Chinese-Chess" class="headerlink" title="Chinese-Chess"></a>Chinese-Chess</h1><p>ä¸­å›½è±¡æ£‹åˆç‰ˆ</p><p>å®ç°äº†å•äººåŒæ–¹å¯¹æˆ˜ã€äººå¯¹æˆ˜ç”µè„‘ã€å¼€ä¸¤ä¸ªå®¢æˆ·ç«¯è”æœºå¯¹æˆ˜</p><pre class="line-numbers language-none"><code class="language-none">ä½›æ›°: *          å†™å­—æ¥¼é‡Œå†™å­—é—´ï¼Œå†™å­—é—´é‡Œç¨‹åºå‘˜ï¼› *          ç¨‹åºäººå‘˜å†™ç¨‹åºï¼Œåˆæ‹¿ç¨‹åºæ¢é…’é’±ã€‚ *          é…’é†’åªåœ¨ç½‘ä¸Šåï¼Œé…’é†‰è¿˜æ¥ç½‘ä¸‹çœ ï¼› *          é…’é†‰é…’é†’æ—¥å¤æ—¥ï¼Œç½‘ä¸Šç½‘ä¸‹å¹´å¤å¹´ã€‚ *          ä½†æ„¿è€æ­»ç”µè„‘é—´ï¼Œä¸æ„¿é èº¬è€æ¿å‰ï¼› *          å¥”é©°å®é©¬è´µè€…è¶£ï¼Œå…¬äº¤è‡ªè¡Œç¨‹åºå‘˜ã€‚ *          åˆ«äººç¬‘æˆ‘å¿’ç–¯ç™«ï¼Œæˆ‘ç¬‘è‡ªå·±å‘½å¤ªè´±ï¼› *          ä¸è§æ»¡è¡—æ¼‚äº®å¦¹ï¼Œå“ªä¸ªå½’å¾—ç¨‹åºå‘˜ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç•Œé¢å±•ç¤º"><a href="#ç•Œé¢å±•ç¤º" class="headerlink" title="ç•Œé¢å±•ç¤º"></a>ç•Œé¢å±•ç¤º</h2><h3 id="ä¸»èœå•ç•Œé¢ï¼š"><a href="#ä¸»èœå•ç•Œé¢ï¼š" class="headerlink" title="ä¸»èœå•ç•Œé¢ï¼š"></a>ä¸»èœå•ç•Œé¢ï¼š</h3><p><img src="https://img-blog.csdnimg.cn/0460f32b642f4d29862cfe1d8effac0e.png#pic_center" alt=""></p><p>ä¸»ç•Œé¢éƒ¨åˆ†ä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">#include &quot;choosemainwindow.h&quot;ChooseMainWindow::ChooseMainWindow(QWidget *parent) : QDialog(parent)&#123;    this-&gt;setWindowTitle(&quot;é€‰æ‹©æ¸¸æˆæ–¹å¼&quot;);    this-&gt;setFixedSize(250,120);    this-&gt;setWindowIcon(QIcon(&quot;:&#x2F;images&#x2F;chess.svg&quot;));    QVBoxLayout* lay &#x3D; new QVBoxLayout(this);    lay-&gt;addWidget(m_buttons[0] &#x3D; new QPushButton(&quot;ç©å®¶è‡ªå·±å¯¹æˆ˜&quot;));    lay-&gt;addWidget(m_buttons[1] &#x3D; new QPushButton(&quot;ç©å®¶å’ŒAIå¯¹æˆ˜&quot;));    lay-&gt;addWidget(m_buttons[2] &#x3D; new QPushButton(&quot;åŒäººç½‘ç»œå¯¹æˆ˜&quot;));    &#x2F;*æ¸¸æˆæ–¹å¼ä¸€: è‡ªå·±å’Œè‡ªå·±ä¸‹æ£‹ã€åŒä¸€å°PCæœºå™¨ã€‘*&#x2F;    connect(m_buttons[0], &amp;QPushButton::clicked,[&#x3D;]()&#123;        this-&gt;hide();        m_pAgainstYourself &#x3D; new ChessBoard();        m_pAgainstYourself-&gt;setWindowTitle(&quot;ç©å®¶è‡ªå·±å¯¹æˆ˜&quot;);        m_pAgainstYourself-&gt;show();        &#x2F;&#x2F;è¿”å›ä¸»çª—å£        connect(m_pAgainstYourself,&amp;ChessBoard::toMenu,[&#x3D;]()&#123;            m_pAgainstYourself-&gt;close();            this-&gt;show();        &#125;);    &#125;);    &#x2F;*æ¸¸æˆæ–¹å¼äºŒ: è‡ªå·±å’Œç”µè„‘ä¸‹æ£‹ã€åŒä¸€å°PCæœºå™¨ã€‘*&#x2F;    connect(m_buttons[1], &amp;QPushButton::clicked,[&#x3D;]()&#123;        this-&gt;hide();        m_pRobotGame &#x3D; new RobotGame();        m_pRobotGame-&gt;setWindowTitle(&quot;ç©å®¶å’ŒAIå¯¹æˆ˜&quot;);        m_pRobotGame-&gt;show();        &#x2F;&#x2F;è¿”å›ä¸»çª—å£        connect(m_pRobotGame,&amp;ChessBoard::toMenu,[&#x3D;]()&#123;            m_pRobotGame-&gt;close();            this-&gt;show();        &#125;);    &#125;);    &#x2F;*æ¸¸æˆæ–¹å¼ä¸‰: åŒäººå±€åŸŸç½‘ä¸‹æ£‹ã€å¯åœ¨å±€åŸŸç½‘ä¸‹ä¸åŒå°PCæœºå™¨ã€‘*&#x2F;    connect(m_buttons[2], &amp;QPushButton::clicked,[&#x3D;]()&#123;        this-&gt;hide();        QMessageBox::StandardButtons ret &#x3D; QMessageBox::question(NULL, &quot;æç¤º&quot;, &quot;æ˜¯å¦ä½œä¸ºæœåŠ¡å™¨å¯åŠ¨[é€‰æ‹©çº¢æ–¹]?&quot;);        bool bServer &#x3D; false;        if(ret &#x3D;&#x3D; QMessageBox::Yes)            bServer &#x3D; true;        m_pNetworkGame &#x3D; new NetworkGame(bServer);        m_pNetworkGame-&gt;setWindowTitle(&quot;åŒäººç½‘ç»œå¯¹æˆ˜&quot;);        m_pNetworkGame-&gt;show();        &#x2F;&#x2F;è¿”å›ä¸»çª—å£        connect(m_pNetworkGame,&amp;ChessBoard::toMenu,[&#x3D;]()&#123;            m_pNetworkGame-&gt;close();            this-&gt;show();        &#125;);    &#125;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç©å®¶å’Œè‡ªå·±å¯¹æˆ˜ç•Œé¢ï¼š"><a href="#ç©å®¶å’Œè‡ªå·±å¯¹æˆ˜ç•Œé¢ï¼š" class="headerlink" title="ç©å®¶å’Œè‡ªå·±å¯¹æˆ˜ç•Œé¢ï¼š"></a>ç©å®¶å’Œè‡ªå·±å¯¹æˆ˜ç•Œé¢ï¼š</h3><p><img src="https://img-blog.csdnimg.cn/ddce9e5977c9405488ea8601f44ce0d2.png#pic_center" alt=""></p><p>æ£‹ç›˜ç»˜åˆ¶éƒ¨åˆ†ä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">void ChessBoard::paintEvent(QPaintEvent *)&#123;    QPainter painter(this);    painter.setRenderHint(QPainter::Antialiasing, true);&#x2F;&#x2F;æ¸²æŸ“æç¤º    int side &#x3D; qMin(int(ui-&gt;centralwidget-&gt;width() - ui-&gt;rightWidget-&gt;width()), ui-&gt;label-&gt;height());    painter.scale(side &#x2F; 960.0, side &#x2F; 960.0);    m_offset &#x3D; 60;              &#x2F;&#x2F;è·ç¦»ç•Œé¢çš„è¾¹è·    m_distance &#x3D; 90;            &#x2F;&#x2F;é—´è·ä¸º90px    m_radius &#x3D; m_distance&#x2F;2;    &#x2F;&#x2F;æ£‹å­åŠå¾„ä¸ºd&#x2F;2    for(int i &#x3D; 0; i &lt;10; i++)&#123;        painter.drawLine(QPoint(m_offset, m_offset+i*m_distance), QPoint(m_offset+8*m_distance, m_offset+i*m_distance));    &#125;    for(int i&#x3D;0; i&lt;9; i++)&#123;        if(i&#x3D;&#x3D;0 || i&#x3D;&#x3D;8)&#123;            painter.drawLine(QPoint(m_offset+i*m_distance, m_offset), QPoint(m_offset+i*m_distance, m_offset+9*m_distance));        &#125;else&#123;            painter.drawLine(QPoint(m_offset+i*m_distance, m_offset), QPoint(m_offset+i*m_distance, m_offset+4*m_distance));            painter.drawLine(QPoint(m_offset+i*m_distance, m_offset+5*m_distance), QPoint(m_offset+i*m_distance, m_offset+9*m_distance));        &#125;    &#125;    painter.drawLine(QPoint(m_offset+3*m_distance, m_offset), QPoint(m_offset+5*m_distance, m_offset+2*m_distance));    painter.drawLine(QPoint(m_offset+3*m_distance, m_offset+2*m_distance), QPoint(m_offset+5*m_distance, m_offset));    painter.drawLine(QPoint(m_offset+3*m_distance, m_offset+7*m_distance), QPoint(m_offset+5*m_distance, m_offset+9*m_distance));    painter.drawLine(QPoint(m_offset+3*m_distance, m_offset+9*m_distance), QPoint(m_offset+5*m_distance, m_offset+7*m_distance));    QRect rect1(m_offset+m_distance,   m_offset+4*m_distance, m_distance, m_distance);    QRect rect2(m_offset+2*m_distance, m_offset+4*m_distance, m_distance, m_distance);    QRect rect3(m_offset+5*m_distance, m_offset+4*m_distance, m_distance, m_distance);    QRect rect4(m_offset+6*m_distance, m_offset+4*m_distance, m_distance, m_distance);    painter.setFont(QFont(&quot;FangSong&quot;, m_radius * 5 &#x2F; 6, 800));    painter.drawText(rect1, &quot;æ¥š&quot;, QTextOption(Qt::AlignCenter));    painter.drawText(rect2, &quot;æ²³&quot;, QTextOption(Qt::AlignCenter));    painter.drawText(rect3, &quot;æ±‰&quot;, QTextOption(Qt::AlignCenter));    painter.drawText(rect4, &quot;ç•Œ&quot;, QTextOption(Qt::AlignCenter));    &#x2F;&#x2F;*******************ç»˜ç”»æ£‹å­*******************    &#x2F;&#x2F;ç»˜åˆ¶ä¸Šæ¬¡ç§»åŠ¨æ£‹å­çš„èµ·æ­¢ä½ç½®    if(m_isShowStep)        drawLastStep(painter,m_chessSteps);    for(int i &#x3D; 0; i &lt; 32; i++)        drawChessPieces(painter, i);    &#x2F;&#x2F;ç»˜åˆ¶æ–‡æœ¬æ£‹è°±    drawTextStep();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç©å®¶å’ŒAIå¯¹æˆ˜ç•Œé¢ï¼š"><a href="#ç©å®¶å’ŒAIå¯¹æˆ˜ç•Œé¢ï¼š" class="headerlink" title="ç©å®¶å’ŒAIå¯¹æˆ˜ç•Œé¢ï¼š"></a>ç©å®¶å’ŒAIå¯¹æˆ˜ç•Œé¢ï¼š</h3><p><img src="https://img-blog.csdnimg.cn/275f7732d6ca46488f458bb459f0dec3.png#pic_center" alt=""></p><p>å…¶å®å¹¶ä¸ç®—æ˜¯çœŸæ­£çš„AIï¼Œç®—æ³•å®ç°çš„æ˜¯åªè¦æœ‰å¯ä»¥åƒåˆ°çš„å­ï¼Œå°±ä¼šç›´æ¥åƒæ‰ï¼Œæœ‰å¤šä¸ªå¯ä»¥åƒæ‰çš„å­ï¼Œä¼šè®¡ç®—å„ä¸ªæ£‹å­çš„å¾—åˆ†ï¼Œæ²¡æœ‰å°±éšä¾¿èµ°ä¸€æ­¥ã€‚</p><p>éƒ¨åˆ†å®ç°ä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ChessStep *RobotGame::getBestMove()&#123;    int maxScore &#x3D; -10000;    ChessStep* retStep &#x3D; NULL;    &#x2F;&#x2F;æœ‰å¯å‡»æ€çš„çº¢æ£‹å­å°±èµ°å‡»æ€çº¢æ£‹å­æœ€ä¼˜çš„ä¸€æ­¥    &#x2F;&#x2F; 1.çœ‹çœ‹æœ‰é‚£äº›æ­¥éª¤å¯ä»¥èµ°    QVector&lt;ChessStep*&gt; steps;    getAllPossibleMoveStep(steps);    &#x2F;&#x2F;æ²¡æœ‰å¯å‡»æ€çš„çº¢æ£‹å­å°±èµ°æœ€åçš„ä¸€æ­¥    QVector&lt;ChessStep*&gt; stepsAndNoKill;    getAllPossibleMoveStepAndNoKill(stepsAndNoKill);    &#x2F;&#x2F;2.è¯•ç€èµ°ä¸€ä¸‹    for(QVector&lt;ChessStep*&gt;::iterator it &#x3D; steps.begin(); it!&#x3D;steps.end(); it++)    &#123;        ChessStep* step &#x3D; *it;        fakeMove(step);        int score &#x3D; calcScore();   &#x2F;&#x2F;3.è®¡ç®—æœ€å¥½çš„å±€é¢åˆ†        unFakeMove(step);        if(score &gt; maxScore)        &#123;            maxScore &#x3D; score;            retStep &#x3D; step;        &#125;    &#125;    if(retStep !&#x3D; NULL)        return retStep;    &#x2F;&#x2F;2.è¯•ç€èµ°ä¸€ä¸‹    &#x2F;&#x2F;ä»è¿™ç§ä¸å‡»æ€çº¢æ£‹å­ï¼Œåªæ˜¯å•çº¯ç§»åŠ¨é»‘æ£‹stepsé‡Œé¢ï¼ŒéšæœºæŠ½é€‰ä¸€ç§è¿›è¡Œä¸‹æ£‹    int nStepsCount &#x3D; stepsAndNoKill.count();    qsrand(QTime(0,0,0).secsTo(QTime::currentTime()));    int temp &#x3D;qrand()% nStepsCount;    QVector&lt;ChessStep*&gt;::iterator it &#x3D; stepsAndNoKill.begin();    retStep &#x3D; it[temp];    if(retStep &#x3D;&#x3D; NULL)        whoWin();    return retStep;&#125;int RobotGame::calcScore()&#123;    &#x2F;&#x2F;enum m_emTYPE&#123;JIANG, SHI, XIANG, MA, CHE, PAO, BING&#125;;    &#x2F;&#x2F;é»‘æ£‹åˆ†æ•° - çº¢æ£‹åˆ†æ•°    int redGrossScore &#x3D; 0;    int blackGrossScore &#x3D; 0;    static int chessScore[]&#x3D;&#123;200, 20, 40, 60, 100, 80, 10&#125;;    for(int i&#x3D;0; i&lt;16; i++)    &#123;        if(m_chessPieces[i].m_isDead)            continue;        blackGrossScore +&#x3D; chessScore[m_chessPieces[i].m_emType];    &#125;    for(int i&#x3D;16; i&lt;32; i++)    &#123;        if(m_chessPieces[i].m_isDead)            continue;        redGrossScore +&#x3D; chessScore[m_chessPieces[i].m_emType];    &#125;    return (blackGrossScore - redGrossScore);&#125;void RobotGame::getAllPossibleMoveStep(QVector&lt;ChessStep *&gt; &amp;steps)&#123;    for(int id &#x3D; 0; id&lt;16; id++)&#123;        if(m_chessPieces[id].m_isDead)            continue;        for(int row&#x3D;0; row&lt;10; row++)&#123;            for(int col&#x3D;0; col&lt;9; col++)&#123;                int i &#x3D; 16;             &#x2F;&#x2F;æœºå™¨äººæ˜¯é»‘æ–¹                for( ; i &lt;&#x3D; 31; i++)&#123;                    if(m_chessPieces[i].m_row &#x3D;&#x3D; row &amp;&amp; m_chessPieces[i].m_col &#x3D;&#x3D; col &amp;&amp; m_chessPieces[i].m_isDead &#x3D;&#x3D; false)                        break;                &#125;                if(i!&#x3D;32)&#123;                    if(canMove(id, i, row, col))                        saveStep(id, i, row, col, steps);                &#125;            &#125;        &#125;    &#125;&#125;&#x2F;&#x2F; è¯¥å‡½æ•°å®ç°äº†ä¸€ä¸ªæ£‹ç±»æ¸¸æˆä¸­æ‰€æœ‰æœªæ­»äº¡çš„æ£‹å­åœ¨æ£‹ç›˜ä¸Šæ‰€æœ‰èƒ½å¤Ÿä¸åƒå­ç§»åŠ¨çš„èµ°æ³•çš„è·å–void RobotGame::getAllPossibleMoveStepAndNoKill(QVector&lt;ChessStep *&gt; &amp;steps)&#123;    for(int id &#x3D; 0; id&lt;16; id++)&#123;        if(m_chessPieces[id].m_isDead)            continue;        for(int row&#x3D;0; row&lt;10; row++)&#123;            for(int col&#x3D;0; col&lt;9; col++)&#123;                int i &#x3D; 0;                for( ; i &lt;&#x3D; 31; i++)&#123;                    if(m_chessPieces[i].m_row &#x3D;&#x3D; row &amp;&amp; m_chessPieces[i].m_col &#x3D;&#x3D; col &amp;&amp; m_chessPieces[i].m_isDead &#x3D;&#x3D; false)                        break;                &#125;                if(id &lt; 16 &amp;&amp; i &#x3D;&#x3D;32)&#123;&#x2F;&#x2F;-1??????                    if(canMove(id, -1, row, col))                        saveStep(id, -1, row, col, steps);                &#125;            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŒäººç½‘ç»œå¯¹æˆ˜ï¼š"><a href="#åŒäººç½‘ç»œå¯¹æˆ˜ï¼š" class="headerlink" title="åŒäººç½‘ç»œå¯¹æˆ˜ï¼š"></a>åŒäººç½‘ç»œå¯¹æˆ˜ï¼š</h3><p><img src="https://img-blog.csdnimg.cn/48f372c15d034afe8999976ad3bf4b1a.png#pic_center" alt=""></p><p><img src="https://img-blog.csdnimg.cn/585ab690769343649521236e64f5f9a2.png#pic_center" alt=""></p><p>éƒ¨åˆ†ä»£ç å±•ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">#include &quot;networkgame.h&quot;NetworkGame::NetworkGame(bool isServer)&#123;    m_tcpServer &#x3D; nullptr;    m_tcpSocket &#x3D; nullptr;    if(isServer)&#123;        m_isTcpServer &#x3D; true;        m_tcpServer &#x3D; new QTcpServer(this);        m_tcpServer-&gt;listen(QHostAddress::Any, 5555);        connect(m_tcpServer, &amp;QTcpServer::newConnection, this, &amp;NetworkGame::slotNewConnection);    &#125; else &#123;        m_isTcpServer &#x3D; false;        m_tcpSocket &#x3D; new QTcpSocket(this);        m_tcpSocket-&gt;connectToHost(QHostAddress(&quot;127.0.0.1&quot;), 5555);        connect(m_tcpSocket, &amp;QTcpSocket::readyRead, this, &amp;NetworkGame::slotRecv);    &#125;&#125;NetworkGame::~NetworkGame()&#123;&#125;void NetworkGame::clickPieces(int id, int row, int col)&#123;    if(m_isTcpServer)&#123;        if(m_selectID &#x3D;&#x3D; -1 &amp;&amp; m_checkedID &#x3D;&#x3D; -1)&#123;            if(m_isTcpServer !&#x3D; m_chessPieces[id].m_isRed)                return ;        &#125;    &#125; else &#123;        if(m_selectID &#x3D;&#x3D; -1 &amp;&amp; m_checkedID &#x3D;&#x3D; -1)&#123;            if(m_isTcpServer !&#x3D; m_chessPieces[id].m_isRed)                return ;        &#125;    &#125;    whoWin();    ChessBoard::clickPieces(id, row, col);    char array[3];    array[0] &#x3D; id;    array[1] &#x3D; row;    array[2] &#x3D; col;    &#x2F;&#x2F; å¦‚æœå…ˆåˆ›å»ºçš„å®¢æˆ·ç«¯ï¼Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ„é€ å‡½æ•°æ²¡æœ‰new QTcpSocketã€‚    m_tcpSocket-&gt;write(array, 3);&#125;void NetworkGame::slotNewConnection()&#123;    if(m_isTcpServer)        return ;    m_tcpSocket &#x3D; m_tcpServer-&gt;nextPendingConnection();    connect(m_tcpSocket, &amp;QTcpSocket::readyRead, this, &amp;NetworkGame::slotRecv);&#125;void NetworkGame::slotRecv()&#123;    QByteArray array &#x3D; m_tcpSocket-&gt;readAll();    int checkedID &#x3D; array[0];    int row &#x3D; array[1];    int col &#x3D; array[2];    ChessBoard::clickPieces(checkedID, row, col);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p><a href="https://github.com/allenmirac/Chinese-Chess">AllenMirac-ChineseChess</a></p><h1 id="å·¨äººçš„è‚©è†€"><a href="#å·¨äººçš„è‚©è†€" class="headerlink" title="å·¨äººçš„è‚©è†€"></a>å·¨äººçš„è‚©è†€</h1><p><a href="https://blog.csdn.net/qq_33154343/article/details/80931400">é¡¹ç›®å®æˆ˜ï¼šQt5ï¼C++ï¼šQTè±¡æ£‹ã€åˆç‰ˆã€‘</a></p><p><a href="https://github.com/XMuli/ChineseChess">XMuli-ChineseChess</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT_Reviewä¹‹å…ƒå¯¹è±¡ç³»ç»Ÿï¼ˆMocï¼‰</title>
      <link href="/2023/06/20/qtreview-zhi-yuan-dui-xiang-xi-tong-moc/"/>
      <url>/2023/06/20/qtreview-zhi-yuan-dui-xiang-xi-tong-moc/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#QT%20%E5%85%83%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F">QT å…ƒå¯¹è±¡ç³»ç»Ÿ</a></p><p><a href="#%E5%AE%9E%E9%AA%8C%E6%A1%88%E4%BE%8B">å®éªŒæ¡ˆä¾‹</a></p><p><a href="#%E4%BB%8E%E5%9B%9B%E4%B8%AA%E6%96%B9%E9%9D%A2%E6%9D%A5%E4%BB%8B%E7%BB%8D%E5%85%83%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A5%A5%E7%A7%98">ä»å››ä¸ªæ–¹é¢æ¥ä»‹ç»å…ƒå¯¹è±¡ç³»ç»Ÿçš„å¥¥ç§˜</a></p><p><a href="#%E6%98%AF%E4%BB%80%E4%B9%88">æ˜¯ä»€ä¹ˆ</a></p><p><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88">ä¸ºä»€ä¹ˆ</a></p><p><a href="#%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0">æ€ä¹ˆå®ç°</a></p><p><a href="#%E6%80%8E%E4%B9%88%E7%94%A8">æ€ä¹ˆç”¨</a></p><p><a href="#moc%20%E4%BD%BF%E7%94%A8">moc ä½¿ç”¨</a></p><p><a href="#%E5%BC%95%E7%94%A8">å¼•ç”¨</a></p><p><a href="#%E6%AC%A2%E8%BF%8E%E5%A4%A7%E5%AE%B6star">æ¬¢è¿å¤§å®¶star</a></p><h1 id="QT-å…ƒå¯¹è±¡ç³»ç»Ÿ"><a href="#QT-å…ƒå¯¹è±¡ç³»ç»Ÿ" class="headerlink" title="QT å…ƒå¯¹è±¡ç³»ç»Ÿ"></a>QT å…ƒå¯¹è±¡ç³»ç»Ÿ</h1><p>QT çš„å…ƒå¯¹è±¡ç³»ç»Ÿï¼ˆThe Meta-Object Systemï¼‰ç”±å®ƒçš„å…ƒå¯¹è±¡ç¼–è¯‘å™¨ï¼ˆMeta-Object Compilerï¼Œmocï¼‰å¸®å¿™å®ç°ï¼Œmoc é€šè¿‡è¯»å–å¤´æ–‡ä»¶ä¸­çš„ Q_OBJCET å®æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦ç”Ÿæˆå…ƒå¯¹è±¡ä»£ç ã€‚å¦‚æœéœ€è¦ï¼Œåˆ™ç”Ÿæˆä»¥ moc_ å¼€å¤´çš„æºæ–‡ä»¶ï¼Œåœ¨é“¾æ¥ï¼ˆLinkingï¼‰æ—¶ä¼šå’Œæºæ–‡ä»¶ä¸€èµ·ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><h2 id="å®éªŒæ¡ˆä¾‹"><a href="#å®éªŒæ¡ˆä¾‹" class="headerlink" title="å®éªŒæ¡ˆä¾‹"></a>å®éªŒæ¡ˆä¾‹</h2><p>æ¬¢è¿å¤§å®¶starï¼š</p><p><a href="https://github.com/allenmirac/QTStudy/tree/main/QTReviewMoc">QTStudy/QTReviewMoc at main Â· allenmirac/QTStudy Â· GitHub</a></p><h2 id="ä»å››ä¸ªæ–¹é¢æ¥ä»‹ç»å…ƒå¯¹è±¡ç³»ç»Ÿçš„å¥¥ç§˜"><a href="#ä»å››ä¸ªæ–¹é¢æ¥ä»‹ç»å…ƒå¯¹è±¡ç³»ç»Ÿçš„å¥¥ç§˜" class="headerlink" title="ä»å››ä¸ªæ–¹é¢æ¥ä»‹ç»å…ƒå¯¹è±¡ç³»ç»Ÿçš„å¥¥ç§˜"></a>ä»å››ä¸ªæ–¹é¢æ¥ä»‹ç»å…ƒå¯¹è±¡ç³»ç»Ÿçš„å¥¥ç§˜</h2><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><ul><li>ä» QT æ–°å¢çš„å…³é”®å­—ï¼ˆsignalsã€slotsã€emitï¼‰å¯ä»¥çœ‹å‡º QT å¹¶ä¸æ˜¯æ ‡å‡†çš„ C++ è¯­è¨€ï¼Œè€Œæ˜¯å¯¹å…¶è¿›è¡Œäº†ä¸€å®šç¨‹åº¦çš„æ‰©å±•ã€‚ +  å…ƒå¯¹è±¡ç³»ç»Ÿæ˜¯ QT æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºæ”¯æŒ QT çš„ C++ æ‰©å±•ï¼ˆQTâ€™s C++ extensionsï¼‰ï¼Œå®ƒæä¾›äº†ç”¨äºå¯¹è±¡é—´é€šä¿¡çš„ä¿¡å·ä¸æ§½ã€è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ä»¥åŠåŠ¨æ€å±æ€§ç³»ç»Ÿã€‚ </li></ul><h2 id="ä¸ºä»€ä¹ˆ"><a href="#ä¸ºä»€ä¹ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h2><p>ç”±äº QT æ˜¯æ ‡å‡† C++ çš„ä¸€ä¸ªæ‰©å±•ï¼Œæ‰€ä»¥ç¼–è¯‘æºä»£ç æ—¶å°±éœ€è¦å°†è¿™äº›æ‰©å±•çš„è¯­æ³•å»æ‰ï¼Œç„¶åäº¤ç»™æ ‡å‡† C++ ç¼–è¯‘å™¨ï¼Œè¯¸å¦‚ GCCã€MinGWã€Clang ç­‰ã€‚</p><h2 id="æ€ä¹ˆå®ç°"><a href="#æ€ä¹ˆå®ç°" class="headerlink" title="æ€ä¹ˆå®ç°"></a>æ€ä¹ˆå®ç°</h2><p>å…ƒå¯¹è±¡ç³»ç»ŸåŸºäºä»¥ä¸‹ 3 ä»¶äº‹ï¼š</p><ul><li><code>QObject</code>ç±»ä¸ºä½¿ç”¨å…ƒå¯¹è±¡ç³»ç»Ÿçš„ QT å¯¹è±¡æä¾›äº†ä¸€ä¸ªåŸºç±»ã€‚ +  <code>Q_OBJECT</code> å®ç”¨æ¥åœ¨ç±»ä¸­å¯ç”¨å…ƒå¯¹è±¡ç‰¹æ€§ï¼Œä¾‹å¦‚åŠ¨æ€å±æ€§ã€ä¿¡å·ã€æ§½ã€‚ +  <code>moc</code> ä¸ºæ¯ä¸ª QObject å­ç±»æä¾›å®ç°å…ƒå¯¹è±¡ç‰¹æ€§æ‰€éœ€è¦çš„ä»£ç ã€‚ </li></ul><p>moc å·¥å…·è¯»å– C++ æºæ–‡ä»¶ã€‚å¦‚æœå‘ç°æºæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªç±»æˆ–è€…å¤šä¸ªç±»çš„å£°æ˜ä¸­åŒ…å« Q_OBJECT å®ï¼Œå®ƒå°±ç”Ÿæˆä¸€ä¸ªåŒ…å«äº†è¿™äº›ç±»æ‰€éœ€è¦çš„å…ƒå¯¹è±¡ä»£ç çš„æºæ–‡ä»¶ã€‚è¿™ä¸ªæ–°æºæ–‡ä»¶çš„æ–‡ä»¶åä¸ºæºæ–‡ä»¶åå‰åŠ ä¸Š moc_ã€‚<strong>æ–°ç”Ÿæˆçš„æºæ–‡ä»¶å¿…é¡»è¢« #include åˆ°æºæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ›´å¸¸è§çš„æ˜¯ç¼–è¯‘å’Œè¿æ¥åˆ°ç±»çš„å®ç°ä¸­ã€‚</strong></p><h2 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h2><p>å…ƒå¯¹è±¡ç³»ç»Ÿæœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li><code>signals and slots</code> ä¸€ä¸ªç”¨äºå¯¹è±¡é—´é€šä¿¡çš„ä¿¡å·ä¸æ§½æœºåˆ¶ï¼ˆQT å¼•å…¥å…ƒå¯¹è±¡ç³»ç»Ÿæœ€ä¸»è¦çš„åŸå› ï¼‰ã€‚ +  <code>QObject::metaObject()</code> ç”¨æ¥è¿”å›ç±»å…³è”çš„å…ƒå¯¹è±¡ã€‚ +  <code>QMetaObject::className()</code> ç”¨æ¥åœ¨è¿è¡Œæ—¶è·å–ç±»åï¼Œ<strong>è¿™ä¸ªæ–¹æ³•ä¸éœ€è¦åŸç”Ÿ C++ ç¼–è¯‘å™¨çš„è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼ˆRuntime type informationï¼ŒRTTIï¼‰æ”¯æŒ</strong>ã€‚ +  <code>QObject::inherits()</code> ç”¨æ¥åˆ¤åˆ«ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ QObject ç»§æ‰¿æ ‘ä¸­çš„ç‰¹å®šç±»çš„å¯¹è±¡ã€‚ +  <code>QObject::tr()</code> å’Œ <code>QObject::trUtf8()</code> æä¾› QT å›½é™…åŒ–ä¸­ç¿»è¯‘å­—ç¬¦ä¸²çš„æ”¯æŒã€‚ +  <code>QObject::setProperty()</code> å’Œ <code>QObject::property()</code> æä¾›åŠ¨æ€åœ°è®¾ç½®å’Œè·å–å±æ€§åã€‚ +  <code>QMetaObject::newInstance()</code> ç”¨äºæ„é€ ä¸€ä¸ªç±»çš„æ–°å®ä¾‹ã€‚ +  <code>qobject_cast</code> å¤„ç†ç»§æ‰¿è‡ª QObject ç±»çš„åŠ¨æ€è½¬æ¢ã€‚å®ƒä¸éœ€è¦ RTTI æ”¯æŒï¼Œå¹¶ä¸”æ”¯æŒè·¨åŠ¨æ€åº“è½¬æ¢ã€‚è½¬æ¢æˆåŠŸè¿”å›éé›¶æŒ‡é’ˆï¼Œå¤±è´¥è¿”å› nullptrã€‚ </li></ul><p>åœ¨ QObject çš„æ´¾ç”Ÿç±»ä¸­ï¼Œä¸ä½¿ç”¨ Q_OBJECT å®ä»¥åŠæ²¡æœ‰å…ƒå¯¹è±¡ä»£ç ï¼Œä¸Šè¿°å…ƒå¯¹è±¡ç³»ç»Ÿç‰¹æ€§ä¹Ÿèƒ½ç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒQMetaObject::className() åªä¼šè¿”å›ç¦»å®ƒæœ€è¿‘ä¸”æ‹¥æœ‰å…ƒå¯¹è±¡ä»£ç çš„ç¥–å…ˆï¼ˆå³æœ€è¿‘ä¸€ä¸ªå£°æ˜ Q_OBJECT çš„ç¥–å…ˆï¼‰çš„ç±»åã€‚æ‰€ä»¥å»ºè®® QObject çš„æ´¾ç”Ÿç±»ä¸€å¾‹æ·»åŠ  Q_OBJECT å®ï¼</p><h2 id="moc-ä½¿ç”¨"><a href="#moc-ä½¿ç”¨" class="headerlink" title="moc ä½¿ç”¨"></a>moc ä½¿ç”¨</h2><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­çš„ä½¿ç”¨ï¼š</p><p><a href="https://github.com/allenmirac/QTStudy/blob/main/QTReviewMoc/expersion.h">QTStudy/expersion.h at main Â· allenmirac/QTStudy Â· GitHub</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXPERSION_H</span></span> <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXPERSION_H</span></span> â€‹ <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QObject></span></span> â€‹ <span class="token keyword">class</span> <span class="token class-name">ExPersion</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span> <span class="token punctuation">&#123;</span>     Q_OBJECT     <span class="token comment">//Connected to the property system is an additional macro, Q_CLASSINFO(), that can be used to attach additional name--value pairs to a class's meta-object</span>     <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span><span class="token string">"hzy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"version"</span><span class="token punctuation">,</span> <span class="token string">"1.1.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"info"</span><span class="token punctuation">,</span> <span class="token string">"QT5 Meta Object and Property Example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//A property behaves like a class data member, but it has additional features accessible through the Meta-Object System.</span>     <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span><span class="token keyword">int</span> age READ getAge WRITE setAge NOTIFY ageChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString name MEMBER m_name<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span><span class="token keyword">int</span> score MEMBER m_score<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span><span class="token operator">:</span>     <span class="token keyword">explicit</span> <span class="token function">ExPersion</span><span class="token punctuation">(</span>QString name<span class="token punctuation">,</span> QObject <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹ <span class="token keyword">public</span><span class="token operator">:</span>     <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹     <span class="token keyword">void</span> <span class="token function">incAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹ signals<span class="token operator">:</span>     <span class="token keyword">void</span> <span class="token function">ageChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹ <span class="token keyword">private</span><span class="token operator">:</span>     <span class="token keyword">int</span> m_age <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>     QString m_name<span class="token punctuation">;</span>     <span class="token keyword">int</span> m_score <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> â€‹ <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXPERSION_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®˜æ–¹æ–‡æ¡£çš„Exampleï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span> <span class="token punctuation">&#123;</span>     Q_OBJECT     <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>Priority priority READ priority WRITE setPriority NOTIFY priorityChanged<span class="token punctuation">)</span> â€‹ <span class="token keyword">public</span><span class="token operator">:</span>     <span class="token function">MyClass</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token operator">~</span><span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹     <span class="token keyword">enum</span> <span class="token class-name">Priority</span> <span class="token punctuation">&#123;</span> High<span class="token punctuation">,</span> Low<span class="token punctuation">,</span> VeryHigh<span class="token punctuation">,</span> VeryLow <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>     <span class="token function">Q_ENUM</span><span class="token punctuation">(</span>Priority<span class="token punctuation">)</span> â€‹     <span class="token keyword">void</span> <span class="token function">setPriority</span><span class="token punctuation">(</span>Priority priority<span class="token punctuation">)</span>     <span class="token punctuation">&#123;</span>         m_priority <span class="token operator">=</span> priority<span class="token punctuation">;</span>         emit <span class="token function">priorityChanged</span><span class="token punctuation">(</span>priority<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     Priority <span class="token function">priority</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>     <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> m_priority<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> â€‹ signals<span class="token operator">:</span>     <span class="token keyword">void</span> <span class="token function">priorityChanged</span><span class="token punctuation">(</span>Priority<span class="token punctuation">)</span><span class="token punctuation">;</span> â€‹ <span class="token keyword">private</span><span class="token operator">:</span>     Priority m_priority<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://beyondyuanshu.github.io/2019/09/03/qt-core-the-meta-object-system.html">Qt æ ¸å¿ƒä¹‹å…ƒå¯¹è±¡ç³»ç»Ÿ - Shuâ€™s Site</a></p><p><a href="https://doc.qt.io/qt-6/qobject.html#Q_PROPERTY">QObject Class | Qt Core 6.4.3</a></p><h2 id="æ¬¢è¿å¤§å®¶star"><a href="#æ¬¢è¿å¤§å®¶star" class="headerlink" title="æ¬¢è¿å¤§å®¶star"></a>æ¬¢è¿å¤§å®¶star</h2><p><a href="https://github.com/allenmirac/QTStudy">GitHub - allenmirac/QTStudy: This is a repository to learn QT.</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT_Reviewä¹‹_QSliderï¼ˆæ»‘å—ï¼‰</title>
      <link href="/2023/06/20/qtreview-zhi-qslider-hua-kuai/"/>
      <url>/2023/06/20/qtreview-zhi-qslider-hua-kuai/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#QT%20QSlider">QT QSlider</a></p><p><a href="#%E6%98%AF%E4%BB%80%E4%B9%88">æ˜¯ä»€ä¹ˆ</a></p><p><a href="#%E5%AE%9E%E9%AA%8C%E6%A1%88%E4%BE%8B">å®éªŒæ¡ˆä¾‹</a></p><p><a href="#%E6%80%8E%E4%B9%88%E7%94%A8">æ€ä¹ˆç”¨</a></p><p><a href="#%E6%A1%88%E4%BE%8B">æ¡ˆä¾‹</a></p><p><a href="#%E6%AC%A2%E8%BF%8E%E5%A4%A7%E5%AE%B6star">æ¬¢è¿å¤§å®¶star</a></p><h1 id="QT-QSlider"><a href="#QT-QSlider" class="headerlink" title="QT QSlider"></a>QT QSlider</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>æ»‘å—æ˜¯æ§åˆ¶æœ‰ç•Œå€¼çš„ç»å…¸å°éƒ¨ä»¶ã€‚å®ƒå…è®¸ç”¨æˆ·æ²¿ç€æ°´å¹³æˆ–å‚ç›´æ§½ç§»åŠ¨æ»‘å—æ‰‹æŸ„ï¼Œå¹¶å°†æ‰‹æŸ„çš„ä½ç½®è½¬æ¢ä¸ºåˆæ³•èŒƒå›´å†…çš„æ•´æ•°å€¼ã€‚</p><p><code>QSlider</code> è‡ªå·±çš„åŠŸèƒ½å¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½éƒ½ç»§æ‰¿äº <code>QAbstractSlider</code>ã€‚æœ€å¸¸ç”¨çš„å‡½æ•°æ˜¯ <code>setValue ()</code> ï¼Œå®ƒå¯ä»¥å°†æ»‘å—ç›´æ¥è®¾ç½®ä¸ºæŸä¸ªå€¼; <code>triggerAction ()</code>å¯ä»¥æ¨¡æ‹Ÿå•å‡»çš„æ•ˆæœ(å¯¹å¿«æ·é”®æœ‰ç”¨) ;<code>setSingleStep ()</code>ï¼Œ<code>setPageStep ()</code>å¯ä»¥è®¾ç½®æ­¥éª¤; <code>setMinimum()</code>å’Œ <code>setMaximum()</code>å¯ä»¥å®šä¹‰æ»šåŠ¨æ¡çš„èŒƒå›´ã€‚</p><h2 id="å®éªŒæ¡ˆä¾‹"><a href="#å®éªŒæ¡ˆä¾‹" class="headerlink" title="å®éªŒæ¡ˆä¾‹"></a>å®éªŒæ¡ˆä¾‹</h2><p>æ¬¢è¿å¤§å®¶starï¼š</p><p><a href="https://github.com/allenmirac/QTStudy/tree/main/QTReviewQSlider">QTStudy/QTReviewQSlider at main Â· allenmirac/QTStudy Â· GitHub</a></p><h2 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h2><p><strong>ç»§æ‰¿çš„å±æ€§ï¼š</strong></p><ul><li><code>minimum</code>ã€<code>maximum</code>ï¼šè®¾ç½®è¾“å…¥èŒƒå›´çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä¾‹å¦‚ï¼Œç”¨çº¢ã€ç»¿ã€è“é…è‰²æ—¶ï¼Œæ¯ ç§åŸºè‰²çš„å¤§å°èŒƒå›´æ˜¯0~255ï¼Œæ‰€ä»¥è®¾ç½®<strong>minimum</strong>ä¸º0ï¼Œ<strong>maximum</strong>ä¸º255ã€‚ +  <code>singlestep</code>:å•æ­¥é•¿ï¼Œæ‹–åŠ¨æ ‡å°ºä¸Šçš„æ»‘å—ï¼Œæˆ–æŒ‰ä¸‹å·¦/å³å…‰æ ‡é”®æ—¶çš„æœ€å°å˜åŒ–æ•°å€¼ã€‚ +  <code>pageStep</code>:åœ¨<strong>Slider</strong>ä¸Šè¾“å…¥ç„¦ç‚¹ï¼ŒæŒ‰<strong>PgUp</strong>æˆ–<strong>PgDn</strong>é”®æ—¶å˜åŒ–çš„æ•°å€¼ã€‚ +  <code>value</code>ï¼šç»„ä»¶çš„å½“å‰å€¼ï¼Œæ‹–åŠ¨æ»‘å—æ—¶è‡ªåŠ¨æ”¹å˜æ­¤å€¼ï¼Œå¹¶é™å®šåœ¨<strong>minimum</strong>å’Œ<strong>maximum</strong>å®šä¹‰çš„ èŒƒå›´ä¹‹å†…ã€‚ +  <code>sliderPosition</code>:æ»‘å—çš„ä½ç½®ï¼Œè‹¥<strong>tracking</strong>å±æ€§è®¾ç½®ä¸ºtrueï¼Œ<strong>sliderPosition</strong>å°±ç­‰äºvalueã€‚ +  <strong><code>tracking</code>ï¼šsliderPosition</strong>æ˜¯å¦ç­‰åŒäº<strong>value</strong>ï¼Œå¦‚æœ<strong>tracking</strong>=trueï¼Œæ”¹å˜valueæ—¶ä¹ŸåŒæ—¶æ”¹å˜ sliderPositionã€‚ +  <code>orientation</code>: <strong>Slider</strong>çš„æ–¹å‘ï¼Œå¯ä»¥è®¾ç½®ä¸ºæ°´å¹³æˆ–å‚ç›´ã€‚æ–¹å‘å‚æ•°æ˜¯Qtçš„æšä¸¾ç±»å‹enum +  <code>Qt::Orientation</code>ï¼šå–å€¼åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§ã€‚<br>æšä¸¾å«ä¹‰Qt::Horizontalæ°´å¹³æ–¹å‘Qt::Verticalå‚ç›´æ–¹å‘+  <code>invertedAppearance</code>:æ˜¾ç¤ºæ–¹å¼æ˜¯å¦åå‘ï¼Œ<strong>invertedAppearance</strong>=falseæ—¶ï¼Œæ°´å¹³çš„Sliderç”±å·¦å‘å³æ•°å€¼å¢å¤§ï¼Œå¦åˆ™åè¿‡æ¥ã€‚ +  <code>invertedControls</code>ï¼šåå‘æŒ‰é”®æ§åˆ¶ï¼Œè‹¥<strong>invertedControls</strong>=trueï¼Œåˆ™æŒ‰ä¸‹<strong>PgUp</strong>æˆ–<strong>PgDn</strong>æŒ‰é”®æ—¶è°ƒæ•´æ•°å€¼çš„åå‘ç›¸åã€‚ +  <strong>å±äºQSliderçš„ä¸“æœ‰å±æ€§æœ‰ä¸¤ä¸ªï¼Œå¦‚ä¸‹ï¼š</strong> +  <code>tickPosition</code>:æ ‡å°ºåˆ»åº¦çš„æ˜¾ç¤ºä½ç½®ï¼Œä½¿ç”¨æšä¸¾ç±»å‹<strong>QSlider:TickPosition</strong>ï¼Œå–å€¼åŒ…æ‹¬ä»¥ä¸‹6ç§<br>æšä¸¾å«ä¹‰QSlider::NoTicksä¸æ˜¾ç¤ºåˆ»åº¦QSlider::TicksBothSidesæ ‡å°ºä¸¤ä¾§éƒ½æ˜¾ç¤ºåˆ»åº¦QSlider::TicksAboveæ ‡å°ºä¸Šæ–¹æ˜¾ç¤ºåˆ»åº¦QSlider::TicksBelowæ ‡å°ºä¸‹æ–¹æ˜¾ç¤ºåˆ»åº¦QSlider::TicksLeftæ ‡å°ºå·¦ä¾§æ˜¾ç¤ºåˆ»åº¦QSlider::TicksRightæ ‡å°ºå³ä¾§æ˜¾ç¤ºåˆ»åº¦+  <code>ticklnterval</code>ï¼šæ ‡å°ºåˆ»åº¦çš„é—´éš”å€¼ï¼Œè‹¥è®¾ç½®ä¸º0ï¼Œä¼šåœ¨<strong>singleStep</strong>å’Œ<strong>pageStep</strong>ä¹‹é—´è‡ªåŠ¨é€‰æ‹©ã€‚ </li></ul><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"exqslider.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_exqslider.h"</span></span>â€‹<span class="token class-name">ExQSlider</span><span class="token double-colon punctuation">::</span><span class="token function">ExQSlider</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQSlider<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"QSliderçš„ç”¨æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    <span class="token comment">//QSlideræ§ä»¶ï¼Œè®¾ç½®æœ€å¤§å€¼ä¸º255,åˆå§‹èŒƒå›´æ˜¯0-100;</span>    ui<span class="token operator">-></span>sliderRed<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderGreen<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderBlue<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderAlpha<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    <span class="token comment">//QSlideræ§ä»¶ï¼Œè®¾ç½®åˆå€¼</span>    ui<span class="token operator">-></span>sliderRed<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">145</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderGreen<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">190</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderBlue<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">251</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderAlpha<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    <span class="token comment">//QTextEditæ§ä»¶ï¼Œè®¾ç½®åˆè¯•é¢œè‰²</span>    QColor color<span class="token punctuation">;</span>    color<span class="token punctuation">.</span><span class="token function">setRgb</span><span class="token punctuation">(</span><span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">251</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPalette palette <span class="token operator">=</span> ui<span class="token operator">-></span>textColor<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‹¿åˆ°è°ƒè‰²æ¿</span>    palette<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span>    ui<span class="token operator">-></span>textColor<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderRed<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QSlider<span class="token double-colon punctuation">::</span>valueChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExQSlider<span class="token double-colon punctuation">::</span>onSetColor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderGreen<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QSlider<span class="token double-colon punctuation">::</span>valueChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExQSlider<span class="token double-colon punctuation">::</span>onSetColor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderBlue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QSlider<span class="token double-colon punctuation">::</span>valueChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExQSlider<span class="token double-colon punctuation">::</span>onSetColor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderAlpha<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QSlider<span class="token double-colon punctuation">::</span>valueChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExQSlider<span class="token double-colon punctuation">::</span>onSetColor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>â€‹<span class="token class-name">ExQSlider</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQSlider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>â€‹<span class="token keyword">void</span> <span class="token class-name">ExQSlider</span><span class="token double-colon punctuation">::</span><span class="token function">onSetColor</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    <span class="token keyword">int</span> nRed <span class="token operator">=</span> ui<span class="token operator">-></span>sliderRed<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> nGreen <span class="token operator">=</span> ui<span class="token operator">-></span>sliderGreen<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> nBlue <span class="token operator">=</span> ui<span class="token operator">-></span>sliderBlue<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> nAlpha <span class="token operator">=</span> ui<span class="token operator">-></span>sliderAlpha<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    QColor color<span class="token punctuation">;</span>    color<span class="token punctuation">.</span><span class="token function">setRgb</span><span class="token punctuation">(</span>nRed<span class="token punctuation">,</span> nGreen<span class="token punctuation">,</span> nBlue<span class="token punctuation">,</span> nAlpha<span class="token punctuation">)</span><span class="token punctuation">;</span>    QPalette palette <span class="token operator">=</span> ui<span class="token operator">-></span>textColor<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    palette<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textColor<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    ui<span class="token operator">-></span>labRGBVal<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"RGB(%1, %2, %3, %4)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nRed<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nGreen<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nBlue<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nAlpha<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¬¢è¿å¤§å®¶star"><a href="#æ¬¢è¿å¤§å®¶star" class="headerlink" title="æ¬¢è¿å¤§å®¶star"></a>æ¬¢è¿å¤§å®¶star</h2><p><a href="https://github.com/allenmirac/QTStudy">GitHub - allenmirac/QTStudy: This is a repository to learn QT.</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QComboBox_å’Œ_QPlainTextEdit</title>
      <link href="/2023/06/20/qcombobox-he-qplaintextedit/"/>
      <url>/2023/06/20/qcombobox-he-qplaintextedit/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="QComboBox"><a href="#QComboBox" class="headerlink" title="QComboBox"></a>QComboBox</h1><p>QComboBox ä¸»è¦çš„åŠŸèƒ½æ˜¯æä¾›ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ä¾›é€‰æ‹©è¾“å…¥ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å½“ä½œä¸€ä¸ª QLineEdit ç”¨ä½œè¾“å…¥ï¼ˆ<code>ui-&gt;comboBox-&gt;setEditable(true);</code>ï¼‰ã€‚</p><h2 id="æ·»åŠ é¡¹"><a href="#æ·»åŠ é¡¹" class="headerlink" title="æ·»åŠ é¡¹"></a>æ·»åŠ é¡¹</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">ExQComboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInitNameAge_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QIcon ico<span class="token punctuation">;</span>    ico<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/girl.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    QMap<span class="token operator">&lt;</span>QString<span class="token punctuation">,</span> QString<span class="token operator">></span> map<span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æŠ•"</span><span class="token punctuation">,</span> <span class="token string">"16å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æˆ‘"</span><span class="token punctuation">,</span> <span class="token string">"17å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ä»¥"</span><span class="token punctuation">,</span> <span class="token string">"18å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æœ¨"</span><span class="token punctuation">,</span> <span class="token string">"19å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æ"</span><span class="token punctuation">,</span> <span class="token string">"20å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ï¼Œ"</span><span class="token punctuation">,</span> <span class="token string">"21å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æŠ¥"</span><span class="token punctuation">,</span> <span class="token string">"22å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>â€‹    ui<span class="token operator">-></span>comboBoxRight<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">foreach</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>str<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>comboBoxRight<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>ico<span class="token punctuation">,</span> str<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œç”¨äº†foreachéå†mapã€‚</p><p>æ·»åŠ å…·æœ‰ç”¨æˆ·æ•°æ®çš„é¡¹ QComboBox::addltem() å‡½æ•°çš„ä¸¤ç§å‚æ•°çš„åŸå‹å®šä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">addItem</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>text<span class="token punctuation">,</span> <span class="token keyword">const</span> QVariant <span class="token operator">&amp;</span>userData <span class="token operator">=</span> <span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">addItem</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QIcon <span class="token operator">&amp;</span>icon<span class="token punctuation">,</span> <span class="token keyword">const</span> QString <span class="token operator">&amp;</span>text<span class="token punctuation">,</span> <span class="token keyword">const</span> QVariant <span class="token operator">&amp;</span>userData <span class="token operator">=</span> <span class="token function">QVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h2><p>QComboBox å­˜å‚¨çš„é¡¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯ QComboBox ä¸æä¾›æ•´ä¸ªåˆ—è¡¨ç”¨äºè®¿é—®ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®æŸä¸ªé¡¹ã€‚è®¿é—®é¡¹çš„ä¸€äº›å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>int currentlndex()ï¼šè¿”å›å½“å‰é¡¹çš„åºå·ï¼Œç¬¬ä¸€ä¸ªé¡¹çš„åºå·ä¸º0ã€‚ +  QString currentText()ï¼šè¿”å›å½“å‰é¡¹çš„æ–‡å­—ã€‚ +  QVariant currentData(int role = Qt::UserRole)ï¼šè¿”å›å½“å‰é¡¹çš„å…³è”æ•°æ®ï¼Œæ•°æ®çš„ç¼ºçœè§’è‰²ä¸º role = Qt::UserRoleï¼Œè§’è‰²çš„æ„ä¹‰åœ¨åç»­ç« èŠ‚ä¼šè¯¦ç»†ä»‹ç»ã€‚ +  QString itemText(int index)ï¼šè¿”å›æŒ‡å®šç´¢å¼•å·çš„é¡¹çš„æ–‡å­—ã€‚ +  QVariant itemData(int index, int role = Qt%:UserRole)ï¼šè¿”å›æŒ‡å®šç´¢å¼•å·çš„é¡¹çš„å…³è”æ•°æ®ã€‚ +  int count()ï¼šè¿”å›é¡¹çš„ä¸ªæ•°ã€‚ </li></ul><p>åœ¨ä¸€ä¸ª QComboBox ç»„ä»¶ä¸Šé€‰æ‹©é¡¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå‘å°„å¦‚ä¸‹ä¸¤ä¸ªä¿¡å·ï¼š<br>void currentlndexChanged(int index)<br>void currentlndexChanged(const QString &amp;text)</p><h1 id="QPlainTextEdit"><a href="#QPlainTextEdit" class="headerlink" title="QPlainTextEdit"></a>QPlainTextEdit</h1><p>QPlainTextEdit æ˜¯ä¸€ä¸ªå¤šè¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºæ˜¾ç¤ºå’Œç¼–è¾‘å¤šè¡Œç®€å•æ–‡æœ¬ã€‚</p><p>QPlainTextEdit æä¾›<strong>cut( )ã€copy( )ã€paste( )ã€undo( )ã€redo( )ã€clear( )ã€selectAll( )</strong>ç­‰æ ‡å‡†ç¼–è¾‘åŠŸ èƒ½çš„æ§½å‡½æ•°ï¼ŒQPlainTextEditè¿˜æä¾›ä¸€ä¸ªæ ‡å‡†çš„å³é”®å¿«æ·èœå•ã€‚</p><p>QPlainTextEditçš„æ–‡å­—å†…å®¹ä»¥QTextDocumentç±»å‹å­˜å‚¨ï¼Œå‡½æ•°document()è¿”å›è¿™ä¸ªæ–‡æ¡£å¯¹è±¡çš„æŒ‡é’ˆã€‚</p><p>QTextDocumentæ˜¯å†…å­˜ä¸­çš„æ–‡æœ¬å¯¹è±¡ï¼Œä»¥æ–‡æœ¬å—çš„æ–¹å¼å­˜å‚¨ï¼Œä¸€ä¸ªæ–‡æœ¬å—å°±æ˜¯ä¸€ä¸ªæ®µè½ï¼Œæ¯ä¸ªæ®µè½ä»¥å›è½¦ç¬¦ç»“æŸã€‚QTextDocumentæä¾›ä¸€äº›å‡½æ•°å®ç°å¯¹æ–‡æœ¬å†…å®¹çš„å­˜å–ã€‚</p><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><p>å¸¸ç”¨å‡½æ•°å«ä¹‰()appendPlainText()å‘QPlain TextEditæ·»åŠ ä¸€è¡Œè¯int blockCount()è·å¾—æ–‡æœ¬å—ä¸ªæ•°QTextBlock findBlockByNumber(int blockNumber)è¯»å–æŸä¸€ä¸ªæ–‡æœ¬å—ï¼Œåºå·ä»0å¼€å§‹ï¼Œè‡³blockCount()-1ç»“æŸã€‚</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">ExQComboBox</span><span class="token double-colon punctuation">::</span><span class="token function">onSelectDisplay</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString strData <span class="token operator">=</span> ui<span class="token operator">-></span>comboBoxRight<span class="token operator">-></span><span class="token function">currentData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> strData<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="æ¬¢è¿å¤§å®¶star"><a href="#æ¬¢è¿å¤§å®¶star" class="headerlink" title="æ¬¢è¿å¤§å®¶star"></a>æ¬¢è¿å¤§å®¶star</h1><p>è¿™é‡Œæ˜¯é¡¹ç›®çš„æºç ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»ƒä¹ çš„ä¾‹å­ï¼Œå¯ä»¥è‡ªå·±æ•²ç€ç©ä¸€ç©ï¼Œç»ƒä¹ ç»ƒä¹ æ‰‹æ„Ÿ</p><p><a href="https://github.com/allenmirac/QTStudy/tree/main/QTReviewQCombobox">QTStudy/QTReviewQCombobox at main Â· allenmirac/QTStudy Â· GitHub</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonç»†ç¢çŸ¥è¯†ç‚¹ï¼ˆgetattr......ï¼‰</title>
      <link href="/2023/06/20/python-xi-sui-zhi-shi-dian-getattr/"/>
      <url>/2023/06/20/python-xi-sui-zhi-shi-dian-getattr/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="ç±»å¤–ç»™ç±»å¢åŠ å±æ€§ã€è®¾ç½®å±æ€§"><a href="#ç±»å¤–ç»™ç±»å¢åŠ å±æ€§ã€è®¾ç½®å±æ€§" class="headerlink" title="ç±»å¤–ç»™ç±»å¢åŠ å±æ€§ã€è®¾ç½®å±æ€§"></a>ç±»å¤–ç»™ç±»å¢åŠ å±æ€§ã€è®¾ç½®å±æ€§</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">change</span><span class="token punctuation">:</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">:</span>         self<span class="token punctuation">.</span>a <span class="token operator">=</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z x <span class="token operator">=</span> change<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> y <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>y <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é»˜è®¤å€¼ï¼Œä¸å­˜åœ¨è¯¥å±æ€§åˆ™å°†yè®¾ç½®ä¸ºé»˜è®¤å€¼ï¼Œ</span><span class="token comment"># æ³¨æ„yæ˜¯intå‹æ•°æ®ï¼ï¼ï¼</span><span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token builtin">setattr</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token comment"># 6</span><span class="token comment"># 1</span><span class="token comment"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç±»å¤–å®šä¹‰å±æ€§"><a href="#ç±»å¤–å®šä¹‰å±æ€§" class="headerlink" title="ç±»å¤–å®šä¹‰å±æ€§"></a>ç±»å¤–å®šä¹‰å±æ€§</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">fruits</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>price <span class="token operator">=</span> priceobj<span class="token operator">=</span>fruits<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>obj<span class="token punctuation">.</span>quantity<span class="token operator">=</span><span class="token number">10</span>obj<span class="token punctuation">.</span>bags<span class="token operator">=</span><span class="token number">2</span><span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>quantity<span class="token operator">+</span><span class="token builtin">len</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 13</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Pythonè¿ç®—ç¬¦é‡è½½ï¼š"><a href="#Pythonè¿ç®—ç¬¦é‡è½½ï¼š" class="headerlink" title="Pythonè¿ç®—ç¬¦é‡è½½ï¼š"></a>Pythonè¿ç®—ç¬¦é‡è½½ï¼š</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">Suppose i <span class="token keyword">is</span> <span class="token number">5</span> <span class="token keyword">and</span> j <span class="token keyword">is</span> <span class="token number">4</span><span class="token punctuation">,</span> i <span class="token operator">*</span> j <span class="token keyword">is</span> same <span class="token keyword">as</span> ______<span class="token punctuation">.</span>A<span class="token punctuation">.</span> i<span class="token punctuation">.</span>__mul<span class="token punctuation">(</span>j<span class="token punctuation">)</span>B<span class="token punctuation">.</span> i<span class="token punctuation">.</span>__mul__<span class="token punctuation">(</span>j<span class="token punctuation">)</span>C<span class="token punctuation">.</span> i<span class="token punctuation">.</span>__Mul<span class="token punctuation">(</span>j<span class="token punctuation">)</span>D<span class="token punctuation">.</span> i<span class="token punctuation">.</span>__MUL<span class="token punctuation">(</span>j<span class="token punctuation">)</span>æˆ‘çš„ç­”æ¡ˆ<span class="token punctuation">:</span> B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">If a <span class="token keyword">class</span> <span class="token class-name">defines</span> the __str__<span class="token punctuation">(</span>self<span class="token punctuation">)</span> method<span class="token punctuation">,</span> <span class="token keyword">for</span> an <span class="token builtin">object</span> obj <span class="token keyword">for</span> the <span class="token keyword">class</span><span class="token punctuation">,</span> you can use which command to invoke the __str__ method<span class="token punctuation">.</span>A<span class="token punctuation">.</span> obj<span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span>B<span class="token punctuation">.</span> <span class="token builtin">str</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>C<span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>D<span class="token punctuation">.</span> <span class="token builtin">all</span> of the mentionedæˆ‘çš„ç­”æ¡ˆ<span class="token punctuation">:</span> D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®ç°è‡ªå·±çš„å¤æ•°ç±»å‹ï¼Œè¿ç®—ç¬¦é‡è½½</span><span class="token keyword">class</span> <span class="token class-name">MyComplex</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>real<span class="token punctuation">,</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>real <span class="token operator">=</span> real        self<span class="token punctuation">.</span>image <span class="token operator">=</span> image    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>other<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> MyComplex<span class="token punctuation">(</span>self<span class="token punctuation">.</span>real<span class="token operator">+</span>other<span class="token punctuation">.</span>real<span class="token punctuation">,</span>self<span class="token punctuation">.</span>image<span class="token operator">+</span>other<span class="token punctuation">.</span>image<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>other<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> MyComplex<span class="token punctuation">(</span>self<span class="token punctuation">.</span>real<span class="token operator">-</span>other<span class="token punctuation">.</span>real<span class="token punctuation">,</span>self<span class="token punctuation">.</span>image<span class="token operator">-</span>other<span class="token punctuation">.</span>image<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>        re <span class="token operator">=</span> self<span class="token punctuation">.</span>real<span class="token operator">*</span>other<span class="token punctuation">.</span>real<span class="token operator">-</span>self<span class="token punctuation">.</span>image<span class="token operator">*</span>other<span class="token punctuation">.</span>image        im <span class="token operator">=</span> self<span class="token punctuation">.</span>real<span class="token operator">*</span>other<span class="token punctuation">.</span>real<span class="token operator">-</span>self<span class="token punctuation">.</span>image<span class="token operator">*</span>other<span class="token punctuation">.</span>image        <span class="token keyword">return</span> MyComplex<span class="token punctuation">(</span>re<span class="token punctuation">,</span>im<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>image<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">:</span>                       <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>real<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'+'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'j'</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>real<span class="token punctuation">)</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'j'</span><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    c1 <span class="token operator">=</span> MyComplex<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>    c2 <span class="token operator">=</span> MyComplex<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        op <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> op <span class="token operator">==</span> <span class="token string">'+'</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token operator">+</span>c2<span class="token punctuation">)</span>        <span class="token keyword">elif</span> op <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token operator">-</span>c2<span class="token punctuation">)</span>        <span class="token keyword">elif</span> op <span class="token operator">==</span> <span class="token string">'*'</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>c1<span class="token operator">*</span>c2<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">break</span><span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">"__main__"</span><span class="token punctuation">:</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç±»çš„æ–¹æ³•doc-è¾“å‡ºæ³¨é‡Š"><a href="#ç±»çš„æ–¹æ³•doc-è¾“å‡ºæ³¨é‡Š" class="headerlink" title="ç±»çš„æ–¹æ³•doc(è¾“å‡ºæ³¨é‡Š)"></a>ç±»çš„æ–¹æ³•<strong>doc</strong>(è¾“å‡ºæ³¨é‡Š)</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># What will be the output of the following Python code?</span><span class="token keyword">class</span> <span class="token class-name">stud</span><span class="token punctuation">:</span>    <span class="token string">'Base class for all students'</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> roll_no<span class="token punctuation">,</span> grade<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>roll_no <span class="token operator">=</span> roll_no        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade    <span class="token keyword">def</span> <span class="token function">display</span> <span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Roll no : "</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>roll_no<span class="token punctuation">,</span> <span class="token string">", Grade: "</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>stud<span class="token punctuation">.</span>__doc__<span class="token punctuation">)</span>A<span class="token punctuation">.</span> Exception <span class="token keyword">is</span> thrownB<span class="token punctuation">.</span> __main__C<span class="token punctuation">.</span> Nothing <span class="token keyword">is</span> displayedD<span class="token punctuation">.</span> Base <span class="token keyword">class</span> <span class="token class-name">for</span> <span class="token builtin">all</span> studentsæˆ‘çš„ç­”æ¡ˆ<span class="token punctuation">:</span> D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç±»çš„æ–¹æ³•nameï¼š"><a href="#ç±»çš„æ–¹æ³•nameï¼š" class="headerlink" title="ç±»çš„æ–¹æ³•nameï¼š"></a>ç±»çš„æ–¹æ³•<strong>name</strong>ï¼š</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">What does <span class="token keyword">print</span><span class="token punctuation">(</span>Test<span class="token punctuation">.</span>__name__<span class="token punctuation">)</span> display <span class="token punctuation">(</span>assuming Test <span class="token keyword">is</span> the name of the <span class="token keyword">class</span><span class="token punctuation">)</span>?A<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>B<span class="token punctuation">.</span> Exception <span class="token keyword">is</span> thrownC<span class="token punctuation">.</span> TestD<span class="token punctuation">.</span> __main__æˆ‘çš„ç­”æ¡ˆ<span class="token punctuation">:</span> C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å˜é‡ä½œç”¨åŸŸï¼š"><a href="#å˜é‡ä½œç”¨åŸŸï¼š" class="headerlink" title="å˜é‡ä½œç”¨åŸŸï¼š "></a><strong>å˜é‡ä½œç”¨åŸŸï¼š </strong></h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">:</span>     c<span class="token punctuation">.</span>test <span class="token operator">+=</span> <span class="token number">1</span>     k <span class="token operator">+=</span> <span class="token number">2</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>         self<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">0</span> a<span class="token operator">=</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span> k<span class="token operator">=</span><span class="token number">0</span> add<span class="token punctuation">(</span>a<span class="token punctuation">,</span>k<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>test<span class="token punctuation">,</span> k<span class="token punctuation">)</span> A<span class="token punctuation">.</span> <span class="token number">0</span> <span class="token number">0</span>B<span class="token punctuation">.</span> <span class="token number">1</span> <span class="token number">0</span>C<span class="token punctuation">.</span> <span class="token number">0</span> <span class="token number">2</span>D<span class="token punctuation">.</span> <span class="token number">1</span> <span class="token number">2</span>æˆ‘çš„ç­”æ¡ˆ<span class="token punctuation">:</span> B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="setçš„è¯¦ç»†ç”¨æ³•"><a href="#setçš„è¯¦ç»†ç”¨æ³•" class="headerlink" title="setçš„è¯¦ç»†ç”¨æ³•"></a>setçš„è¯¦ç»†ç”¨æ³•</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># å°†é›†åˆåˆå§‹åŒ–ä¸ºç©ºçš„</span><span class="token comment"># ä¸èƒ½æ˜¯ s=&#123;&#125;,è¿™é‡Œsæ ‘dictç±»å‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><a href="https://www.cnblogs.com/whatisfantasy/p/5956775.html">â€‹â€‹â€‹â€‹â€‹â€‹â€‹PythonåŸºæœ¬æ•°æ®ç±»å‹ä¹‹set - morra - åšå®¢å›­ (cnblogs.com)<br><img src="https://csdnimg.cn/release/blog_editor_html/release2.1.3/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M4AD" alt=""><br><a href="https://www.cnblogs.com/whatisfantasy/p/5956775.html">https://www.cnblogs.com/whatisfantasy/p/5956775.html</a></a></p><h2 id="Generation"><a href="#Generation" class="headerlink" title="Generation"></a>Generation</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>    <span class="token keyword">while</span> n<span class="token operator">&lt;</span>x<span class="token punctuation">:</span>        <span class="token keyword">yield</span> b        a<span class="token punctuation">,</span>b<span class="token operator">=</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b        n<span class="token operator">+=</span><span class="token number">1</span>    <span class="token keyword">return</span> b<span class="token comment"># print()</span><span class="token keyword">for</span> i <span class="token keyword">in</span> fib<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token comment"># 1</span><span class="token comment"># 2</span><span class="token comment"># 3</span><span class="token comment"># 5</span><span class="token comment"># 8</span><span class="token comment"># 13</span><span class="token comment"># 21</span><span class="token comment"># 34</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017318207388128">ç”Ÿæˆå™¨ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ç ”ç©¶äº’è”ç½‘äº§å“å’ŒæŠ€æœ¯ï¼Œæä¾›åŸåˆ›ä¸­æ–‡ç²¾å“æ•™ç¨‹<br><img src="https://csdnimg.cn/release/blog_editor_html/release2.1.3/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M4AD" alt=""><br><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017318207388128">https://www.liaoxuefeng.com/wiki/1016959663602400/1017318207388128</a></a><a href="https://www.geeksforgeeks.org/generators-in-python/">Generators in Python - GeeksforGeeks<br><img src="https://csdnimg.cn/release/blog_editor_html/release2.1.3/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M4AD" alt=""><br><a href="https://www.geeksforgeeks.org/generators-in-python/">https://www.geeksforgeeks.org/generators-in-python/</a></a></p><h2 id="å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹"><a href="#å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹"></a>å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">,</span> <span class="token string">'cd'</span><span class="token punctuation">,</span> <span class="token string">'efcdgh'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> x<span class="token operator">=</span><span class="token string">'abcd'</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token operator">=</span>x<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> x<span class="token string">'abcd'</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token string">'ABCD'</span><span class="token operator">>></span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PAT 1054 æ±‚å¹³å‡å€¼</title>
      <link href="/2023/06/20/patbasiclevelpractice-zhong-wen-1054-qiu-ping-jun-zhi/"/>
      <url>/2023/06/20/patbasiclevelpractice-zhong-wen-1054-qiu-ping-jun-zhi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="PAT-1054-æ±‚å¹³å‡å€¼"><a href="#PAT-1054-æ±‚å¹³å‡å€¼" class="headerlink" title="PAT 1054 æ±‚å¹³å‡å€¼"></a>PAT 1054 æ±‚å¹³å‡å€¼</h1><p>åˆ†æ•° 20</p><h3 id="é¢˜ç›®ç®€ä»‹ï¼š"><a href="#é¢˜ç›®ç®€ä»‹ï¼š" class="headerlink" title="é¢˜ç›®ç®€ä»‹ï¼š"></a>é¢˜ç›®ç®€ä»‹ï¼š</h3><p>æœ¬é¢˜çš„åŸºæœ¬è¦æ±‚éå¸¸ç®€å•ï¼šç»™å®š N ä¸ªå®æ•°ï¼Œè®¡ç®—å®ƒä»¬çš„å¹³å‡å€¼ã€‚ä½†å¤æ‚çš„æ˜¯æœ‰äº›è¾“å…¥æ•°æ®å¯èƒ½æ˜¯éæ³•çš„ã€‚ä¸€ä¸ªâ€œåˆæ³•â€çš„è¾“å…¥æ˜¯ [âˆ’1000,1000] åŒºé—´å†…çš„å®æ•°ï¼Œå¹¶ä¸”æœ€å¤šç²¾ç¡®åˆ°å°æ•°ç‚¹å 2 ä½ã€‚å½“ä½ è®¡ç®—å¹³å‡å€¼çš„æ—¶å€™ï¼Œä¸èƒ½æŠŠé‚£äº›éæ³•çš„æ•°æ®ç®—åœ¨å†…ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥ç¬¬ä¸€è¡Œç»™å‡ºæ­£æ•´æ•° Nï¼ˆâ‰¤100ï¼‰ã€‚éšåä¸€è¡Œç»™å‡º N ä¸ªå®æ•°ï¼Œæ•°å­—é—´ä»¥ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>å¯¹æ¯ä¸ªéæ³•è¾“å…¥ï¼Œåœ¨ä¸€è¡Œä¸­è¾“å‡º <code>ERROR: X is not a legal number</code>ï¼Œå…¶ä¸­ <code>X</code> æ˜¯è¾“å…¥ã€‚æœ€ååœ¨ä¸€è¡Œä¸­è¾“å‡ºç»“æœï¼š<code>The average of K numbers is Y</code>ï¼Œå…¶ä¸­ <code>K</code> æ˜¯åˆæ³•è¾“å…¥çš„ä¸ªæ•°ï¼Œ<code>Y</code> æ˜¯å®ƒä»¬çš„å¹³å‡å€¼ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å 2 ä½ã€‚å¦‚æœå¹³å‡å€¼æ— æ³•è®¡ç®—ï¼Œåˆ™ç”¨ <code>Undefined</code> æ›¿æ¢ <code>Y</code>ã€‚å¦‚æœ <code>K</code> ä¸º 1ï¼Œåˆ™è¾“å‡º <code>The average of 1 number is Y</code>ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹-1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹-1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ 1ï¼š"></a>è¾“å…¥æ ·ä¾‹ 1ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">7</span><span class="token number">5</span> <span class="token parameter variable">-3.2</span> aaa <span class="token number">9999</span> <span class="token number">2.3</span>.4 <span class="token number">7.123</span> <span class="token number">2.35</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºæ ·ä¾‹-1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹-1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ 1ï¼š"></a>è¾“å‡ºæ ·ä¾‹ 1ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ERROR: aaa is not a legal numberERROR: <span class="token number">9999</span> is not a legal numberERROR: <span class="token number">2.3</span>.4 is not a legal numberERROR: <span class="token number">7.123</span> is not a legal numberThe average of <span class="token number">3</span> numbers is <span class="token number">1.38</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å…¥æ ·ä¾‹-2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹-2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ 2ï¼š"></a>è¾“å…¥æ ·ä¾‹ 2ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">2</span>aaa <span class="token parameter variable">-9999</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºæ ·ä¾‹-2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹-2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ 2ï¼š"></a>è¾“å‡ºæ ·ä¾‹ 2ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ERROR: aaa is not a legal numberERROR: <span class="token parameter variable">-9999</span> is not a legal numberThe average of <span class="token number">0</span> numbers is Undefined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»£ç é•¿åº¦é™åˆ¶        16 KBï¼›æ—¶é—´é™åˆ¶        400 msï¼›å†…å­˜é™åˆ¶        64 MBï¼›</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> a<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> temp <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    cin <span class="token operator">>></span> n<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sscanf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"%lf"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»aè¯»å‡ºï¼Œå¹¶ä»¥%lfçš„æ ¼å¼è½¬ä¸ºintç±»å‹ï¼Œa->tempã€‚</span>        <span class="token function">sprintf</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">"%.2f"</span><span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†tempä¿ç•™ä¸¤ä½å°æ•°åè¾“å‡ºåˆ°bä¸­ï¼Œè€Œä¸æ˜¯æ§åˆ¶å°ã€‚</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> b<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//çœ‹çœ‹aæ˜¯ä¸æ˜¯ä¸¤ä½å°æ•°ä»¥å†…</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>flag <span class="token operator">||</span> temp <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1000</span> <span class="token operator">||</span> temp <span class="token operator">></span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %s is not a legal number\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            sum <span class="token operator">+=</span> temp<span class="token punctuation">;</span>            cnt<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The average of 1 number is %.2f"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The average of %d numbers is %.2f"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">,</span> sum <span class="token operator">/</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The average of 0 numbers is Undefined"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ†æï¼šä½¿ç”¨sprintfå’Œsscanfå‡½æ•°"><a href="#åˆ†æï¼šä½¿ç”¨sprintfå’Œsscanfå‡½æ•°" class="headerlink" title="åˆ†æï¼šä½¿ç”¨sprintfå’Œsscanfå‡½æ•°~"></a>åˆ†æï¼šä½¿ç”¨sprintfå’Œsscanfå‡½æ•°~</h3><p>char str[128];</p><p>int num = -150;</p><p>int num2;</p><p>//æ•°å­—è½¬å­—ç¬¦ä¸²ï¼Œå’Œprintfçš„åŒºåˆ«æ˜¯ä¸è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œè€Œæ˜¯è¾“å‡ºåˆ°å­—ç¬¦ä¸²é‡Œ</p><p>sprintf(str, â€œ%dâ€, num);</p><p>//å­—ç¬¦ä¸²è½¬æ•°å­—ï¼Œå’Œscanfçš„åŒºåˆ«æ˜¯ä¸ä»é”®ç›˜è¯»ï¼Œè€Œæ˜¯ä»å­—ç¬¦ä¸²é‡Œè¯»</p><p>sscanf(str, â€œ%dâ€, &amp;num2);</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³•å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PAT 1028 äººå£æ™®æŸ¥</title>
      <link href="/2023/06/20/patbasiclevelpractice-zhong-wen-1028-ren-kou-pu-cha/"/>
      <url>/2023/06/20/patbasiclevelpractice-zhong-wen-1028-ren-kou-pu-cha/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="PAT-1028-äººå£æ™®æŸ¥"><a href="#PAT-1028-äººå£æ™®æŸ¥" class="headerlink" title="PAT 1028 äººå£æ™®æŸ¥"></a>PAT 1028 äººå£æ™®æŸ¥</h2><h3 id="é¢˜ç›®ç®€ä»‹ï¼š"><a href="#é¢˜ç›®ç®€ä»‹ï¼š" class="headerlink" title="é¢˜ç›®ç®€ä»‹ï¼š"></a>é¢˜ç›®ç®€ä»‹ï¼š</h3><p>æŸåŸé•‡è¿›è¡Œäººå£æ™®æŸ¥ï¼Œå¾—åˆ°äº†å…¨ä½“å±…æ°‘çš„ç”Ÿæ—¥ã€‚ç°è¯·ä½ å†™ä¸ªç¨‹åºï¼Œæ‰¾å‡ºé•‡ä¸Šæœ€å¹´é•¿å’Œæœ€å¹´è½»çš„äººã€‚è¿™é‡Œç¡®ä¿æ¯ä¸ªè¾“å…¥çš„æ—¥æœŸéƒ½æ˜¯åˆæ³•çš„ï¼Œä½†ä¸ä¸€å®šæ˜¯åˆç†çš„â€”â€”å‡è®¾å·²çŸ¥é•‡ä¸Šæ²¡æœ‰è¶…è¿‡ 200 å²çš„è€äººï¼Œè€Œä»Šå¤©æ˜¯ 2014 å¹´ 9 æœˆ 6 æ—¥ï¼Œæ‰€ä»¥è¶…è¿‡ 200 å²çš„ç”Ÿæ—¥å’Œæœªå‡ºç”Ÿçš„ç”Ÿæ—¥éƒ½æ˜¯ä¸åˆç†çš„ï¼Œåº”è¯¥è¢«è¿‡æ»¤æ‰ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥åœ¨ç¬¬ä¸€è¡Œç»™å‡ºæ­£æ•´æ•° Nï¼Œå–å€¼åœ¨(0,105]ï¼›éšå N è¡Œï¼Œæ¯è¡Œç»™å‡º 1 ä¸ªäººçš„å§“åï¼ˆç”±ä¸è¶…è¿‡ 5 ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼‰ã€ä»¥åŠæŒ‰ <code>yyyy/mm/dd</code>ï¼ˆå³å¹´/æœˆ/æ—¥ï¼‰æ ¼å¼ç»™å‡ºçš„ç”Ÿæ—¥ã€‚é¢˜ç›®ä¿è¯æœ€å¹´é•¿å’Œæœ€å¹´è½»çš„äººæ²¡æœ‰å¹¶åˆ—ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>åœ¨ä¸€è¡Œä¸­é¡ºåºè¾“å‡ºæœ‰æ•ˆç”Ÿæ—¥çš„ä¸ªæ•°ã€æœ€å¹´é•¿äººå’Œæœ€å¹´è½»äººçš„å§“åï¼Œå…¶é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">5</span>John <span class="token number">2001</span>/05/12Tom <span class="token number">1814</span>/09/06Ann <span class="token number">2121</span>/01/30James <span class="token number">1814</span>/09/05Steve <span class="token number">1967</span>/11/20<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">3</span> Tom John<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»£ç é•¿åº¦é™åˆ¶        16 KBï¼›        æ—¶é—´é™åˆ¶        200 msï¼›å†…å­˜é™åˆ¶        64 MBã€‚</p><h3 id="è§£æï¼š"><a href="#è§£æï¼š" class="headerlink" title="è§£æï¼š"></a>è§£æï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">peo</span><span class="token punctuation">&#123;</span>    string name<span class="token punctuation">;</span>    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    <span class="token keyword">int</span> day<span class="token punctuation">;</span>    <span class="token function">peo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    <span class="token function">name</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">year</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">month</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">day</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">peo</span><span class="token punctuation">(</span>string _name<span class="token punctuation">,</span> <span class="token keyword">int</span> _year<span class="token punctuation">,</span> <span class="token keyword">int</span> _month<span class="token punctuation">,</span> <span class="token keyword">int</span> _day<span class="token punctuation">)</span><span class="token operator">:</span>    <span class="token function">name</span><span class="token punctuation">(</span>_name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">year</span><span class="token punctuation">(</span>_year<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">month</span><span class="token punctuation">(</span>_month<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">day</span><span class="token punctuation">(</span>_day<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>peo p1<span class="token punctuation">,</span> peo p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>year<span class="token operator">!=</span>p2<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> p1<span class="token punctuation">.</span>year<span class="token operator">&lt;</span>p2<span class="token punctuation">.</span>year<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>month<span class="token operator">!=</span>p2<span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> p1<span class="token punctuation">.</span>month<span class="token operator">&lt;</span>p2<span class="token punctuation">.</span>month<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>day<span class="token operator">!=</span>p2<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> p1<span class="token punctuation">.</span>day<span class="token operator">&lt;</span>p2<span class="token punctuation">.</span>day<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cin<span class="token operator">>></span>n<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>peo<span class="token operator">></span> v<span class="token punctuation">;</span><span class="token comment">//å¦‚æœæƒ³ä½¿ç”¨v(n)æ¥åˆå§‹åŒ–å¤§å°ï¼Œå¿…é¡»è‡ªå·±å®šä¹‰é»˜è®¤æ„é€ å‡½æ•°</span>    <span class="token comment">//æˆ‘ä¸çŸ¥åˆ°ä¸ºä»€ä¹ˆä½¿ç”¨vector&lt;peo> v(n)åˆå§‹åŒ–ä¹‹åï¼Œè¾“å‡ºçš„v[0].nameæ˜¯å‡ ä¸ªç©ºæ ¼ï¼Œè€Œä¸”v.size()æ˜¯3ï¼Œæ²¡æœ‰å˜å¤§</span>    peo <span class="token function">max</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æœ€å¤§æ—¥æœŸ</span>    peo <span class="token function">min</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token number">1814</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æœ€å°æ—¥æœŸ</span>    string name<span class="token punctuation">,</span> bir<span class="token punctuation">;</span>    <span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//     peo p2("max", 2014, 9, 7);</span><span class="token comment">//     peo p3("min", 1814, 9, 5);</span><span class="token comment">//     cout&lt;&lt;cmp(p2, max)&lt;&lt;" "&lt;&lt;cmp(min, p3)&lt;&lt;endl;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cin<span class="token operator">>></span>name<span class="token operator">>></span>bir<span class="token punctuation">;</span>        <span class="token keyword">int</span> y<span class="token operator">=</span><span class="token function">strtod</span><span class="token punctuation">(</span>bir<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m<span class="token operator">=</span><span class="token function">strtod</span><span class="token punctuation">(</span>bir<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> d<span class="token operator">=</span><span class="token function">strtod</span><span class="token punctuation">(</span>bir<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        peo <span class="token function">p1</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">cmp</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¤„åœ¨æœ€å¤§ï¼Œæœ€å°ä¹‹é—´ã€‚</span>            v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è‡ªåŠ¨æ‰©å®¹</span>            sum<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ€»æ•°</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è‡ªå®šä¹‰æ’åº</span><span class="token comment">//     for(int i=0; i&lt;v.size(); i++)&#123;</span><span class="token comment">//         cout&lt;&lt;v[i].name&lt;&lt;" ";</span><span class="token comment">//     &#125;</span><span class="token comment">//     cout&lt;&lt;endl;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//æ³¨æ„vçš„sizeï¼Œå¦åˆ™å¼•å‘æ®µé”™è¯¯ï¼Œæ„æ€å°±æ˜¯éæ³•è®¿é—®äº†å†…å­˜ã€‚</span>        cout<span class="token operator">&lt;&lt;</span>sum<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>    <span class="token keyword">else</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracleæ•°æ®åº“çš„åŸºç¡€</title>
      <link href="/2023/06/20/oracle-shu-ju-ku-de-ji-chu/"/>
      <url>/2023/06/20/oracle-shu-ju-ku-de-ji-chu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="å°çŸ¥è¯†ç‚¹"><a href="#å°çŸ¥è¯†ç‚¹" class="headerlink" title="å°çŸ¥è¯†ç‚¹"></a>å°çŸ¥è¯†ç‚¹</h1><h2 id="1ã€dec"><a href="#1ã€dec" class="headerlink" title="1ã€dec"></a>1ã€dec</h2><p>Oracle æ•°æ®ç±»å‹ï¼šdecimal | dec (presicionï¼Œscale) pæ˜¯ç²¾åº¦ï¼Œä»£è¡¨æœ‰æ•ˆä½æ•°ï¼Œscaleè¡¨ç¤ºå°æ•°éƒ¨åˆ†çš„èŒƒå›´ï¼Œæ¯”å¦‚dec(8, 2)ä»£è¡¨8ä½æ•´æ•°éƒ¨åˆ†ï¼Œ2ä½å°æ•°éƒ¨åˆ†ã€‚</p><h2 id="2ã€nvl"><a href="#2ã€nvl" class="headerlink" title="2ã€nvl"></a>2ã€nvl</h2><p>è¯­æ³•</p><p>NVL(eExpression1, eExpression2)</p><p>ä»ä¸¤ä¸ªè¡¨è¾¾å¼è¿”å›ä¸€ä¸ªé null å€¼ã€‚</p><p>å‚æ•°</p><p>eExpression1, eExpression2</p><p>å¦‚æœ eExpression1 çš„è®¡ç®—ç»“æœä¸º null å€¼ï¼Œåˆ™eExpression2ã€‚å¦‚æœ eExpression1 çš„è®¡ç®—ç»“æœä¸æ˜¯ null å€¼ï¼Œåˆ™è¿”å› eExpression1ã€‚eExpression1 å’Œ eExpression2 å¯ä»¥æ˜¯ä»»æ„ä¸€ç§æ•°æ®ç±»å‹ã€‚å¦‚æœ eExpression1 ä¸ eExpression2 çš„ç»“æœçš†ä¸º null å€¼ï¼Œåˆ™ NVL( ) è¿”å› .NULL.</p><h2 id="3ã€minus"><a href="#3ã€minus" class="headerlink" title="3ã€minus"></a>3ã€minus</h2><p>â€œminusâ€ç›´æ¥ç¿»è¯‘ä¸ºä¸­æ–‡æ˜¯â€œå‡â€çš„æ„æ€ï¼Œåœ¨Oracleä¸­ä¹Ÿæ˜¯ç”¨æ¥åšå‡æ³•æ“ä½œçš„ï¼Œåªä¸è¿‡å®ƒä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šå¯¹æ•°å­—çš„å‡æ³•ï¼Œè€Œæ˜¯å¯¹æŸ¥è¯¢ç»“æœé›†çš„å‡æ³•ã€‚ A minus Bå°±æ„å‘³ç€å°†ç»“æœé›†Aå»é™¤ç»“æœé›†Bä¸­æ‰€åŒ…å«çš„æ‰€æœ‰è®°å½•åçš„ç»“æœï¼Œå³åœ¨Aä¸­å­˜åœ¨ï¼Œè€Œåœ¨Bä¸­ä¸å­˜åœ¨çš„è®°å½•ã€‚</p><h2 id="4ã€è¿æ¥join"><a href="#4ã€è¿æ¥join" class="headerlink" title="4ã€è¿æ¥join"></a>4ã€è¿æ¥join</h2><p><a href="https://blog.csdn.net/lightningmn/article/details/52805457">å„ç§joinçš„è¯¦ç»†ç®€å•çš„è§£é‡Š</a></p><h2 id="5ã€æ•°æ®åº“è®¾è®¡èŒƒå¼"><a href="#5ã€æ•°æ®åº“è®¾è®¡èŒƒå¼" class="headerlink" title="5ã€æ•°æ®åº“è®¾è®¡èŒƒå¼"></a>5ã€æ•°æ®åº“è®¾è®¡èŒƒå¼</h2><h3 id="æ•°æ®åº“è®¾è®¡ç¬¬ä¸€èŒƒå¼ï¼šï¼ˆè®¾è®¡å‡ºæ²¡æœ‰æ•°æ®å†—ä½™å’Œæ•°æ®ç»´æŠ¤å¼‚å¸¸çš„æ•°æ®åº“ç»“æ„ï¼‰"><a href="#æ•°æ®åº“è®¾è®¡ç¬¬ä¸€èŒƒå¼ï¼šï¼ˆè®¾è®¡å‡ºæ²¡æœ‰æ•°æ®å†—ä½™å’Œæ•°æ®ç»´æŠ¤å¼‚å¸¸çš„æ•°æ®åº“ç»“æ„ï¼‰" class="headerlink" title="æ•°æ®åº“è®¾è®¡ç¬¬ä¸€èŒƒå¼ï¼šï¼ˆè®¾è®¡å‡ºæ²¡æœ‰æ•°æ®å†—ä½™å’Œæ•°æ®ç»´æŠ¤å¼‚å¸¸çš„æ•°æ®åº“ç»“æ„ï¼‰"></a>æ•°æ®åº“è®¾è®¡ç¬¬ä¸€èŒƒå¼ï¼šï¼ˆè®¾è®¡å‡ºæ²¡æœ‰æ•°æ®å†—ä½™å’Œæ•°æ®ç»´æŠ¤å¼‚å¸¸çš„æ•°æ®åº“ç»“æ„ï¼‰</h3><p>1ã€æ•°æ®åº“è¡¨ä¸­çš„æ‰€æœ‰å­—æ®µéƒ½åªå…·æœ‰å•ä¸€å±æ€§</p><p>2ã€å•ä¸€å±æ€§çš„åˆ—æ˜¯ç”±åŸºæœ¬çš„æ•°æ®ç±»å‹æ‰€æ„æˆçš„</p><p>3ã€è®¾è®¡å‡ºæ¥çš„è¡¨éƒ½æ˜¯ç®€å•çš„äºŒç»´è¡¨</p><h3 id="æ•°æ®åº“è®¾è®¡ç¬¬äºŒèŒƒå¼ï¼š"><a href="#æ•°æ®åº“è®¾è®¡ç¬¬äºŒèŒƒå¼ï¼š" class="headerlink" title="æ•°æ®åº“è®¾è®¡ç¬¬äºŒèŒƒå¼ï¼š"></a>æ•°æ®åº“è®¾è®¡ç¬¬äºŒèŒƒå¼ï¼š</h3><p>è¦æ±‚ä¸€ä¸ªè¡¨ä¸­åªå…·æœ‰ä¸€ä¸ªä¸šåŠ¡ä¸»é”®ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¦åˆç¬¬äºŒèŒƒå¼çš„è¡¨ä¸­ä¸èƒ½å­˜åœ¨éä¸»é”®åˆ—å¯¹åªå¯¹éƒ¨åˆ†ä¸»é”®çš„ä¾èµ–å…³ç³»</p><h3 id="æ•°æ®åº“è®¾è®¡ç¬¬ä¸‰èŒƒå¼ï¼š"><a href="#æ•°æ®åº“è®¾è®¡ç¬¬ä¸‰èŒƒå¼ï¼š" class="headerlink" title="æ•°æ®åº“è®¾è®¡ç¬¬ä¸‰èŒƒå¼ï¼š"></a>æ•°æ®åº“è®¾è®¡ç¬¬ä¸‰èŒƒå¼ï¼š</h3><p>æŒ‡æ¯ä¸€ä¸ªéä¸»å±æ€§æ—¢ä¸éƒ¨åˆ†ä¾èµ–äºä¹Ÿä¸ä¼ é€’ä¾èµ–äºä¸šåŠ¡ä¸»é”®ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šæ¶ˆé™¤äº†éä¸»é”®å±æ€§å¯¹ä¸»é”®çš„ä¼ é€’ä¾èµ–</p><h1 id="æ•°æ®åº“æ¦‚å¿µ"><a href="#æ•°æ®åº“æ¦‚å¿µ" class="headerlink" title="æ•°æ®åº“æ¦‚å¿µ"></a>æ•°æ®åº“æ¦‚å¿µ</h1><p>é•¿æœŸå‚¨å­˜åœ¨è®¡ç®—æœºå†…ï¼Œæœ‰ç»„ç»‡ï¼Œå¯å…±äº«çš„å¤§é‡æ•°æ®çš„é›†åˆï¼Œå°±æ˜¯æ•°æ®åº“</p><p>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œï¼ˆDBMSï¼Œdatabace mangement systemï¼‰ï¼Œç”¨äºåˆ›å»ºæ“ä½œå’Œç®¡ç†æ•°æ®åº“çš„åº”ç”¨ç¨‹åº</p><p>:xx,dnmcg2IR</p><p>æ•°æ®åº“ç”¨æ¥ç®¡ç†æ•°æ®ï¼ŒQQä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆå‰å®³ï¼Œå°±æ˜¯å› ä¸ºä»–æœ‰å¾ˆå¤šæ•°æ®ï¼Œè¿™äº›æ•°æ®æ˜¯å•†ä¸šæœºå¯†ï¼Œä½¿ç”¨æ•°æ®åº“å­˜å‚¨æ•°æ®å ç”¨å­˜å‚¨ç©ºé—´å°ï¼Œå¹¶ä¸”æŸ¥è¯¢æ•°æ®å¿«Alter TABLE XS ADD ENG CHAR(20); â€”æ·»åŠ æ–°çš„åˆ—</p><p><img src="https://img-blog.csdnimg.cn/15e4006db5584c11b08101a50cb98bfa.png" alt=""></p><h1 id="æ•°æ®åº“æ“ä½œè¯­è¨€"><a href="#æ•°æ®åº“æ“ä½œè¯­è¨€" class="headerlink" title="æ•°æ®åº“æ“ä½œè¯­è¨€"></a>æ•°æ®åº“æ“ä½œè¯­è¨€</h1><p><img src="https://img-blog.csdnimg.cn/09d8361536ab4cb38ed17e0299698244.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/33e3ef2a636d4fb58cf0b625aa5bd9c7.png" alt=""></p><h1 id="å…³ç³»çš„åŸºæœ¬æ¦‚å¿µ"><a href="#å…³ç³»çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="å…³ç³»çš„åŸºæœ¬æ¦‚å¿µ"></a>å…³ç³»çš„åŸºæœ¬æ¦‚å¿µ</h1><p><img src="https://img-blog.csdnimg.cn/c2df04e0503c423aa999b03861a20362.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/039fd6a233844267a107fa07024aa4f0.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ea7ac41a57374271a169b6adfd48f5bd.png" alt=""></p><p>è‡ªå·±çš„æŸä¸€ä¸ªå±æ€§ï¼ˆæˆ–å±æ€§é›†åˆï¼‰åœ¨å…¶ä»–è¡¨ä¸­æ˜¯ä¸»ç ï¼Œåˆ™åœ¨è‡ªå·±è¡¨ä¸­è¿™ä¸ªå±æ€§ï¼ˆæˆ–å±æ€§é›†åˆï¼‰æ˜¯å¤–ç </p><h1 id="å®ä½“å®Œæ•´æ€§"><a href="#å®ä½“å®Œæ•´æ€§" class="headerlink" title="å®ä½“å®Œæ•´æ€§"></a>å®ä½“å®Œæ•´æ€§</h1><p>å®ä½“å®Œæ•´æ€§ï¼šï¼ˆprimary keyï¼‰ä¸èƒ½æ˜¯ç©ºå€¼ï¼Œä¸èƒ½é‡å¤</p><p><img src="https://img-blog.csdnimg.cn/8302813b572c481b801a2869363a4d4a.png" alt=""></p><h1 id="å‚ç…§å®Œæ•´æ€§ï¼šï¼ˆforeign-keyï¼‰å¯ä»¥æ˜¯ç©ºå€¼ï¼Œ"><a href="#å‚ç…§å®Œæ•´æ€§ï¼šï¼ˆforeign-keyï¼‰å¯ä»¥æ˜¯ç©ºå€¼ï¼Œ" class="headerlink" title="å‚ç…§å®Œæ•´æ€§ï¼šï¼ˆforeign keyï¼‰å¯ä»¥æ˜¯ç©ºå€¼ï¼Œ"></a>å‚ç…§å®Œæ•´æ€§ï¼šï¼ˆforeign keyï¼‰å¯ä»¥æ˜¯ç©ºå€¼ï¼Œ</h1><p><img src="https://img-blog.csdnimg.cn/8fdabac448584a039ed135d6eba7c81f.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/dff81e2cc37748e188ed3ebf4ffd7cf2.png" alt=""></p><p>select id)</p><p>from xs</p><p>where to_char(birthday,â€™yyyy-mm-ddâ€™) =â€™2002-06-28â€™;</p><p>å°†æ—¥æœŸè½¬åŒ–æˆcharç±»å‹</p><h1 id="ä¸€äº›å‡½æ•°æ§åˆ¶å­—ç¬¦"><a href="#ä¸€äº›å‡½æ•°æ§åˆ¶å­—ç¬¦" class="headerlink" title="ä¸€äº›å‡½æ•°æ§åˆ¶å­—ç¬¦"></a>ä¸€äº›å‡½æ•°æ§åˆ¶å­—ç¬¦</h1><p><img src="https://img-blog.csdnimg.cn/fb0f9125543d4da5bc2b768a0e552eb9.png" alt=""></p><h1 id="dual"><a href="#dual" class="headerlink" title="dual"></a>dual</h1><p><img src="https://img-blog.csdnimg.cn/94b6e9c83d014a889e77de691d9e3670.png" alt=""></p><p>dualæ˜¯ä¸€ä¸ªä¸€è¡Œä¸€åˆ—çš„è™šæ‹Ÿè¡¨ï¼Œå¸¸ç”¨æ¥è®¡ç®—è¡¨è¾¾å¼</p><p><img src="https://img-blog.csdnimg.cn/038b7d1d14df47278f4c8e2a3ca2eb5f.png" alt=""></p><h1 id="descå…³é”®å­—"><a href="#descå…³é”®å­—" class="headerlink" title="descå…³é”®å­—"></a>descå…³é”®å­—</h1><p>desc æŸ¥çœ‹è¡¨çš„ç»“æ„ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/fafe7f4917d545d58157d142942bda99.png" alt=""></p><p>Alter TABLE XS ADD ENG CHAR(20); â€”æ·»åŠ æ–°çš„åˆ—</p><p>UPDATE XS SET ENG=â€™ENGLISHâ€™ WHERE DEPT=â€™è®¡ç®—æœºâ€™;å°†dept=è®¡ç®—æœºçš„ENGæ”¹ä¸ºâ€˜englishâ€™ SELECT SNAME, LOWER(ENG) AS LOW_ENGâ€”å°†engå±æ€§æ”¹ä¸ºå°å†™ï¼Œé‡æ–°å‘½åæˆLOW_ENG,å‡½æ•°LOWER</p><p>FROM XS WHERE DEPT=â€™è®¡ç®—æœºâ€™;</p><p>commit; â€”&gt;æäº¤æ•°æ®</p><p>  rollback; â€”&gt;å›æ»šæ•°æ®</p><p>select * from user_tables;â€”æŸ¥è¯¢ç”¨æˆ·ä¸‹çš„æ‰€æœ‰è¡¨</p><h1 id="havingå’Œ-whereçš„åŒºåˆ«ï¼š"><a href="#havingå’Œ-whereçš„åŒºåˆ«ï¼š" class="headerlink" title="havingå’Œ whereçš„åŒºåˆ«ï¼š"></a>havingå’Œ whereçš„åŒºåˆ«ï¼š</h1><p>whereåœ¨æ•°æ®åˆ†ç»„å‰è¿›è¡Œè¿‡æ»¤ï¼Œhavingåœ¨æ•°æ®åˆ†ç»„è¿‡åè¿›è¡Œè¿‡æ»¤ï¼Œ</p><p>ä½¿ç”¨havingæ—¶åº”è¯¥ç»“åˆGroup byè¯­å¥ï¼Œwhere ç”¨äºæ ‡å‡†çš„è¡Œçº§è¿‡æ»¤</p><h1 id="2022-3-9"><a href="#2022-3-9" class="headerlink" title="2022 3-9"></a>2022 3-9</h1><pre class="line-numbers language-none"><code class="language-none">--2022 3-9create table stu(SNO CHAR(6) PRIMARY KEY,SNAME VARCHAR2(10) UNIQUE,DEPT VARCHAR2(20) NOT NULL,SEX VARCHAR2(4) DEFAULT(&#39;ç”·&#39;),TOTALCREDIT NUMBER(3, 0) CHECK(TOTALCREDIT&gt;&#x3D;0));insert into stu values (&#39;100001&#39;,&#39;hzy&#39;, &#39;jsj&#39;, &#39;å¥³&#39;, &#39;100&#39;);insert into stu values (&#39;100001&#39;,&#39;hzz&#39;, &#39;jsj&#39;, &#39;å¥³&#39;, &#39;100&#39;);insert into stu(sno,dept) values(&#39;111&#39;,&#39;rjgc&#39;);select * from stu;update stu set sname&#x3D;&#39;hjj&#39; where sno&#x3D;&#39;111&#39;;select * from stu;alter table stu modify sname varchar2(20);alter table stu modify sno char(10);alter table stu add nativeplace varchar2(20);alter table stu drop column nativeplace;alter table stu drop CONSTRAINT SYS_c007069;alter table stu add constraint stu_sname_unique unique(sname);create table stu1asselect * from stu;drop table stu1;insert into stu values(&#39;100002&#39;, &#39;å¼ ä¸‰&#39;,  &#39;è®¡ç®—æœº&#39;,&#39;ç”·&#39;, &#39;10&#39;);--INSERT INTO stu(sno, )update stuset sex&#x3D;sex+10;update stuset dept&#x3D;&#39;è½¯ä»¶å·¥ç¨‹&#39;where sname&#x3D;&#39;å¼ ä¸‰&#39;;delete from stuwhere TOTALCREDIT is null;commit;rollback;select * from xs;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/fa5a15a3bf3b4f3b81e3065b1f7c73f2.png" alt=""></p><h1 id="å°çŸ¥è¯†ç‚¹ï¼š"><a href="#å°çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="å°çŸ¥è¯†ç‚¹ï¼š"></a>å°çŸ¥è¯†ç‚¹ï¼š</h1><p>åˆ©ç”¨å·²æœ‰æ•°æ®è¡¨å»ºç«‹ä¸€ä¸ªæ–°è¡¨ï¼Œä½†ä¸å¤åˆ¶æ•°æ®:</p><p>create TABLE S1</p><p>AS</p><p>SELECT * FROM STUDENT WHERE 1=0;</p><p><img src="https://img-blog.csdnimg.cn/4f2d9b6cd537477d862f33a6a762ab1a.png" alt=""></p><p>UPDATE STU SET TOTALCREDIT=NVL(TOTALCREDIT, 0)+2;</p><p>NVL(TOTALCREDIT, 0):å¦‚æœtotalcreditä¸æ˜¯ç©ºï¼Œå°±ç”¨åŸæ¥çš„å€¼ï¼Œæ˜¯ç©ºï¼Œå°±ç”¨0æ¥ä»£æ›¿ï¼›</p><p>FROM ZLGC WHERE CATEGORY=â€™è¯¾ç¨‹æ€æ”¿ç¤ºèŒƒè¯¾ç¨‹â€™ AND COUNT(CATEGORY)&gt;50 GROUP BY SCHOOL,CATEGORY ORDER BY COUNT(CATEGORY) DESC</p><p>ERROR: ORA-00934: æ­¤å¤„ä¸å…è®¸ä½¿ç”¨åˆ†ç»„å‡½æ•°</p><p><img src="https://img-blog.csdnimg.cn/682e669c3da14131afbd5fbd801f7673.png" alt=""></p><p>è¦ä½¿ç”¨having æ¥è¿‡æ»¤åˆ†ç»„</p><h1 id="2022-3-19æ•°æ®åº“å®éªŒå¿ƒå¾—"><a href="#2022-3-19æ•°æ®åº“å®éªŒå¿ƒå¾—" class="headerlink" title="2022-3-19æ•°æ®åº“å®éªŒå¿ƒå¾—"></a>2022-3-19æ•°æ®åº“å®éªŒå¿ƒå¾—</h1><p>åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘é‡åˆ°çš„é—®é¢˜é¦–å…ˆæ˜¯1-1é¢˜ç›®ä¸­extractå‡½æ•°çš„ä½¿ç”¨ï¼Œé€šè¿‡ä»ç½‘ä¸ŠæŸ¥è¯¢çŸ¥é“äº†ï¼Œæˆ‘å­¦ä¹ åˆ°è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯å°†å¹´ä»½ä»dateä¸­åˆ†ç¦»å‡ºæ¥å•ç‹¬è®¡ç®—ä»è€Œå¾—åˆ°å¹´é¾„ï¼Œç¬¬äºŒä¸ªé—®é¢˜æ˜¯2-4é¢˜ç›®ä¸­è¿‡æ»¤å­¦ç”Ÿäººæ•°å°äº3çš„çš„è¯­å¥ï¼Œä¸èƒ½åœ¨group by è¯­å¥å‰é¢åŠ whereæ¥è¿‡æ»¤ï¼Œå¦‚æœä½¿ç”¨äº†ï¼Œé”™è¯¯ä¿¡æ¯æ˜¯è¿™æ ·çš„ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/2bc12af0dac646d285de4421a091a22e.png" alt=""></p><p>æŸ¥é˜…èµ„æ–™åå­¦ä¹ åˆ°äº†ï¼Œæœ‰group by è¯­å¥æ—¶whereä¸­ä¸èƒ½ä½¿ç”¨èšåˆå‡½æ•°æ¥è¿‡æ»¤æ•°æ®ï¼Œæ­¤æ—¶åªèƒ½ä½¿ç”¨havingè¯­å¥ï¼Œå¹¶ä¸”havingè¯­å¥åªèƒ½è·Ÿåœ¨group by è¯­å¥åé¢ã€‚è¿™ä¸¤ä¸ªé—®é¢˜æ˜¯æˆ‘åœ¨æœ¬æ¬¡å®éªŒä¸­é‡åˆ°çš„æœ€å¤§çš„éš¾é¢˜ï¼Œè§£å†³äº†ä¹‹åï¼ŒçœŸçš„å­¦ä¹ åˆ°äº†å¾ˆå¤šã€‚</p><p>åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘é¦–å…ˆåœ¨åˆ›å»ºuserç”¨æˆ·æ—¶å°±é‡åˆ°äº†ï¼Œç”¨æˆ·åæˆ–è§’è‰²åæ˜¯ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œç„¶åæˆ‘å…ˆæƒ³ç€æ”¹ä¸€ä¸‹ç”¨æˆ·åä¸ºusersï¼Œç»“æœæˆåŠŸäº†ï¼Œåæ¥æ‰ä»è€å¸ˆé‚£é‡Œå¾—çŸ¥æ˜¯ç”¨æˆ·è¿‡æœŸäº†çš„åŸå› ï¼Œè¦é‡æ–°ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯æ‰å¯ä»¥ã€‚</p><p>ç„¶åæˆ‘åœ¨1-4é¢˜ç›®ä¸­é‡åˆ°äº†å¯¹è®¾ç½®ç»„åˆä¸»é”®ï¼Œå¤–é”®æ“ä½œçš„ä¸ç†Ÿç»ƒé—®é¢˜ï¼Œè¿˜æœ‰å°±æ˜¯å¯¹äºalter table tablename add colname VARCHAR(20)ï¼ˆæ·»åŠ åˆ—ï¼‰;alter table tablename drop column colnameï¼ˆåˆ é™¤åˆ—ï¼‰;alter table tablename drop constraint SYS_C007120;ï¼ˆå»é™¤é™åˆ¶ï¼‰add constraint UQ_CNAME UNIQUE(CNAME)ï¼ˆæ·»åŠ é™åˆ¶ï¼‰;è¿™å‡ ä¸ªæ“ä½œçš„ä¸ç†Ÿç»ƒï¼Œæœ€åé‡åˆ°çš„é—®é¢˜æ˜¯èµ‹å€¼ä¸€è¡¨çš„ç»“æ„åˆ°ä¸€ä¸ªæ–°è¡¨ï¼ˆä¸å¤åˆ¶æ•°æ®ï¼‰ï¼Œä»ç½‘ä¸ŠæŸ¥é˜…èµ„æ–™åï¼ŒçŸ¥é“äº†</p><p>æœ€å…³é”®çš„ä¸€æ­¥æ˜¯ï¼šSELECT * FROM STUDENT WHERE 1=0;è®¾ç½®ä¸€ä¸ªä¸å¯èƒ½çš„æ¡ä»¶ï¼Œé€‰æ‹©ä¹‹åï¼Œå°±ä¸ä¼šå‰©ä¸‹æ•°æ®äº†ã€‚è§£å†³äº†è¿™äº›é—®é¢˜åï¼Œæœ‰å¾ˆå¤§çš„æ”¶è·ã€‚</p><h1 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h1><p>é‡Œé¢å­˜å‚¨çš„æ˜¯SQLè¯­å¥ï¼Œä¸æ˜¯æŸ¥è¯¢ç»“æœ</p><p>åˆ›å»ºè§†å›¾åä¸æ˜¾ç¤ºç»“æœï¼Œè¦é€šè¿‡selectè¯­å¥æ¥æŸ¥è¯¢</p><p><img src="https://img-blog.csdnimg.cn/9293cda35f98419d99478094baa9258e.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/91378483b1f242bdb11607af8c751e13.png" alt=""></p><p>è§†å›¾çš„ä½œç”¨ï¼šç®€åŒ–æŸ¥è¯¢è¯­å¥</p><p><img src="https://img-blog.csdnimg.cn/144c129584974adb8aafe47ccc35adff.png" alt=""></p><p>æœ‰äº›è§†å›¾å¯ä»¥æ›´æ–°ï¼Œæœ‰äº›ä¸å¯ä»¥</p><p>SELECT * FROM A NATURAL JOIN B WHERE B.B = A.B;</p><p><img src="https://img-blog.csdnimg.cn/92bb37464bbb4673a0be9fbc733367b5.png" alt=""></p><h1 id="è”ç»“è¡¨"><a href="#è”ç»“è¡¨" class="headerlink" title="è”ç»“è¡¨"></a>è”ç»“è¡¨</h1><p>sqlçš„left join ã€right join ã€inner joinä¹‹é—´çš„åŒºåˆ«</p><p>ã€€ã€€left join(å·¦è”æ¥) è¿”å›åŒ…æ‹¬å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½• </p><p>ã€€ã€€right join(å³è”æ¥) è¿”å›åŒ…æ‹¬å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå·¦è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½•</p><p>ã€€ã€€inner join(ç­‰å€¼è¿æ¥) åªè¿”å›ä¸¤ä¸ªè¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">å·¦è¿æ¥SELECT *FROM student  # ä¸»è¡¨ï¼ˆä¸ä¼šå—åˆ°å½±å“ï¼‰LEFT JOIN score  # è¾…è¡¨ï¼ˆåªæœ‰æ»¡è¶³æ¡ä»¶çš„æ‰ä¼šæ˜¾ç¤ºï¼‰ON student.ID &#x3D; score.SIDå³è¿æ¥SELECT *FROM student  # ä¸»è¡¨ï¼ˆåªæœ‰æ»¡è¶³æ¡ä»¶çš„æ‰ä¼šæ˜¾ç¤ºï¼‰RIGHT JOIN score  # è¾…è¡¨ï¼ˆä¸ä¼šå—åˆ°å½±å“ï¼‰ON student.ID &#x3D; score.SIDå…¨è¿æ¥ï¼ˆæ˜¯ä¸ªç¬›å¡å°”ç§¯ï¼Ÿï¼‰SELECT *FROM studentFULL JOIN scoreselect sname, cname, tname, grade--è‡ªè¿æ¥  ï¼šåªè¿”å›ä¸¤å¼ è¡¨è¿æ¥åˆ—çš„åŒ¹é…é¡¹ã€‚--ä»¥ä¸‹ä¸‰ç§æŸ¥è¯¢ç»“æœä¸€æ ·ã€‚select * from student s inner join class c on s.classid&#x3D;c.id; select * from student s join class c on s.classid&#x3D;c.id;select * from student s,class c where s.classid&#x3D;c.id;--ç¬›å¡å„¿ä¹˜ç§¯è¿æ¥ ï¼šå³ä¸åŠ ä»»ä½•æ¡ä»¶ï¼Œè¾¾åˆ° M*N çš„ç»“æœé›†ã€‚--ä»¥ä¸‹ä¸¤ç§æŸ¥è¯¢ç»“æœä¸€æ ·ã€‚select * from student s cross join class c;select * from student,class;--åŠ ä¸Šæ¡ä»¶ï¼Œäº§ç”Ÿè·Ÿè‡ªè¿æ¥ä¸€æ ·çš„ç»“æœã€‚select * from student s cross join class c where s.classid&#x3D;c.id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªç„¶è¿æ¥è¦æ³¨æ„ï¼š</p><p>SELECT * FROM A NATURAL JOIN B WHERE B.B = A.B;</p><p>SELECT * FROM A NATURAL JOIN B on B.B = A.B;</p><p>è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šæŠ¥é”™ï¼Œä¸èƒ½æœ‰é™åˆ¶æ¡ä»¶ã€‚å› ä¸ºè‡ªç„¶è¿æ¥å®ƒè‡ªåŠ¨çš„è¿›è¡Œäº†ç­‰å€¼æ¯”è¾ƒï¼Œæ‰€ä»¥ä¸éœ€è¦åŠ ä¸Šé™åˆ¶æ¡ä»¶è®©ä»–ä»¬çš„è¿æ¥èµ·æ¥ï¼Œè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥ã€‚</p><p><img src="https://img-blog.csdnimg.cn/17a828df928a41c88f0cf77da8c419ed.png" alt=""></p><h1 id="è‡ªç„¶è¿æ¥ä¸ç­‰å€¼è¿æ¥çš„åŒºåˆ«ï¼š"><a href="#è‡ªç„¶è¿æ¥ä¸ç­‰å€¼è¿æ¥çš„åŒºåˆ«ï¼š" class="headerlink" title="è‡ªç„¶è¿æ¥ä¸ç­‰å€¼è¿æ¥çš„åŒºåˆ«ï¼š"></a>è‡ªç„¶è¿æ¥ä¸ç­‰å€¼è¿æ¥çš„åŒºåˆ«ï¼š</h1><p><a href="https://zhidao.baidu.com/question/429546959.html">sql server ç­‰å€¼è¿æ¥å’Œè‡ªç„¶è¿æ¥çš„ ç”¨æ³•_ç™¾åº¦çŸ¥é“ (baidu.com)</a></p><p>SELECT * FROM A, B WHERE A.B=B.B;</p><p>è¿™æ˜¯ç­‰å€¼è¿æ¥ï¼Œç›¸åŒçš„å±æ€§åˆ—ä¼šä¿å­˜</p><p>è‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼å†…è¿æ¥ï¼Œå®ƒæ˜¯ç”±ç³»ç»Ÿæ ¹æ®ä¸¤è¡¨çš„åŒåå­—æ®µè‡ªåŠ¨ä½œç­‰å€¼æ¯”è¾ƒçš„å†…è¿æ¥ï¼Œä¸éœ€è¦ç”¨ONå…³é”®å­—æŒ‡å®šè¿æ¥æ¡ä»¶</p><p><img src="https://img-blog.csdnimg.cn/f05ca09c4af44eac8406ba1c77d55cbf.png" alt=""></p><p>SELECT * FROM A NATURAL JOIN B ;</p><p>è¿™æ˜¯è‡ªç„¶è¿æ¥ï¼Œè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§å°†ç›¸åŒå±æ€§åˆ—åˆ é™¤çš„ç­‰å€¼è¿æ¥</p><p><img src="https://img-blog.csdnimg.cn/05a3412b170c479cb9d6558842859bd2.png" alt=""></p><p>è‡ªç„¶è¿æ¥å››ä¸ªè¡¨ </p><pre class="line-numbers language-none"><code class="language-none">FROM STUDENT NATURAL JOIN SCORE NATURAL JOIN COURSE NATURAL JOIN TEACH WHERE COURSE.CNAME&#x3D;&#39;æ•°å­¦åˆ†æ&#39; and TEACH.TNAME&#x3D;&#39;ä¸¥æ•&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ANY-ALL"><a href="#ANY-ALL" class="headerlink" title="ANY ALL"></a>ANY ALL</h1><p><img src="https://img-blog.csdnimg.cn/4f1fe1ece8444b5caf81e7aca6e9244e.png" alt=""></p><p><a href="https://blog.csdn.net/zl111_1/article/details/54980639">ANY ALLçš„åŒºåˆ«</a></p><p>æ€»ç»“æˆä¸€å¥è¯å°±æ˜¯ï¼šall æ˜¯æ»¡è¶³æ‰€æœ‰çš„ï¼Œ and and andï¼›any æ˜¯æ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°±å¯ä»¥ï¼Œor or or</p><h1 id="2022-å®éªŒä¸‰æ€»ç»“"><a href="#2022-å®éªŒä¸‰æ€»ç»“" class="headerlink" title="2022-å®éªŒä¸‰æ€»ç»“"></a>2022-å®éªŒä¸‰æ€»ç»“</h1><p>åœ¨è¿™æ¬¡å®éªŒè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å°±å¾ˆå¤šäº†ï¼Œé¦–å…ˆç¬¬ä¸€é¢˜å°±æ¥äº†ä¸€ä¸ªä¸‹é©¬å¨ï¼Œåˆ†ä¸æ¸…ä¸‰ç§è¿æ¥çš„åŒºåˆ«ï¼Œæå¾—æ— ä»ä¸‹æ‰‹ï¼Œæœ€åè‡ªå·±å¼„äº†ä¸¤ä¸ªè¡¨æ‰å¼„æ‡‚äº†å‰ä¸¤ä¸ªçš„åŒºåˆ«ï¼Œå¦‚ä¸‹å›¾ï¼šç­‰å€¼è¿æ¥ç›¸åŒçš„å±æ€§ä¼šä¿ç•™ï¼Œè€Œè‡ªç„¶è¿æ¥å°±ä¼šå°†å®ƒä»¬åˆå¹¶ï¼Œè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥ï¼Œç»ˆäºç†è§£äº†ï¼Œè‡ªå·±æ‰¾äº†å‡ ä¸ªå°æ—¶ã€‚è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯joinåé¢æ€»æ˜¯å¿˜æ‰åŠ ä¸Šonæ¡ä»¶ï¼ŒæŠ¥äº†ä¸‰å››æ¬¡ç¼ºå°‘å…³é”®å­—é”™è¯¯æ‰å‘ç°ï¼Œæˆ‘å­¦ä¼šäº†ï¼Œåšè¿™ç§é¢˜ç›®æ—¶è¦é¦–å…ˆå¼„æ¸…æ¥šæ¦‚å¿µå°±å¾ˆå¥½ä¸‹æ‰‹äº†ã€‚ç„¶åå°±æ˜¯left join ã€right joinã€full join ï¼ŒåŒºåˆ†è¿™å‡ ä¸ªï¼Œé¦–å…ˆåŒºåˆ†ï¼šä¸»è¡¨ï¼ˆä¸ä¼šå—åˆ°å½±å“ï¼‰ï¼Œ è¾…è¡¨ï¼ˆåªæœ‰æ»¡è¶³æ¡ä»¶çš„æ‰ä¼šæ˜¾ç¤ºï¼‰ï¼Œleft join å·¦ä¸ºä¸»è¡¨ï¼Œå³è¾…è¡¨ï¼›right join åˆ™ç›¸åï¼Œæœ€åçš„not existsçš„åŒé‡å¦å®šï¼Œæ›´æ˜¯æå¾—ç¨€é‡Œç³Šæ¶‚ï¼Œç°åœ¨è¿˜æ˜¯æœ‰ç‚¹ä¸æ˜ç™½ã€‚æ¯ä¸€æ¬¡å®éªŒéƒ½æ˜¯ä¸€æ¬¡ä¸é”™çš„æˆé•¿ã€‚</p><p>æ•°æ®æ”¾åˆ°è¡¨ä¸­ï¼Œè¡¨å†æ”¾åˆ°åº“ä¸­</p><p>è¡¨ä¸­çš„åˆ—ç›¸å½“äºç±»ä¸­çš„å±æ€§ï¼Œ æ¯ä¸€è¡Œç›¸å½“äºå¯¹è±¡</p><p><img src="https://img-blog.csdnimg.cn/8be32587e3dc49f88d283b41c11d4537.png" alt=""></p><p>â€˜%â€™ä¼šè¿‡æ»¤æ‰ç©ºå€¼ï¼š</p><p>SELECT * FROM XS;</p><p>SELECT * FROM XS WHERE REMARKS LIKE â€˜%â€™;</p><h1 id="2022-3-30"><a href="#2022-3-30" class="headerlink" title="2022-3-30"></a>2022-3-30</h1><pre class="line-numbers language-none"><code class="language-none">--2022-3-30create index idx_xs_sname on xs(sname);--ç´¢å¼•åªåˆ›å»ºï¼Œä¸è‡ªå·±ä½¿ç”¨ï¼Œç”±ç³»ç»Ÿè°ƒç”¨select * FROM XS WHERE SNAME LIKE &#39;_%&#39;;--è§†å›¾ï¼šå®‰å…¨ï¼ˆè®¾ç½®ç”¨æˆ·æƒé™ï¼‰ï¼Œç®€åŒ–ä½¿ç”¨ï¼Œä¿å­˜çš„æ˜¯æŸ¥è¯¢è¯­å¥--è§†å›¾(VIEW)ä¹Ÿè¢«ç§°ä½œè™šè¡¨ï¼Œå³è™šæ‹Ÿçš„è¡¨ï¼Œæ˜¯ä¸€ç»„æ•°æ®çš„é€»è¾‘è¡¨ç¤º,å…¶æœ¬è´¨æ˜¯å¯¹åº”äºä¸€æ¡SELECTè¯­å¥ï¼Œ--ç»“æœé›†è¢«èµ‹äºˆä¸€ä¸ªåå­—ï¼Œå³è§†å›¾åå­—ã€‚è§†å›¾æœ¬èº«å¹¶ä¸åŒ…å«ä»»ä½•æ•°æ®ï¼Œå®ƒåªåŒ…å«æ˜ å°„åˆ°åŸºè¡¨çš„ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œ--å½“åŸºè¡¨æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œè§†å›¾æ•°æ®ä¹Ÿéšä¹‹å˜åŒ–ã€‚SELECT * FROM XS WHERE DEPT&#x3D;&#39;è®¡ç®—æœº&#39;;--åˆ›å»ºè§†å›¾--è®¡ç®—åŒºåˆ†åº¦SELECT count (DISTINCT(SNAME))&#x2F;count(*) FROM XS;--è®¡ç®—åŒºåˆ†åº¦--WITH CHECK OPTION å­å¥å¼ºåˆ¶æ‰€æœ‰æ•°æ®ä¿®æ”¹è¯­å¥å‡æ ¹æ®è§†å›¾æ‰§è¡Œï¼Œ--ä»¥ç¬¦åˆå®šä¹‰è§†å›¾çš„ SELECT è¯­å¥ä¸­æ‰€è®¾çš„æ¡ä»¶ã€‚--WITH CHECK OPTIONçš„ä½œç”¨?--1.å¯¹äºupdate,æœ‰with check optionï¼Œè¦ä¿è¯updateåï¼Œæ•°æ®è¦è¢«è§†å›¾æŸ¥è¯¢å‡ºæ¥ï¼›--2.å¯¹äºdelete,æœ‰æ— with check optionéƒ½ä¸€æ ·ï¼›--4.å¯¹äºinsert,æœ‰with check optionï¼Œè¦ä¿è¯insertåï¼Œæ•°æ®è¦è¢«è§†å›¾æŸ¥è¯¢å‡ºæ¥ï¼›--5.å¯¹äºæ²¡æœ‰where å­å¥çš„è§†å›¾ï¼Œä½¿ç”¨with check optionæ˜¯å¤šä½™çš„ã€‚ SELECT *FROM XS;CREATE VIEW DEPT3ASSELECT *FROM XS WHERE TOTALCREDIT&gt;70 WITH CHECK OPTION;UPDATE DEPT3SET TOTALCREDIT&#x3D;60WHERE SNAME&#x3D;&#39;æ—ä¸€å¸†&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="PL-SQL"><a href="#PL-SQL" class="headerlink" title="PL/SQL:"></a>PL/SQL:</h1><p>PL/SQLä¹Ÿæ˜¯ä¸€ç§ç¨‹åºè¯­è¨€ï¼Œå«åšè¿‡ç¨‹åŒ–SQLè¯­è¨€ï¼ˆProcedural Language/SQLï¼‰ã€‚PL/SQLæ˜¯Oracleæ•°æ®åº“å¯¹SQLè¯­å¥çš„æ‰©å±•ã€‚åœ¨æ™®é€šSQLè¯­å¥çš„ä½¿ç”¨ä¸Šå¢åŠ äº†ç¼–ç¨‹è¯­è¨€çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥PL/SQLå°±æ˜¯æŠŠæ•°æ®æ“ä½œå’ŒæŸ¥è¯¢è¯­å¥ç»„ç»‡åœ¨PL/SQLä»£ç çš„è¿‡ç¨‹æ€§å•å…ƒä¸­ï¼Œé€šè¿‡é€»è¾‘åˆ¤æ–­ã€å¾ªç¯ç­‰æ“ä½œå®ç°å¤æ‚çš„åŠŸèƒ½æˆ–è€…è®¡ç®—çš„ç¨‹åºè¯­è¨€ã€‚PL/SQLæ˜¯Oracleå¯¹æ ‡å‡†æ•°æ®åº“è¯­è¨€SQLçš„è¿‡ç¨‹åŒ–æ‰©å……ï¼Œå®ƒå°†æ•°æ®åº“æŠ€æœ¯å’Œè¿‡ç¨‹åŒ–ç¨‹åºè®¾è®¡è¯­è¨€è”ç³»èµ·æ¥ï¼ˆé€šä¿—çš„è¯´ï¼ŒSQLä¸ç¼–ç¨‹è¯­è¨€çš„æ··è¡€å„¿ï¼‰ï¼Œæ˜¯ä¸€ç§åº”ç”¨å¼€å‘è¯­è¨€ï¼Œå¯ä½¿ç”¨å¾ªç¯ï¼Œåˆ†æ”¯å¤„ç†æ•°æ®ï¼Œå°†SQLçš„æ•°æ®æ“çºµåŠŸèƒ½ä¸è¿‡ç¨‹åŒ–è¯­è¨€æ•°æ®å¤„ç†åŠŸèƒ½ç»“åˆèµ·æ¥.PL/SQLçš„ä½¿ç”¨ï¼Œä½¿SQLæˆä¸ºä¸€ç§é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œæ”¯æŒé«˜çº§è¯­è¨€çš„å—æ“ä½œï¼Œæ¡ä»¶åˆ¤æ–­ï¼Œå¾ªç¯è¯­å¥ï¼ŒåµŒå¥—ç­‰ï¼Œä¸æ•°æ®åº“æ ¸å¿ƒçš„æ•°æ®ç±»å‹é›†æˆï¼Œä½¿SQL çš„ç¨‹åºè®¾è®¡æ•ˆç‡æ›´é«˜.</p><h1 id="select-é€‰æ‹©äº†ä¸€äº›åˆ—ä¹‹åï¼Œå¦‚æœé‡Œé¢æœ‰èšåˆå‡½æ•°ï¼Œåé¢ä¸€å®šè¦æœ‰groupå‡½æ•°å¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› å¦‚ä¸‹ï¼š"><a href="#select-é€‰æ‹©äº†ä¸€äº›åˆ—ä¹‹åï¼Œå¦‚æœé‡Œé¢æœ‰èšåˆå‡½æ•°ï¼Œåé¢ä¸€å®šè¦æœ‰groupå‡½æ•°å¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› å¦‚ä¸‹ï¼š" class="headerlink" title="select é€‰æ‹©äº†ä¸€äº›åˆ—ä¹‹åï¼Œå¦‚æœé‡Œé¢æœ‰èšåˆå‡½æ•°ï¼Œåé¢ä¸€å®šè¦æœ‰groupå‡½æ•°å¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› å¦‚ä¸‹ï¼š"></a>select é€‰æ‹©äº†ä¸€äº›åˆ—ä¹‹åï¼Œå¦‚æœé‡Œé¢æœ‰èšåˆå‡½æ•°ï¼Œåé¢ä¸€å®šè¦æœ‰groupå‡½æ•°å¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› å¦‚ä¸‹ï¼š</h1><p>æœ€è¿‘å†™SQLçš„æ—¶å€™ï¼Œæœ‰é‡åˆ°è¿‡æŠ¥å‡º ORA-00937çš„é—®é¢˜ã€‚</p><p>è§£é‡Šï¼š</p><p>select åˆ—è¡¨é¡¹ä¸­é™¤äº†åŒ…å«èšåˆå‡½æ•°å¤–ï¼Œè¿˜åŒ…å«äº†è¡¨çš„æŸäº›åˆ—ï¼Œé‚£ä¹ˆä½ å°†å¿…é¡»ä½¿ç”¨group byè¯­å¥ï¼Œå¦åˆ™è¯­æ³•é€šä¸è¿‡ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>SQL&gt;</p><p>1 select deptno,job,avg(sal)</p><p>2 from emp</p><p>3 ;</p><p>ERROR ä½äºç¬¬ 1 è¡Œ:</p><p>ORA-00937: éå•ç»„åˆ†ç»„å‡½æ•°</p><p>å…¶å®è¿™é‡Œä¹Ÿéå¸¸å®¹æ˜“ç†è§£ï¼Œä½ æ—¢ç„¶æŒ‡å®šäº†èšåˆå‡½æ•°ï¼ŒåˆåŒæ—¶åˆ¶å®šäº†å…¶ä»–åˆ—ï¼Œè¿˜æƒ³ä¸æŒ‰ç…§æŒ‡å®šçš„åˆ—æ¥åˆ†ç»„ï¼Œä½ åˆ°åº•æƒ³è®©oracleæ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>è¿™æ ¹æœ¬å°±å¾—ä¸å‡ºç»“æœã€‚å°±åƒä½ éœ€è¦ç»Ÿè®¡ç­ä¸Šç”·å¥³ç”Ÿçš„äººæ•°ï¼Œä½†æ˜¯åˆä¸èƒ½åˆ†ç»„ï¼Œåªèƒ½åœ¨ä¸€æ¡æ•°æ®é‡Œè¡¨ç¤ºå‡ºæ¥ï¼Œæ€ä¹ˆèƒ½åŠå¾—åˆ°å‘¢ï¼Ÿ</p><p>æ‰€ä»¥è¿™é‡Œçš„group byæ˜¯å¿…é¡»çš„ã€‚</p><p>ä¸Šé¢çš„é”™è¯¯çº æ­£ä¸ºï¼š</p><p>select deptno,job,avg(sal) from emp group by deptno,job;</p><p>å°±OKäº†</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/linwei_1029/article/details/5868082">èšåˆå‡½æ•°ä¸åˆ—åŒæ—¶é€‰æ‹©ï¼Œéœ€è¦Group</a></p><pre class="line-numbers language-none"><code class="language-none">create sequence table1_idminvalue 1             --è‡ªå¢å­—æ®µæœ€å°å€¼nomaxvalue           --æœ€å¤§å€¼ æ²¡æœ‰å°±ç®—nomaxvalueincrement by 1      --æ¯æ¬¡å¢å€¼1start with 1           --èµ·å§‹å€¼nocache;             --ä¸ç¼“å­˜CREATE SEQUENCE TABLE_ID--åˆ›å»ºé¡ºåºè¡¨MINVALUE 1--æœ€å°å€¼NOMAXVALUE--æ— æœ€å¤§å€¼INCREMENT BY 1--é€’å¢é‡START WITH 1--èµ·å§‹å€¼NOCACHE;--æ— ç¼“å­˜--ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºè§¦å‘å™¨create or replace trigger SCORE1triggerbefore insert on SCORE1 for each rowbeginselect table1_id.nextval into:new.sid from dual;end SCORE1trigger;Mysqlä¸­ï¼šcreate table UserTable (USERID INT(4) PRIMARY KEY AUTO_INCREMENT NOT NULL,UNAME VARCHAR(20) NOT NULL,UPASSWARD VARCHAR(20) NOT NULL)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="2022-4-2å®éªŒå››æ€»ç»“"><a href="#2022-4-2å®éªŒå››æ€»ç»“" class="headerlink" title="2022-4-2å®éªŒå››æ€»ç»“"></a>2022-4-2å®éªŒå››æ€»ç»“</h1><p> åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘é¦–å…ˆé‡åˆ°çš„é—®é¢˜æ˜¯åˆ›å»ºè§†å›¾æ—¶ï¼Œå¸¦ä¸ŠWITH CHECK OPTIONé€‰é¡¹ä¸ä¸å¸¦çš„åŒºåˆ«ï¼šå¦‚æœæ ¹æ®è§†å›¾æ¥æ›´æ”¹æ•°æ®ï¼Œä¸€å®šè¦ç¬¦åˆåˆ›å»ºè§†å›¾çš„æ—¶å€™çš„where çš„æ¡ä»¶ã€‚ç¬¬äºŒä¸ªæ˜¯åˆ›å»ºä¸¤ä¸ªå­—æ®µçš„è§†å›¾ grade_avg_viewï¼Œselect é€‰æ‹©äº†ä¸€äº›åˆ—ä¹‹åï¼Œå¦‚æœé‡Œé¢æœ‰èšåˆå‡½æ•°ï¼Œåé¢ä¸€å®šè¦æœ‰groupå‡½æ•°å¦åˆ™ä¼šæŠ¥é”™ã€‚æœ€åä¸€ä¸ªæ˜¯è®¾ç½®è‡ªå¢å‹çš„ä¸»é”®ï¼Œåœ¨mysqlä¸­ä½¿ç”¨AUTO_INCREMENT å¯ä»¥ç›´æ¥åˆ›å»ºï¼Œä½†æ˜¯åœ¨Oracleä¸­è¦å…ˆåˆ›å»ºä¸€ä¸ªé€’å¢åºåˆ—ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªè§¦å‘å™¨æ‰å¯ä»¥ã€‚</p><h1 id="ç´¢å¼•ï¼ŒèŒƒå¼å’Œé”"><a href="#ç´¢å¼•ï¼ŒèŒƒå¼å’Œé”" class="headerlink" title="ç´¢å¼•ï¼ŒèŒƒå¼å’Œé”"></a>ç´¢å¼•ï¼ŒèŒƒå¼å’Œé”</h1><p>ç´¢å¼•ï¼šæ¯ä¸ªè¡¨å¦‚æœè®¾ç½®äº†ä¸»é”®å°±ä¼šæœ‰æœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œåœ¨Mysqlä¸­ï¼Œä½¿ç”¨çš„æ—¶InnoDBå¼•æ“ï¼Œæ¯ä¸€ä¸ªç´¢å¼•å°±æ˜¯ä¸€é¢—B+æ ‘ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºéä¸»é”®ç´¢å¼•ï¼ŒäºŒçº§ç´¢å¼•ï¼ŒäºŒçº§ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„ä¸åŒä¹‹å¤„åœ¨äºå…¶å¶å­èŠ‚ç‚¹ä¸Šä¿å­˜çš„å€¼ä¸ä¸€æ ·ï¼Œè¡¨ä¸­æ‰€æœ‰å­—æ®µçš„å€¼éƒ½è¢«å®Œæ•´çš„ä¿å­˜åœ¨ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œä½†æ˜¯äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹åªä¿å­˜å¯¹åº”ä¸»é”®çš„å€¼ã€‚è¿™é‡Œçš„å¶å­èŠ‚ç‚¹ä¸Šåªä¿å­˜äº†ä¸»é”®çš„å€¼ï¼Œæ‰€ä»¥è¿˜éœ€è¦é€šè¿‡è·å¾—çš„ä¸»é”® ID å€¼å†å›åˆ°ä¸»é”®ç´¢å¼•ä¸ŠæŸ¥å‡ºæ‰€æœ‰å­—æ®µçš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä½œå›è¡¨ã€‚</p><ul><li>æ•°æ®åº“æ–¹é¢ï¼Œèƒ½ä¼šåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥å³å¯ï¼Œå¤–å¸¦ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œæ¯”å¦‚äº‹åŠ¡æ€ä¹ˆå¤„ç†ï¼ŒJDBCé‡Œæ‰¹å¤„ç†æ€ä¹ˆå¤„ç†ã€‚</li></ul><p><img src="https://img-blog.csdnimg.cn/10a6d9b39c07447986018076661b827f.png" alt=""></p><p>åˆ›å»ºè¡¨æ—¶ï¼Œå‡¡æ˜¯èƒ½é€šè¿‡è®¡ç®—å‡ºæ¥çš„å­—æ®µéƒ½ä¸è¦æŠŠå®ƒå½“æˆå±æ€§åˆ—ï¼›</p><h1 id="åˆ›å»ºå‡½æ•°ã€è¿‡ç¨‹"><a href="#åˆ›å»ºå‡½æ•°ã€è¿‡ç¨‹" class="headerlink" title="åˆ›å»ºå‡½æ•°ã€è¿‡ç¨‹"></a>åˆ›å»ºå‡½æ•°ã€è¿‡ç¨‹</h1><p>å­˜å‚¨è¿‡ç¨‹ä¸ä¸€å®šè¦æœ‰è¿”å›å€¼ï¼Œå‡½æ•°ä¸€å®šè¦æœ‰</p><p>æ³¨æ„å­˜å‚¨è¿‡ç¨‹in out inout ä¸‰ç§å‚æ•°ç±»å‹ï¼Œè€Œå‡½æ•°åªæœ‰in</p><p> åˆ›å»ºå‡½æ•°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">CREATE OR REPLACE FUNCTION COUNT_CREDIT(STUNO in VARCHAR2) RETURN NUMBERASCRED NUMBER:&#x3D;0;TOTAL_CRED NUMBER:&#x3D;0;BEGINFOR STUCUR IN(SELECT SNO, CNO, GRADE FROM cj WHERE SNO&#x3D;STUNO AND GRADE&gt;&#x3D;60) LOOPSELECT CREDIT INTO CRED FROM KC WHERE CNO&#x3D;STUCUR.CNO;TOTAL_CRED:&#x3D;TOTAL_CRED+CRED;END LOOP;RETURN TOTAL_CRED;END COUNT_CREDIT;ä½œä¸šcreate or replace function count_credit(stuno in varchar2) return varchar2as cred number:&#x3D;0;total_cred number:&#x3D;0;begin  for stucur in(select sno, cno, grade from score where sno&#x3D;stuno and grade &gt;60) loop    select credit into cred from course where cno&#x3D;stucur.cno;    total_cred:&#x3D;total_cred+cred;  end loop;  return total_cred;end count_credit;å‡½æ•°çš„æ‰§è¡Œï¼š1ã€select COUNT_CREDIT(&#39;96001&#39;) as total_credit from dual;2ã€variable a number(10, 0)--å£°æ˜å˜é‡begin:a:&#x3D;COUNT_CREDIT(&#39;96001&#39;);end;&#x2F;åé¢åŠ ä¸Šä¸€å¥ï¼šprint a;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºè¿‡ç¨‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">create or replace procedure count_credi(stusno in varchar2 , creditj out number )--warningï¼šin outascred number:&#x3D;0;total_cred number:&#x3D;0;beginfor cjcur in (select * from cj where sno&#x3D; stusno) loopselect credit into cred from kc where cno&#x3D;cjcur.cno;total_cred:&#x3D;total_cred+cred*cjcur.grade;end loop;creditj:&#x3D;total_cred&#x2F;count_credit(stusno);end count_credi;ä½œä¸šcreate or replace procedure pro_findname(tmpname in VARCHAR2) asbegin  for stucur in(select sno,sname from student where sname like tmpname ) loop   dbms_output.put_line(stucur.sno || &#39;&#39; ||stucur.sname);--   end loop;  null;end pro_findname;set serveroutput off1ã€set serveroutput onbegin  pro_findname(&#39;%é©¬%&#39;);end;&#x2F;2ã€exec pro_findname(&#39;%é©¬%&#39;);--æ³¨æ„è¿™é‡Œçš„è°ƒç”¨æ—¶ä½¿ç”¨%ï¼Œè€Œä¸æ˜¯åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§¦å‘å™¨ï¼š</p><p>è§¦å‘å™¨çš„ç”¨æ³•</p><p>è§¦å‘å™¨ä¸å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°ä¸åŒï¼Œå‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹éœ€è¦ç”¨æˆ·æ˜¾ç¤ºè°ƒç”¨ï¼Œè§¦å‘å™¨æ—¶åœ¨æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè‡ªåŠ¨çš„éšå¼çš„å®Œæˆï¼Œæ‰€ä»¥å«è§¦å‘æˆ–è€…ç‚¹ç«ï¼ˆfiringï¼‰</p><pre class="line-numbers language-none"><code class="language-none">create or replace trigger sum_credit after insert on  scorefor each rowbegin  update student   set TOTALCREDIT&#x3D;TOTALCREDIT+(select credit from course where cno&#x3D;:new.cno)  where sno&#x3D;:new.sno and :new.grade&gt;60;  null;end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§¦å‘å™¨çš„è¯­æ³• </p><pre class="line-numbers language-none"><code class="language-none">create trigger &lt;è§¦å‘å™¨åç§°&gt;&#123; before | after&#125;          # ä¹‹å‰æˆ–è€…ä¹‹åå‡ºå‘insert | update | delete   # æŒ‡æ˜äº†æ¿€æ´»è§¦å‘ç¨‹åºçš„è¯­å¥çš„ç±»å‹on &lt;è¡¨å&gt;                   # æ“ä½œå“ªå¼ è¡¨for each row  # è§¦å‘å™¨çš„æ‰§è¡Œé—´éš”ï¼Œfor each row--é€šçŸ¥è§¦å‘å™¨æ¯éš”ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡åŠ¨ä½œï¼Œ--è€Œä¸æ˜¯å¯¹æ•´ä¸ªè¡¨æ‰§è¡Œä¸€æ¬¡ã€‚&lt;è§¦å‘å™¨SQLè¯­å¥&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="dbms-output-put-lineçš„ç”¨æ³•"><a href="#dbms-output-put-lineçš„ç”¨æ³•" class="headerlink" title="dbms_output.put_lineçš„ç”¨æ³•"></a>dbms_output.put_lineçš„ç”¨æ³•</h1><p>æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š 1ã€enableï¼šåœ¨serveroutput onçš„æƒ…å†µä¸‹ï¼Œç”¨æ¥ä½¿dbms_outputç”Ÿæ•ˆ(é»˜è®¤å³æ‰“å¼€) 2ã€disableï¼šåœ¨serveroutput onçš„æƒ…å†µä¸‹ï¼Œç”¨æ¥ä½¿dbms_outputå¤±æ•ˆ 3ã€putï¼šå°†å†…å®¹å†™åˆ°å†…å­˜ï¼Œç­‰åˆ°put_lineæ—¶ä¸€èµ·è¾“å‡º 4ã€put_lineï¼šä¸ç”¨å¤šè¯´äº†ï¼Œè¾“å‡ºå­—ç¬¦ 5ã€new_lineï¼šä½œä¸ºä¸€è¡Œçš„ç»“æŸï¼Œå¯ä»¥ç†è§£ä¸ºå†™å…¥bufferæ—¶çš„æ¢è¡Œç¬¦ 6ã€get_line(value, index)ï¼šè·å–ç¼“å†²åŒºçš„å•è¡Œä¿¡æ¯ 7ã€get_lines(array, index)ï¼šä»¥æ•°ç»„å½¢å¼æ¥è·å–ç¼“å†²åŒºçš„å¤šè¡Œä¿¡æ¯</p><p>oracleç³»ç»ŸåŒ…â€”-dbms_outputç”¨æ³•</p><p><a href="https://blog.51cto.com/u_15127666/3474569">åšå®¢</a></p><h1 id="E-Rå›¾è½¬å…³ç³»æ¨¡å¼"><a href="#E-Rå›¾è½¬å…³ç³»æ¨¡å¼" class="headerlink" title="E-Rå›¾è½¬å…³ç³»æ¨¡å¼"></a>E-Rå›¾è½¬å…³ç³»æ¨¡å¼</h1><p><img src="https://img-blog.csdnimg.cn/ac4a564dfda445f3a03983b6da03a28f.png" alt=""></p><p>è½¬ä¸ºå…³ç³»æ¨¡å¼</p><p><img src="https://img-blog.csdnimg.cn/ab43348e9ad3416c88a04333ed7af6bb.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlç´¢å¼•ä¼˜åŒ–</title>
      <link href="/2023/06/20/mysql-suo-yin-you-hua/"/>
      <url>/2023/06/20/mysql-suo-yin-you-hua/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="Mysqlç´¢å¼•åˆ†ç±»"><a href="#Mysqlç´¢å¼•åˆ†ç±»" class="headerlink" title="Mysqlç´¢å¼•åˆ†ç±»"></a>Mysqlç´¢å¼•åˆ†ç±»</h2><p><img src="https://img-blog.csdnimg.cn/06214fd7ae2040dd973af7b6316b1b2b.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/c5213620e0dc448fbbd9df27f2c50d79.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/98e3fa0f9b404b729ad2742866740cec.png" alt=""></p><h2 id="ç´¢å¼•ä¼˜åŒ–"><a href="#ç´¢å¼•ä¼˜åŒ–" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–"></a>ç´¢å¼•ä¼˜åŒ–</h2><p><img src="https://img-blog.csdnimg.cn/7f070dcd225941d5afd2f0a97bc4fa62.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/d0d2640627a045aa91f9a3f8f8188103.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/99282b1cdb584c9aaec1e7d8091c1580.png" alt=""></p><p>æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼špossible keysï¼Œkeyï¼Œä¸»è¦çœ‹tableä»¥åçš„æ•°æ®</p><p><img src="https://img-blog.csdnimg.cn/4863bb8d00b549509f3f5bafb2576da9.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/c41ba2a28fb742fdae0759e134356ec0.png" alt=""></p><p>è¶Šå¾€ä¸‹è¶Šå·®ã€‚</p><p><img src="https://img-blog.csdnimg.cn/8adbddf6b3e04a629c24466bfb0a20d2.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/6427916d35e345da89a12ae2e9a023a2.png" alt=""></p><h2 id="ä¼˜åŒ–ç­–ç•¥"><a href="#ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="ä¼˜åŒ–ç­–ç•¥"></a>ä¼˜åŒ–ç­–ç•¥</h2><p><img src="https://img-blog.csdnimg.cn/d2f5b7a5b20c4130904b1d9b6e50fc1e.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/4d23b7cc5a77485999f555d3a220b2d6.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/48f4227505d746778fe0ce3aa3486c91.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/9ff64e5768d240d1acc3bdc07fb9bcea.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/79bd0d750c0a4409add7fd5ff8ed7f2b.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/c51c0ab7f5904e8ca6e1b5b9e7163f16.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/1f84cfcf848d435ba26e2535fc0d06f3.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ee16ab87fe264f0ebb6adb9d76621ed1.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ddb9ac0d7565479aa30a7216c826a333.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MavenåŸºç¡€</title>
      <link href="/2023/06/20/maven-ji-chu/"/>
      <url>/2023/06/20/maven-ji-chu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="Mavenç®€ä»‹"><a href="#Mavenç®€ä»‹" class="headerlink" title="Mavenç®€ä»‹"></a>Mavenç®€ä»‹</h2><p><img src="https://img-blog.csdnimg.cn/b7e371e0409a48a2822253737d342140.png" alt=""></p><p> ç®€è¦æ¥è¯´å°±æ˜¯å°†å‡ ä¸ªä¸åŒçš„è½¯ä»¶ä¸‹é¢æœ¬æ¥éƒ½ä¸åŒçš„ç›®å½•ç»“æ„éƒ½ç”¨ç»Ÿä¸€çš„ç›®å½•ç»“æ„ï¼Œè®©æ‰€æœ‰çš„IDEåœ¨å»ºç«‹Mavené¡¹ç›®çš„æ—¶å€™éƒ½ä½¿ç”¨åŒä¸€ä¸ªæ ‡å‡†ï¼Œæ„å»ºæµç¨‹ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</p><p><strong>å…¶ä¸­æœ€å‰å®³çš„è¿˜æ˜¯ä¾èµ–ç®¡ç†æœºåˆ¶ï¼š</strong>ä¾èµ–ç®¡ç†æœºåˆ¶å°±æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨ä½¿ç”¨ä¸€ä¸ªåŒ…çš„æ—¶å€™è¦å»æ‰‹åŠ¨ä¸‹è½½å’Œæ·»åŠ ï¼Œåˆ©ç”¨Mavenå¯ä»¥ä½¿ç”¨å®šä½åæ ‡æ¥ç›´æ¥å¯¼å…¥jaråŒ…ï¼Œéå¸¸çš„æ–¹ä¾¿</p><p><img src="https://img-blog.csdnimg.cn/b6eb56ff047c42c4893b43aa54b2ff4f.png" alt=""></p><p>å½“ä½ å†™å¥½äº†å®šä½ä¹‹åï¼Œä»–å°±ä¼šåœ¨ç”µè„‘ä¸Šé¢å®‰è£…çš„Mavené‡Œé¢çš„ä»“åº“æ‰¾åˆ°å¯¹åº”çš„jaråŒ…ã€‚ </p><p><img src="https://img-blog.csdnimg.cn/52a27bf0247849708341e4b847764e1a.png" alt=""></p><p>ä»“åº“ä¹Ÿåˆ†ä¸ºäº†å¥½å¤šç§ï¼Œå¦‚æœæœ¬åœ°ä»“åº“æ²¡æœ‰jarï¼Œå°±ä¼šå»ä¸­å¤®ä»“åº“ä¸‹è½½ï¼ˆæ¯”è¾ƒæ…¢ï¼‰ï¼Œä¸­å¤®ä»“åº“çš„ä¸œè¥¿éƒ½æ˜¯å¼€æºçš„jaråŒ…ï¼Œ </p><p><img src="https://img-blog.csdnimg.cn/8449d1dc5e5e4fc798c0e06ca3b20cb0.png" alt=""></p><p>Ideaä¸‹é…ç½®Mavenï¼š </p><p><img src="https://img-blog.csdnimg.cn/d943c8d86f67496292e53a518a55dec1.png" alt=""></p><p>Mavenåæ ‡ </p><p><img src="https://img-blog.csdnimg.cn/555413f1792e47fca958ce8a0a491c15.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç½‘ç»œç¼–ç¨‹</title>
      <link href="/2023/06/20/linux-wang-luo-bian-cheng/"/>
      <url>/2023/06/20/linux-wang-luo-bian-cheng/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ç½‘ç»œé€šä¿¡ç»“æ„"><a href="#ç½‘ç»œé€šä¿¡ç»“æ„" class="headerlink" title="ç½‘ç»œé€šä¿¡ç»“æ„"></a>ç½‘ç»œé€šä¿¡ç»“æ„</h1><h2 id="IPç«¯æ ¼å¼"><a href="#IPç«¯æ ¼å¼" class="headerlink" title="IPç«¯æ ¼å¼"></a>IPç«¯æ ¼å¼</h2><p><img src="https://img-blog.csdnimg.cn/b42480313f464402a487678706b27b3d.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/569097a03d034a9fa5084f418e0e380c.png" alt=""></p><h2 id="C-Så’ŒB-Sæ¨¡å¼"><a href="#C-Så’ŒB-Sæ¨¡å¼" class="headerlink" title="C/Så’ŒB/Sæ¨¡å¼"></a>C/Så’ŒB/Sæ¨¡å¼</h2><p><img src="https://img-blog.csdnimg.cn/7dc13a914cfd48519e368a14e0302f6f.png" alt=""></p><h2 id="ç½‘ç»œå­—èŠ‚åºè½¬æ¢å‡½æ•°"><a href="#ç½‘ç»œå­—èŠ‚åºè½¬æ¢å‡½æ•°" class="headerlink" title="ç½‘ç»œå­—èŠ‚åºè½¬æ¢å‡½æ•°"></a>ç½‘ç»œå­—èŠ‚åºè½¬æ¢å‡½æ•°</h2><p>åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œå¥—æ¥å­—æ˜¯æˆå¯¹å‡ºç°çš„</p><p><img src="https://img-blog.csdnimg.cn/cb2a5edf6a0f423ca87e4688e45f48fa.png" alt=""></p><h2 id="inet-ptonå‡½æ•°"><a href="#inet-ptonå‡½æ•°" class="headerlink" title="inet_ptonå‡½æ•°"></a>inet_ptonå‡½æ•°</h2><p>IPåœ°å€å¼€å§‹æ˜¯ç‚¹åˆ†åè¿›åˆ¶å½¢å¼çš„ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚192.168.1.100ï¼Œæ‰€ä»¥è¦å°†å®ƒè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åºåœ°å€éœ€è¦è¿™ä¸ªinet_ptonå‡½æ•°ï¼šæœ¬åœ°å­—èŠ‚åºâ€”&gt;ç½‘ç»œå­—èŠ‚åº</p><p><img src="https://img-blog.csdnimg.cn/9e082d53710a4a6b9802705c0edda703.png" alt=""></p><h2 id="æ—¶é—´è½®"><a href="#æ—¶é—´è½®" class="headerlink" title="æ—¶é—´è½®"></a>æ—¶é—´è½®</h2><p>å›åˆ°æ—¶é—´è½®å®šæ—¶å™¨ï¼Œå®ƒä¸»è¦è§£å†³çš„æ˜¯å‡åºé“¾è¡¨æ’å…¥æ•ˆç‡æ¯”è¾ƒä½çš„é—®é¢˜ï¼Œæ ¹æ®ç›¸å…³é“¾è¡¨ç®—æ³•çš„ç†è®ºï¼Œå› ä¸ºåœ¨æœ‰åºé“¾è¡¨æ’å…¥èŠ‚ç‚¹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œè€Œä¸”æ˜¯å•é“¾è¡¨ï¼Œæ„å‘³ç€é“¾è¡¨è¶Šé•¿ï¼Œæ’ä¸€ä¸ªèŠ‚ç‚¹æ‰€è¦æ‰¾åˆ°åˆé€‚ä½ç½®çš„æ—¶é—´å¼€é”€å°±ä¼šè¶Šå¤§ï¼Œè¿™æ ·ä¸‹æ¥ï¼Œæ—¶é—´æ•ˆç‡æ˜¯æ¯”è¾ƒä½çš„ã€‚</p><p>â€ƒâ€ƒæ—¶é—´è½®å®šæ—¶å™¨ç®—æ³•æœ‰ç‚¹hashçš„æ€æƒ³ï¼Œæ’å…¥èŠ‚ç‚¹æ˜¯é‡‡ç”¨ã€å–æ¨¡+å¤´æ’æ³•ã€‘çš„æ–¹å¼ï¼Œå°†æ’å…¥çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ§åˆ¶å™¨åˆ°äº†O(1)ï¼Œæå¤§èŠ‚çœäº†æ—¶é—´å¼€é”€ã€‚</p><p>â€ƒâ€ƒä¸è¿‡å‘¢ï¼Œå‡åºé“¾è¡¨å®šæ—¶å™¨è™½ç„¶åœ¨æ’å…¥æ—¶é—´å¤æ‚åº¦ä¸Šä¸ºO(n)ï¼Œä½†æ˜¯åœ¨å¤„ç†è¶…æ—¶å®šæ—¶å™¨æ—¶éå†é“¾è¡¨çš„æ•ˆç‡è¿˜æ˜¯è¦æ¯”æ—¶é—´è½®å®šæ—¶å™¨å¥½çš„ï¼Œæ—¶é—´è½®å®šæ—¶å™¨éœ€è¦å°†å¯¹åº”æ§½ä¸Šçš„é“¾è¡¨ä»å¤´åˆ°å°¾å…¨éƒ¨åˆ¤æ–­ä¸€æ¬¡ï¼Œè€Œé“¾è¡¨åˆ™æ˜¯ä»å¤´å¼€å§‹å¤„ç†ï¼Œä¸€æ—¦é‡åˆ°æœªè¶…æ—¶çš„ï¼Œåˆ™ç›´æ¥ç»“æŸéå†å°±å¥½ã€‚ä½†ç»¼åˆæ•ˆç‡æ¥è¯´ï¼Œæ—¶é—´è½®è¿˜æ˜¯æ¯”å‡åºé“¾è¡¨å¥½å¾ˆå¤šçš„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/c7eba5257da249c8a8da1db985dd0916.png" alt=""></p><h2 id="Socketï¼šC-Sæ¨¡å¼ï¼Œclient-server"><a href="#Socketï¼šC-Sæ¨¡å¼ï¼Œclient-server" class="headerlink" title="Socketï¼šC/Sæ¨¡å¼ï¼Œclient server"></a>Socketï¼šC/Sæ¨¡å¼ï¼Œclient server</h2><p><a href="https://www.cnblogs.com/skynet/archive/2010/12/12/1903949.html">Linux Socketç¼–ç¨‹</a></p><h2 id="socketå‡½æ•°"><a href="#socketå‡½æ•°" class="headerlink" title="socketå‡½æ•°"></a>socketå‡½æ•°</h2><p>int socket(int domain, int type, int protocol);</p><p>domainæ˜¯åè®®æ—ï¼ŒtypeæŒ‡çš„æ˜¯socketçš„ç±»å‹ï¼Œprotocolï¼šæŒ‡å®šåè®®ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°åªèƒ½å¡«AF_INETï¼Œç¬¬äºŒä¸ªå‚æ•°åªèƒ½å¡«SOCK_STREAMï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åªèƒ½å¡«0ã€‚</p><p>é™¤éç³»ç»Ÿèµ„æ–™è€—å°½ï¼Œsocketå‡½æ•°ä¸€èˆ¬ä¸ä¼šè¿”å›å¤±è´¥ã€‚</p><p>ä¸è¦å¿½ç•¥ä»»ä½•ä¸€ä¸ªè­¦å‘Š(socklen_t*) &amp;socklenï¼‰</p><h2 id="perror-const-char-str"><a href="#perror-const-char-str" class="headerlink" title="perror(const char* str)"></a>perror(const char* str)</h2><p>å…ˆè¾“å‡ºstr: ï¼Œå†è¾“å‡ºé”™è¯¯ä¿¡æ¯</p><h2 id="INADDR-ANY"><a href="#INADDR-ANY" class="headerlink" title="INADDR_ANY"></a>INADDR_ANY</h2><p>è¯´æ˜æŒ‡å®šçš„æ˜¯ä»»æ„çš„ipåœ°å€</p><h2 id="å‡½æ•°è°ƒç”¨æµç¨‹"><a href="#å‡½æ•°è°ƒç”¨æµç¨‹" class="headerlink" title="å‡½æ•°è°ƒç”¨æµç¨‹"></a>å‡½æ•°è°ƒç”¨æµç¨‹</h2><p>æœåŠ¡ç«¯å‡½æ•°è°ƒç”¨çš„æµç¨‹</p><p>socket-&gt;bind-&gt;listen-&gt;accept-&gt;recv/send-&gt;close</p><p>å®¢æˆ·ç«¯å‡½æ•°è°ƒç”¨çš„æµç¨‹</p><p>socket-&gt;connect-&gt;send/recv-&gt;close</p><p>å…¶ä¸­send/recvå¯ä»¥è¿›è¡Œå¤šæ¬¡äº¤äº’ã€‚</p><p>æ— è®ºæ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯éƒ½è¦åˆ›å»ºsocket</p><h2 id="ä¸‡æ¶çš„ç»“æ„ä½“sockaddrã€sockaddr-inã€in-addrã€hostent"><a href="#ä¸‡æ¶çš„ç»“æ„ä½“sockaddrã€sockaddr-inã€in-addrã€hostent" class="headerlink" title="ä¸‡æ¶çš„ç»“æ„ä½“sockaddrã€sockaddr_inã€in_addrã€hostent"></a>ä¸‡æ¶çš„ç»“æ„ä½“sockaddrã€sockaddr_inã€in_addrã€hostent</h2><p><img src="https://img-blog.csdnimg.cn/f78938e3d83141988c8f3b6371c8a80e.png" alt=""></p><h2 id="hostent"><a href="#hostent" class="headerlink" title="hostent"></a>hostent</h2><p><img src="https://img-blog.csdnimg.cn/ff2528fdc17143f7ab6d721e18c1dc52.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/9d3c88331c9b4e5e9aaf9c202eb00c0f.png" alt=""></p><h2 id="ä¸»æœºå­—èŠ‚åºä¸ç½‘ç»œå­—èŠ‚åº"><a href="#ä¸»æœºå­—èŠ‚åºä¸ç½‘ç»œå­—èŠ‚åº" class="headerlink" title="ä¸»æœºå­—èŠ‚åºä¸ç½‘ç»œå­—èŠ‚åº"></a>ä¸»æœºå­—èŠ‚åºä¸ç½‘ç»œå­—èŠ‚åº</h2><p><img src="https://img-blog.csdnimg.cn/87aae97487c84854845b85d137496729.png" alt=""></p><h1 id="ç½‘ç»œé€šä¿¡ç›¸å…³å‡½æ•°"><a href="#ç½‘ç»œé€šä¿¡ç›¸å…³å‡½æ•°" class="headerlink" title="ç½‘ç»œé€šä¿¡ç›¸å…³å‡½æ•°"></a>ç½‘ç»œé€šä¿¡ç›¸å…³å‡½æ•°</h1><h2 id="listenã€acceptã€connectå‡½æ•°ä¹‹é—´çš„å…³ç³»"><a href="#listenã€acceptã€connectå‡½æ•°ä¹‹é—´çš„å…³ç³»" class="headerlink" title="listenã€acceptã€connectå‡½æ•°ä¹‹é—´çš„å…³ç³»"></a>listenã€acceptã€connectå‡½æ•°ä¹‹é—´çš„å…³ç³»</h2><p><img src="https://img-blog.csdnimg.cn/91644dd71fbb42c596571f99c751de7f.png" alt=""></p><h2 id="listenå‡½æ•°"><a href="#listenå‡½æ•°" class="headerlink" title="listenå‡½æ•°"></a>listenå‡½æ•°</h2><p>listen(listenfd, 5);//æŠŠsocketè®¾ç½®ä¸ºç›‘å¬æ¨¡å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ¯”è¾ƒå¤æ‚</p><p>å¦‚æœåœ¨listenå‰é¢åŠ ä¸Šsleepï¼Œç»“æœå‘ç°ä¸èƒ½è¿æ¥ä¸Š</p><p><img src="https://img-blog.csdnimg.cn/60b5d714084e40749789d72c343a75e5.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/38205cc98a4f48699893c9cc4c6a4fe9.png" alt=""></p><p>å¦‚æœåœ¨listenåé¢åŠ ä¸Šsleepï¼Œå¯ä»¥è¿æ¥ä¸Š</p><p><img src="https://img-blog.csdnimg.cn/b27ad15f8405418382c1756d9a823917.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/7efce7d888a04777834be5d6300b13f4.png" alt=""></p><p>åŸå› æ˜¯ï¼šæœåŠ¡ç«¯åœ¨è°ƒç”¨listenä¹‹å‰ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ã€‚</p><h2 id="connectå‡½æ•°"><a href="#connectå‡½æ•°" class="headerlink" title="connectå‡½æ•°"></a>connectå‡½æ•°</h2><p>connect(sockfd, (struct sockaddr *)&amp;servaddr,sizeof(servaddr))</p><p>å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚</p><h2 id="acceptå‡½æ•°"><a href="#acceptå‡½æ•°" class="headerlink" title="acceptå‡½æ•°"></a>acceptå‡½æ•°</h2><p>clientfd=accept(listenfd,(struct sockaddr <em>)&amp;clientaddr,(socklen_t</em>)&amp;socklen);</p><p>ä¸‰ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œacceptæ˜¯ä»è¿æ¥çš„ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢å–å‡ºæ¥ï¼Œå¦‚æœé˜Ÿåˆ—é‡Œé¢æ²¡æœ‰ï¼Œä¼šé˜»å¡ã€‚</p><p><img src="https://img-blog.csdnimg.cn/436858fc94da46ac91a1db2b44266a15.png" alt=""></p><p>æŠŠè¿™ä¸ªç”¨æ­»å¾ªç¯ï¼Œæ‰å¯ä»¥å¤šå®¢æˆ·ç«¯è¿æ¥</p><p><img src="https://img-blog.csdnimg.cn/905a883a82f3493991a9ec73d60e45ce.png" alt=""></p><h2 id="TCPçš„ä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPçš„ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPçš„ä¸‰æ¬¡æ¡æ‰‹"></a>TCPçš„ä¸‰æ¬¡æ¡æ‰‹</h2><p><img src="https://img-blog.csdnimg.cn/4b9ec7c9fe1c4c5ea0f4fbc608c9eca0.png" alt=""></p><p>ä½¿ç”¨netstat -na | moreå‘½ä»¤æŸ¥è¯¢ç«¯å£çš„è¿æ¥çŠ¶æ€ï¼Œ</p><p>åœ¨listenåé¢ç¡çœ 1000ç§’ï¼Œæ­¤æ—¶å¯åŠ¨æœåŠ¡ç«¯ï¼Œå°±å¯ä»¥æŸ¥çœ‹åˆ°ESTABLISHEDçŠ¶æ€</p><p><img src="https://img-blog.csdnimg.cn/ab553db304b04e9c87fc4e03a045060a.png" alt=""></p><h2 id="sendã€å’Œrecvå‡½æ•°"><a href="#sendã€å’Œrecvå‡½æ•°" class="headerlink" title="sendã€å’Œrecvå‡½æ•°"></a>sendã€å’Œrecvå‡½æ•°</h2><p><a href="https://www.cnblogs.com/jianqiang2010/archive/2010/08/20/1804598.html">Socket sendå‡½æ•°å’Œrecvå‡½æ•°è¯¦è§£ - ä¸–é“ - åšå®¢å›­</a></p><p>int send(Socket s, const char* buf, int len, int flags);</p><p>int recv(Socket s, char * buf, int len, int flags);</p><p>éƒ½éœ€è¦é€šè¿‡socketå¥—æ¥å­—æ¥å®ç°æ•°æ®çš„æ¥å—ä¸å‘é€ï¼Œè€Œä¸æ˜¯é€šè¿‡sendã€recvå‡½æ•°æ¥å®ç°ã€‚</p><p>å…¶å®è¿™ä¸¤ä¸ªå‡½æ•°ä¹Ÿæœ‰ä¸æˆåŠŸçš„æ—¶å€™ï¼Œå½“ç¼“å†²åŒºæ»¡äº†ä¹‹åï¼Œå°±ä¸èƒ½æ­£å¸¸çš„æ¥æ”¶äº†ã€‚</p><p>åœ¨å‘é€ç«¯ä½¿ç”¨æ­£å¸¸ä»£ç ï¼Œæ³¨é‡Šæ‰æ¥å—çš„ä»£ç ï¼Œåªç”¨æ¥å‘é€</p><p>å®¢æˆ·ç«¯æ³¨é‡Šæ‰å‘é€çš„ä»£ç ï¼Œåªç”¨æ¥æ¥å—ï¼Œè€Œä¸”åœ¨æ¥å—åé¢</p><p>usleep(10000);//ç¡çœ å¾®ç§’ï¼Œç»“æœåœ¨æ¥å—äº†å…«ä¸‡å¤šæ¡æ•°æ®ä¹‹åï¼Œç¼“å†²åŒºæ»¡äº†ï¼Œsendå‡½æ•°åœ¨å‘é€ç«¯é˜»å¡äº†ï¼Œç­‰å®¢æˆ·ç«¯åˆå–å‡ºäº†ä¸€äº›æ•°æ®ä¹‹åæ‰ç»§ç»­æ¥å—æ•°æ®ã€‚</p><p><img src="https://img-blog.csdnimg.cn/fa9d57ae968c438c82427ff6fcf17ca7.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/66f5ddb4a1504994ad1f402cee4d207e.png" alt=""></p><h2 id="TCPæŠ¥æ–‡åˆ†åŒ…å’Œç²˜åŒ…"><a href="#TCPæŠ¥æ–‡åˆ†åŒ…å’Œç²˜åŒ…" class="headerlink" title="TCPæŠ¥æ–‡åˆ†åŒ…å’Œç²˜åŒ…"></a>TCPæŠ¥æ–‡åˆ†åŒ…å’Œç²˜åŒ…</h2><p><img src="https://img-blog.csdnimg.cn/73501f88e76741b98b6e5a1b4d07a22b.png" alt=""></p><p>ç²˜åŒ…ï¼šç²˜åŒ…æ˜¯æŒ‡TCPåè®®ä¸­ï¼Œå‘é€æ–¹å‘é€çš„è‹¥å¹²åŒ…æ•°æ®åˆ°æ¥æ”¶æ–¹æ¥æ”¶æ—¶ç²˜æˆä¸€åŒ…ï¼Œä»æ¥æ”¶ç¼“å†²åŒºçœ‹ï¼Œåä¸€åŒ…çš„æ•°æ®çš„å¤´ç´§æ¥ç€å‰ä¸€åŒ…æ•°æ®çš„å°¾ã€‚TCPæ˜¯é¢å‘å­—èŠ‚æµçš„åè®®ï¼Œå°±æ˜¯æ²¡æœ‰ç•Œé™çš„ä¸€ä¸²æ•°æ®ï¼Œæœ¬æ²¡æœ‰â€œåŒ…â€çš„æ¦‚å¿µï¼Œâ€œç²˜åŒ…â€å’Œâ€œæ‹†åŒ…â€ä¸€è¯´æ˜¯ä¸ºäº†æœ‰åŠ©äºå½¢è±¡åœ°ç†è§£è¿™ä¸¤ç§ç°è±¡ã€‚ä¸ºä»€ä¹ˆ UDPæ²¡æœ‰ç²˜åŒ…ç”±äºUDPæœ‰æ¶ˆæ¯ä¿æŠ¤è¾¹ç•Œï¼Œä¸ä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…é—®é¢˜ï¼Œå› æ­¤ç²˜åŒ…æ‹†åŒ…é—®é¢˜åªå‘ç”Ÿåœ¨TCPåè®®ä¸­ã€‚</p><p>å¯¹äºç²˜åŒ…å’Œæ‹†åŒ…é—®é¢˜ï¼Œå¸¸è§çš„è§£å†³æ–¹æ¡ˆæœ‰å››ç§ï¼š</p><ul><li>1ï¼‰å‘é€ç«¯å°†æ¯ä¸ªåŒ…éƒ½å°è£…æˆå›ºå®šçš„é•¿åº¦ï¼Œæ¯”å¦‚100å­—èŠ‚å¤§å°ã€‚å¦‚æœä¸è¶³100å­—èŠ‚å¯é€šè¿‡è¡¥0æˆ–ç©ºç­‰è¿›è¡Œå¡«å……åˆ°æŒ‡å®šé•¿åº¦ï¼›</li><li>2ï¼‰å‘é€ç«¯åœ¨æ¯ä¸ªåŒ…çš„æœ«å°¾ä½¿ç”¨å›ºå®šçš„åˆ†éš”ç¬¦ï¼Œä¾‹å¦‚\r\nã€‚å¦‚æœå‘ç”Ÿæ‹†åŒ…éœ€ç­‰å¾…å¤šä¸ªåŒ…å‘é€è¿‡æ¥ä¹‹åå†æ‰¾åˆ°å…¶ä¸­çš„\r\nè¿›è¡Œåˆå¹¶ï¼›ä¾‹å¦‚ï¼ŒFTPåè®®ï¼›</li><li>3ï¼‰å°†æ¶ˆæ¯åˆ†ä¸ºå¤´éƒ¨å’Œæ¶ˆæ¯ä½“ï¼Œå¤´éƒ¨ä¸­ä¿å­˜æ•´ä¸ªæ¶ˆæ¯çš„é•¿åº¦ï¼Œåªæœ‰è¯»å–åˆ°è¶³å¤Ÿé•¿åº¦çš„æ¶ˆæ¯ä¹‹åæ‰ç®—æ˜¯è¯»åˆ°äº†ä¸€ä¸ªå®Œæ•´çš„æ¶ˆæ¯ï¼›</li><li>4ï¼‰é€šè¿‡è‡ªå®šä¹‰åè®®è¿›è¡Œç²˜åŒ…å’Œæ‹†åŒ…çš„å¤„ç†ã€‚</li></ul><p>ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚</p><h2 id="Writenã€Readnå‡½æ•°ï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼"><a href="#Writenã€Readnå‡½æ•°ï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼" class="headerlink" title="Writenã€Readnå‡½æ•°ï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼"></a>Writenã€Readnå‡½æ•°ï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼</h2><p>è¿™ä¸¤ä¸ªå‡½æ•°æŒ‡çš„æ˜¯recvå‡½æ•°å’Œsendå‡½æ•°éƒ½å­˜åœ¨è¯»å–çš„æ•°æ®æŠ¥æ–‡ä¸å®Œæ•´çš„æƒ…å†µ</p><p><img src="https://img-blog.csdnimg.cn/48750a9aa42f4398a9ecd86cdc031e84.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/db81aff3f9fd43468f773859e672ffd4.png" alt=""></p><h2 id="TcpWriteã€TcpReadï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼"><a href="#TcpWriteã€TcpReadï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼" class="headerlink" title="TcpWriteã€TcpReadï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼"></a>TcpWriteã€TcpReadï¼šfreecpluså°è£…çš„æŠ¥æ–‡æ ¼å¼</h2><p><img src="https://img-blog.csdnimg.cn/6264f37e6f624fcc831e1f7911d55935.png" alt=""></p><p>æŠ¥æ–‡é•¿åº¦+æŠ¥æ–‡å†…å®¹ï¼Œè¿™ä¸ªå°±æ˜¯Tcpç²˜åŒ…çš„ä¸€ç§æœ€å¸¸è§çš„è§£å†³æ–¹æ³•ã€‚</p><p>è¿™ä¸¤ä¸ªå‡½æ•°çš„å‚æ•°çš„è¯¦ç»†è§£é‡Šï¼š</p><p><img src="https://img-blog.csdnimg.cn/78be6cf7cff9412fbb9389d3b8f46d86.png" alt=""></p><h1 id="å¤šçº¿ç¨‹åŸºç¡€"><a href="#å¤šçº¿ç¨‹åŸºç¡€" class="headerlink" title="å¤šçº¿ç¨‹åŸºç¡€"></a>å¤šçº¿ç¨‹åŸºç¡€</h1><h2 id="è¿›ç¨‹é—´é€šä¿¡"><a href="#è¿›ç¨‹é—´é€šä¿¡" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡"></a>è¿›ç¨‹é—´é€šä¿¡</h2><p><a href="https://blog.csdn.net/qq_34827674/article/details/107678226?app_version=5.7.0&amp;code=app_1562916241&amp;csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22107678226%22%2C%22source%22%3A%22m0_67623521%22%7D&amp;uLinkId=usr1mkqgl919blen&amp;utm_source=app">è¿›ç¨‹é—´é€šä¿¡</a></p><p><img src="https://img-blog.csdnimg.cn/bd5ffdf56f9a48f4ad79ad566ff4a382.png" alt=""></p><p><a href="https://www.freecplus.net/d95f4eaf18eb46d19b82383519126dec.html">Linuxè¿›ç¨‹é—´é€šä¿¡</a></p><p>å…­ç§æ–¹å¼ï¼Œå‰ä¸¤è€…ä¸ç»å¸¸ä½¿ç”¨ï¼Œå…±äº«å†…å­˜æ²¡æœ‰åŠ é”çš„æœºåˆ¶ï¼Œæ‰€ä»¥ç»å¸¸ä¸ä¿¡å·ç¯ç»“åˆä¸€èµ·æ¥ä½¿ç”¨ï¼Œåœ¨é«˜æ€§èƒ½çš„ç½‘ç»œæœåŠ¡ç«¯ç¨‹åºä¸­ï¼Œå¯ä»¥ç”¨å…±äº«å†…å­˜ä½œä¸ºçš„æ•°æ®ç¼“å­˜ï¼ˆcacheï¼‰ã€‚</p><h2 id="é¿å…åƒµå°¸è¿›ç¨‹"><a href="#é¿å…åƒµå°¸è¿›ç¨‹" class="headerlink" title="é¿å…åƒµå°¸è¿›ç¨‹"></a>é¿å…åƒµå°¸è¿›ç¨‹</h2><p><a href="https://zh.m.wikipedia.org/zh-cn/%E7%88%B6%E8%BF%9B%E7%A8%8B">åƒµå°¸è¿›ç¨‹ã€å­¤å„¿è¿›ç¨‹</a>ï¼Œ<a href="https://www.cnblogs.com/anker/p/3271773.html">ä¸¤ç§è¿›ç¨‹çš„è§£å†³åŠæ³•ã€åˆ†åˆ«æ¨¡æ‹Ÿäº§ç”Ÿ</a></p><p><strong>åƒµå°¸è¿›ç¨‹ï¼š</strong>è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œunixå°†è¯¥è¿›ç¨‹çš„æ‰€æœ‰èµ„æºé‡Šæ”¾ï¼Œä½†æ˜¯ä»ç„¶ä¸ºå…¶ä¿ç•™ä¸€å®šçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹å·ï¼ˆprocess identifyï¼‰ï¼Œé€€å‡ºçŠ¶æ€ï¼Œè¿è¡Œæ—¶é—´ã€‚è¿™ä¸ªæ˜¯ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥è®©çˆ¶è¿›ç¨‹ä»»ä½•æ—¶å€™æƒ³çŸ¥é“å­è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯çš„æ—¶å€™éƒ½å¯ä»¥è°ƒå‡ºæ¥ã€‚è¿™äº›ä¿¡æ¯çš„èµ„æºéœ€è¦ç›´åˆ°çˆ¶è¿›ç¨‹è°ƒç”¨wait/waitpidæ¥å–ä¿¡æ¯çš„æ—¶å€™æ‰é‡Šæ”¾ï¼Œä½†æ˜¯å¦‚æœçˆ¶è¿›ç¨‹ä¸å»è°ƒç”¨wait/waitpidï¼Œå®ƒçš„è¿›ç¨‹å·å°±ä¼šä¸€ç›´å ç”¨ï¼Œå¦‚æœå¤§é‡çš„äº§ç”Ÿåƒµå°¸è¿›ç¨‹ï¼Œå°†å› ä¸ºæ²¡æœ‰å¯ç”¨çš„è¿›ç¨‹å·è€Œå¯¼è‡´ç³»ç»Ÿä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹. æ­¤å³ä¸ºåƒµå°¸è¿›ç¨‹çš„å±å®³ï¼Œåº”å½“é¿å…ã€‚</p><p><strong>å­¤å„¿è¿›ç¨‹</strong>æ˜¯æ²¡æœ‰çˆ¶è¿›ç¨‹çš„è¿›ç¨‹ï¼Œå­¤å„¿è¿›ç¨‹è¿™ä¸ªé‡ä»»å°±è½åˆ°äº†initè¿›ç¨‹èº«ä¸Šï¼Œinitè¿›ç¨‹å°±å¥½åƒæ˜¯ä¸€ä¸ªæ°‘æ”¿å±€ï¼Œä¸“é—¨è´Ÿè´£å¤„ç†å­¤å„¿è¿›ç¨‹çš„å–„åå·¥ä½œã€‚æ¯å½“å‡ºç°ä¸€ä¸ªå­¤å„¿è¿›ç¨‹çš„æ—¶å€™ï¼Œå†…æ ¸å°±æŠŠå­¤å„¿è¿›ç¨‹çš„çˆ¶è¿›ç¨‹è®¾ç½®ä¸ºinitï¼Œè€Œinitè¿›ç¨‹ä¼šå¾ªç¯åœ°wait()å®ƒçš„å·²ç»é€€å‡ºçš„å­è¿›ç¨‹ã€‚è¿™æ ·ï¼Œå½“ä¸€ä¸ªå­¤å„¿è¿›ç¨‹å‡„å‡‰åœ°ç»“æŸäº†å…¶ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™ï¼Œinitè¿›ç¨‹å°±ä¼šä»£è¡¨å…šå’Œæ”¿åºœå‡ºé¢å¤„ç†å®ƒçš„ä¸€åˆ‡å–„åå·¥ä½œã€‚å› æ­¤å­¤å„¿è¿›ç¨‹å¹¶ä¸ä¼šæœ‰ä»€ä¹ˆå±å®³ã€‚</p><p>ä¸¤ç§è§£å†³æ–¹å¼ï¼š</p><p><img src="https://img-blog.csdnimg.cn/096e5fdce86547a3892667ff067a130a.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/65ae655429574b4da4de465797be3996.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/af2aeb7866444e1196f7b7ea5a9e9a96.png" alt=""></p><p>åƒµå°¸è¿›ç¨‹æ˜¯æŒ‡ç³»ç»Ÿå°†è¿›ç¨‹é€€å‡ºçš„ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼Œæ­¤æ—¶å ç”¨ä¸€ä¸ªè¿›ç¨‹ç¼–å·ï¼Œé™¤éè°ƒç”¨wait/waitpidï¼Œå°†å…¶é‡Šæ”¾ï¼Œå¦åˆ™å¦‚æœå‡ºç°è¿‡å¤šçš„åƒµå°¸è¿›ç¨‹ä¼šå°†è¿›ç¨‹å·ä½¿ç”¨å®Œï¼Œå­¤å„¿è¿›ç¨‹æ˜¯æŒ‡è¯¥è¿›ç¨‹æ²¡æœ‰çˆ¶è¿›ç¨‹ï¼Œä»è€Œè¢«initè¿›ç¨‹ç®¡ç†ï¼Œå¯ä»¥å›æ”¶èµ„æºã€‚</p><p>æˆ‘åé¢æ‰çŸ¥é“æ²¡æœ‰æ¨¡æ‹Ÿå‡ºåƒµå°¸è¿›ç¨‹çš„åŸå› ï¼Œéœ€è¦å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œä½¿ç”¨å¤šè¿›ç¨‹æˆ–è€…å¤šçº¿ç¨‹ï¼Œå¤šè¿›ç¨‹éœ€è¦forkå‡½æ•°æ‰å¯ä»¥å®ç°ï¼Œ</p><p><img src="https://img-blog.csdnimg.cn/489863e0c4c644c9b870b9506346a632.png" alt=""></p><p>æœ‰æ ‡å¿—çš„è¿›ç¨‹å°±æ˜¯åƒµå°¸è¿›ç¨‹ã€‚</p><p>å¦‚æœæŒ‰Ctrl+cç»ˆæ­¢book250åï¼Œçˆ¶è¿›ç¨‹é€€å‡ºï¼Œåƒµå°¸è¿›ç¨‹éšä¹‹æ¶ˆå¤±ã€‚</p><p>æœ‰æ—¶ä½¿ç”¨ctrl+cçš„å‘½ä»¤ç»“æŸä¸»è¿›ç¨‹æ˜¯ä¸å¯¹çš„ï¼Œéœ€è¦kill+pidã€‚</p><h2 id="linuxå¤šè¿›ç¨‹ï¼šforkå‡½æ•°"><a href="#linuxå¤šè¿›ç¨‹ï¼šforkå‡½æ•°" class="headerlink" title="linuxå¤šè¿›ç¨‹ï¼šforkå‡½æ•°"></a>linuxå¤šè¿›ç¨‹ï¼šforkå‡½æ•°</h2><p>è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªåŸºæœ¬å•ä½ã€‚</p><p>forkè°ƒç”¨åï¼Œå­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹æ˜¯å¦å…±äº«å˜é‡ï¼š</p><p><a href="https://blog.csdn.net/weixin_39578364/article/details/78995433">forkè°ƒç”¨åï¼Œå­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹æ˜¯å¦å…±äº«å˜é‡_æµ…æµ…çš„içš„åšå®¢-CSDNåšå®¢</a></p><p>ä¸ä¼šçœŸçš„å…±äº«å˜é‡ï¼Œè™½ç„¶åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªåœ°å€æ˜¯ç»™ç¨‹åºå‘˜çœ‹çš„è™šæ‹Ÿåœ°å€ï¼ŒçœŸæ­£é€šè¿‡å†…æ ¸æ˜ å°„åˆ°å®é™…çš„ç‰©ç†åœ°å€æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>forkå¤šä¸ªå­è¿›ç¨‹ï¼š</p><p><a href="https://blog.csdn.net/weixin_42929607/article/details/116426096">forkåˆ›å»ºå¤šä¸ªå­è¿›ç¨‹_XV_çš„åšå®¢-CSDNåšå®¢_forkå¤šä¸ªå­è¿›ç¨‹</a></p><h2 id="Linuxä¿¡å·çš„ä½¿ç”¨"><a href="#Linuxä¿¡å·çš„ä½¿ç”¨" class="headerlink" title="Linuxä¿¡å·çš„ä½¿ç”¨"></a>Linuxä¿¡å·çš„ä½¿ç”¨</h2><p><a href="https://www.freecplus.net/eec5c39aa63b45ad946f1cc08134d9f9.html">Linuxä¿¡å· (freecplus.net)</a></p><p>å½“æœåŠ¡ç¨‹åºè¿è¡Œåœ¨åå°çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨Ctrl+cè®©ç¨‹åºç›´æ¥é€€å‡ºæ˜¯ä¸å¥½çš„ï¼Œå› ä¸ºç¨‹åºçªç„¶é€€å‡ºï¼Œè¿˜æœ‰èµ„æºæ²¡æœ‰é‡Šæ”¾ï¼Œè¿™ä¸ªæ—¶å€™signalå‡½æ•°å°±èµ·ä½œç”¨äº†ã€‚</p><p>ä½¿ç”¨ä¿¡å·å‡½æ•°ï¼šsighandler_t signal(int signum, sighandler_t handler);</p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡signumæ˜¯ä¿¡å·çš„ç¼–å·ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŒ‡å¤„ç†ä¿¡å·çš„å‡½æ•°ï¼ˆå¯ä»¥åœ¨é‡Œé¢ç¼–å†™é‡Šæ”¾èµ„æºçš„ä»£ç ï¼‰ã€‚</p><p>ä¸éœ€è¦æ¸…æ¥šè¿”å›å€¼ã€‚</p><p>ç¨‹åºå‘˜å…³å¿ƒçš„ä¿¡å·æœ‰ä¸‰ä¸ªï¼šSIGINTã€SIGTERMå’ŒSIGKILLã€‚</p><p>æŒ‰Ctrl+cï¼Œå‘å‡ºSIGINTä¿¡å·ï¼Œä¿¡å·ç¼–å·æ˜¯2ã€‚</p><p>é‡‡ç”¨â€œkill è¿›ç¨‹ç¼–å·â€æˆ–â€œkillall ç¨‹åºåâ€ï¼Œå‘å‡ºçš„æ˜¯SIGTERMä¿¡å·ï¼Œç¼–å·æ˜¯15ã€‚</p><p>é‡‡ç”¨â€œkill -9 è¿›ç¨‹ç¼–å·â€ï¼Œå‘å‡ºçš„æ˜¯SIGKILLä¿¡å·ï¼Œç¼–å·æ˜¯9ï¼Œæ­¤ä¿¡å·ä¸èƒ½è¢«å¿½ç•¥ï¼Œä¹Ÿæ— æ³•æ•è·ï¼Œç¨‹åºå°†çªç„¶æ­»äº¡ã€‚</p><p>æ‰€ä»¥ï¼Œç¨‹åºå‘˜åªè¦è®¾ç½®SIGINTå’ŒSIGTERMä¸¤ä¸ªä¿¡å·çš„å¤„ç†å‡½æ•°å°±å¯ä»¥äº†ï¼Œè¿™ä¸¤ä¸ªä¿¡å·å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œå‡½æ•°çš„ä»£ç æ˜¯é‡Šæ”¾èµ„æºã€‚</p><p>demo:signal.cpp</p><p><img src="https://img-blog.csdnimg.cn/3b97ff370226457a81df802f3ea26e9d.png" alt=""></p><h2 id="Linuxå…±äº«å†…å­˜çš„å‡½æ•°"><a href="#Linuxå…±äº«å†…å­˜çš„å‡½æ•°" class="headerlink" title="Linuxå…±äº«å†…å­˜çš„å‡½æ•°"></a>Linuxå…±äº«å†…å­˜çš„å‡½æ•°</h2><p><a href="https://www.freecplus.net/6cb9ad02d7d64d6eb2f8e241b1158aed.html">å…±äº«å†…å­˜</a></p><p>å¤´æ–‡ä»¶ï¼š#include <sys/ipc.h> #include <sys/shm.h></p><p>1ã€shmgetï¼šè·å–æˆ–åˆ›å»ºå…±äº«å†…å­˜</p><p>2ã€shmatï¼šæŠŠå…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´</p><p>3ã€shmdtï¼šè¯¥å‡½æ•°ç”¨äºå°†å…±äº«å†…å­˜ä»å½“å‰è¿›ç¨‹ä¸­åˆ†ç¦»ï¼Œç›¸å½“äºshmatå‡½æ•°çš„åæ“ä½œã€‚</p><p>4ã€shmctlï¼šåˆ é™¤å…±äº«å†…å­˜</p><p>è¦ä½¿ç”¨ipcs -mæŸ¥çœ‹å…±äº«å†…å­˜çš„ä¿¡æ¯</p><p>ä¸€æ—¦è¿è¡Œäº†ç¨‹åºï¼Œä½¿ç”¨ ipcrm -m shmidï¼Œæ¥åˆ é™¤å…±äº«å†…å­˜ï¼Œå¦åˆ™ä¼šä¸€ç›´å­˜åœ¨</p><h2 id="Linuxå¤šçº¿ç¨‹"><a href="#Linuxå¤šçº¿ç¨‹" class="headerlink" title="Linuxå¤šçº¿ç¨‹"></a>Linuxå¤šçº¿ç¨‹</h2><p><a href="https://www.freecplus.net/c893ece166b94df4b2e185fa6f1c920c.html">å¤šçº¿ç¨‹çš„å‡½æ•°ä½¿ç”¨ã€ä»¥åŠå¤šçº¿ç¨‹socket</a></p><p>åœ¨Linuxä¸‹ï¼Œé‡‡ç”¨pthread_createå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œå‡½æ•°å£°æ˜ï¼š</p><p>å‡½æ•°å£°æ˜ï¼šint pthread_create(pthread_t <em>thread, const pthread_attr_t </em>attr,void <em>(</em>start_routine) (void <em>), void </em>arg);</p><h1 id="ç¼–è¯‘ä¸é“¾æ¥"><a href="#ç¼–è¯‘ä¸é“¾æ¥" class="headerlink" title="ç¼–è¯‘ä¸é“¾æ¥"></a>ç¼–è¯‘ä¸é“¾æ¥</h1><h2 id="åŠ¨æ€åº“ä¸é™æ€åº“"><a href="#åŠ¨æ€åº“ä¸é™æ€åº“" class="headerlink" title="åŠ¨æ€åº“ä¸é™æ€åº“"></a>åŠ¨æ€åº“ä¸é™æ€åº“</h2><p><a href="https://www.cnblogs.com/skynet/p/3372855.html">C++é™æ€åº“ä¸åŠ¨æ€åº“ </a></p><p>åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯å°½é‡çš„åœ¨ä½¿ç”¨åŠ¨æ€åº“ï¼Œå› ä¸ºé™æ€åº“å ç”¨ç©ºé—´å¤§ï¼Œé™æ€åº“æ˜¯å°†æ‰€æœ‰ç›¸å…³çš„ç›®æ ‡æ–‡ä»¶ä¸ç‰µæ¶‰åˆ°çš„å‡½æ•°åº“è¢«é“¾æ¥åˆæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ä¿®æ”¹ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½è¦é‡æ–°ç¼–è¯‘ä»¥åŠç”¨æˆ·ä¹Ÿè¦é‡æ–°ä¸‹è½½ï¼ˆæœ€å¤§çš„ç¼ºç‚¹ï¼‰ã€‚</p><h2 id="argcä¸argv"><a href="#argcä¸argv" class="headerlink" title="argcä¸argv"></a>argcä¸argv</h2><p>./åœ¨ç»ˆç«¯è¿è¡Œä»£ç æ—¶ï¼ŒåŠ å…¥çš„å‚æ•°å­˜å‚¨åœ¨argcã€argvä¸­ï¼Œargcæ˜¯å‚æ•°çš„ä¸ªæ•°ï¼Œargvæ˜¯å‚æ•°çš„å€¼</p><h2 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h2><p><a href="https://www.ruanyifeng.com/blog/2015/02/make.html">Makefile</a>ï¼Œ Makefileç”¨äºè‡ªåŠ¨åŒ–ç¼–è¯‘è¿‡ç¨‹ï¼Œå°†æ•´ä¸ªç¼–è¯‘ç”±ç¼–å†™å¥½çš„Makefileè§„åˆ™æ¥è‡ªåŠ¨ç¼–è¯‘ï¼Œç°åœ¨ä¹Ÿç”±æ›´æ–¹ä¾¿çš„å·¥å…·ï¼Œå¦‚CMakeï¼ˆç¼–å†™ç¼–è¯‘é“¾ï¼Œè‡ªåŠ¨ç”ŸæˆMakefileæ–‡ä»¶ï¼‰ã€‚</p><h2 id="GDBçš„ç®€å•ä½¿ç”¨"><a href="#GDBçš„ç®€å•ä½¿ç”¨" class="headerlink" title="GDBçš„ç®€å•ä½¿ç”¨"></a>GDBçš„ç®€å•ä½¿ç”¨</h2><p>é¦–å…ˆg++ä¸­åŠ å…¥-gå‚æ•°ï¼Œç„¶åfile+å¯æ‰§è¡Œæ–‡ä»¶çš„åå­—ï¼Œrunï¼Œbï¼Œcï¼Œä¸€ç›´ä½¿ç”¨nï¼Œæœ€åä½¿ç”¨quité€€å‡ºã€‚å¦‚æœéœ€è¦è®¾ç½®å‚æ•°ä½¿ç”¨set args</p><p><img src="https://img-blog.csdnimg.cn/0174c5ac5f254dde91e3d18f7611c9f2.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/1b5ea4464d5e40f383b54505ca5a0781.png" alt=""></p><p>ä¾‹å­ï¼š</p><p><a href="https://juejin.cn/post/6984368713940074532">GDBçš„ä¾‹å­</a>ï¼Œé€šè¿‡æµ‹è¯•äº†ä¸¤ä¸ªæ˜“é”™çš„é¢è¯•é¢˜ï¼Œ int a[5]={0,1,2,3,4},&amp;a+1çš„åœ°å€æ˜¯a+1çš„åœ°å€ï¼Œå³æ•°ç»„çš„åé¢ä¸€ä¸ªä½ç½®ï¼ˆæƒ³è±¡æˆäºŒç»´æ•°ç»„ï¼‰</p><h2 id="Tcpé•¿è¿æ¥ä¸çŸ­è¿æ¥"><a href="#Tcpé•¿è¿æ¥ä¸çŸ­è¿æ¥" class="headerlink" title="Tcpé•¿è¿æ¥ä¸çŸ­è¿æ¥"></a>Tcpé•¿è¿æ¥ä¸çŸ­è¿æ¥</h2><p>é•¿è¿æ¥ï¼šå»ºç«‹äº†ä¸€æ¬¡è¿æ¥ä¹‹åéœ€è¦é•¿æ—¶é—´çš„ä¿æŒä½ï¼ŒåŒæ–¹éœ€è¦äº’ç›¸å‘é€æ£€æµ‹çš„åŒ…ï¼Œ</p><p>æµç¨‹ï¼šä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥â€”ã€‹ä¼ è¾“æ•°æ®â€”ã€‹ä¿æŒè¿æ¥(å¿ƒè·³)â€”ã€‹å‘é€æ•°æ®â€”ã€‹ä¿æŒè¿æ¥(å¿ƒè·³)â€¦â€¦â€”ã€‹4æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ã€‚</p><p>çŸ­è¿æ¥ï¼šå»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œå‘é€å®Œæ•°æ®ä¹‹åå°±æ–­å¼€è¿æ¥ã€‚</p><p>æµç¨‹ï¼š3æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥â€”ã€‹ä¼ è¾“æ•°æ®â€”ã€‹4æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ã€‚</p><p>ç”±äºåœ¨å»ºç«‹è¿æ¥ä¸æ–­å¼€è¿æ¥çš„è¿‡ç¨‹ä¸­è¦æ¶ˆè€—èµ„æºå’Œæ—¶é—´çš„ï¼Œæ‰€ä»¥åœ¨ä¸åŒçš„åœºæ™¯éœ€è¦ä½¿ç”¨ä¸åŒçš„æ–¹å¼ã€‚</p><p>å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼ŒæœåŠ¡å™¨é‡Œçš„è¿™äº›ä¸ªé•¿è¿æ¥å…¶å®å¾ˆæœ‰æ•°æ®åº“è¿æ¥æ± çš„å‘³é“ï¼Œå¤§å®¶éƒ½æ˜¯ä¸ºäº†èŠ‚çœè¿æ¥é‡å¤åˆ©ç”¨å˜›ã€‚</p><p><a href="https://segmentfault.com/a/1190000021696056">ï¼ˆå²ä¸Šæœ€é€šä¿—ï¼ï¼‰httpè¯·æ±‚æ€æ ·å®ç°TCPé•¿è¿æ¥ï¼Œä»¥åŠé•¿è½®è¯¢å’ŒçŸ­è½®è¯¢çš„åŒºåˆ«ã€‚</a></p><p>é•¿è½®è¯¢å’ŒçŸ­è½®è¯¢ï¼ˆé’ˆå¯¹æ·˜å®çš„åº“å­˜é‡çš„æ˜¾ç¤ºçš„åœºæ™¯ï¼‰</p><h2 id="ç½‘ç»œæœåŠ¡æ€§èƒ½æµ‹è¯•"><a href="#ç½‘ç»œæœåŠ¡æ€§èƒ½æµ‹è¯•" class="headerlink" title="ç½‘ç»œæœåŠ¡æ€§èƒ½æµ‹è¯•"></a>ç½‘ç»œæœåŠ¡æ€§èƒ½æµ‹è¯•</h2><p>ä¸»è¦çš„æ€§èƒ½æŒ‡æ ‡ï¼š</p><p>1ã€æœåŠ¡ç«¯çš„å¹¶å‘èƒ½åŠ›</p><p>2ã€æœåŠ¡ç«¯çš„ä¸šåŠ¡å¤„ç†èƒ½åŠ›</p><p>3ã€å®¢æˆ·ç«¯æ¥æ”¶å“åº”çš„æ—¶æ•ˆ</p><p>4ã€ç½‘ç»œå¸¦å®½</p><h2 id="I-Oå¤ç”¨"><a href="#I-Oå¤ç”¨" class="headerlink" title="I/Oå¤ç”¨"></a>I/Oå¤ç”¨</h2><p><a href="https://juejin.cn/post/6882984260672847879">å½»åº•ç†è§£ IO å¤šè·¯å¤ç”¨å®ç°æœºåˆ¶</a></p><p>æœ‰ä¸‰ç§æ¨¡å¼ï¼šselectã€pollã€epollï¼Œå„æœ‰é€‚åˆçš„åº”ç”¨åœºæ™¯ã€‚</p><p>env | grep LANG//æŸ¥çœ‹ä½¿ç”¨çš„ç¼–ç æ ¼å¼</p><p><a href="https://www.51cto.com/article/702199.html">å½»åº•ææ‡‚ Select / Poll / Epollï¼Œå°±è¿™ç¯‡äº†ï¼</a></p><h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p>socketçš„é›†åˆfd_setç”¨äºå­˜æ”¾å¤šä¸ªsocketï¼Œä½¿ç”¨selectæ¥é˜»å¡ç¨‹åºï¼Œè€Œä¸æ˜¯åœ¨åˆ†åˆ«çš„recvã€readã€sendã€accepté˜»å¡ã€‚</p><p><img src="https://img-blog.csdnimg.cn/a5c7ef0fd1444f0d959e868e18fe1595.png" alt=""></p><p>åœ¨tcpSelect.cppä¸­while(1)å¾ªç¯é‡Œé¢fd_setä½¿ç”¨çš„æ˜¯temp_setï¼Œå› ä¸ºä¼šæ”¹å˜åŸæ¥çš„read_setï¼Œåªåšäº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œæ—¶é—´å¯ä»¥çš„è¯è¦åœ¨å¬ä¸€éã€‚</p><p><img src="https://img-blog.csdnimg.cn/7b2a3663acfd43b5a21287cc400d72ed.png" alt=""></p><h2 id="poll"><a href="#poll" class="headerlink" title="poll"></a>poll</h2><p>ä¼˜åŒ–äº†å‚æ•°çš„è®¾ç½®ï¼Œè¾ƒä¸ºç®€å•ï¼Œä½†æ˜¯ä¸èƒ½è·¨å¹³å°ï¼Œæ•ˆç‡ä¸selectå·®ä¸å¤š</p><p><img src="https://img-blog.csdnimg.cn/76d6df755d374959bb6be762dbd502d0.png" alt=""></p><p>ä¸éœ€è¦å¤‡ä»½fd_set,åŸå› å°±åœ¨ç»“æ„ä½“pollfdä¸­ï¼Œæœ‰ä¸€ä¸ªreventï¼ˆreturn eventï¼‰ä½œä¸ºå¤‡ä»½ã€‚</p><p><img src="https://img-blog.csdnimg.cn/ad85870369e744798eb795f92bf37520.png" alt=""></p><h2 id="epoll"><a href="#epoll" class="headerlink" title="epoll"></a>epoll</h2><p>ç»“æ„ä½“</p><p><img src="https://img-blog.csdnimg.cn/50a5bc0052f043aa9f29307cae802f95.png" alt=""></p><h2 id="ETå’ŒLT"><a href="#ETå’ŒLT" class="headerlink" title="ETå’ŒLT"></a>ETå’ŒLT</h2><p><img src="https://img-blog.csdnimg.cn/75df840aa325426d984f3916715a5e26.png" alt=""></p><p>æµ‹è¯•æ°´å¹³è§¦å‘ï¼š</p><ul><li>äº‹ä»¶æ²¡æœ‰å¤„ç†ï¼šint xx=0; ä½œä¸ºè®¡æ•°å™¨ï¼ŒæŒ‡å®šxx=2çš„æ—¶å€™continueï¼Œç„¶åè¿™ä¸ªäº‹ä»¶å°±æ²¡æœ‰å¤„ç†ï¼Œçœ‹çœ‹epollçš„å¤„ç†æ–¹å¼ï¼ˆé»˜è®¤æ˜¯æ°´å¹³è§¦å‘ï¼Œæ‰€ä»¥ä¼šç«‹å³æŠ¥å‘Šï¼‰ã€‚</li><li>äº‹ä»¶åªå¤„ç†äº†ä¸€èˆ¬ï¼šreadå‡½æ•°sizeof(buffer)ï¼Œè®¾ç½®æˆå°äºå®ƒçš„æ•°å­—ï¼Œè¿™ä¸ªæ—¶å€™ç¼“å†²åŒºå°±ä¼šå‰©ä½™æ•°æ®æ²¡æœ‰å¤„ç†å®Œï¼Œepollä¹Ÿä¼šç«‹å³å¤„ç†å®Œã€‚</li></ul><p>ä¸€æ ·çš„æµ‹è¯•æ–¹æ³•ï¼š</p><p><img src="https://img-blog.csdnimg.cn/e97712c241c6488d82e362321b3c93b7.png" alt=""></p><p>éœ€è¦å°†acceptå‡½æ•°è®¾ç½®ä¸ºéé˜»å¡çš„æ¨¡å¼setnoblocking</p><h1 id="å‚è€ƒå†…å®¹"><a href="#å‚è€ƒå†…å®¹" class="headerlink" title="å‚è€ƒå†…å®¹"></a>å‚è€ƒå†…å®¹</h1><p>ã€1ã€‘<a href="https://www.freecplus.net/index.html">Cè¯­è¨€æŠ€æœ¯ç½‘ - é¦–é¡µ</a></p><p>ã€2ã€‘<a href="https://www.bilibili.com/video/BV11Z4y157RY">C/C++ç½‘ç»œç¼–ç¨‹ï¼Œä»socketåˆ°epoll_å“”å“©å“”å“©_bilibili</a></p><p>ã€3ã€‘<a href="https://www.freecplus.net/0047ac4059b14d52bcc1d4df6ae8bb83.html">ç½‘ç»œé€šä¿¡åŸºç¡€socket</a></p><p>ã€4ã€‘<strong>ä¸Šé¢çš„å¤§éƒ¨åˆ†ä»£ç éƒ½æ”¹è‡ªäº</strong><a href="https://www.freecplus.net/0047ac4059b14d52bcc1d4df6ae8bb83.html">ç½‘ç»œé€šä¿¡åŸºç¡€socket</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡æ‚è°ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linuxç½‘ç»œç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaä¸­switchçš„é«˜çº§ç”¨æ³•</title>
      <link href="/2023/06/20/java-zhong-switch-de-gao-ji-yong-fa/"/>
      <url>/2023/06/20/java-zhong-switch-de-gao-ji-yong-fa/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="switchè¯­å¥çš„ç”¨æ³•"><a href="#switchè¯­å¥çš„ç”¨æ³•" class="headerlink" title="switchè¯­å¥çš„ç”¨æ³•"></a>switchè¯­å¥çš„ç”¨æ³•</h2><h3 id="ç”¨æ³•ä¸€ï¼š"><a href="#ç”¨æ³•ä¸€ï¼š" class="headerlink" title="ç”¨æ³•ä¸€ï¼š"></a><strong>ç”¨æ³•ä¸€ï¼š</strong></h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> fruit <span class="token operator">=</span> <span class="token string">"apple"</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>fruit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token string">"apple"</span><span class="token operator">:</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">"pear"</span><span class="token operator">:</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected pear"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">"mango"</span><span class="token operator">:</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Selected mango"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">default</span><span class="token operator">:</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"No fruit selected"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ç‚¹ï¼šè¦è®°å¾—å†™breakï¼ˆcaseè¯­å¥å…·æœ‰ç©¿é€æ•ˆåº”ï¼Œå¦‚æœä¸å†™çš„è¯ï¼Œåé¢çš„ä¼šç»§ç»­æ‰§è¡Œï¼‰ï¼›è¦è®°å¾—å†™defaultï¼ˆéƒ½ä¸åŒ¹é…çš„æƒ…å†µï¼‰ï¼›</p><h3 id="ç®€æ´çš„ç”¨æ³•ï¼š"><a href="#ç®€æ´çš„ç”¨æ³•ï¼š" class="headerlink" title="ç®€æ´çš„ç”¨æ³•ï¼š"></a><strong>ç®€æ´çš„ç”¨æ³•ï¼š</strong></h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public class Main<span class="token punctuation">&#123;</span>    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        String <span class="token assign-left variable">fruit</span><span class="token operator">=</span><span class="token string">"ban"</span><span class="token punctuation">;</span>        switch <span class="token punctuation">(</span>fruit<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> <span class="token string">"apple"</span>-<span class="token operator">></span>System.out.println<span class="token punctuation">(</span><span class="token string">"select a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"banana"</span>-<span class="token operator">></span>System.out.println<span class="token punctuation">(</span><span class="token string">"select b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"mango"</span>-<span class="token operator">></span>System.out.println<span class="token punctuation">(</span><span class="token string">"select mango"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            default -<span class="token operator">></span>System.out.println<span class="token punctuation">(</span><span class="token string">"select none"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        // System.out.println<span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆå“ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç›´æ¥ä½¿ç”¨ç®­å¤´æ¥è¡¨ç¤ºswitchçš„è¿”å›å€¼ï¼Œæ²¡æœ‰äº†å†™å¾ˆå¤šbreakçš„ç¹ç</p><p>è¿™ç§ç®€ä»‹çš„å†™æ³•è¿˜å¯ä»¥ç›´æ¥è¿”å›å€¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public class Main <span class="token punctuation">&#123;</span>    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        String fruit <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span>        int option <span class="token operator">=</span> switch <span class="token punctuation">(</span>fruit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> <span class="token string">"a"</span> -<span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"p"</span>, <span class="token string">"m"</span> -<span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">;</span>            default -<span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> // æ³¨æ„ä½¿ç”¨èµ‹å€¼è¯­å¥è¦ä»¥<span class="token punctuation">;</span>ç»“æŸ        System.out.println<span class="token punctuation">(</span><span class="token string">"opt = "</span> + option<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨yieldæ¥è¿”å›å€¼ï¼š"><a href="#ä½¿ç”¨yieldæ¥è¿”å›å€¼ï¼š" class="headerlink" title="ä½¿ç”¨yieldæ¥è¿”å›å€¼ï¼š"></a><strong>ä½¿ç”¨yieldæ¥è¿”å›å€¼ï¼š</strong></h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public class Main <span class="token punctuation">&#123;</span>    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        String fruit <span class="token operator">=</span> <span class="token string">"orange"</span><span class="token punctuation">;</span>        int opt <span class="token operator">=</span> switch <span class="token punctuation">(</span>fruit<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> <span class="token string">"apple"</span> -<span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"pear"</span>, <span class="token string">"mango"</span> -<span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">;</span>            default -<span class="token operator">></span> <span class="token punctuation">&#123;</span>                int code <span class="token operator">=</span> fruit.hashCode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                yield code<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        String <span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token string">"a"</span><span class="token punctuation">;</span>        System.out.println<span class="token punctuation">(</span>c.hashCode<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>        System.out.println<span class="token punctuation">(</span><span class="token string">"opt = "</span> + opt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¯´æ˜ï¼š</strong>å…¶ä¸­ä½¿ç”¨äº†Stringçš„hashcodeæ–¹æ³•ï¼Œ<strong>è¿™ä¸ªæ–¹æ³•æ˜¯ä»¥31ä¸ºæƒï¼Œæ¯ä¸€ä½ä¸ºå­—ç¬¦çš„ASCIIå€¼è¿›è¡Œè¿ç®—ï¼Œç”¨è‡ªç„¶æº¢å‡ºæ¥ç­‰æ•ˆå–æ¨¡ï¼Œå¾—åˆ°ä¸€ä¸ªä¸å®¹æ˜“é‡å¤çš„æ•°å­—ï¼Œ</strong>hashcodeæºç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public int <span class="token function-name function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    int h <span class="token operator">=</span> <span class="token builtin class-name">hash</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> value.length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        char val<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> value.length<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            h <span class="token operator">=</span> <span class="token number">31</span> * h + val<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token builtin class-name">hash</span> <span class="token operator">=</span> h<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token builtin class-name">return</span> h<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åè¿˜ä½¿ç”¨äº†yieldæ¥è¿”å›å€¼ï¼Œæ³¨æ„<strong>åªæœ‰switchä½¿ç”¨-&gt;çš„ç®€æ´å†™æ³•æ‰å¯ä»¥ä½¿ç”¨yieldè¿”å›å€¼ã€‚</strong></p><h2 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a><strong>å‚è€ƒèµ„æ–™ï¼š</strong></h2><p><a href="https://blog.csdn.net/claram/article/details/53770830?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=java%20string%E7%9A%84hashcode%E6%96%B9%E6%B3%95&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-2-53770830.142%5Ev13%5Epc_search_result_control_group,157%5Ev14%5Enew_3&amp;spm=1018.2226.3001.4187">Javaç¼–ç¨‹ï¼šString ç±»ä¸­ hashCode() æ–¹æ³•è¯¦è§£_å¿—æ³¢åŒå­¦çš„åšå®¢-CSDNåšå®¢_string.hashcode()</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaçŸ¥è¯†è¦ç‚¹</title>
      <link href="/2023/06/20/java-zhi-shi-yao-dian/"/>
      <url>/2023/06/20/java-zhi-shi-yao-dian/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="ç¬¬1ç« -Javaæ¦‚è¿°"><a href="#ç¬¬1ç« -Javaæ¦‚è¿°" class="headerlink" title="ç¬¬1ç«  Javaæ¦‚è¿°"></a>ç¬¬1ç«  Javaæ¦‚è¿°</h1><p>é‡è¦ç‰¹æ€§ï¼š</p><p><strong>Write Once Run Anyway</strong></p><p>ç®€å•æ€§ï¼šç›¸æ¯”C++ç§»é™¤æŒ‡é’ˆã€è¿ç®—ç¬¦é‡è½½ã€å¤šé‡ç»§æ‰¿ç­‰ï¼Œåƒåœ¾è‡ªåŠ¨å›æ”¶ã€‚</p><p>å¹³å°æ— å…³æ€§ï¼šJavaå¼•è¿›è™šæ‹Ÿæœºï¼ˆJVMï¼ŒJava Virtual Machineï¼‰æ¦‚å¿µã€‚</p><p>å®‰å…¨æ€§ï¼šæ²¡æœ‰æŒ‡é’ˆï¼Œå†…å­˜ç”±ç³»ç»Ÿåˆ†é…ã€‚</p><p>åŠ¨æ€è½¬è½½ï¼šç±»è¿è¡Œæ—¶æ˜¯åŠ¨æ€è£…è½½çš„ã€‚</p><p>ç¼–è¯‘è¿‡ç¨‹ï¼š<br><img src="https://img-blog.csdnimg.cn/fa3f9661e063421d96d0a8c57d16ff19.png" alt=""></p><p>JREï¼š Java Runtime Environment JDKï¼šJava Development Kit</p><p>JREå’ŒJDKçš„åŒºåˆ«ï¼š<a href="https://www.cnblogs.com/mark5/p/11063047.html">https://www.cnblogs.com/mark5/p/11063047.html</a></p><h1 id="ç¬¬2ç« -Javaè¯­è¨€åŸºç¡€"><a href="#ç¬¬2ç« -Javaè¯­è¨€åŸºç¡€" class="headerlink" title="ç¬¬2ç«  Javaè¯­è¨€åŸºç¡€"></a>ç¬¬2ç«  Javaè¯­è¨€åŸºç¡€</h1><p>æ•°æ®ç±»å‹åç§°ä½é•¿å­—èŠ‚å‹byte8çŸ­æ•´å‹short16æ•´å‹int32é•¿æ•´å‹long64å•ç²¾åº¦å‹float32åŒç²¾åº¦å‹double64å­—ç¬¦å‹char16å¸ƒå°”å‹boolean1</p><p>æ•°æ®è¾“å…¥ï¼šç±»<code>Scanner</code>ï¼Œ<code>import java.util.Scanner</code>;<br>æ–¹æ³•nextBoolean()nextDouble()nextFloat()nextInt()nextLine()next()</p><h1 id="ç¬¬3ç« -ç¨‹åºæµç¨‹æ§åˆ¶"><a href="#ç¬¬3ç« -ç¨‹åºæµç¨‹æ§åˆ¶" class="headerlink" title="ç¬¬3ç«  ç¨‹åºæµç¨‹æ§åˆ¶"></a>ç¬¬3ç«  ç¨‹åºæµç¨‹æ§åˆ¶</h1><p>å£°æ˜å¤šç»´æ•°ç»„ï¼šint array[][]ï¼Œint[][] array</p><p><strong>å’Œå…¶ä»–é«˜çº§ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒJavaå¤šç»´æ•°ç»„ä¸å¿…é¡»æ˜¯è§„åˆ™çŸ©é˜µå½¢å¼ã€‚</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">111</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•°ç»„å¤åˆ¶ï¼š<code>System.arraycopy(src, srcPos, dest, destPos, length);</code>ï¼›</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> array1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">:</span>array1<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•°ç»„æ’åºï¼š<code>import java.util.Random; import static java.util.Arrays.sort;</code>ï¼›</p><p>Randomçš„ä½¿ç”¨ï¼š<a href="http://c.biancheng.net/view/867.html">http://c.biancheng.net/view/867.html</a></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Arraysç±»ä¸­çš„sort()ä½¿ç”¨çš„æ˜¯â€œç»è¿‡è°ƒä¼˜çš„å¿«é€Ÿæ’åºæ³•â€</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ç¬¬4ç« -ç±»ä¸å¯¹è±¡"><a href="#ç¬¬4ç« -ç±»ä¸å¯¹è±¡" class="headerlink" title="ç¬¬4ç« .ç±»ä¸å¯¹è±¡"></a>ç¬¬4ç« .ç±»ä¸å¯¹è±¡</h1><p>ç”¨å…³é”®å­—<strong>staticä¿®é¥°</strong>çš„æ–¹æ³•ç§°ä¸ºç±»æ–¹æ³•ï¼Œåˆç§°ä¸ºé™æ€æ–¹æ³•ã€‚ä¸ç”¨staticä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºå®ä¾‹æ–¹æ³•ï¼Œåˆç§°ä¸ºå¯¹è±¡æ–¹æ³•ã€‚</p><p><strong>ç±»æ–¹æ³•åªèƒ½æ“ä½œç±»å˜é‡ï¼Œä¸èƒ½æ“ä½œå®ä¾‹å˜é‡ã€‚</strong></p><p>Javaçš„å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼š<a href="https://www.jianshu.com/p/457bfc91df79ï¼Œhttps://www.javadude.com/articles/passbyvalue.htm">https://www.jianshu.com/p/457bfc91df79ï¼Œhttps://www.javadude.com/articles/passbyvalue.htm</a></p><p>â€œprimitives are passed by value, objects are passed by referenceâ€.</p><p>javaå¸¸ç”¨çš„åŒ…ï¼š<strong>çœ‹çœ‹å°±è¡Œäº†</strong><br>åºå·åŒ…ååŠŸèƒ½æè¿°1java.langjavaçš„æ ¸å¿ƒç±»åº“ï¼ŒåŒ…å«äº†è¿è¡Œjavaç¨‹åºå¿…ä¸å¯å°‘çš„ç³»ç»Ÿç±»ï¼Œå¦‚åŸºæœ¬æ•°æ®ç±»å‹ã€åŸºæœ¬æ•°å­¦å‡½æ•°ã€å­—ç¬¦ä¸²å¤„ç†ã€çº¿ç¨‹ã€å¼‚å¸¸å¤„ç†ç±»ç­‰ï¼Œç³»ç»Ÿç¼ºçœåŠ è½½è¿™ä¸ªåŒ…ã€‚2java.iojavaè¯­è¨€çš„æ ‡å‡†è¾“å…¥/è¾“å‡ºç±»åº“ï¼Œå¦‚åŸºæœ¬è¾“å…¥/è¾“å‡ºæµã€æ–‡ä»¶è¾“å…¥/è¾“å‡ºã€è¿‡æ»¤è¾“å…¥/è¾“å‡ºæµç­‰ç­‰ã€‚3java.utilJavaçš„å®ç”¨å·¥å…·ç±»åº“Java.utilåŒ…ã€‚åœ¨è¿™ä¸ªåŒ…ä¸­ï¼ŒJavaæä¾›äº†ä¸€äº›å®ç”¨çš„æ–¹æ³•å’Œæ•°æ®ç»“æ„ã€‚ä¾‹å¦‚ï¼ŒJavaæä¾›æ—¥æœŸ(Data)ç±»ã€æ—¥å†(Calendar)ç±»4java.awt.imageå¤„ç†å’Œæ“çºµæ¥è‡ªäºç½‘ä¸Šçš„å›¾ç‰‡çš„javaå·¥å…·ç±»åº“ã€‚5java.netå®ç°ç½‘ç»œåŠŸèƒ½çš„ç±»åº“æœ‰Socketç±»ã€ServerSocketç±»ã€‚6java.awtæ„å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢(GUI)çš„ç±»åº“ï¼Œä½çº§ç»˜å›¾æ“ä½œGraphicsç±»ï¼Œå›¾å½¢ç•Œé¢ç»„ä»¶å’Œå¸ƒå±€ç®¡ç†7java.awt.eventGUIäº‹ä»¶å¤„ç†åŒ… ã€‚8java.sqlå®ç°JDBCçš„ç±»åº“ã€‚</p><p>importçš„ä½¿ç”¨ï¼šå½“å®šä¹‰åŒ…åï¼Œ<strong>åœ¨åŒä¸€ä¸ªåŒ…ä¸­çš„ç±»æ˜¯é»˜è®¤éšå¼å¯¼å…¥çš„ã€‚</strong>ä½†å¦‚æœä¸€ä¸ªç±»è®¿é—®æ¥è‡ªå¦ä¸€ä¸ªåŒ…ä¸­çš„ç±»ï¼Œåˆ™å‰è€…å¿…é¡»æ˜¾ç¤ºé€šè¿‡importè¯­å¥å¯¼å…¥åè€…åæ‰èƒ½ä½¿ç”¨ã€‚</p><p>åŸºæœ¬ç±»å‹çš„å°è£…ç±»ï¼š<strong>ä½¿ç”¨èŒƒå‹æ•°æ®çš„æ—¶å€™åªèƒ½ä½¿ç”¨å°è£…çš„ç±»ã€‚</strong><br>åŸå§‹ç±»å‹å°è£…ç±»é™æ€çš„å¸¸ç”¨æ–¹æ³•booleanBooleanBoolean.parseBoolean(String str)charCharacterisDigit(char ch);isLetter(char ch);isLowerCase(char ch);toLowerCase(char ch)byteByteByte.parseByte(String str)shortShortShort.parseShort(String str)intIntegerInteger.parseInt(String str)longLongLong.parseLong(String str)floatFloatFloat.parseFloat(String str)doubleDoubleDouble.parseDouble(String str)</p><h1 id="ç¬¬5ç« é¢å‘å¯¹è±¡é«˜çº§ç‰¹æ€§"><a href="#ç¬¬5ç« é¢å‘å¯¹è±¡é«˜çº§ç‰¹æ€§" class="headerlink" title="ç¬¬5ç« é¢å‘å¯¹è±¡é«˜çº§ç‰¹æ€§"></a>ç¬¬5ç« é¢å‘å¯¹è±¡é«˜çº§ç‰¹æ€§</h1><p>å®æ“ï¼š<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255943520012800">https://www.liaoxuefeng.com/wiki/1252599548343744/1255943520012800</a></p><p>ä¸‹é¢éƒ½æ˜¯æ¦‚å¿µ</p><p>éœ€è¦æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li>ç»§æ‰¿ï¼ˆextendsï¼‰+ å…³é”®å­—thiså’Œsuper+ finalå…³é”®å­—+ è½¬å‹å’Œå¤šæ€+ æŠ½è±¡ç±»ï¼ˆabstract class ï¼‰å’Œæ¥å£ï¼ˆinterfaceï¼‰+ å†…éƒ¨ç±»+ åŒ¿åå¯¹è±¡å’Œç±»+ å¼‚å¸¸ç±»+ æ³›å‹ç±»</li></ul><p><strong>è½¬å‹ä¸å¤šæ€ï¼š</strong></p><ul><li>ä¸Šè½¬å‹ï¼šå­ç±»å¯¹è±¡åˆ°çˆ¶ç±»å¯¹è±¡çš„ç±»å‹è½¬æ¢ï¼Œå³æŠŠåˆ›å»ºçš„å­ç±»å¯¹è±¡æ”¾åˆ°çˆ¶ç±»çš„å¯¹è±¡å˜é‡ä¸­ï¼Œè¯¥è¿‡ç¨‹æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œæœ‰äº›åƒåŸºæœ¬ç±»å‹çš„è‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚ +  ä¸‹è½¬å‹ï¼šçˆ¶ç±»å¯¹è±¡åˆ°å­ç±»å¯¹è±¡çš„è½¬æ¢ï¼Œå¿…é¡»ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ã€‚ +  å¤šæ€ï¼šæ˜¯æŒ‡åŒä¸€ä¸ªæ“ä½œè¢«ä¸åŒç±»å‹å¯¹è±¡è°ƒç”¨æ—¶å¯èƒ½äº§ç”Ÿä¸åŒçš„è¡Œä¸ºã€‚ </li></ul><p><strong>finalå…³é”®å­—ï¼š</strong></p><p>finalçš„æœ¬ä¹‰æ˜¯â€œæœ€ç»ˆâ€ï¼Œfinalå¯ä»¥ä¿®é¥°å˜é‡ã€ä¸€èˆ¬æ–¹æ³•å’Œç±» ã€‚</p><p>finalä¿®é¥°å˜é‡ï¼Œè¡¨ç¤ºå˜é‡ä¸€æ—¦è·å–äº†åˆå§‹å€¼å°±ä¸èƒ½è¢«ä¿®æ”¹ï¼›</p><p>finalä¿®é¥°æ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•åœ¨æ´¾ç”Ÿå­ç±»ä¸­ä¸èƒ½è¢«é‡å†™ï¼Œåªèƒ½å¼•ç”¨ï¼›</p><p>finalä¿®é¥°ç±»ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½æ´¾ç”Ÿå‡ºå­ç±»ã€‚</p><p><strong>æŠ½è±¡ç±»ï¼ˆabstract class ï¼‰å’Œæ¥å£ï¼ˆinterfaceï¼‰ï¼š</strong></p><p>ç›¸åŒç‚¹æœ‰ï¼š</p><ul><li>éƒ½åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åœ¨ç»§æ‰¿æŠ½è±¡ç±»æˆ–å®ç°æ¥å£çš„ç±»ä¸­éƒ½è¦å…·ä½“å®ç°ï¼Œ<strong>å¦‚æœæœ‰ä¸€ä¸ªä¸å®ç°ï¼Œè¯¥ç±»å°±æ˜¯æŠ½è±¡ç±»ï¼Œè¿˜æ˜¯ä¸èƒ½åˆ›å»ºå®ä¾‹å¯¹è±¡ã€‚</strong> +  æŠ½è±¡ç±»å’Œæ¥å£éƒ½åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä¸èƒ½ç”¨newåˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä¸¤è€…éƒ½å¯ä»¥é€šè¿‡ä¸Šè½¬å‹å¯¹è±¡æˆ–æ¥å£å›è°ƒæ–¹å¼å®ç°å¤šæ€æœºåˆ¶ã€‚ </li></ul><p>ä¸åŒç‚¹æœ‰ï¼š</p><ul><li>å£°æ˜æ–¹å¼ä¸åŒï¼Œæ¥å£ä½¿ç”¨interfaceå…³é”®å­—ï¼Œè€ŒæŠ½è±¡ç±»ä½¿ç”¨abstract classå…³é”®å­—ã€‚ +  æˆå‘˜å˜é‡ä¸åŒï¼Œæ¥å£ä¸­åªèƒ½æœ‰é™æ€å¸¸é‡ï¼Œè€ŒæŠ½è±¡ç±»ä¸­ä¸å—é™åˆ¶ã€‚ +  æˆå‘˜æ–¹æ³•ä¸åŒï¼Œæ¥å£ä¸­çš„æ–¹æ³•å‡æ˜¯public abstractï¼›è€ŒæŠ½è±¡ç±»ä¸­æŠ½è±¡æ–¹æ³•å¿…é¡»åŠ ä¸Šä¿®é¥°ç¬¦abstractã€‚å¦å¤–ï¼Œæ¥å£ä¸­ä¸èƒ½å®šä¹‰é™æ€æ–¹æ³•ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥ã€‚ </li></ul><p><strong>å†…éƒ¨ç±»ï¼š</strong></p><p>å¦‚æœä¸€ä¸ªç±»Açš„å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªç±»Bï¼Œé‚£ä¹ˆç±»Aç§°ä¸ºå¤–éƒ¨ç±»æˆ–å¤–åµŒç±»ï¼Œè€Œç±»Bç§°ä¸ºå†…éƒ¨ç±»æˆ–å†…åµŒç±» ã€‚</p><p><strong>åŒ¿åå¯¹è±¡å’Œç±»ï¼š</strong></p><p>new ç±»åï¼ˆ[å®å‚åˆ—è¡¨]ï¼‰{//ï¼›ç±»ä½“</p><p>ç»§æ‰¿â€œç±»åâ€çš„å­ç±»</p><p>}</p><p>å¯¹è±¡åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p><p><strong>å¼‚å¸¸ï¼š</strong></p><p>try catch finalï¼ˆ<strong>finalå—ä¸€å®šä¼šæ‰§è¡Œ</strong>ï¼‰</p><p>å¸¸ç”¨å¼‚å¸¸ç±»ï¼š</p><p>ç©ºæŒ‡é’ˆå¼‚å¸¸ç±»ï¼šNullPointerException</p><p>ç±»å‹å¼ºåˆ¶è½¬æ¢å¼‚å¸¸ï¼šClassCastException</p><p>æ•°ç»„è´Ÿä¸‹æ ‡å¼‚å¸¸ï¼šNegativeArrayException</p><p>æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼šArrayIndexOutOfBoundsException</p><h1 id="ç¬¬6ç« -OOPç¨‹åºè®¾è®¡çš„åŸºæœ¬åŸåˆ™"><a href="#ç¬¬6ç« -OOPç¨‹åºè®¾è®¡çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="ç¬¬6ç« .OOPç¨‹åºè®¾è®¡çš„åŸºæœ¬åŸåˆ™"></a>ç¬¬6ç« .OOPç¨‹åºè®¾è®¡çš„åŸºæœ¬åŸåˆ™</h1><p>çŸ¥è¯†ç‚¹ï¼šäº†è§£å°±è¡Œ</p><ul><li>å¯¹è±¡çš„æŠ½è±¡+ å•ä¸€èŒè´£åŸåˆ™+ è¿ªç±³ç‰¹åŸåˆ™+ æ¥å£éš”ç¦»åŸåˆ™+ å¼€æ”¾-å°é—­åŸåˆ™+ é‡Œæ°æ›¿æ¢åŸåˆ™+ åˆæˆ/èšåˆå¤ç”¨åŸåˆ™</li></ul><h1 id="ç¬¬7ç« -å¸¸ç”¨ç±»"><a href="#ç¬¬7ç« -å¸¸ç”¨ç±»" class="headerlink" title="ç¬¬7ç«  å¸¸ç”¨ç±»"></a>ç¬¬7ç«  å¸¸ç”¨ç±»</h1><p>å¸¸ç”¨çš„æ–¹æ³•åœ¨java.mdé‡Œé¢æœ‰ã€‚</p><p>çŸ¥è¯†ç‚¹ï¼š</p><ul><li>Stringç±»+ StringBufferç±»+ Stringç±»ä¸StringBufferç±»æ¯”è¾ƒ+ StringTokenizerç±»+ æ—¥æœŸç±»ï¼ˆDateã€Calendarï¼‰</li></ul><p><strong>Stringç±»å’ŒStringBufferç±»ï¼š</strong></p><p>Stringç±»å®šä¹‰å­—ç¬¦ä¸²<strong>å¸¸é‡</strong>å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç”¨æ„é€ æ–¹æ³•å®šä¹‰ã€‚StringBufferç±»å¯¹è±¡å¿…é¡»ä½¿ç”¨æ„é€ æ–¹æ³•å®šä¹‰ã€‚</p><p>Stringçš„å†…å®¹<strong>ä¸€æ—¦å£°æ˜ä¸å¯æ”¹å˜</strong>ï¼Œå¦‚æœè¦æ”¹å˜ï¼Œæ”¹å˜çš„æ˜¯Stringçš„å¼•ç”¨åœ°å€ã€‚</p><p>ç”¨StringBufferåˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡<strong>å¯ä»¥ä¿®æ”¹</strong>ã€‚å¹¶ä¸”æ‰€æœ‰çš„ä¿®æ”¹éƒ½ç›´æ¥å‘ç”Ÿåœ¨åŒ…å«è¯¥å­—ç¬¦ä¸²çš„ç¼“å†²åŒºä¸Šã€‚</p><p><strong>æ—¥æœŸç±»ï¼ˆDateã€Calendarï¼‰ï¼š</strong></p><p>Dateç±»å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æ—¥æœŸï¼Œä½†æ˜¯æ—¥æœŸæ ¼å¼ä¸ç¬¦åˆå¹³å¸¸çœ‹åˆ°çš„æ ¼å¼ï¼Œæ—¶é—´ä¹Ÿä¸èƒ½ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œè¦æƒ³æŒ‰ç…§ç”¨æˆ·è‡ªå·±çš„æ ¼å¼æ˜¾ç¤ºæ—¶é—´å¯ä»¥ä½¿ç”¨Calenderç±»å®Œæˆæ“ä½œã€‚Dateç±»å–å¾—çš„æ—¶é—´æ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ—¶é—´ï¼Œä½†æ˜¾ç¤ºæ ¼å¼ä¸ç¬¦åˆä¹ æƒ¯ï¼Œå¯ä»¥åˆ©ç”¨DateFormatç±»è¿›è¡Œæ ¼å¼åŒ–ã€‚</p><p>Calenderå¯ä»¥å°†å–å¾—çš„æ—¶é—´ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œä½†æ˜¯æ­¤ç±»æ˜¯æŠ½è±¡ç±»ï¼Œè¦æƒ³ä½¿ç”¨æŠ½è±¡ç±»ï¼Œå¿…é¡»ä¾é å¯¹è±¡çš„å¤šæ€æ€§ï¼Œé€šè¿‡å­ç±»è¿›è¡Œçˆ¶ç±»å¾—å®ä¾‹åŒ–æ“ä½œï¼Œå…¶å­ç±»æ˜¯GregorianCalenderï¼Œåœ¨Calenderä¸­æä¾›äº†éƒ¨åˆ†å¸¸é‡ï¼Œåˆ†åˆ«è¡¨ç¤ºæ—¥æœŸçš„å„ä¸ªæ•°å­—ã€‚</p><h1 id="ç¬¬8ç« -å›¾å½¢ç•Œé¢è®¾è®¡"><a href="#ç¬¬8ç« -å›¾å½¢ç•Œé¢è®¾è®¡" class="headerlink" title="ç¬¬8ç«  å›¾å½¢ç•Œé¢è®¾è®¡"></a>ç¬¬8ç«  å›¾å½¢ç•Œé¢è®¾è®¡</h1><p>ä¸è€ƒï¼Œjava swing</p><h1 id="ç¬¬9ç« -Javaè¾“å…¥å’Œè¾“å‡º"><a href="#ç¬¬9ç« -Javaè¾“å…¥å’Œè¾“å‡º" class="headerlink" title="ç¬¬9ç«  Javaè¾“å…¥å’Œè¾“å‡º"></a>ç¬¬9ç«  Javaè¾“å…¥å’Œè¾“å‡º</h1><p>çŸ¥è¯†ç‚¹ï¼šä»£ç è§java.md</p><ul><li>æ–‡ä»¶æ“ä½œï¼šFile+ å­—èŠ‚æµï¼šInputStreamå’ŒOutputStream+ å­—ç¬¦æµï¼šReaderå’ŒWriter</li></ul><h1 id="ç¬¬10ç« å¤šçº¿ç¨‹"><a href="#ç¬¬10ç« å¤šçº¿ç¨‹" class="headerlink" title="ç¬¬10ç« å¤šçº¿ç¨‹"></a>ç¬¬10ç« å¤šçº¿ç¨‹</h1><p>è§Java.mdï¼šJavaå¹¶å‘ç¼–ç¨‹ã€waitã€notifyã€notifyAllï¼ŒJDBC</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç»§æ‰¿</title>
      <link href="/2023/06/20/java-ji-cheng/"/>
      <url>/2023/06/20/java-ji-cheng/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"hahaha"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç ç¼–è¯‘ä¼šå‡ºé”™ï¼ŒåŸå› æ˜¯çˆ¶ç±»æ²¡æœ‰åˆé€‚çš„æ„é€ æ–¹æ³•æ¥è°ƒç”¨åˆå§‹åŒ–ä¸‰ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p><p>åœ¨ç»§æ‰¿çš„æ—¶å€™ï¼Œå¦‚æœä¸æ˜¾å¼æŒ‡å®šçˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨super()æ–¹æ³•ï¼›</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ”¹ä¸ºè¿™æ ·å°±å¯ä»¥è¿è¡Œäº†ã€‚</p><h2 id="é˜»æ­¢ç»§æ‰¿"><a href="#é˜»æ­¢ç»§æ‰¿" class="headerlink" title="é˜»æ­¢ç»§æ‰¿"></a>é˜»æ­¢ç»§æ‰¿</h2><h3 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h3><p><strong>1ã€sealedå…³é”®å­—ï¼š</strong>ä¸‹é¢çš„å°±æ˜¯è¯´æ˜äº†Personåªå¯ä»¥ç”±Manï¼Œå’ŒWomanä¸¤ä¸ªç±»ç»§æ‰¿ï¼Œä¸å¯ä»¥éšä¾¿ç»§æ‰¿</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public sealed class Person permits Man, Women <span class="token punctuation">&#123;</span>    <span class="token punctuation">..</span>.<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>2ã€ finalå…³é”®å­—ï¼š</strong>Manæ˜¯æœ€åçš„å„¿å­ï¼Œä»–ä¸å¯ä»¥è¢«å…¶ä»–ç±»ç»§æ‰¿ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">public final class Man extends Penson<span class="token punctuation">&#123;</span>    <span class="token punctuation">..</span>.<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="å‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰"><a href="#å‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰" class="headerlink" title="å‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰"></a>å‘ä¸Šè½¬å‹ï¼ˆupcastingï¼‰</h2><p>æ¯”å¦‚ä¸Šé¢çš„Personï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Person</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Student</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person</span> p1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span><span class="token class-name">Object</span> ob1<span class="token operator">=</span>p<span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span><span class="token class-name">Object</span> ob2<span class="token operator">=</span>stu<span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§æŒ‡å‘æ˜¯å¯ä»¥çš„ï¼Œçˆ¶ç±»æŒ‡å‘å­ç±»ï¼ˆåè¿‡æ¥æ˜¯ä¸å¯ä»¥çš„ï¼‰ã€‚</p><p><strong>æ³¨æ„ï¼šä¸Šé¢çš„ä¾‹å­çš„ç»§æ‰¿æ ‘æ˜¯è¿™æ ·å­çš„ï¼šStudent&gt;Person&gt;objectï¼ˆæ‰€ä»¥å«åšå‘ä¸Šè½¬å‹ï¼‰ï¼Œåœ¨javaä¸­æ‰€æœ‰çš„ç±»éƒ½æ˜¯ç»§æ‰¿äºobjectã€‚</strong></p><h2 id="å‘ä¸‹è½¬å‹ï¼ˆdowncastingï¼‰"><a href="#å‘ä¸‹è½¬å‹ï¼ˆdowncastingï¼‰" class="headerlink" title="å‘ä¸‹è½¬å‹ï¼ˆdowncastingï¼‰"></a>å‘ä¸‹è½¬å‹ï¼ˆdowncastingï¼‰</h2><p>ä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span><span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Student</span> stu1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> p1<span class="token punctuation">;</span> <span class="token comment">// ok</span><span class="token class-name">Student</span> stu2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> p2<span class="token punctuation">;</span> <span class="token comment">// runtime error! ClassCastException!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="instanceofæ“ä½œç¬¦"><a href="#instanceofæ“ä½œç¬¦" class="headerlink" title="instanceofæ“ä½œç¬¦"></a><code>instanceof</code>æ“ä½œç¬¦</h2><p>ä¸ºäº†é¿å…å‘ä¸‹è½¬å‹å‡ºé”™ï¼ŒJavaæä¾›äº†<code>instanceof</code>æ“ä½œç¬¦ï¼Œå¯ä»¥å…ˆåˆ¤æ–­ä¸€ä¸ªå®ä¾‹ç©¶ç«Ÿæ˜¯ä¸æ˜¯æŸç§ç±»å‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Person p <span class="token operator">=</span> new Person<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System.out.println<span class="token punctuation">(</span>p instanceof Person<span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token boolean">true</span>System.out.println<span class="token punctuation">(</span>p instanceof Student<span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token boolean">false</span>Student s <span class="token operator">=</span> new Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>System.out.println<span class="token punctuation">(</span>s instanceof Person<span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token boolean">true</span>System.out.println<span class="token punctuation">(</span>s instanceof Student<span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token boolean">true</span>Student n <span class="token operator">=</span> null<span class="token punctuation">;</span>System.out.println<span class="token punctuation">(</span>n instanceof Student<span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>instanceof</code>å®é™…ä¸Šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ‰€æŒ‡å‘çš„å®ä¾‹æ˜¯å¦æ˜¯æŒ‡å®šç±»å‹ï¼Œæˆ–è€…è¿™ä¸ªç±»å‹çš„å­ç±»ã€‚å¦‚æœä¸€ä¸ªå¼•ç”¨å˜é‡ä¸º<code>null</code>ï¼Œé‚£ä¹ˆå¯¹ä»»ä½•<code>instanceof</code>çš„åˆ¤æ–­éƒ½ä¸º<code>false</code>ã€‚</p><p>åˆ©ç”¨<code>instanceof</code>ï¼Œåœ¨å‘ä¸‹è½¬å‹å‰å¯ä»¥å…ˆåˆ¤æ–­ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Person p <span class="token operator">=</span> new Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>p instanceof Student<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    // åªæœ‰åˆ¤æ–­æˆåŠŸæ‰ä¼šå‘ä¸‹è½¬å‹:    Student s <span class="token operator">=</span> <span class="token punctuation">(</span>Student<span class="token punctuation">)</span> p<span class="token punctuation">;</span> // ä¸€å®šä¼šæˆåŠŸ<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŸºç¡€ä¹‹argså‚æ•°ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰</title>
      <link href="/2023/06/20/java-ji-chu-zhi-args-can-shu-ming-ling-xing-can-shu/"/>
      <url>/2023/06/20/java-ji-chu-zhi-args-can-shu-ming-ling-xing-can-shu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="String-args"><a href="#String-args" class="headerlink" title="String[] args"></a>String[] args</h2><p>Javaç¨‹åºçš„å…¥å£æ˜¯mainæ–¹æ³•ï¼Œè€Œä¸”mainæ–¹æ³•è¦æ¥å—ä¸€ä¸ª<strong>å‘½ä»¤è¡Œå‚æ•°</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªString[]æ•°ç»„ï¼Œè¿™ä¸ªå‘½ä»¤ç”±JVMæ¥å—ç”¨æˆ·å¹¶ä¸”ä¼ ç»™mainæ–¹æ³•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// System.out.println(args[0]);</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"-version"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"v 1.0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå‚æ•°æ¥æ‰“å°java -versionï¼Œå®ç°çš„æ•ˆæœå°±æ˜¯æ‰“å°v 1.0ï¼›</p><p>è¦åˆ©ç”¨argså‚æ•°è¦åœ¨<strong>ç»ˆç«¯çª—å£</strong>è¿è¡Œï¼š</p><p>1ã€é¦–å…ˆåœ¨Main.javaçš„ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯</p><p>2ã€è¾“å…¥å‘½ä»¤ï¼š<strong>javac Main.java</strong>ï¼Œç”ŸæˆMain.class</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ javac Main.java<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3ã€å†æ¬¡è¾“å…¥å‘½ä»¤ï¼š<strong>java Main -versionï¼Œ</strong>å°±å¯ä»¥æ‰“å°v 1.0ï¼Œè¿™é‡Œå°±ç›¸å½“äºæ‰§è¡Œçš„æ—¶å€™ç»™Mainä¼ å…¥äº†å‚æ•°-versionç»™argsã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">java</span> Main <span class="token parameter variable">-version</span><span class="token function">v</span> <span class="token number">1.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªæ˜¯<strong>æˆ‘çš„ç»ˆç«¯</strong>ä¸‹çš„è¿è¡Œæƒ…å†µã€‚ </p><p><img src="https://img-blog.csdnimg.cn/2f9aa7269d614bd09e74476911b10ce6.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaçš„è¾“å…¥å’Œè¾“å‡º</title>
      <link href="/2023/06/20/java-de-shu-ru-he-shu-chu/"/>
      <url>/2023/06/20/java-de-shu-ru-he-shu-chu/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><p><strong>å†™åœ¨å‰é¢ï¼š</strong></p><p>æœ€è¿‘åœ¨åˆ‡æ¢å¹³å°æ¥è®°å½•æˆ‘çš„å­¦ä¹ ï¼Œè€Œä¸”é©¬ä¸ŠæœŸæœ«è€ƒè¯•äº†ï¼Œå¤ä¹ çš„ä»»åŠ¡æœ‰ç‚¹é‡ï¼Œè¦æŠ“ç´§å¤ä¹ ï¼Œæ‰€ä»¥å†™åšå®¢çš„æ—¶é—´å¤§å¤§å‡å°‘äº†ã€‚But I will continue to study. </p><p>1ã€åœ¨javaä»£ç ä¸­æ€»æ˜¯å‡ºç°System.out.println(xxx);å…¶å®printlnæ˜¯print lineçš„ç¼©å†™ï¼Œè¡¨ç¤ºçš„æ„æ€æ˜¯è¾“å‡ºå¹¶ä¸”æ¢è¡Œã€‚</p><p>2ã€å¦‚æœè¾“å‡ºåä¸æƒ³æ¢è¡Œï¼Œå¯ä»¥ä½¿ç”¨print();</p><h2 id="æ ¼å¼åŒ–è¾“å‡º"><a href="#æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡º"></a>æ ¼å¼åŒ–è¾“å‡º</h2><p>1ã€ç”±äºè®¡ç®—æœºèƒ½çœ‹æ‡‚çš„æˆ‘ä»¬ä¸ä¸€å®šå¯ä»¥çœ‹æ‡‚æ‰€ä»¥å°±æœ‰äº†æ ¼å¼åŒ–çš„è¾“å‡ºï¼Œè®©æˆ‘ä»¬å¾ˆå¥½çš„çŸ¥é“è¾“å‡ºçš„æ˜¯ä»€ä¹ˆã€‚</p><p>ï¼ˆ1ï¼‰ä½¿ç”¨printlnæ¥å®ç°æ ¼å¼åŒ–è¾“å‡ºã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">12800000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºï¼š1.28E7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ï¼ˆ2ï¼‰è¿˜æœ‰å¯ä»¥ä½¿ç”¨åƒcè¯­è¨€ç±»ä¼¼çš„å‡½æ•°printf(â€œ%?\nâ€,xxx)ï¼›</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">double</span> pi<span class="token operator">=</span><span class="token number">3.141592654</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.2f\n"</span><span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¾ç¤º2ä½å°æ•°,3.14</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.5f\n"</span><span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ˜¾ç¤º5ä½å°æ•°,3.14159</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ ¼å¼åŒ–è¾“å‡º</strong><br><strong>å ä½ç¬¦**</strong>è¯´æ˜**%dæ ¼å¼åŒ–è¾“å‡ºæ•´æ•°%xæ ¼å¼åŒ–è¾“å‡º16è¿›åˆ¶æ•°%fæ ¼å¼åŒ–è¾“å‡ºæµ®ç‚¹æ•°%eæ ¼å¼åŒ–è¾“å‡ºä»¥ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºçš„æ•°%sæ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²</p><p>è¯¦ç»†çš„æ ¼å¼åŒ–å‚æ•°å¯ä»¥å»å‚è€ƒJDKæ–‡æ¡£<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax">java.util.Formatter</a>ã€‚</p><h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><p>è¾“å…¥å¯¹æ¯”è¾“å‡ºå°±æ¯”è¾ƒå¤æ‚äº†ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»ºScannerå¯¹è±¡</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Input your name: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°æç¤º</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¯»å–ä¸€è¡Œå¹¶è·å–å­—ç¬¦ä¸²ä¿å­˜åœ¨nameå˜é‡ä¸­</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Input your age: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> age <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¯»å–ä¸€è¡Œå¹¶ä¿å­˜ä¿¡æ¯åœ¨ageä¸­</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hi, %s, you are %d\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>æ ¼å¼åŒ–è¾“å‡º    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡<code>import</code>è¯­å¥å¯¼å…¥<code>java.util.Scanner</code>ï¼Œ<code>import</code>æ˜¯å¯¼å…¥æŸä¸ªç±»çš„è¯­å¥ï¼Œå¿…é¡»æ”¾åˆ°Javaæºä»£ç çš„å¼€å¤´ï¼Œç°åœ¨æˆ‘è¿˜æ²¡æœ‰å­¦ä¹ åˆ°ã€‚</p><p>ç„¶åï¼Œåˆ›å»º<code>Scanner</code>å¯¹è±¡å¹¶ä¼ å…¥<code>System.in</code>ã€‚<code>System.out</code>ä»£è¡¨æ ‡å‡†è¾“å‡ºæµï¼Œè€Œ<code>System.in</code>ä»£è¡¨æ ‡å‡†è¾“å…¥æµã€‚ç›´æ¥ä½¿ç”¨<code>System.in</code>è¯»å–ç”¨æˆ·è¾“å…¥è™½ç„¶æ˜¯å¯ä»¥çš„ï¼Œä½†éœ€è¦æ›´å¤æ‚çš„ä»£ç ï¼Œè€Œé€šè¿‡<code>Scanner</code>å°±å¯ä»¥ç®€åŒ–åç»­çš„ä»£ç ã€‚</p><p>æœ‰äº†<code>Scanner</code>å¯¹è±¡åï¼Œè¦è¯»å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨<code>scanner.nextLine()</code>ï¼Œè¦è¯»å–ç”¨æˆ·è¾“å…¥çš„æ•´æ•°ï¼Œä½¿ç”¨<code>scanner.nextInt()</code>ã€‚<code>Scanner</code>ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹ï¼Œå› æ­¤ä¸å¿…æ‰‹åŠ¨è½¬æ¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptçŸ¥è¯†ç‚¹(æ ¹æ®ä¾‹å­æ¥å­¦ä¹ )</title>
      <link href="/2023/06/20/javascript-zhi-shi-dian-gen-ju-li-zi-lai-xue-xi/"/>
      <url>/2023/06/20/javascript-zhi-shi-dian-gen-ju-li-zi-lai-xue-xi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="ç«‹å³æ‰§è¡Œå‡½æ•°"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•°"></a>ç«‹å³æ‰§è¡Œå‡½æ•°</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"é€šå¸¸å°†åŒ¿åå‡½æ•°ä¸äº‹ä»¶å¤„ç†ç¨‹åºä¸€èµ·ä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="inputæ ‡ç­¾ã€rowspan"><a href="#inputæ ‡ç­¾ã€rowspan" class="headerlink" title="inputæ ‡ç­¾ã€rowspan"></a>inputæ ‡ç­¾ã€rowspan</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;    &lt;title&gt;shiyan&lt;&#x2F;title&gt;    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;.&#x2F;page1.css&quot;&gt;&lt;&#x2F;head&gt;&lt;body&gt;    id å‰å°æ‹¿æ•°æ®ï¼Œname åå°æ‹¿æ•°æ®    æ—¶é—´ï¼š&lt;input type&#x3D;&quot;time&quot; placeholder&#x3D;&quot;è¯·è¾“å…¥æ—¶é—´&quot; autofocus&gt;&lt;br&gt;    æ—¥æœŸï¼š&lt;input type&#x3D;&quot;date&quot; placeholder&#x3D;&quot;è¯·è¾“å…¥æ—¥æœŸ&quot;&gt;&lt;br&gt;    æ•°å­—ï¼š&lt;input type&#x3D;&quot;number&quot; placeholder&#x3D;&quot;è¾“å…¥æ•°å­—&quot; value&#x3D;&quot;0&quot; max&#x3D;&quot;100&quot; min&#x3D;&quot;-100&quot; step&#x3D;&quot;20&quot;&gt;&lt;br&gt;    æ—¥æœŸæ—¶é—´:&lt;input type&#x3D;&quot;datetime_local&quot; placeholder&#x3D;&quot;æ—¥æœŸæ—¶é—´&quot;&gt;    æœç´¢ï¼š&lt;input type&#x3D;&quot;search&quot; required pattern&#x3D;&quot;[0-9][a-z]&#123;2&#125;&quot;&gt;!!!!!!!!!!!!!!    é‚®ç®±ï¼š&lt;input type&#x3D;&quot;email&quot;&gt;    ç½‘å€ï¼š&lt;input type&#x3D;&quot;url&quot;&gt;    æ»‘å—ï¼š&lt;input type&#x3D;&quot;range&quot;&gt;    é¢œè‰²ï¼š&lt;input type&#x3D;&quot;color&quot;&gt;    éŸ³é¢‘:loop autopaly, muted    (10.21)ï¼š&lt;audio src&#x3D;&quot;&quot; controls&gt;&lt;&#x2F;audio&gt;    è§†é¢‘ï¼š    &lt;video src&#x3D;&quot;&quot; controls&gt;&lt;&#x2F;video&gt;    &lt;table border&#x3D;&quot;1&quot; &gt;        &lt;tr&gt;            &lt;th&gt;åˆ†ç±»&lt;&#x2F;th&gt;            &lt;th&gt;æŠ€èƒ½&lt;&#x2F;th&gt;            &lt;th&gt;åˆ†æ•°&lt;&#x2F;th&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td rowspan&#x3D;&quot;3&quot;&gt;ç¼–ç¨‹è¯­è¨€&lt;&#x2F;td&gt;            &lt;td&gt;JavaScript&lt;&#x2F;td&gt;            &lt;td&gt;8&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td&gt;C++&lt;&#x2F;td&gt;            &lt;td&gt;7&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td&gt;Swift&lt;&#x2F;td&gt;            &lt;td&gt;8&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td rowspan&#x3D;&quot;2&quot;&gt;äº§å“è®¾è®¡&lt;&#x2F;td&gt;            &lt;td&gt;PhotoShop&lt;&#x2F;td&gt;            &lt;td&gt;6&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td&gt;Axure&lt;&#x2F;td&gt;            &lt;td&gt;5&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td rowspan&#x3D;&quot;2&quot;&gt;é”€å”®&lt;&#x2F;td&gt;            &lt;td&gt;ç¤¾äº¤åª’ä½“&lt;&#x2F;td&gt;            &lt;td&gt;3&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;        &lt;tr&gt;            &lt;td&gt;C++&lt;&#x2F;td&gt;            &lt;td&gt;7&lt;&#x2F;td&gt;        &lt;&#x2F;tr&gt;    &lt;&#x2F;table&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨a-hover"><a href="#é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨a-hover" class="headerlink" title="é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨a:hover"></a>é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨a:hover</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;style&gt;        p &#123;            background-color: orange;        &#125;        #p2 &#123;            color: red;            background-color: cadetblue;        &#125;        .para &#123;            color: blue;        &#125;        p.para2 &#123;            color: aliceblue;        &#125;        #div h2&#123;            color:aqua;            background:gray;        &#125;        &#x2F;* æœªè®¿é—®å‰ *&#x2F;        a:link&#123;            color:pink;        &#125;        &#x2F;* è®¿é—®ä»¥å *&#x2F;        a:visited&#123;            color:aqua;        &#125;        &#x2F;* é¼ æ ‡æ‚¬åœ *&#x2F;        a:hover&#123;            color:firebrick;            font-size: 30px;        &#125;        &#x2F;* ç‚¹ä¸­æ—¶ *&#x2F;        a:active&#123;            color:red;        &#125;            &lt;&#x2F;style&gt;&lt;&#x2F;head&gt;&lt;body&gt;        &lt;p id&#x3D;&quot;p1&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½&lt;&#x2F;p&gt;    &lt;hr&gt;    &lt;p class&#x3D;&quot;para&quot; id&#x3D;&quot;p2&quot;&gt;è¿™æ˜¯ç¬¬äºŒä¸ªæ®µè½&lt;&#x2F;p&gt;    &lt;hr&gt;    &lt;p class&#x3D;&quot;para2&quot;&gt;è¿™æ˜¯ä¸‰ä¸ªæ®µè½&lt;&#x2F;p&gt;    &lt;div id&#x3D;&quot;div&quot;&gt;        &lt;h2&gt;æ ‡é¢˜1&lt;&#x2F;h2&gt;        &lt;h2&gt;æ ‡é¢˜1&lt;&#x2F;h2&gt;        &lt;h2&gt;æ ‡é¢˜1&lt;&#x2F;h2&gt;        &lt;h2&gt;æ ‡é¢˜1&lt;&#x2F;h2&gt;    &lt;&#x2F;div&gt;    &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&quot;&gt;ç™¾åº¦é“¾æ¥&lt;&#x2F;a&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;å‡½æ•°1ã€å‡½æ•°å®šä¹‰ ä¸è°ƒç”¨2ã€å‡½æ•°å‚æ•° ã€arguments3ã€return è¿”å›å€¼ ç»“æŸ4ã€ä½œç”¨åŸŸ  ï¼šå…¨å±€å˜é‡ ã€å±€éƒ¨å˜é‡&lt;br&gt;&lt;button name&#x3D;&quot;button&quot; id&#x3D;&#39;btn1&#39;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;&lt;br&gt;&lt;br&gt;&lt;script&gt;&#x2F;&#x2F;1 å®šä¹‰ æ–¹æ³•1 &#x2F;&#x2F; document.write(&quot;123&quot;);&#x2F;&#x2F;æ–¹æ³•2  å‡½æ•°è¡¨è¾¾å¼  (åŒ¿åå‡½æ•°)var w&#x3D;function()&#123;document.write(&quot;é€šå¸¸å°†åŒ¿åå‡½æ•°ä¸äº‹ä»¶å¤„ç†ç¨‹åºä¸€èµ·ä½¿ç”¨&quot;)&#125;&#x2F;&#x2F; w();&#x2F;&#x2F; document.write(&quot;123&quot;)&#x2F;&#x2F;é€šå¸¸å°†åŒ¿åå‡½æ•°ä¸äº‹ä»¶å¤„ç†ç¨‹åºä¸€èµ·ä½¿ç”¨btn1.onlick&#x3D;function()&#123;w();&#125;;&#x2F;&#x2F;è‡ªè°ƒç”¨å‡½æ•°-ç«‹å³æ‰§è¡Œå‡½æ•°(function()&#123;document.write(&quot;é€šå¸¸å°†åŒ¿åå‡½æ•°ä¸äº‹ä»¶å¤„ç†ç¨‹åºä¸€èµ·ä½¿ç”¨&quot;)&#125;)();document.write(&quot;&lt;br&gt;&quot;)&#x2F;&#x2F;2 å‡½æ•°å‚æ•°  ç›´æ¥å†™å½¢å‚åå­—function write(name1, name)&#123;document.write(&quot;hello,&quot;+name1+&quot;&lt;br&gt;&quot;);document.write(&quot;hello,&quot;+name+&quot;&lt;br&gt;&quot;);&#125;write(123,23)&#x2F;&#x2F;å®å‚ä¸ªæ•°å¤šäºå½¢å‚:åªå‡ºç°å‰é¢çš„&#x2F;&#x2F; write(1,2,3,4)&#x2F;&#x2F;å®å‚å°‘äºå½¢å‚:å‡ºç°undefined&#x2F;&#x2F; write(123)&#x2F;&#x2F; arguments å¯¹è±¡&#x2F;&#x2F; å‡½æ•°æœ‰ä¸€ä¸ªåä¸º arguments çš„å†…ç½®å¯¹è±¡ã€‚å®å‚èµ‹ç»™å½¢å‚ä½¿ç”¨è¿™ä¸ªå‚æ•°æ¥æ¥æ”¶.&#x2F;&#x2F;arguments å¯¹è±¡ç±»ä¼¼äºæ•°ç»„çš„ç»“æ„ï¼ˆå¯ä»¥éå†ï¼Œå¯ä»¥ç”¨ä¸‹æ ‡è®¿é—®ï¼‰ã€‚&#x2F;&#x2F;å¦‚æœå‡½æ•°è°ƒç”¨çš„å‚æ•°å¤ªå¤šï¼Œåˆ™å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡æ¥å¾—åˆ°è¿™äº›å‚æ•°ã€‚function f(a, b)&#123;&#x2F;&#x2F; document.write(arguments.length+&quot;&lt;br&gt;&quot;)&#x2F;&#x2F; document.write(arguments[0]+&quot;&lt;br&gt;&quot;)&#x2F;&#x2F; document.write(arguments[1]+&quot;&lt;br&gt;&quot;)&#x2F;&#x2F; document.write(arguments[3])var max&#x3D;arguments[0]for(var i&#x3D;1; i&lt;arguments.length; i++)&#123;if(arguments[i]&gt;max)max&#x3D;arguments[i]&#125;document.write(max)&#125;f(1,2,234,3)document.write(&quot;&lt;br&gt;&quot;)var m &#x3D; new Map([[1, &#39;x&#39;], [2, &#39;y&#39;], [3, &#39;z&#39;]]);m.forEach(function (value, key, map) &#123;document.write(value+key+map+&quot;&lt;br&gt;&quot;);&#125;);&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;JavaScript ä¸­ï¼Œå˜é‡çš„ä½œç”¨åŸŸæœ‰ å…¨å±€ä½œç”¨åŸŸ å’Œ å±€éƒ¨ä½œç”¨åŸŸ ä¸¤ç§ã€‚1ã€å…¨å±€å˜é‡   å‡½æ•°å¤–å®šä¹‰çš„å˜é‡   æ²¡æœ‰ç”¨ varå®šä¹‰çš„å˜é‡(let)   windowå¯¹è±¡å®šä¹‰çš„å˜é‡(window.c&#x3D;1)2ã€å±€éƒ¨å˜é‡  å‡½æ•°å†…ç”¨varå®šä¹‰çš„å˜é‡              å½¢å‚å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå…¨å±€å˜é‡æ´»å¾—å’Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼ˆçª—å£ã€ç½‘é¡µï¼‰ä¸€æ ·ä¹…ã€‚å±€éƒ¨å˜é‡æ´»å¾—ä¸é•¿ã€‚å®ƒä»¬åœ¨å‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºï¼Œåœ¨å‡½æ•°å®Œæˆåè¢«åˆ é™¤ã€‚&lt;script&gt;&#x2F;&#x2F;1  å…¨å±€å˜é‡var str1&#x3D;&quot; 1æˆ‘æ˜¯å…¨å±€&quot;document.write(str1)function fn1()&#123;var str2&#x3D;&quot;æˆ‘æ˜¯å±€éƒ¨&quot;  &#x2F;&#x2F;2  å±€éƒ¨å˜é‡  ä½¿ç”¨varåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡let s&#x3D;&quot;123&quot;&#125;fn1();console.log(str1);&#x2F;&#x2F; console.log(s);&#x2F;&#x2F;6  ä»¥ä¸‹ç¨‹åºè¿è¡Œç»“æœæ˜¯:&#x2F;&#x2F;å¯¹Jsè€Œè¨€ï¼Œåªè¦å˜é‡æ˜¯åœ¨åŒä¸€ä¸ªèŒƒå›´ï¼ˆå‡½æ•°ï¼‰é‡Œï¼Œå°±è§†ä¸ºå·²ç»å£°æ˜ï¼Œ&#x2F;&#x2F;å“ªæ€•æ˜¯åœ¨å˜é‡å£°æ˜å‰å°±ä½¿ç”¨&#x2F;* var num1&#x3D;10;function fn2()&#123;&#x2F;&#x2F;å› ä¸ºnum1æ˜¯å±€éƒ¨çš„ fn1å†…éƒ¨çš„ã€‚æ‰€ä»¥æå‡åˆ°fn1å‡½æ•°æœ€å‰é¢å£°æ˜console.log(num1);&#x2F;&#x2F;è¾“å‡ºï¼Ÿundefinedvar num1&#x3D;20;&#125;fn2()*&#x2F;var a&#x3D;&quot;1111&quot;function fn3()&#123;console.log(a);var a&#x3D;&quot;2222&quot;console.log(a);&#125;fn3();&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è·å–å…ƒç´ "><a href="#è·å–å…ƒç´ " class="headerlink" title="è·å–å…ƒç´ "></a>è·å–å…ƒç´ </h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;æŸ¥æ‰¾å…ƒç´ æ–¹æ³•ï¼š1 é€šè¿‡ id æŸ¥æ‰¾å…ƒç´ &lt;br&gt;&lt;p id&#x3D;&quot;intro&quot;&gt;Hello!&lt;&#x2F;p&gt;&lt;button name&#x3D;&quot;button&quot; id&#x3D;&#39;btn0&#39;&gt;ç¡®å®š&lt;&#x2F;button&gt;&lt;script&gt;var p &#x3D; document.getElementById(&quot;para&quot;);&#x2F;&#x2F; document.write();var btn0 &#x3D; document.getElementById(&quot;btn0&quot;);btn0.click &#x3D; function () &#123;document.write(&quot;nihao&quot;);&#125;&lt;&#x2F;script&gt;&lt;hr&gt;2ã€é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾å…ƒç´ &lt;br&gt;&lt;ul&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;li&gt;ã€#å›åº”ä½•æ—¶å¼€å­¦#ã€‘&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;&lt;script&gt;var lis &#x3D; document.getElementsByTagName(&#39;li&#39;);console.log(lis);for (var i &#x3D; 0; i &lt; lis.length; i++) &#123;if (i % 2 &#x3D;&#x3D; 0) &#123;lis[i].style.background &#x3D; &quot;blue&quot;;&#125;&#125;&lt;&#x2F;script&gt;&lt;hr&gt;3 html5æ–°å¢çš„ é€šè¿‡ CSS é€‰æ‹©å™¨æŸ¥æ‰¾ HTML å…ƒç´ :&lt;br&gt;querySelectorAll() æ–¹æ³• :æŸ¥æ‰¾åŒ¹é…æŒ‡å®š CSS é€‰æ‹©å™¨ï¼ˆidã€ç±»åã€æ ‡ç­¾ç­‰ï¼‰çš„æ‰€æœ‰ HTML å…ƒç´ &lt;br&gt;querySelector() æ–¹æ³• :æŸ¥æ‰¾åŒ¹é…æŒ‡å®š CSS é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ª HTML å…ƒç´ &lt;br&gt;&lt;p id&#x3D;&quot;p1&quot;&gt;Hello!&lt;&#x2F;p&gt;&lt;button name&#x3D;&quot;button&quot; id&#x3D;&#39;btn1&#39;&gt;ç¡®å®š&lt;&#x2F;button&gt;&lt;p class&#x3D;&quot;imp&quot;&gt;Hello!&lt;&#x2F;p&gt;&lt;p class&#x3D;&quot;imp&quot;&gt;world!&lt;&#x2F;p&gt;&lt;script&gt;&#x2F;&#x2F;querySelectorAll() æ–¹æ³•  è·å¾—classä¸ºimpçš„å…ƒç´    .ä¸èƒ½å°‘var p1 &#x3D; document.querySelectorAll(&#39;.imp&#39;)console.log(p1)&#x2F;&#x2F;querySelectorï¼ˆï¼‰æ–¹æ³•   è·å¾—idä¸ºbtn1çš„å…ƒç´  #ä¸èƒ½å°‘var p2 &#x3D; document.querySelector(&#39;#btn1&#39;)console.log(p2)var ps &#x3D; document.querySelectorAll(&quot;.imp&quot;);console.log(ps);ps[1].innerHTML &#x3D; &quot;123456789&quot;;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;é¢å‘å¯¹è±¡&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€ä»€ä¹ˆæ˜¯JavaScriptå¯¹è±¡ï¼Ÿå¯¹è±¡æ˜¯æœ‰(å±æ€§)å’Œ(æ–¹æ³•)çš„é›†åˆã€‚2ã€åˆ›å»ºå¯¹è±¡çš„ä¸‰ç§æ–¹å¼ï¼š&lt;br&gt;01ã€ä½¿ç”¨new object()æ–¹å¼&lt;script&gt;&#x2F;&#x2F;åˆ›å»ºvar person &#x3D; new Object();&#x2F;&#x2F; console.log(person)&#x2F;&#x2F; console.log(typeof(person))&#x2F;&#x2F;è®¾ç½®å±æ€§å’Œæ–¹æ³• person.name&#x3D;&quot;123&quot;person.age &#x3D; 18;&#x2F;&#x2F;è®¾ç½®æ–¹æ³• person.say&#x3D;function()&#123;console.log(&quot;say&quot;)&#125;&#x2F;&#x2F;è®¿é—®å±æ€§&#x2F;&#x2F; console.log(person.name)&#x2F;&#x2F; console.log(person.age)&#x2F;&#x2F;è°ƒç”¨æ–¹æ³•&#x2F;&#x2F; person.say()&lt;&#x2F;script&gt;&lt;br&gt; 01 ä½¿ç”¨å­—é¢é‡å®šä¹‰var å¯¹è±¡&#x3D;&#123;&#x2F;&#x2F;é”®å€¼å¯¹çš„å½¢å¼  é”® å±æ€§å ï¼šå€¼ å±æ€§å€¼ï¼Œå±æ€§å ï¼šå€¼ï¼Œ&#x2F;&#x2F;æ–¹æ³• å†’å·åé¢è·Ÿç€ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚æ–¹æ³•:function()&#123;&#125;&#125;&lt;script&gt;var person &#x3D; &#123;name:&quot;123&quot;,age:123,say:function()&#123;console.log(&quot;say&quot;)&#125;&#125;&#x2F;&#x2F; person.say()&lt;&#x2F;script&gt;&lt;br&gt;3ã€ä½¿ç”¨è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°å£°æ˜å¤šä¸ªç±»å‹ç‰¹ç‚¹ä¸€è‡´çš„å¯¹è±¡&#x2F;&#x2F;æ„é€ å‡½æ•°çš„è¯­æ³•æ ¼å¼ï¼š&#x2F;&#x2F; function æ„é€ å‡½æ•°å()&#123;&#x2F;&#x2F; this.å±æ€§&#x3D;å€¼;&#x2F;&#x2F; this.æ–¹æ³•&#x3D;function()&#123;&#125;&#x2F;&#x2F; &#125;&#x2F;&#x2F;new æ„é€ å‡½æ•°å(); å‡½æ•°åé¦–å­—æ¯è¦å¤§å†™&lt;script&gt;&#x2F;&#x2F;1åˆ›å»ºæ„é€ å‡½æ•°function Person(name, age)&#123;&#x2F;&#x2F; console.log(this);this.name &#x3D; name;this.age &#x3D; age;this.say&#x3D;function()&#123;console.log(&quot;say&quot;)&#125;&#125;&#x2F;&#x2F;2é€šè¿‡æ„é€ å‡½æ•°newå¯¹è±¡var p1 &#x3D; new Person(&quot;hzy&quot;, 18)var p2 &#x3D; new Person(&quot;hhh&quot;, 21)&#x2F;&#x2F; console.log(p1.say())&#x2F;&#x2F; p2.say()&#x2F;&#x2F;3å±æ€§è®¿é—®è®¿é—®2:[&#39;å±æ€§å&#39;]&#x2F;&#x2F; console.log(p1[&#39;name&#39;])&#x2F;&#x2F;01ä»€ä¹ˆæ—¶å€™ å¿…é¡»ç”¨[&#39;å±æ€§å&#39;]&#x2F;&#x2F;å±æ€§åé‡ŒåŒ…å«ç‰¹æ®Šå­—ç¬¦:var obj&#x3D;&#123;&#125;obj[&#39;content-type&#39;]&#x3D;&#39;text&#x2F;css&#39;&#x2F;&#x2F; obj.c-c&#x3D;&#39;123&#39;&#x2F;&#x2F;é”™è¯¯&#x2F;&#x2F;å±æ€§åä¸ç¡®å®švar Name&#x3D;&#39;123&#39;obj.Name&#x3D;20;&#x2F;&#x2F; console.log(obj.Name)&#x2F;&#x2F; for in éå†å±æ€§&#x2F;&#x2F;for(å˜é‡ in å¯¹è±¡)&#123;&#x2F;&#x2F;&#125;&#x2F;&#x2F; for(var i in obj)&#123;&#x2F;&#x2F; console.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#39;, i, obj.i)&#x2F;&#x2F;undefine&#x2F;&#x2F; console.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#39;, i, obj[i])&#x2F;&#x2F; &#125;&lt;&#x2F;script&gt;4ã€ç›¸å…³é—®é¢˜-å¯¹è±¡èµ‹å€¼ä¸å¼•ç”¨å†…å­˜ï¼šæ ˆï¼šå±€éƒ¨å˜é‡  å…¨å±€å˜é‡å †ï¼šå¯¹è±¡&lt;script&gt;&#x2F;&#x2F;01åŸºæœ¬æ•°æ®ç±»å‹ åœ¨å†…å­˜ä¸­çš„å­˜å‚¨var a&#x3D;10var b&#x3D;ab&#x3D;20;console.log(a)&lt;&#x2F;script&gt;&lt;script&gt;&#x2F;&#x2F;02å¤æ‚æ•°æ®ç±»å‹ åœ¨å†…å­˜ä¸­å­˜å‚¨var obj1&#x3D;&#123;name:&quot;Tom&quot;&#125;var obj2&#x3D;obj1obj1.name&#x3D;&#39;123&#39;console.log(obj2.name)&lt;&#x2F;script&gt;&lt;script&gt;&#x2F;&#x2F;03åŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºå‡½æ•°å‚æ•°&lt;&#x2F;script&gt;&lt;script&gt;&#x2F;&#x2F;04å¤æ‚æ•°æ®ç±»å‹ä½œä¸ºå‡½æ•°å‚æ•°&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Mathåº“"><a href="#Mathåº“" class="headerlink" title="Mathåº“"></a>Mathåº“</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;Math å¯¹è±¡Math å¯¹è±¡ç”¨äºæ‰§è¡Œæ•°å­¦ä»»åŠ¡ã€‚&lt;br&gt;ä½¿ç”¨ Math çš„å±æ€§å’Œæ–¹æ³•çš„è¯­æ³•ï¼š&lt;br&gt;var pi_value&#x3D;Math.PI;var sqrt_value&#x3D;Math.sqrt(15);&lt;br&gt;&lt;br&gt;&lt;hr&gt;&lt;script&gt;var i;i&#x3D;Math.round(5&#x2F;2) &#x2F;&#x2F;å››èˆäº”å…¥&#x2F;&#x2F;å–æ•´ å‘ä¸‹å–æ•´i&#x3D;Math.floor(5&#x2F;2)&#x2F;&#x2F;ç»å¯¹å€¼Math.abs(-100)&#x2F;&#x2F;éšæœºæ•° 0-1ä¹‹é—´i&#x3D;Math.random()&#x2F;&#x2F;äº§ç”Ÿ0-10ä¹‹é—´çš„éšæœºæ•°ï¼Ÿi&#x3D;Math.random()*10&#x2F;&#x2F;äº§ç”Ÿ5-10ä¹‹é—´çš„éšæœºæ•°ï¼Ÿi&#x3D;Math.random()*5+5&#x2F;&#x2F;å…¬å¼ï¼šå–xåˆ°yä¹‹é—´çš„éšæœºæ•°:;&#x2F;&#x2F;Math.random()*(y-x)+x&#x2F;&#x2F;é—®é¢˜ï¼šå¦‚ä½•äº§ç”Ÿ0åˆ°10ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Ÿ&#x2F;&#x2F;æ–¹æ³•ï¼šå…ˆäº§ç”Ÿ0-    ä¹‹é—´çš„éšæœºæ•° ç„¶å        .document.write(i);&#x2F;&#x2F;alert(i);&#x2F;*ç»ƒä¹   å†™ä¸€ä¸ªéšæœºç‚¹èœçš„å°ç¨‹åº1 åˆ›å»ºä¸€ä¸ªæ•°ç»„ 2 éšæœºäº§ç”Ÿæ•°ç»„ä¸‹æ ‡3 å°†ä¸‹æ ‡å¯¹åº”çš„æ•°ç»„å…ƒç´  è¾“å‡ºæ¥.jsä¸­å®šä¹‰æ•°ç»„:var arr&#x3D;[&quot;é±¼å¤´è±†è…&quot;,&quot;çº¢çƒ§æ’éª¨&quot;,&quot;åœŸè±†ä¸&quot;,&quot;è¥¿çº¢æŸ¿é¸¡è›‹æ±¤&quot;,&quot;é¸¦ç‰‡é±¼å¤´&quot;,&quot;å°é¸¡ç‚–è˜‘è‡&quot;]*&#x2F;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€é™æ€æˆå‘˜&lt;script&gt;function Person(name, age) &#123;this.name &#x3D; name;this.age &#x3D; age;&#x2F;&#x2F;é™æ€å±æ€§ ç±»å.å±æ€§if (!Person.count) &#123;Person.count &#x3D; 0;&#125;Person.count++;&#125;&#x2F;*è®¾ç½®ä¸€ä¸ªå±æ€§ è®¡ç®—åˆ›å»ºå‡ºå¤šå°‘å¯¹è±¡  éœ€è¦é™æ€æˆå‘˜-åˆ¤å®šåœ¨æ„é€ å‡½æ•°ä¸Šçš„å±æ€§å’Œæ–¹æ³•*&#x2F;Person.print &#x3D; function()&#123;alert(&quot;åˆ›å»ºäº†&quot;+Person.count+&quot;å¯¹è±¡&quot;)&#125;var p1&#x3D;new Person(&#39;qwe&#39;, 123)var p2 &#x3D; new Person(&#39;qw&#39;, 1)console.log(Person.count)Person.print()&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number-å’Œ-String"><a href="#ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number-å’Œ-String" class="headerlink" title="ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number å’Œ String"></a>ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number å’Œ String</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;ä¸ºäº†ä¾¿äºæ“ä½œåŸºæœ¬ç±»å‹å€¼ï¼Œjsè¿˜æä¾›äº† 3 ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼šBooleanã€Number å’Œ Stringã€‚Number å¯¹è±¡ï¼šåŸºæœ¬åŒ…è£…ç±»å‹  æä¾›æ•°å­—çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•´æ•°ã€æµ®ç‚¹æ•°ç­‰ï¼‰1ã€NaNå±æ€§ï¼šéæ•°å­—ï¼ˆ(Not a Number)ã€‚ï¼‰2ã€isNaNï¼ˆï¼‰å‡½æ•°ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºéæ•°å­—3ã€toString()ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²4ã€æŠŠå˜é‡è½¬æ¢ä¸ºæ•°å€¼è¿™ä¸‰ç§ JavaScript æ–¹æ³•å¯ç”¨äºå°†å˜é‡è½¬æ¢ä¸ºæ•°å­—ï¼šNumber() æ–¹æ³•  å¯ç”¨äºæŠŠå…¶ä»–ç±»å‹è½¬æ¢ä¸ºæ•°å€¼parseInt() æ–¹æ³• è§£æä¸€æ®µå­—ç¬¦ä¸²å¹¶è¿”å›æ•´å‹æ•°å€¼ã€‚å…è®¸ç©ºæ ¼ã€‚åªè¿”å›é¦–ä¸ªæ•°å­—ï¼šparseFloat() æ–¹æ³•  è§£æä¸€æ®µå­—ç¬¦ä¸²å¹¶è¿”å›æ•°å€¼ã€‚å…è®¸ç©ºæ ¼ã€‚åªè¿”å›é¦–ä¸ªæ•°å­—ï¼š&lt;br&gt;&lt;br&gt;&lt;hr&gt;&lt;br&gt;&lt;script&gt;&#x2F;&#x2F;1 NaNå±æ€§&#x2F;&#x2F;document.writeln(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&lt;br&gt;&quot;)&#x2F;&#x2F;2  isNaN åˆ¤æ–­æ˜¯å¦ä¸ºéæ•°å­—&#x2F;&#x2F;3ã€toString()ï¼šæŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²&#x2F;&#x2F;nä¸æ˜¯æ•°å­—å—ï¼Ÿæ€ä¹ˆä¼šæœ‰æ–¹æ³•&#x2F;&#x2F; 4 Number() æ–¹æ³•  å¯ç”¨äºæŠŠ å…¶å®ƒç±»å‹è½¬æ¢ä¸ºæ•°å€¼    &#x2F;&#x2F;å¸ƒå°”ç±»å‹    &#x2F;&#x2F;æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²&#x2F;&#x2F;æ—¥æœŸå¯¹è±¡ &#x2F;&#x2F;å­—æ¯+æ•°å­—å­—ç¬¦ä¸² &#x2F;&#x2F;5 parseInt() æ–¹æ³• è§£æä¸€æ®µå­—ç¬¦ä¸²å¹¶è¿”å›æ•´å‹æ•°å€¼ã€‚å…è®¸ç©ºæ ¼ã€‚åªè¿”å›é¦–ä¸ªæ•°å­—&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é™æ€æˆå‘˜-1"><a href="#é™æ€æˆå‘˜-1" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€é™æ€æˆå‘˜&lt;script&gt;function Person(name, age) &#123;this.name &#x3D; name;this.age &#x3D; age;&#x2F;&#x2F;é™æ€å±æ€§ ç±»å.å±æ€§if (!Person.count) &#123;Person.count &#x3D; 0;&#125;Person.count++;&#125;&#x2F;*è®¾ç½®ä¸€ä¸ªå±æ€§ è®¡ç®—åˆ›å»ºå‡ºå¤šå°‘å¯¹è±¡  éœ€è¦é™æ€æˆå‘˜-åˆ¤å®šåœ¨æ„é€ å‡½æ•°ä¸Šçš„å±æ€§å’Œæ–¹æ³•*&#x2F;Person.print &#x3D; function()&#123;alert(&quot;åˆ›å»ºäº†&quot;+Person.count+&quot;å¯¹è±¡&quot;)&#125;var p1&#x3D;new Person(&#39;qwe&#39;, 123)var p2 &#x3D; new Person(&#39;qw&#39;, 1)console.log(Person.count)Person.print()&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŸå‹prototype"><a href="#åŸå‹prototype" class="headerlink" title="åŸå‹prototype"></a>åŸå‹prototype</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;2ã€æ„é€ å‡½æ•°é—®é¢˜ï¼šå­˜åœ¨æµªè´¹å†…å­˜ç©ºé—´é—®é¢˜&lt;script&gt;function Person(name,age)&#123;this.name&#x3D;name;this.age&#x3D;age;this.say&#x3D;function()&#123;console.log(&#39;hello&#39;);&#125;&#125;&#x2F;&#x2F;æµªè´¹å†…å­˜ç©ºé—´é—®é¢˜var p1 &#x3D; new Person(&#39;abc&#39;, 123)var p2 &#x3D; new Person(&#39;ab&#39;, 12)&#x2F;&#x2F; console.log(p1)&#x2F;&#x2F; console.log(p2)&#x2F;&#x2F;&#x3D;&#x3D;&#x3D;ä¸¥æ ¼ç›¸ç­‰&#x2F;&#x2F;å¦‚æœä¸¤ä¸ªå€¼éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æˆ–æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆç›¸ç­‰ï¼Œå¦åˆ™ä¸ç›¸ç­‰&#x2F;&#x2F; console.log(p1.say&#x3D;&#x3D;&#x3D;p2.say)&lt;&#x2F;script&gt;3 æ„é€ å‡½æ•°åŸå‹prototype é€šè¿‡åŸå‹æ¥å®ç°æ‰€æœ‰å¯¹è±¡å…±äº«æ–¹æ³•ã€‚&lt;script&gt;function Person(name,age)&#123;this.name&#x3D;name;this.age&#x3D;age;&#125;&#x2F;&#x2F;æ¯ä¸ªæ„é€ å‡½æ•° éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§,æŒ‡å‘å¦å¤–ä¸€ä¸ªå¯¹è±¡.console.dir(Person)&#x2F;&#x2F;æˆ‘ä»¬å¯ä»¥æŠŠå…±æœ‰çš„æ–¹æ³•,ç›´æ¥å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Š,è®©æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«.&#x2F;&#x2F;é€šè¿‡åŸå‹æ·»åŠ æ–¹æ³•Person.prototype.say &#x3D; function()&#123;alert(&quot;hello&quot;)&#125;var p1&#x3D;new Person(&quot;tom&quot;,10);var p2&#x3D;new Person(&quot;jerry&quot;,10);console.log(p1.say&#x3D;&#x3D;&#x3D;p2.say)&lt;&#x2F;script&gt;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŸºäºåŸå‹é“¾çš„ç»§æ‰¿"><a href="#åŸºäºåŸå‹é“¾çš„ç»§æ‰¿" class="headerlink" title="åŸºäºåŸå‹é“¾çš„ç»§æ‰¿"></a>åŸºäºåŸå‹é“¾çš„ç»§æ‰¿</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1 åŸºäºåŸå‹é“¾çš„ç»§æ‰¿&lt;script&gt;function Person(age)&#123;this.age&#x3D;age&#125;Person.prototype.say&#x3D;function()&#123;alert(&#39;hello world&#39;);&#125;function Student()&#123;&#125;&#x2F;&#x2F;ç»§æ‰¿&#x2F;&#x2F;1 æ„é€ çˆ¶ç±»çš„å®ä¾‹var p1&#x3D;new Person(20)&#x2F;&#x2F;2 è®¾ç½®ä¸ºå­ç±»çš„åŸå‹å¯¹è±¡Student.prototype&#x3D;p1é—®é¢˜ï¼šStudent.prototype.constructoræŒ‡å‘å“ªä¸ªæ„é€ å‡½æ•°&#x2F;&#x2F; console.log(Student.prototype.constructor&#x3D;&#x3D;&#x3D;p1.constructor)&#x2F;&#x2F;3 ä¿®å¤å­ç±»å‡½æ•°åŸå‹çš„constructoræŒ‡é’ˆå³å¯Student.prototype.constructor&#x3D;Student;var stu1&#x3D;new Student()&#x2F;&#x2F; stu1.say()&#x2F;&#x2F; console.log(stu1.age)&lt;&#x2F;script&gt;&lt;br&gt;2 å­˜åœ¨é—®é¢˜ï¼šå®ä¾‹å…±äº«å¼•ç”¨ç±»å‹ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡éƒ½æœ‰â€œç©æ¸¸æˆâ€è¿™ä¸ªå˜é‡ï¼Œå¦‚p1ã€p2&lt;script&gt;function Parent() &#123;  this.newArr &#x3D; [&quot;å”±æ­Œ&quot;, &quot;è·‘æ­¥&quot;];&#125;function Child() &#123;  this.name &#x3D; &quot;abc&quot;;&#125;Child.prototype &#x3D; new Parent()Child.prototype.constructor &#x3D; Child&#x2F;&#x2F; å¯¹äºå±æ€§ä¸å¸Œæœ›ç»§æ‰¿var p1 &#x3D; new Child()p1.newArr.push(&quot;ç©æ¸¸æˆ&quot;)&#x2F;&#x2F; console.log(p1.newArr);&#x2F;&#x2F;&#x2F;var p2 &#x3D; new Child();&#x2F;&#x2F; console.log(p2.newArr)&lt;&#x2F;script&gt;&lt;br&gt;3 callå‡½æ•°&lt;script&gt;&#x2F;&#x2F;callå‡½æ•°var demo1&#x3D;&#123;name:&#39;å¥½äºº:&#39;,showABC:function(param1,param2)&#123;console.log(this.name,param1,param2)&#125;&#125;demo1.showABC(&#39;å¼ ä¸‰&#39;,&#39;æå››&#39;)var demo2&#x3D;&#123;name:&#39;åäºº&#39;&#125;&#x2F;&#x2F;callæ¥è®©demo2å¯¹è±¡ å€Ÿç”¨demo1çš„showABCæ–¹æ³•demo1.showABC.call(demo2, &quot;1&quot;, &#39;2&#39;)&lt;&#x2F;script&gt;&lt;br&gt;4 åˆ©ç”¨æ„é€ å‡½æ•°ç»§æ‰¿å±æ€§&lt;script&gt;function Father(uname,age)&#123;this.uname&#x3D;uname;this.age&#x3D;age;console.log(uname, age)&#125;&#x2F;&#x2F; Sonæƒ³è¦ç»§æ‰¿Fatherçš„å±æ€§function Son(name, age)&#123;Father.call(this, name, age)&#125;console.log(Son(12, 2))&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¯¹è±¡åŸå‹proto"><a href="#å¯¹è±¡åŸå‹proto" class="headerlink" title="å¯¹è±¡åŸå‹proto"></a>å¯¹è±¡åŸå‹proto</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;4 å¯¹è±¡åŸå‹__proto__è¯·é—®ä¸ºä»€ä¹ˆå¯¹è±¡ å¯ä»¥è®¿é—®åŸå‹é‡Œçš„æ–¹æ³•ï¼ŸåŸå› ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå±æ€§__proto__æŒ‡å‘åŸå‹prototype,æ‰€ä»¥å¯ä»¥ä½¿ç”¨åŸå‹å¯¹è±¡é‡Œçš„æ–¹æ³•&lt;script&gt;function Person(name,age)&#123;this.name&#x3D;name;this.age&#x3D;age;&#125;Person.prototype.sayHello &#x3D; function()&#123;alert(&quot;Hello&quot;)&#125;var p1&#x3D;new Person(&quot;tom&quot;,10);var p2&#x3D;new Person(&quot;jerry&quot;,10);&#x2F;&#x2F; è¾“å‡º__proto__å±æ€§&#x2F;&#x2F; console.log(p1.__proto__)&#x2F;&#x2F; console.log(p1.__proto__&#x3D;&#x3D;&#x3D;p2.__proto__)&lt;&#x2F;script&gt;&lt;br&gt;5 åŸå‹å¯¹è±¡çš„constructoræ„é€ å‡½æ•°åŸå‹å¯¹è±¡é‡Œé¢éƒ½æœ‰ä¸€ä¸ªå±æ€§constructorå±æ€§,constructoræˆ‘ä»¬ç§°ä¸ºæ„é€ å‡½æ•°å› ä¸ºå®ƒæŒ‡å›æ„é€ å‡½æ•°æœ¬èº«.&lt;script&gt;&#x2F;&#x2F; console.log(Person.prototype.constructor)&#x2F;&#x2F;æœ‰æ—¶å€™ æˆ‘ä»¬éœ€è¦ç”¨å†™ä»£ç è®©constructoræŒ‡å‘åŸæ¥çš„æ„é€ å‡½æ•°Person.prototype &#x3D; &#123;eat: function()&#123;&#125;,study:function()&#123;&#125;,toString:function()&#123;&#125;&#125;&#x2F;&#x2F; Person.prototype.toString &#x3D; function()&#123;&#x2F;&#x2F; alert(&quot;alert&quot;)&#x2F;&#x2F; &#125;&#x2F;&#x2F;æ‰“å° constructoræŒ‡å‘äº†?&#x2F;&#x2F; consoel.log(Person.prototype.constructor)&#x2F;&#x2F;å¯ä»¥æ‰‹åŠ¨è®©constructoræŒ‡å‘åŸæ¥çš„æ„é€ å‡½æ•°&#x2F;&#x2F; çˆ¶äº²çš„çˆ¶äº²çš„çˆ¶äº²&#x2F;&#x2F; null ç»§æ‰¿console.log(p1.__proto__.toString()&#x3D;&#x3D;&#x3D;p1.__proto__.__proto__.toString())console.log(p1.__proto__.__proto__.toString())&lt;&#x2F;script&gt;&lt;br&gt;6 åŸå‹å¯¹è±¡çš„åº”ç”¨  æ‰©å±•å†…ç½®å¯¹è±¡æ–¹æ³•  æ•°ç»„ä¹Ÿæœ‰åŸå‹å¯¹è±¡&lt;script&gt;Array.prototype.sun &#x3D; function()&#123;var sum&#x3D;0for(var i&#x3D;0; i&gt;this.length; i++)&#123;sum+&#x3D;i;&#125;console.log(&#39;sum: &#39;+sum)return sum&#125;var arr &#x3D; [1, 2, 3, 4, 5]console.log(arr.__proto__)&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ES6çš„ç±»"><a href="#ES6çš„ç±»" class="headerlink" title="ES6çš„ç±»"></a>ES6çš„ç±»</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;&lt;head&gt;    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;    &lt;title&gt;ä¸Šè¯¾&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;    1ã€ç®­å¤´å‡½æ•°    &lt;script&gt;        var fn &#x3D; function()&#123;            console.log(&quot;1&quot;)        &#125;        var fn1&#x3D;()&#x3D;&gt;&#123;            console.log(&quot;fn1&quot;)        &#125;        &#x2F;&#x2F; fn()        &#x2F;&#x2F; fn1()    &lt;&#x2F;script&gt;    &lt;br&gt;    2ã€es6ä¸­æ ‡å‡†çš„ç±»    &lt;script&gt;        class Person&#123;            name&#x3D;&quot;23&quot;            age&#x3D;&quot;20&quot;            &#x2F;&#x2F; say&#x3D;function()&#123;            &#x2F;&#x2F;     console.log(name, age)            &#x2F;&#x2F; &#125;            &#x2F;&#x2F;å°†å‡½æ•°ç›´æ¥æ·»åŠ åˆ°åŸå‹Prototypeä¸Šé¢            say()&#123;                console.log(name, age)            &#125;        &#125;        var p1 &#x3D; new Person()        &#x2F;&#x2F; console.log(p1)        &#x2F;&#x2F; console.log(p1.prototype&#x3D;&#x3D;&#x3D;p1.__proto__)    &lt;&#x2F;script&gt;    &lt;br&gt;    3ã€é™æ€æˆå‘˜    &lt;script&gt;        class Student&#123;            name&#x3D;&quot;2&quot;            static count&#x3D;0            static doCount()&#123;                if(!Student.count)&#123;                    Student.count&#x3D;0                &#125;                Student.count++                console.log(&quot;å½“å‰å¯¹è±¡çš„ä¸ªæ•°æ˜¯&quot;+Student.count)            &#125;        &#125;        var s1 &#x3D; new Student();        &#x2F;&#x2F; Student.doCount()        var s1&#x3D;new Student();        &#x2F;&#x2F; Student.doCount()        &#x2F;&#x2F; console.log(s1&#x3D;&#x3D;&#x3D;s1)    &lt;&#x2F;script&gt;    &lt;br&gt;    4ã€ç±»ä¸­çš„æ„é€ å‡½æ•°    &lt;script&gt;        class Teacher&#123;            &#x2F;&#x2F; name&#x3D;&quot;tea&quot;            &#x2F;&#x2F; age&#x3D;999            &#x2F;&#x2F;ç§æœ‰å±æ€§ #+å±æ€§å            #name            #age            getAge()&#123;                return this.#age            &#125;            set age(age)&#123;                if(age&gt;0 &amp;&amp; age&lt;200)                    this.#age&#x3D;age                else                    console.log(&quot;æ•°æ®é”™è¯¯&quot;)            &#125;            get name()&#123;                return this.#name            &#125;            set name(name)&#123;                this.#name&#x3D;name            &#125;            constructor(name, age)&#123;&#x2F;&#x2F;å¯ä»¥ä¸ç”¨å†™å±æ€§                this.#name&#x3D;name                this.#age&#x3D;age            &#125;            &#x2F;&#x2F; Uncaught SyntaxError: A class may only have one constructor            &#x2F;&#x2F; constructor(name, age, ls)&#123;            &#x2F;&#x2F;     this.name&#x3D;name            &#x2F;&#x2F;     this.age&#x3D;age            &#x2F;&#x2F;     this.ls &#x3D; ls            &#x2F;&#x2F; &#125;            say()&#123;                console.log(this.name, this.age, this.#name, this.#age)&#x2F;&#x2F;            &#125;        &#125;        var t1 &#x3D; new Teacher(&quot;t&quot;, 123, &quot;2&quot;,&#39;23&#39;)        &#x2F;&#x2F; console.log(t1.getAge())        &#x2F;&#x2F; t1.say()        &#x2F;&#x2F; t1.age&#x3D;10        &#x2F;&#x2F; t1.say()        &#x2F;&#x2F; console.log(t1.age2)    &lt;&#x2F;script&gt;    &lt;br&gt;    5ã€ç»§æ‰¿    &lt;script&gt;        class S extends Teacher&#123;            constructor(name, age)&#123;                super(name, age)                            &#125;            say()&#123;                console.log(this.age)            &#125;        &#125;        var s &#x3D; new S(&#39;2&#39;, &#39;3&#39;)        &#x2F;&#x2F; s.say()        console.log(S.prototype)        console.log(S.__proto__)        console.log(S.__proto__.__proto__)        console.log(S.__proto__.__proto__.__proto__)        console.log(S.__proto__.__proto__.__proto__.__proto__)    &lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;BOM:æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ windowå¯¹è±¡ é¡¶çº§å¯¹è±¡1ã€windowå¯¹è±¡çš„æ–¹æ³•ï¼šsetInterval(è°ƒç”¨å‡½æ•°ï¼Œæ¯«ç§’æ•°)  å®šæ—¶å™¨æ–¹æ³•å¯æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚æ³¨æ„ï¼šè°ƒç”¨å‡½æ•°æœ‰3ä¸­å†™æ³•ï¼š  å‡½æ•°        å‡½æ•°å       å­—ç¬¦ä¸²ï¼ˆ&#39;å‡½æ•°åï¼ˆï¼‰&#39;ï¼‰&lt;br&gt;&lt;script&gt;&#x2F;&#x2F;1 å‡½æ•° jså‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°&#x2F;&#x2F;windowå¯ä»¥çœç•¥&#x2F;&#x2F; setInterval(function()&#123;&#x2F;&#x2F; console.log(&quot;hello&quot;)&#x2F;&#x2F; &#125;, 3000)&#x2F;&#x2F;2 å‡½æ•°åfunction sayHello()&#123;alert(&#39;hello&#39;);&#125;&#x2F;&#x2F; setInterval(sayHello, 3000)&#x2F;&#x2F;3 å­—ç¬¦ä¸²ï¼ˆ&#39;å‡½æ•°åï¼ˆï¼‰&#39;)var tid &#x3D; setInterval(&quot;alert(&#39;hello&#39;)&quot;, 3000)&lt;&#x2F;script&gt;2ã€å–æ¶ˆå®šæ—¶å™¨ï¼š clearInterval() ç”± setInterval() è¿”å›çš„ ID å€¼å¯ç”¨ä½œ clearInterval() æ–¹æ³•çš„å‚æ•°ã€‚&lt;br&gt;&lt;button id&#x3D;&#39;btn1&#39;&gt;å¼€å¯&lt;&#x2F;button&gt;&lt;button id&#x3D;&#39;btn2&#39;&gt;å…³é—­&lt;&#x2F;button&gt;&lt;script&gt;var btn2&#x3D;document.getElementById(&quot;btn2&quot;);var btn1&#x3D;document.querySelector()btn2.onclick&#x3D;function()&#123;clearInterval(tid)&#125;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°ä¸­thisæŒ‡é’ˆ"><a href="#å‡½æ•°ä¸­thisæŒ‡é’ˆ" class="headerlink" title="å‡½æ•°ä¸­thisæŒ‡é’ˆ"></a>å‡½æ•°ä¸­thisæŒ‡é’ˆ</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€thisæ˜¯ä»€ä¹ˆï¼Ÿå‡½æ•°ä¸­çš„thisæŒ‡å‡½æ•°çš„å®é™…è°ƒç”¨å¯¹è±¡ã€‚&lt;hr&gt;&lt;script&gt;&#x2F;&#x2F; console.log(this)&#x2F;&#x2F; var obj&#x3D;&#123;name:&quot;123&quot;&#125;&#x2F;&#x2F; obj.fn &#x3D; function()&#123;&#x2F;&#x2F; console.log(this)&#x2F;&#x2F; console.log(this.name)&#x2F;&#x2F; &#125;&#x2F;&#x2F; &#x2F;&#x2F; obj.fn()&#x2F;&#x2F; &#x2F;&#x2F; setTimeout(obj.fn, 1000)&#x2F;&#x2F; console.log(typeof(obj))&lt;&#x2F;script&gt;2ã€ç®­å¤´å‡½æ•°çš„thisç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,å®ƒçš„thisæ˜¯å¤–å±‚ä½œç”¨åŸŸçš„this&lt;hr&gt;&lt;script&gt;function fn1()&#123;console.log(&quot;fn1-&quot;,this);&#125;var fn2&#x3D;()&#x3D;&gt;&#123;console.log(&quot;fn2&quot;,this);&#125;&#x2F;&#x2F; fn1()&#x2F;&#x2F; fn2()var obj1&#x3D;&#123;name:&quot;124&quot;,fn1,fn2,fn3:()&#x3D;&gt;&#123;console.log(this)&#125;&#125;&#x2F;&#x2F; obj1.fn1()&#x2F;&#x2F;ç±»çš„this&#x2F;&#x2F; obj1.fn2()&#x2F;&#x2F;å¤–éƒ¨çš„window&#x2F;&#x2F; obj1.fn3()&#x2F;&#x2F;åŒæ ·ä¹Ÿæ˜¯å¤–éƒ¨çš„windowvar obj2&#x3D;&#123;obj1&#125;console.log(obj2.obj1.fn1())console.log(obj2.obj1.fn2())console.log(obj2.obj1.fn3())&lt;&#x2F;script&gt;3ã€ å‡½æ•°æ˜¯Functionç±»çš„å®ä¾‹å¯ä»¥é€šè¿‡new FunctionåŠ¨æ€åˆ›å»ºå‡½æ•°å¯¹è±¡ã€‚&lt;script&gt;var add&#x3D; new Function(&quot;x&quot;, &quot;y&quot;, &quot;return x+y&quot;)console.log(add(1, 2))&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€jsä¸­å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’&lt;br&gt;&lt;script&gt;function say (str) &#123;alert(str);&#125;&#x2F;&#x2F;01æ–¹æ³•å‡½æ•°ä½œä¸ºå‚æ•°&#x2F;&#x2F; é«˜é˜¶å‡½æ•°function fn(fun, str)&#123;fun(str)&#125;&#x2F;&#x2F; fn(say, &quot;123&quot;)&#x2F;&#x2F; setInterval(say, 3000, &quot;1&quot;)&#x2F;&#x2F;02ç›´æ¥å°†åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™fn1æ–¹æ³•&#x2F;&#x2F; fn(function(str)&#123;&#x2F;&#x2F; alert(str)&#x2F;&#x2F; &#125;, &quot;1111111&quot;)&lt;&#x2F;script&gt;&lt;br&gt;2ã€å‡½æ•°ä½œä¸ºè¿”å›å€¼&lt;script&gt;&#x2F;*å¸Œæœ›test1å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå¯ä»¥è®°å½•ä¸€æ¡æ—¥å¿—å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­åœ¨ä¸ä¿®æ”¹åŸå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ­¤åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡å‡½æ•°ä½œä¸ºè¿”å›å€¼ æ¥åŠ¨æ€ç”Ÿæˆä¸€ä¸ªæ–°å‡½æ•°*&#x2F;function test1()&#123;var str&#x3D;&quot;heollo&quot;console.log(str)&#125;function outer(fun)&#123;return ()&#x3D;&gt;&#123;console.log(&quot;æ·»åŠ æ—¥å¿—------------&quot;)fun()&#125;&#x2F;&#x2F;è¿”å›å€¼æ˜¯å‡½æ•°&#125;outer(test1)&#x2F;&#x2F;è¿”å›å€¼æ˜¯å‡½æ•°var f1&#x3D;outer(test1)&#x2F;&#x2F;æ¥å—è¿”å›å€¼f1()&lt;&#x2F;script&gt;3ã€ä»€ä¹ˆé«˜é˜¶å‡½æ•°&lt;br&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;é—­åŒ…01 ä»€ä¹ˆæ˜¯é—­åŒ…ï¼šå‡½æ•°Aä¸­ æœ‰ä¸€ä¸ªå‡½æ•°Bï¼Œå‡½æ•°Bä¸­å¯ä»¥è®¿é—®å‡½æ•°Aä¸­å®šä¹‰çš„å˜é‡æˆ–è€…æ•°æ®ï¼Œæ­¤æ—¶å°±å½¢æˆäº†é—­åŒ…ã€‚02 é—­åŒ…çš„åŠŸèƒ½ï¼š ä½¿å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œåï¼Œä»ç„¶å­˜æ´»åœ¨å†…å­˜ä¸­ï¼ˆå»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼‰è®©å‡½æ•°å¤–éƒ¨å¯ä»¥æ“ä½œå‡½æ•°å†…éƒ¨çš„æ•°æ®&lt;script&gt;&#x2F;&#x2F;1å®šä¹‰ä¸€ä¸ªé—­åŒ…function A()&#123;var num&#x3D;123function B()&#123;console.log(num)&#125;B()&#125;&#x2F;&#x2F; A()&#x2F;&#x2F;æ‰“æ–­ç‚¹ä¹‹åä¼šå‡ºç°ï¼ŒClosure (A)ï¼Œé—­åŒ…&#x2F;&#x2F; console.log(num)&#x2F;&#x2F;2 åœ¨f1 å¤–éƒ¨æ¥è®¿é—®n;function f1()&#123;var n&#x3D;10return function()&#123;console.log(n)return n;&#125;&#125;&#x2F;&#x2F; console.log(n);&#x2F;&#x2F;console.log(&quot;å‡½æ•°å¤– è¾“å‡ºå±€éƒ¨å˜é‡nçš„å€¼ï¼š&quot;+ );&#x2F;*é—­åŒ…çš„åŠŸèƒ½ï¼š ä½¿å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œåï¼Œä»ç„¶å­˜æ´»åœ¨å†…å­˜ä¸­ï¼ˆå»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼‰è®©å‡½æ•°å¤–éƒ¨å¯ä»¥æ“ä½œå‡½æ•°å†…éƒ¨çš„æ•°æ®*&#x2F;&#x2F;&#x2F;3 å‡½æ•°æ‰§è¡Œå®Œå å±€éƒ¨å˜é‡å°±è‡ªåŠ¨é‡Šæ”¾äº† ï¼Ÿä¸ºä»€ä¹ˆè¿˜èƒ½è®¿é—®ï¼Ÿvar f2&#x3D;f1()f2()&#x2F;&#x2F;å»¶é•¿äº†nçš„ä½œç”¨å‘¨æœŸ&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é—­åŒ…æ¡ˆä¾‹"><a href="#é—­åŒ…æ¡ˆä¾‹" class="headerlink" title="é—­åŒ…æ¡ˆä¾‹"></a>é—­åŒ…æ¡ˆä¾‹</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€æ¡ˆä¾‹ä¸€&lt;br&gt;&lt;script&gt;&#x2F;*function f1()&#123;var num&#x3D;10;num++;console.log(num);&#125;&#x2F;&#x2F;è¿è¡Œç»“æœæ˜¯ï¼Ÿf1()  &#x2F;&#x2F;11f1()  &#x2F;&#x2F;11 12f1()*&#x2F;&lt;&#x2F;script&gt;å¦‚ä½•å®ç°ç´¯åŠ ï¼Ÿ-é—­åŒ…&lt;script&gt;function f2() &#123;var n &#x3D; 10return function () &#123;n++return n&#125;&#125;var ff &#x3D; f2()&#x2F;&#x2F; console.log(ff())&#x2F;&#x2F; console.log(ff())&#x2F;&#x2F; console.log(ff())&lt;&#x2F;script&gt;&lt;hr&gt;2ã€æ¡ˆä¾‹äºŒï¼šä¸‹æ¥3ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªï¼Œæç¤º&quot;ç‚¹å‡»çš„æ˜¯ç¬¬nä¸ªæŒ‰é’®&quot;ï¼š&lt;br&gt;&lt;button&gt;æ¡”å­1&lt;&#x2F;button&gt;&lt;button&gt;è‹¹æœ2&lt;&#x2F;button&gt;&lt;button&gt;æ¢¨å­3&lt;&#x2F;button&gt;&lt;script&gt;&#x2F;&#x2F;html5 é€šè¿‡cssé€‰æ‹©å™¨è·å¾—é¡µé¢å…ƒç´ var btns &#x3D; document.querySelectorAll(&quot;button&quot;)&#x2F;&#x2F; console.log(btns)&#x2F;&#x2F; for(var i&#x3D;0; i&lt;btns.length; i++)&#123;&#x2F;&#x2F; btns[i].index&#x3D;i+1;&#x2F;&#x2F; &#x2F;&#x2F; æ³¨å†Œäº‹ä»¶&#x2F;&#x2F; btns[i].Î¿nclick&#x3D;function()&#123;&#x2F;&#x2F; alert(&quot;ç‚¹å‡»äº†ç¬¬&quot;+this.index+&quot;ä¸ªæŒ‰é’®&quot;)&#x2F;&#x2F; &#125;&#x2F;&#x2F; &#125;&#x2F;&#x2F; console.log(i)&#x2F;&#x2F;é—­åŒ…æ¥è·å¾—æŒ‰é’®çš„ç´¢å¼•for (var i &#x3D; 0; i &lt; btns.length; i++) &#123;(function (index) &#123;btns[index].onclick &#x3D; function () &#123;alert(&quot;ç‚¹å‡»äº†ç¬¬&quot; + (index+1) + &quot;ä¸ªæŒ‰é’®&quot;)&#125;&#125;)(i + 1);&#125;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é—­åŒ…ï¼šå®ç°å¯ä»¥æŒç»­åˆ†åˆ«ç‚¹èµã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;    &lt;title&gt;&lt;&#x2F;title&gt;    &lt;style&gt;        h1&#123;            color: aquamarine;        &#125;    &lt;&#x2F;style&gt;&lt;&#x2F;head&gt;&lt;body&gt;    3ã€æ¡ˆä¾‹ä¸‰&lt;hr&gt;    &lt;h1&gt;è¯·ç»™ä¸‹åˆ—æ–°é—»æŠ•ç¥¨&lt;&#x2F;h1&gt;    &lt;ul&gt;        &lt;li&gt;åŒ—äº¬å†¬å¥¥ä¼šç«ç§æŠµè¾¾åŒ—äº¬&lt;button&gt;æŠ•ç¥¨&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;        &lt;li&gt;31çœåŒºå¸‚æ–°å¢æœ¬åœŸç¡®è¯Š17ä¾‹ã€‚&lt;button&gt;æŠ•ç¥¨&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;        &lt;li&gt;äº’è”ç½‘å…¬å¸æ ¡æ‹›åé¢å¤§å¹…å¢åŠ  æ ¸å¿ƒå²—ä½é¦–æ¬¡å¼€æ”¾&lt;button&gt;æŠ•ç¥¨&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;        &lt;li&gt;å¤šåœ°å–æš–ç”¨ç…¤ä»·æ ¼æ¶¨è¶…2å€&lt;button&gt;æŠ•ç¥¨&lt;&#x2F;button&gt;&lt;&#x2F;li&gt;    &lt;&#x2F;ul&gt;    &lt;script&gt;        var count &#x3D; new Array()        count[0]&#x3D;0        count[1]&#x3D;0        count[2]&#x3D;0        count[3]&#x3D;0        var buttons &#x3D; document.querySelectorAll(&quot;button&quot;)        &#x2F;&#x2F; é—­åŒ…æ–¹æ³•1        &#x2F;&#x2F; function clickCount(i)&#123;        &#x2F;&#x2F;     var n&#x3D;count[i];        &#x2F;&#x2F;     return function add()&#123;        &#x2F;&#x2F;         count[i]++;        &#x2F;&#x2F;         n++;        &#x2F;&#x2F;         return n        &#x2F;&#x2F;     &#125;        &#x2F;&#x2F; &#125;        &#x2F;&#x2F; for(var i&#x3D;0; i&lt;buttons.length; i++)&#123;        &#x2F;&#x2F;     let add1&#x3D;clickCount(i)        &#x2F;&#x2F;     buttons[i].Î¿nclick&#x3D;function()&#123;        &#x2F;&#x2F;         this.innerHTML&#x3D;add1()+&quot;ç¥¨&quot;        &#x2F;&#x2F;     &#125;        &#x2F;&#x2F; &#125;        &#x2F;&#x2F; é—­åŒ…æ–¹æ³•2        &#x2F;&#x2F; for(var i&#x3D;0; i&lt;buttons.length; i++)&#123;        &#x2F;&#x2F;     (function(i)&#123;        &#x2F;&#x2F;         var n&#x3D;0        &#x2F;&#x2F;         buttons[i].Î¿nclick&#x3D;function()&#123;        &#x2F;&#x2F;             n++        &#x2F;&#x2F;             this.innerHTML&#x3D;n+&quot;ç¥¨&quot;        &#x2F;&#x2F;         &#125;        &#x2F;&#x2F;     &#125;)(i)        &#x2F;&#x2F; &#125;        &#x2F;&#x2F; é—­åŒ…æ–¹æ³•3        for(var i&#x3D;0, j&#x3D;1; i&lt;buttons.length; i++)&#123;            (function(num)&#123;                buttons[i].onclick&#x3D;function()&#123;                    this.innerHTML&#x3D;num+&quot;ç¥¨&quot;                    num++;                &#125;            &#125;)(j)        &#125;    &lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><pre class="line-numbers language-none"><code class="language-none">&lt;script&gt;        var rex &#x3D; new RegExp(&#x2F;abc&#x2F;);        var f1&#x3D;rex.test(&#39;abc&#39;)        var f2&#x3D;rex.test(&quot;abcdd&quot;)        console.log(f1, f2)        var reg&#x3D;&#x2F;abb&#x2F;        var s&#x3D;reg.exec(&#39;abbbbb&#39;)&#x2F;&#x2F;æœç´¢å­—ç¬¦ä¸²å¹¶ä¸”è¿”å›å·²æ‰¾åˆ°çš„æ–‡æœ¬        console.log(s)        var rg&#x3D;&#x2F;[a-z]&#x2F;        var reg&#x3D;&#x2F;[a-zA-Z]&#123;2&#125;&#x2F;        var s&#x3D;reg.exec(&#39;a1a1v1b&#39;)        console.log(s)        var reg&#x3D;&#x2F;[zo*]&#x2F; &#x2F;&#x2F;è´ªå©ªæ¨¡å¼ ?ç»“æŸè´ªå©ªæ¨¡å¼        var reg&#x3D;&#x2F;a&#123;3&#125;$&#x2F;        var reg&#x3D;&#x2F;s&#x2F;        var s&#x3D;reg.exec(&quot;vaaa&quot;)        console.log(s)    &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº‹ä»¶ç›‘å¬"><a href="#äº‹ä»¶ç›‘å¬" class="headerlink" title="äº‹ä»¶ç›‘å¬"></a>äº‹ä»¶ç›‘å¬</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;style&gt;#div1 &#123;width: 200px;height: 200px;background: beige;&#125;&lt;&#x2F;style&gt;&lt;&#x2F;head&gt;&lt;body&gt;1ã€eventäº‹ä»¶å¯¹è±¡ï¼šæ˜¯æµè§ˆå™¨åœ¨äº‹ä»¶è§¦å‘æ—¶æ‰€åˆ›å»ºçš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°è£…äº†äº‹ä»¶ç›¸å…³çš„å„ç§ä¿¡æ¯ã€‚-é€šè¿‡äº‹ä»¶å¯¹è±¡ å¯ä»¥è·å–äº‹ä»¶çš„å„ç§ä¿¡æ¯ã€‚&lt;hr&gt;2ã€Domä¸­å­˜åœ¨ç€å¤šç§ä¸åŒç±»å‹çš„æ—¶é—´å¯¹è±¡-ä»–ä»¬çš„çˆ¶å¯¹è±¡éƒ½æ˜¯Event&lt;hr&gt;&lt;div id&#x3D;&#39;div1&#39;&gt;&lt;&#x2F;div&gt;&lt;br&gt;&lt;button id&#x3D;&#39;btn1&#39;&gt;æŒ‰é’®1&lt;&#x2F;button&gt;&lt;script&gt;var div1 &#x3D; document.getElementById(&#39;div1&#39;);var div1 &#x3D; document.getElementById(&quot;div1&quot;)var btn1 &#x3D; document.getElementById(&quot;btn1&quot;)&#x2F;&#x2F; console.log(div1, btn1)div1.onclick&#x3D;function(event)&#123;&#x2F;&#x2F; console.log(event)&#x2F;&#x2F;target è§¦å‘äº‹ä»¶çš„å¯¹è±¡console.log(event.target)&#x2F;&#x2F;this&#x2F;&#x2F; console.log(this)div1.textContext&#x3D;event.clientX+&quot;  &quot;+event.clientY&#125;&#x2F;&#x2F;äº‹ä»¶çš„å¦å¤–ä¸€ç§æ–¹å¼:ç›‘å¬äº‹ä»¶ ç»‘å®šå¤šä¸ªæ–¹æ³•btn1.addEventListener(&#39;click&#39;, function()&#123;alert(&quot;1234&quot;)&#125;)btn1.addEventListener(&#39;click&#39;, function()&#123;alert(&quot;12345&quot;)&#125;)&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº‹ä»¶å†’æ³¡"><a href="#äº‹ä»¶å†’æ³¡" class="headerlink" title="äº‹ä»¶å†’æ³¡"></a>äº‹ä»¶å†’æ³¡</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;&lt;title&gt;&lt;&#x2F;title&gt;&lt;style&gt;#div1 &#123;width: 300px;height: 300px;background: red;&#125;#div2&#123;width: 200px;height:100px;background-color: aqua;&#125;&lt;&#x2F;style&gt;&lt;&#x2F;head&gt;&lt;body&gt;3ã€ äº‹ä»¶å†’æ³¡:(bubble)æ˜¯æŒ‡äº‹ä»¶å‘ä¸Šä¼ å¯¼å½“å…ƒç´ çš„äº‹ä»¶è¢«è§¦å‘åï¼Œå…¶çˆ¶å…ƒç´ ä¸Šçš„ç›¸åŒäº‹ä»¶ä¹ŸåŒæ—¶è§¦å‘ã€‚äº‹ä»¶å†’æ³¡çš„å­˜åœ¨ç®€åŒ–äº†ä»£ç çš„ç¼–å†™ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å†’æ³¡å­˜åœ¨ã€‚å–æ¶ˆäº‹ä»¶å†’æ³¡ï¼ševent.stopPropagation()&lt;div id&#x3D;&#39;div1&#39;&gt;&lt;div id&#x3D;&quot;div2&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;&lt;br&gt;&lt;script&gt;var div1 &#x3D; document.getElementById(&#39;div1&#39;);div1.onclick &#x3D; function (ev) &#123;alert(&quot;div1&quot;)&#125;var div2 &#x3D; document.getElementById(&#39;div2&#39;);div2.onclick &#x3D; function (ev) &#123;&#x2F;&#x2F; å–æ¶ˆé»˜è®¤è¡Œä¸ºev.stopPropagation()alert(&quot;div123&quot;)&#125;&lt;&#x2F;script&gt;4 å–æ¶ˆé»˜è®¤è¡Œä¸ºã€‚&lt;a id&#x3D;&#39;a1&#39; href&#x3D;&quot;https:&#x2F;&#x2F;www.ahut.edu.cn&quot;&gt;å®‰å·¥å¤§&lt;&#x2F;a&gt;&lt;script&gt;var a1 &#x3D; document.getElementById(&#39;a1&#39;);a1.onclick&#x3D;function(ev)&#123;alert(&quot;å®‰å·¥å¤§&quot;)&#x2F;&#x2F;å–æ¶ˆè·³è½¬çš„é»˜è®¤è¡Œä¸º&#x2F;&#x2F; 1.return false&#x2F;&#x2F; 2.ev.preventDefault()&#125;&lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®ç°å…‰æ ‡è·Ÿéšæ•ˆæœ"><a href="#å®ç°å…‰æ ‡è·Ÿéšæ•ˆæœ" class="headerlink" title="å®ç°å…‰æ ‡è·Ÿéšæ•ˆæœ"></a>å®ç°å…‰æ ‡è·Ÿéšæ•ˆæœ</h2><pre class="line-numbers language-none"><code class="language-none">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;  &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;  &lt;title&gt;å®éªŒå››&lt;&#x2F;title&gt;  &lt;style&gt;    div &#123;      width: 20px;      height: 20px;      background-color: bisque;      position: absolute;    &#125;  &lt;&#x2F;style&gt;&lt;&#x2F;head&gt;&lt;body&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;div&quot;&gt;&lt;&#x2F;div&gt;  &lt;script&gt;    var divs&#x3D;document.querySelectorAll(&quot;.div&quot;)     &#x2F;&#x2F; console.log(divs.length)    document.onmousemove &#x3D; function (ev) &#123;        divs[0].style.left&#x3D;ev.clientX+&quot;px&quot;      divs[0].style.top&#x3D;ev.clientY+&quot;px&quot;      for(var i&#x3D;15; i&gt;0; i--)&#123;        divs[i].style.left&#x3D;divs[i-1].style.left        divs[i].style.top&#x3D;divs[i-1].style.top      &#125;      &#x2F;&#x2F; for(var i&#x3D;1; i&lt;16; i++)&#123;      &#x2F;&#x2F;   divs[i].style.left&#x3D;divs[i-1].style.left      &#x2F;&#x2F;   divs[i].style.top&#x3D;divs[i-1].style.top      &#x2F;&#x2F; &#125;    &#125;    &lt;&#x2F;script&gt;  è§£é¢˜æ€è·¯ï¼š    1. å¤šä¸ªdivè·Ÿéšå…‰æ ‡ï¼Œç¬¬ä¸€ä¸ªdivçš„ä½ç½® å§‹ç»ˆæ˜¯ å…‰æ ‡ç§»åŠ¨åˆ°çš„ä½ç½®ã€‚    2. ç¬¬äºŒä¸ªdivï¼Œå½“ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œä¼šåˆ°ç¬¬ä¸€ä¸ªdivä¹‹å‰çš„ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªdiv ä¼šåˆ°ç¬¬äºŒä¸ªdiv ä¹‹å‰çš„ä½ç½®ã€‚    3.å‰ä¸€ä¸ªdivçš„ä½ç½®èµ‹ç»™å½“å‰çš„div  :  obj.offsetTop æŒ‡ obj ç›¸å¯¹äºçˆ¶å…ƒç´ ä¸Šä¾§ä½ç½®ï¼Œæ•´å‹     obj.offsetLeft æŒ‡ obj ç›¸å¯¹äºçˆ¶å…ƒç´ å·¦ä¾§ä½ç½®ï¼Œæ•´å‹             4.æœ€åå¼€å§‹ï¼Œåœ¨ç¬¬ä¸€ä¸ªdiv è¿˜æ²¡ç§»åŠ¨çš„æ—¶å€™ï¼Œç¬¬10ä¸ªå»åˆ°ç¬¬9ä¸ªï¼Œç¬¬9ä¸ªå»åˆ°ç¬¬8ä¸ªçš„ä½ç½®......æœ€åå†æŠŠç¬¬ä¸€ä¸ªç§»åŠ¨åˆ°å…‰æ ‡çš„ä½ç½®ã€‚    æ ‡ç­¾: JS&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>I/Oå¤šè·¯å¤ç”¨ï¼ˆselect/poll/epollï¼‰</title>
      <link href="/2023/06/20/io-duo-lu-fu-yong-selectpollepoll/"/>
      <url>/2023/06/20/io-duo-lu-fu-yong-selectpollepoll/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><p>è¿™ä¸‰ç§æ¨¡å¼æ˜¯ä¸ºäº†åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸‹é¢å°½å¯èƒ½å¤šçš„ç®¡ç†å¾ˆå¤šä¸ªsocketã€‚è¿™ä¸‰ç§æ¨¡å¼åœ¨ä¸åŒçš„éœ€æ±‚ä¸‹ï¼Œæœ‰ç€å„è‡ªçš„ä¼˜åŠ¿ï¼Œselectå’Œpollå·®ä¸å¤šï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯è¯´epollæ˜¯æœ€å¥½çš„ã€‚æ¯”å¦‚æˆ‘ä»¬å°±å†™ä¸ªç®€å•çš„å‡ ä¸ªclientè¿æ¥ä¸‹çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™ç”¨selectå°±å¾ˆé¦™ï¼Œä»£ç æ›´å°‘ä¸€ç‚¹ï¼Œå¦‚æœæ˜¯åœ¨çœŸå®çš„ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè‚¯å®šæ˜¯ç”¨epollå¥½ã€‚</p><h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p>selectç®¡ç†å¤šä¸ªsocketçš„fdï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼Œé€šè¿‡è¿™ä¸ªå¯ä»¥æ‰¾åˆ°socketï¼‰ï¼Œåœ¨è¿™æœŸé—´selectä¼šç›‘å¬æ‰€æœ‰çš„socketã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªsocketæœ‰äº‹ä»¶å‘ç”Ÿï¼Œè¿™ä¸ªçº¿ç¨‹ä¼šè®©å‡ºcpuçš„é˜»å¡ç­‰å¾…ï¼Œå³è®©è¯¥çº¿ç¨‹å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ã€‚å¦‚æœä½¿ç”¨æ™®é€šçš„conncet()ã€accept()ã€recv()æˆ–recvfrom()è¿™ç§å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰äº‹ä»¶å‘ç”Ÿï¼Œå°±å¿…é¡»è¦é˜»å¡ï¼Œç›´åˆ°äº‹ä»¶å‘ç”Ÿã€‚</p><p>å¦‚æœæœ‰äº‹ä»¶å‘ç”Ÿï¼Œselectä¼šåœ¨ä»–çš„ç¡çœ é˜Ÿåˆ—é‡Œè®¾ç½®ä¸€ä¸ªentryï¼Œå½“ socket æ¥æ”¶åˆ°ç½‘å¡çš„æ•°æ®åï¼Œå°±ä¼šå»å®ƒçš„ç¡çœ é˜Ÿåˆ—é‡Œéå† entryï¼Œè°ƒç”¨ entry è®¾ç½®çš„ callback æ–¹æ³•ï¼Œè¿™ä¸ª callback æ–¹æ³•é‡Œå°±èƒ½å”¤é†’ select !</p><p><strong>selectå‡½æ•°åŸå‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/select.h></span></span><span class="token keyword">struct</span> <span class="token class-name">timeval</span> <span class="token punctuation">&#123;</span>    time_t      tv_sec<span class="token punctuation">;</span>         <span class="token comment">/* seconds */</span>    suseconds_t tv_usec<span class="token punctuation">;</span>        <span class="token comment">/* microseconds */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">int</span> nfds<span class="token punctuation">,</span> fd_set <span class="token operator">*</span>readfds<span class="token punctuation">,</span> fd_set <span class="token operator">*</span>writefds<span class="token punctuation">,</span>           fd_set <span class="token operator">*</span>exceptfds<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">timeval</span> <span class="token operator">*</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>å‚æ•°ä»‹ç»ï¼š</strong></p><ul><li><p>nfdsï¼šå§”æ‰˜ç»™å†…æ ¸å¤„ç†çš„åé¢ä¸‰ä¸ªfd_setçš„æœ€å¤§å€¼+1ï¼Œä¹Ÿæ˜¯éå†çš„æ—¶å€™çš„æœ€å¤§å€¼ã€‚+ readfdsï¼šä¼ å…¥å†…æ ¸å¤„ç†æ–‡ä»¶æè¿°ç¬¦çš„è¯»é›†åˆï¼Œå†…æ ¸åªéœ€è¦æ£€æµ‹è¿™äº›æ–‡ä»¶æè¿°ç¬¦çš„è¯»ç¼“å†²åŒºã€‚ </p></li><li><p>ä¼ å…¥ä¼ å‡ºå‚æ•°</p></li><li><p>writefdsï¼šä¼ å…¥å†…æ ¸å¤„ç†æ–‡ä»¶æè¿°ç¬¦çš„è¯»é›†åˆï¼Œå†…æ ¸åªéœ€è¦æ£€æµ‹è¿™äº›æ–‡ä»¶æè¿°ç¬¦çš„å†™ç¼“å†²åŒºã€‚ </p></li><li><p>ä¼ å…¥ä¼ å‡ºå‚æ•°</p></li><li><p>exceptfdsï¼šæ–‡ä»¶æè¿°ç¬¦çš„é›†åˆï¼Œå†…æ ¸æ£€æµ‹é›†åˆä¸­æ–‡ä»¶æè¿°ç¬¦æ˜¯å¦æœ‰å¼‚å¸¸çŠ¶æ€ </p></li><li><p>ä¼ å…¥ä¼ å‡ºå‚æ•°</p></li><li><p>timeoutï¼šè®¾ç½®è¶…æ—¶çš„æ—¶é—´ï¼Œå¯ä»¥å¼ºåˆ¶æ“ä½œselect()å‡½æ•°çš„é˜»å¡çŠ¶æ€ã€‚ </p></li><li><p>NULLï¼šæ²¡æœ‰äº‹ä»¶å°±ä¼šä¸€ç›´é˜»å¡ã€‚+ ç§’æ•°ï¼šç­‰å¾…æ—¶é—´ã€‚+ 0ï¼šä¸ç­‰å¾…ã€‚</p></li></ul><p><strong>è¿”å›å€¼ï¼š</strong></p><ul><li>-1ï¼šå‡½æ•°è°ƒç”¨å¤±è´¥äº†+ 0ï¼šç›‘å¬çš„æ‰€æœ‰çš„socket_fdé‡Œé¢æ²¡æœ‰å‘ç”Ÿäº‹ä»¶çš„socket_fdã€‚+ &gt;0ï¼šè¿”å›å·²ç»å°±ç»ªçš„socket_fdã€‚</li></ul><p><strong>ä¸fd_seté…åˆçš„æ“ä½œå‡½æ•°ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// å°†æ–‡ä»¶æè¿°ç¬¦fdä»setä¸­åˆ é™¤ï¼Œå³æŠŠsetä¸­fdå¯¹åº”çš„æ ‡å¿—ä½ç½®0</span><span class="token keyword">void</span> <span class="token function">FD_CLR</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> fd_set<span class="token operator">*</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å°†æ–‡ä»¶æè¿°ç¬¦fdæ·»åŠ åˆ°setä¸­ï¼Œå³æŠŠsetä¸­fdå¯¹åº”çš„æ ‡å¿—ä½ç½®1</span><span class="token keyword">void</span> <span class="token function">FD_SET</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> fd_set<span class="token operator">*</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆ¤æ–­æ–‡ä»¶æè¿°ç¬¦fdæ˜¯å¦åœ¨setä¸­ï¼Œå³åˆ¤æ–­æ–‡ä»¶æè¿°ç¬¦fdåœ¨setä¸­çš„æ ‡å¿—ä½æ˜¯å¦ä¸º1</span><span class="token keyword">void</span> <span class="token function">FD_ISSET</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> fd_set<span class="token operator">*</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ¸…ç©ºsetï¼Œå³å…¨éƒ¨ç½®0ï¼Œç”¨äºåˆå§‹åŒ–set</span><span class="token keyword">void</span> <span class="token function">FD_ZERO</span><span class="token punctuation">(</span>fd_set<span class="token operator">*</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šfd_set æ˜¯ä¸€ä¸ª128ä¸ªå­—èŠ‚çš„æ•°ç»„ï¼ˆä½å›¾Bitmapï¼‰ï¼Œ128*8=1024 bitï¼Œåœ¨æ“ä½œfd_setçš„æ—¶å€™ï¼Œå®é™…ä¸Šæ“ä½œçš„æ˜¯æ¯ä¸€ä½bitï¼Œç½®0è¿˜æ˜¯ç½®1ï¼Œä¸å†…æ ¸ä¸­çš„æ–‡ä»¶æè¿°ç¬¦è¡¨çš„æ¯ä¸€ä½éƒ½å¯¹åº”ã€‚</p><ul><li>0ä»£è¡¨ä¸æ£€æµ‹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€ï¼ˆè¯»ç¼“å†²åŒºï¼Œå†™ç¼“å†²åŒºç­‰ï¼‰+ 1ä»£è¡¨æ£€æµ‹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€ï¼ˆè¯»ç¼“å†²åŒºï¼Œå†™ç¼“å†²åŒºç­‰ï¼‰</li></ul><p><strong>ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºselectçš„ç¼ºç‚¹ï¼š</strong></p><ul><li>å…·æœ‰O(n)çš„æ— å·®åˆ«è½®è¯¢å¤æ‚åº¦ï¼Œéœ€è¦ä¸€ç›´éå†1024ä½fd_setçš„å„ä¸ªä½çš„çŠ¶æ€+ æ¯æ¬¡selectéƒ½éœ€è¦å°†fd_setæ‹·è´åˆ°å†…æ ¸ç©ºé—´ï¼Œå¼€é”€æ¯”è¾ƒå¤§+ éœ€è¦è½®è¯¢fd_setï¼Œæ¶ˆè€—æ—¶é—´å¤š+ èƒ½å¤Ÿæ£€æµ‹çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ˜¯1024ä¸ªï¼Œè¿™ä¸ªåœ¨å†…æ ¸å†™æ­»äº†</li></ul><h2 id="poll"><a href="#poll" class="headerlink" title="poll"></a>poll</h2><p>ç›¸å¯¹äºã€selectã€‘ï¼Œå®ƒä¸ä½¿ç”¨ã€Bitmapã€‘æ¥ä¿å­˜å·²ç»è¿æ¥çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä½¿ç”¨çš„æ˜¯é“¾è¡¨æ¥ç®¡ç†ï¼Œæ²¡æœ‰äº†1024çš„é™åˆ¶ï¼Œå½“ç„¶è¿˜ä¼šå—åˆ°ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦é™åˆ¶ã€‚</p><p><strong>pollçš„å‡½æ•°åŸå‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;poll.h></span></span><span class="token comment">// æ¯ä¸ªå§”æ‰˜pollæ£€æµ‹çš„fdéƒ½å¯¹åº”è¿™æ ·ä¸€ä¸ªç»“æ„ä½“</span><span class="token keyword">struct</span> <span class="token class-name">pollfd</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span>   fd<span class="token punctuation">;</span>         <span class="token comment">/* å§”æ‰˜å†…æ ¸æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦ */</span>    <span class="token keyword">short</span> events<span class="token punctuation">;</span>     <span class="token comment">/* å§”æ‰˜å†…æ ¸æ£€æµ‹æ–‡ä»¶æè¿°ç¬¦çš„ä»€ä¹ˆäº‹ä»¶ */</span>    <span class="token keyword">short</span> revents<span class="token punctuation">;</span>    <span class="token comment">/* æ–‡ä»¶æè¿°ç¬¦å®é™…å‘ç”Ÿçš„äº‹ä»¶ -> ä¼ å‡º */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">pollfd</span> myfd<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">poll</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">pollfd</span> <span class="token operator">*</span>fds<span class="token punctuation">,</span> nfds_t nfds<span class="token punctuation">,</span> <span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å‡½æ•°å‚æ•°ä»‹ç»ï¼š</strong></p><ul><li><p>fds: è¿™æ˜¯ä¸€ä¸ª struct pollfd ç±»å‹çš„æ•°ç»„ï¼Œé‡Œè¾¹å­˜å‚¨äº†å¾…æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ•°ç»„ä¸­æœ‰ä¸‰ä¸ªæˆå‘˜ï¼š </p></li><li><p>fdï¼šå§”æ‰˜å†…æ ¸æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦+ eventsï¼šå§”æ‰˜å†…æ ¸æ£€æµ‹çš„ fd äº‹ä»¶ï¼ˆè¾“å…¥ã€è¾“å‡ºã€é”™è¯¯ï¼‰ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶æœ‰å¤šä¸ªå–å€¼+ reventsï¼šè¿™æ˜¯ä¸€ä¸ª<strong>ä¼ å‡ºå‚æ•°</strong>ï¼Œæ•°æ®ç”±å†…æ ¸å†™å…¥ï¼Œå­˜å‚¨å†…æ ¸æ£€æµ‹ä¹‹åçš„ç»“æœ </p></li><li><p>è¯»äº‹ä»¶ï¼šPOLLIN+ å†™äº‹ä»¶ï¼šPOLLOUT+ é”™è¯¯äº‹ä»¶ï¼šPOLLERR</p></li><li><p>nfds: è¿™æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„ä¸­æœ€åä¸€ä¸ªæœ‰æ•ˆå…ƒç´ çš„ä¸‹æ ‡ + 1ï¼ˆä¹Ÿå¯ä»¥æŒ‡å®šå‚æ•° 1 æ•°ç»„çš„å…ƒç´ æ€»ä¸ªæ•°ï¼‰+ timeout: æŒ‡å®š poll å‡½æ•°çš„é˜»å¡æ—¶é•¿ </p></li><li><p>-1ï¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æ£€æµ‹çš„é›†åˆä¸­æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆæœ‰äº‹ä»¶äº§ç”Ÿï¼‰è§£é™¤é˜»å¡+ 0ï¼šä¸é˜»å¡ï¼Œä¸ç®¡æ£€æµ‹é›†åˆä¸­æœ‰æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°é©¬ä¸Šè¿”å›+ å¤§äº 0ï¼šé˜»å¡æŒ‡å®šçš„æ¯«ç§’ï¼ˆmsï¼‰æ•°ä¹‹åï¼Œè§£é™¤é˜»å¡</p></li></ul><p><strong>å‡½æ•°è¿”å›å€¼ï¼š</strong></p><ul><li>å¤±è´¥ï¼š è¿”å› - 1+ æˆåŠŸï¼šè¿”å›ä¸€ä¸ªå¤§äº 0 çš„æ•´æ•°ï¼Œè¡¨ç¤ºæ£€æµ‹çš„é›†åˆä¸­å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„æ€»ä¸ªæ•°</li></ul><p><strong>æ“ä½œå‡½æ•°ï¼š</strong></p><ul><li>åªéœ€è¦pollå‡½æ•°ï¼šreventä¸­åŒ…å«äº†è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„äº‹ä»¶</li></ul><p><strong>ä»ä¸Šé¢å¯ä»¥æ€»ç»“å‡ºpollçš„ç‰¹ç‚¹ï¼š</strong></p><ul><li><p>å¯¹æ¯”selectï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ï¼ˆå°†ç›¸å…³çš„æ–‡ä»¶æè¿°ç¬¦å°è£…åˆ°äº†pollfdä¸­ï¼‰ï¼Œä½†æ˜¯ä¸èƒ½è·¨å¹³å°ï¼Œåªèƒ½åœ¨Linuxå¹³å° </p></li><li><p>eventså‚æ•°å¯¹åº”selectä¸­çš„readfdsã€writefdsã€exceptfdsçš„ä¼ å…¥çŠ¶æ€+ reventså‚æ•°å¯¹åº”selectä¸­çš„readfdsã€writefdsã€exceptfdsçš„ä¼ å‡ºçŠ¶æ€</p></li><li>ä¸selectç›¸å·®ä¸å¤§ï¼Œéœ€è¦çš„æ—¶é—´å¤æ‚åº¦ä¸€æ ·</li></ul><h2 id="epoll"><a href="#epoll" class="headerlink" title="epoll"></a>epoll</h2><p><strong>epollçš„æ“ä½œå‡½æ•°ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/epoll.h></span></span><span class="token comment">// åˆ›å»ºepollå®ä¾‹ï¼Œé€šè¿‡ä¸€æ£µçº¢é»‘æ ‘ç®¡ç†å¾…æ£€æµ‹é›†åˆ</span><span class="token keyword">int</span> <span class="token function">epoll_create</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">epoll_create1</span><span class="token punctuation">(</span><span class="token keyword">int</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//flagå¯ä»¥æ˜¯::EPOLL_CLOEXEC</span><span class="token comment">// ç®¡ç†çº¢é»‘æ ‘ä¸Šçš„æ–‡ä»¶æè¿°ç¬¦(æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤)</span><span class="token keyword">int</span> <span class="token function">epoll_ctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">int</span> op<span class="token punctuation">,</span> <span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ£€æµ‹epollæ ‘ä¸­æ˜¯å¦æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦</span><span class="token keyword">int</span> <span class="token function">epoll_wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token operator">*</span> events<span class="token punctuation">,</span> <span class="token keyword">int</span> maxevents<span class="token punctuation">,</span> <span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨select/pollä¸­ä½æ•ˆçš„åŸå› ä¹‹ä¸€æ˜¯å®ƒä»¬å°†â€œæ·»åŠ /ä¿®æ”¹ä»»åŠ¡åˆ—è¡¨â€ä¸â€œç­‰å¾…ä»»åŠ¡åˆ—è¡¨â€æ”¾åœ¨ä¸€èµ·å¤„ç†ã€‚åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéœ€è¦ç›‘å¬çš„socketæ¯”è¾ƒç¡®å®šï¼Œè¿™ä¸ªæ—¶å€™æ£€æµ‹å»ä»»åŠ¡åˆ—è¡¨æ˜¯å¤šä½™çš„ã€‚epollå°†ä¸¤ä¸ªæ­¥éª¤åˆ†å¼€ï¼Œepoll_ctlç”¨æ¥ç®¡ç†ä»»åŠ¡åˆ—è¡¨ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯çº¢é»‘æ ‘ç»“æ„ï¼Œè¿™ç§ç»“æ„æœ‰åˆ©äºå¢åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹ï¼Œç„¶åç”¨epoll_waitæ£€æµ‹ä»»åŠ¡åˆ—è¡¨ï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰æ˜¯å¦æœ‰äº‹ä»¶å‘ç”Ÿï¼Œè¿™æ ·å®ç°äº†è§£è€¦ï¼Œæ•ˆç‡å¤§å¤§æé«˜ã€‚</p><p><strong>epoll_create(int size):</strong></p><ul><li><p>å‚æ•°ï¼šä¸€èˆ¬æŒ‡å®šä¸ºå¤§äº0çš„æ•°å°±å¯ä»¥+ è¿”å›å€¼ï¼š </p></li><li><p>å¤±è´¥ï¼š-1ï¼Œåˆ›å»ºé”™è¯¯+ æˆåŠŸï¼šä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œé€šè¿‡è¿™ä¸ªå°±å¯ä»¥è®¿é—®epollå®ä¾‹</p></li><li>ç”¨æ³•ï¼šint epfd = epoll_create(100);</li></ul><p><strong>epoll_create1(int flags):</strong></p><ul><li>å‚æ•°ï¼šflags å¯ä»¥è®¾ç½®ä¸º0 æˆ–è€…EPOLL_CLOEXECï¼Œä¸º0æ—¶å‡½æ•°è¡¨ç°ä¸epoll_createä¸€è‡´ï¼Œè®¾ç½®ä¸ºEPOLL_CLOEXECæ ‡å¿—ä¸open æ—¶çš„O_CLOEXEC æ ‡å¿—ç±»ä¼¼ï¼Œå³è¿›ç¨‹è¢«æ›¿æ¢æ—¶ä¼šå…³é—­æ–‡ä»¶æè¿°ç¬¦ã€‚+ è¿”å›å€¼ï¼šä¸epoll_createç±»ä¼¼</li></ul><p><strong>epoll_ctl(int epfd, int op, int fd, struct epoll_event *event):</strong></p><ul><li><p>å‚æ•°ï¼š </p></li><li><p>epfdæ˜¯epoll_crateçš„è¿”å›å€¼ï¼Œæ“ä½œepollå®ä¾‹+ opæ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œæ§åˆ¶å‡½æ•°æ‰§è¡Œä»€ä¹ˆç±»å‹çš„æ“ä½œ </p></li><li><p>EPOLL_CTL_ADDï¼šæ·»åŠ ä¸€ä¸ªfd+ EPOLL_CTL_DELï¼šåˆ é™¤ä¸€ä¸ªfd+ EPOLL_CTL_MODï¼šä¿®æ”¹ä¸€ä¸ªfd</p></li><li><p>fdæ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼Œå³è¦æ·»åŠ  / ä¿®æ”¹ / åˆ é™¤çš„æ–‡ä»¶æè¿°ç¬¦+ eventæ˜¯epoll äº‹ä»¶ï¼Œç”¨æ¥ä¿®é¥°ç¬¬ä¸‰ä¸ªå‚æ•°å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦çš„ï¼ŒæŒ‡å®šæ£€æµ‹è¿™ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ä»€ä¹ˆäº‹ä»¶ </p></li><li><p>eventsï¼šå§”æ‰˜ epoll æ£€æµ‹çš„äº‹ä»¶ </p></li><li><p>EPOLLINï¼šè¯»äº‹ä»¶ï¼Œæ¥æ”¶æ•°æ®ï¼Œæ£€æµ‹è¯»ç¼“å†²åŒºï¼Œå¦‚æœæœ‰æ•°æ®è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª+ EPOLLOUTï¼šå†™äº‹ä»¶ï¼Œå‘é€æ•°æ®ï¼Œæ£€æµ‹å†™ç¼“å†²åŒºï¼Œå¦‚æœå¯å†™è¯¥æ–‡ä»¶æè¿°ç¬¦å°±ç»ª+ EPOLLERRï¼šå¼‚å¸¸äº‹ä»¶</p></li><li>dataï¼šç”¨æˆ·æ•°æ®å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªè”åˆä½“ç±»å‹ï¼Œé€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨é‡Œè¾¹çš„ fd æˆå‘˜ï¼Œç”¨äºå­˜å‚¨å¾…æ£€æµ‹çš„æ–‡ä»¶æè¿°ç¬¦çš„å€¼ï¼Œåœ¨è°ƒç”¨ epoll_wait() å‡½æ•°çš„æ—¶å€™è¿™ä¸ªå€¼ä¼šè¢«ä¼ å‡ºã€‚</li></ul><p><strong>çœ‹ä¸€ä¸‹epoll_ctlçš„epoll_eventç»“æ„ä½“ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// è”åˆä½“, å¤šä¸ªå˜é‡å…±ç”¨åŒä¸€å—å†…å­˜        </span><span class="token keyword">typedef</span> <span class="token keyword">union</span> epoll_data <span class="token punctuation">&#123;</span> <span class="token keyword">void</span>        <span class="token operator">*</span>ptr<span class="token punctuation">;</span><span class="token keyword">int</span>          fd<span class="token punctuation">;</span><span class="token comment">// é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸ªæˆå‘˜, å’Œepoll_ctlçš„ç¬¬ä¸‰ä¸ªå‚æ•°ç›¸åŒå³å¯</span><span class="token keyword">uint32_t</span>     u32<span class="token punctuation">;</span><span class="token keyword">uint64_t</span>     u64<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> epoll_data_t<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token punctuation">&#123;</span><span class="token keyword">uint32_t</span>     events<span class="token punctuation">;</span>      <span class="token comment">/* Epoll events */</span>epoll_data_t data<span class="token punctuation">;</span>        <span class="token comment">/* User data variable */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">epoll_ctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">int</span> op<span class="token punctuation">,</span> <span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">epoll_event</span> <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>epoll_wait(int epfd, struct epoll_event * events, int maxevents, int timeout); </strong></p><ul><li><p>å‡½æ•°å‚æ•°ï¼š </p></li><li><p>epfdï¼šepoll_create () å‡½æ•°çš„è¿”å›å€¼ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°æ‰¾åˆ° epoll å®ä¾‹+ eventsï¼šä¼ å‡ºå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªç»“æ„ä½“æ•°ç»„çš„åœ°å€ï¼Œé‡Œè¾¹å­˜å‚¨äº†å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„ä¿¡æ¯+ maxeventsï¼šä¿®é¥°ç¬¬äºŒä¸ªå‚æ•°ï¼Œç»“æ„ä½“æ•°ç»„çš„å®¹é‡ï¼ˆå…ƒç´ ä¸ªæ•°ï¼‰+ timeoutï¼šå¦‚æœæ£€æµ‹çš„ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¯¥å‡½æ•°é˜»å¡çš„æ—¶é•¿ï¼Œå•ä½ ms æ¯«ç§’ </p></li><li><p>0ï¼šå‡½æ•°ä¸é˜»å¡ï¼Œä¸ç®¡ epoll å®ä¾‹ä¸­æœ‰æ²¡æœ‰å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°è¢«è°ƒç”¨åéƒ½ç›´æ¥è¿”å›+ å¤§äº 0ï¼šå¦‚æœ epoll å®ä¾‹ä¸­æ²¡æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°é˜»å¡å¯¹åº”çš„æ¯«ç§’æ•°å†è¿”å›+ -1ï¼šå‡½æ•°ä¸€ç›´é˜»å¡ï¼Œç›´åˆ° epoll å®ä¾‹ä¸­æœ‰å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦ä¹‹åæ‰è§£é™¤é˜»å¡</p></li><li><p>å‡½æ•°è¿”å›å€¼ï¼š </p></li><li><p>æˆåŠŸï¼š </p></li><li><p>ç­‰äº 0ï¼šå‡½æ•°æ˜¯é˜»å¡è¢«å¼ºåˆ¶è§£é™¤äº†ï¼Œæ²¡æœ‰æ£€æµ‹åˆ°æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦+ å¤§äº 0ï¼šæ£€æµ‹åˆ°çš„å·²å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦çš„æ€»ä¸ªæ•°</p></li><li>å¤±è´¥ï¼šè¿”å› - 1</li></ul><p><strong>epollçš„ä¸¤ç§æ¨¡å¼ LT å’Œ ET</strong></p><p>äºŒè€…çš„å·®å¼‚åœ¨äº level-trigger æ¨¡å¼ä¸‹åªè¦æŸä¸ªsocketå¤„äº readable/writable çŠ¶æ€ï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™è¿›è¡Œ epoll_wait éƒ½ä¼šè¿”å›è¯¥ socketï¼›è€Œ edge-trigger æ¨¡å¼ä¸‹åªæœ‰æŸä¸ª socket ä» unreadable å˜ä¸º readable æˆ–ä»unwritable å˜ä¸º writable æ—¶ï¼Œepoll_wait æ‰ä¼šè¿”å›è¯¥ socketã€‚</p><p>æ‰€ä»¥, åœ¨epollçš„ETæ¨¡å¼ä¸‹, æ­£ç¡®çš„è¯»å†™æ–¹å¼ä¸º:</p><p>è¯»: åªè¦å¯è¯», å°±ä¸€ç›´è¯», ç›´åˆ°è¿”å›0, æˆ–è€… errno = EAGAIN</p><p>å†™: åªè¦å¯å†™, å°±ä¸€ç›´å†™, ç›´åˆ°æ•°æ®å‘é€å®Œ, æˆ–è€… errno = EAGAIN</p><p>Wikipediaï¼š<a href="https://en.wikipedia.org/wiki/Epoll">https://en.wikipedia.org/wiki/Epoll</a></p><p>Manæ‰‹å†Œï¼š<a href="https://man7.org/linux/man-pages/man7/epoll.7.html">epoll(7) - Linux manual page</a></p><p>Epollè¯¦ç»†è§£é‡Šç³»åˆ—ï¼š<a href="https://zhuanlan.zhihu.com/p/63179839">å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ ï¼ˆ1ï¼‰ - çŸ¥ä¹</a></p><p><a href="https://zhuanlan.zhihu.com/p/64138532">å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ ï¼ˆ2ï¼‰ - çŸ¥ä¹</a></p><p><a href="https://zhuanlan.zhihu.com/p/64138532">å¦‚æœè¿™ç¯‡æ–‡ç« è¯´ä¸æ¸…epollçš„æœ¬è´¨ï¼Œé‚£å°±è¿‡æ¥ææ­»æˆ‘å§ï¼ ï¼ˆ2ï¼‰ - çŸ¥ä¹</a></p><p><a href="https://subingwen.cn/linux/epoll/">IOå¤šè·¯è½¬æ¥ï¼ˆå¤ç”¨ï¼‰ä¹‹epoll | çˆ±ç¼–ç¨‹çš„å¤§ä¸™</a></p>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ideaé€šè¿‡jdbcè¿æ¥Mysql8.0ï¼ŒJDBCçš„APIä½¿ç”¨</title>
      <link href="/2023/06/20/idea-tong-guo-jdbc-lian-jie-mysql80jdbc-de-api-shi-yong/"/>
      <url>/2023/06/20/idea-tong-guo-jdbc-lian-jie-mysql80jdbc-de-api-shi-yong/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="é¦–å…ˆä¸‹è½½jaråŒ…ï¼Œç‚¹å‡»ä¸‹é¢çš„å®˜ç½‘é“¾æ¥ä¸‹è½½"><a href="#é¦–å…ˆä¸‹è½½jaråŒ…ï¼Œç‚¹å‡»ä¸‹é¢çš„å®˜ç½‘é“¾æ¥ä¸‹è½½" class="headerlink" title="é¦–å…ˆä¸‹è½½jaråŒ…ï¼Œç‚¹å‡»ä¸‹é¢çš„å®˜ç½‘é“¾æ¥ä¸‹è½½"></a>é¦–å…ˆä¸‹è½½jaråŒ…ï¼Œç‚¹å‡»ä¸‹é¢çš„å®˜ç½‘é“¾æ¥ä¸‹è½½</h2><p><a href="https://dev.mysql.com/downloads/connector/j/">MySQL :: Download Connector/J</a></p><p>ä¸‹è½½å®Œæˆåè®°å¾—åœ¨é¡¹ç›®é‡Œé¢Add as libraryã€‚</p><p>JDBCçš„æ­¥éª¤ï¼š</p><p><img src="https://img-blog.csdnimg.cn/41851a67bdf347999af145599d9fabdc.png" alt=""></p><h2 id="è¿æ¥çš„ä»£ç ï¼šï¼ˆMysql5-0ä»¥åï¼Œå¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨é‚£ä¸€æ­¥ï¼‰"><a href="#è¿æ¥çš„ä»£ç ï¼šï¼ˆMysql5-0ä»¥åï¼Œå¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨é‚£ä¸€æ­¥ï¼‰" class="headerlink" title="è¿æ¥çš„ä»£ç ï¼šï¼ˆMysql5.0ä»¥åï¼Œå¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨é‚£ä¸€æ­¥ï¼‰"></a>è¿æ¥çš„ä»£ç ï¼šï¼ˆMysql5.0ä»¥åï¼Œå¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨é‚£ä¸€æ­¥ï¼‰</h2><p>jaråŒ…é‡Œé¢åŒ…å«äº†æ³¨å†Œçš„ä»£ç </p><p><img src="https://img-blog.csdnimg.cn/015df4e78e544fbcb38112d8c41a184d.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/3eb5653027484d63afddee0f7f8246fe.png" alt=""></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>jdbc</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ³¨å†Œé©±åŠ¨</span><span class="token comment">//        Class.forName("com.mysql.cj.jdbc.Driver");</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆå“ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//        String url="jdbc:mysql://localhost:3306/student&amp;ussl=false";</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¿æ¥</span>        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from admin"</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ‰§è¡Œå¯¹è±¡</span>        <span class="token class-name">Statement</span> stat <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> execute <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//        while()</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>execute<span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> æ‰“å°æˆåŠŸçš„ä¿¡æ¯ </p><p><img src="https://img-blog.csdnimg.cn/f63449695f6f49f59f89c957546fb42f.png" alt=""></p><h2 id="DriverManager"><a href="#DriverManager" class="headerlink" title="DriverManager"></a>DriverManager</h2><p><img src="https://img-blog.csdnimg.cn/cfcb67744b31484b91eddf993e349246.png" alt=""></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> è¿™ä¸ªæ˜¯æœ€å¸¸è§çš„æ³¨å†Œé©±åŠ¨çš„æ–¹æ³•ï¼Œä½†æ˜¯è¦æ³¨æ„ç‰ˆæœ¬ï¼ˆ<strong>å°¤å…¶æ³¨æ„cjåŠ ä¸ä¸åŠ </strong>ï¼‰ã€‚</p><p>å¦å¤–ä¸€ç§æ³¨å†Œé©±åŠ¨çš„æ–¹æ³•ï¼š</p><p><strong>System.setProperty(â€œjdbc.driversâ€,â€com.mysql.jdbc.Driverâ€);</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"jdbc.driver"</span><span class="token punctuation">,</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç³»ç»Ÿå±æ€§æŒ‡å®šæ•°æ®åº“é©±åŠ¨  </span><span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/databasename"</span><span class="token punctuation">;</span><span class="token comment">//æ•°æ®åº“è¿æ¥å­åè®®  </span><span class="token class-name">Connection</span> conn<span class="token operator">=</span><span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token string">"username"</span><span class="token punctuation">,</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥åŒæ—¶å¯¼å…¥å¤šä¸ªjdbcé©±åŠ¨ï¼Œä¸­é—´ç”¨å†’å·â€œï¼šâ€åˆ†å¼€</p><p>æ¯”å¦‚System.setProperty(â€œjdbc.driversâ€,â€XXXDriver:XXXDriver:XXXDriverâ€);</p><p>è¿™æ ·å°±ä¸€æ¬¡æ³¨å†Œäº†ä¸‰ä¸ªæ•°æ®åº“é©±åŠ¨</p><h2 id="äº‹åŠ¡å¤„ç†"><a href="#äº‹åŠ¡å¤„ç†" class="headerlink" title="äº‹åŠ¡å¤„ç†"></a>äº‹åŠ¡å¤„ç†</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>jdbc</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ³¨å†Œé©±åŠ¨</span><span class="token comment">//        Class.forName("com.mysql.cj.jdbc.Driver");</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆå“ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//        String url="jdbc:mysql://localhost:3306/student&amp;ussl=false";</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¿æ¥</span>        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql0<span class="token operator">=</span><span class="token string">"update admin set password=123456 where id=1"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update admin set password=12345 where id=2"</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–æ‰§è¡Œå¯¹è±¡</span>        <span class="token class-name">Statement</span> stat <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰§è¡Œsql</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> count1 <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql0<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> count2 <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count2<span class="token punctuation">)</span><span class="token punctuation">;</span>            connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        stat<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæ•…æ„æŠ›å‡º1/0çš„é”™è¯¯ï¼Œçœ‹çœ‹æ˜¯å¦æ‰§è¡Œäº†roolback()ï¼Œç»“æœè¯æ˜æ˜¯æ­£ç¡®çš„ã€‚tryå—é‡Œé¢çš„æ•°æ®éƒ½æ²¡æœ‰æˆåŠŸæ‰§è¡Œï¼Œå›æ»šäº†ã€‚ </p><h2 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h2><p><img src="https://img-blog.csdnimg.cn/63dabf743f204232b8e37a00d024b8e4.png" alt=""></p><p><img src="https://img-blog.csdnimg.cn/9a999cd5dd264ed6953a3da5a6190ddf.png" alt=""></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>jdbc</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ³¨å†Œé©±åŠ¨</span>        <span class="token comment">//Class.forName("com.mysql.cj.jdbc.Driver");</span>        <span class="token comment">//String url="jdbc:mysql://localhost:3306/student&amp;ussl=false";</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¿æ¥</span>        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql0<span class="token operator">=</span><span class="token string">"select * from admin"</span><span class="token punctuation">;</span><span class="token comment">//        String sql = "update admin set password=12345 where id=2";</span>        <span class="token comment">//è·å–æ‰§è¡Œå¯¹è±¡</span>        <span class="token class-name">Statement</span> stat <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ResultSet</span> res<span class="token operator">=</span>stat<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//            Account a=new Account();</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"id="</span> <span class="token operator">+</span> res<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name="</span> <span class="token operator">+</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"password="</span> <span class="token operator">+</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>        res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨æ„ResultSet ï¼ˆç»“æœé›†ï¼‰çš„nextçš„æ–¹æ³•è¿”å›å€¼æ˜¯booleanç±»å‹ï¼Œè¡¨ç¤ºè¿˜æœ‰æ•°æ®çš„è¯å³è¾“å‡ºæ¥ã€‚</p><h2 id="PrepareStatement"><a href="#PrepareStatement" class="headerlink" title="PrepareStatement"></a>PrepareStatement</h2><p>ä½œç”¨ï¼šé¢„ç¼–è¯‘SQLè¯­å¥å¹¶ä¸”æ‰§è¡Œï¼Œé¢„é˜²SQLæ³¨å…¥é—®é¢˜ï¼Œç»§æ‰¿äºStatementã€‚</p><p>SQLæ³¨å…¥é—®é¢˜ï¼šé€šè¿‡æ“ä½œäº‹å…ˆè®¾ç½®å¥½çš„SQLè¯­å¥ï¼Œç”¨ä»¥è¾¾åˆ°æ‰§è¡Œä»£ç å¯¹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»çš„æ–¹æ³•ã€‚</p><p>å¸¸è§çš„å°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ä»£ç ï¼Œåªè¦è¾“å…¥çš„å¯†ç æ˜¯ä¸‹é¢é‚£ç§æƒ…å†µçš„ï¼Œéƒ½å¯ä»¥ç™»å½•æˆåŠŸï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰é‚£ä¸ªç”¨æˆ·åã€‚</p><p><img src="https://img-blog.csdnimg.cn/6fbed2f983824e34be0cbd9724212d5f.png" alt=""></p><p> æ¼”ç¤ºï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>jdbc</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>cj<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span></span><span class="token class-name">Resultset</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token comment">/** * æ¨¡æ‹ŸSQLæ³¨å…¥é—®é¢˜ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span><span class="token comment">//        String url = "jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC";</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> pwd <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span>        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> name<span class="token operator">=</span><span class="token string">"124"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> pas <span class="token operator">=</span> <span class="token string">"' or '1' = '1"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from admin where name='"</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">"' and password = '"</span><span class="token operator">+</span>pas<span class="token operator">+</span><span class="token string">"'"</span><span class="token punctuation">;</span>        <span class="token class-name">Statement</span> stat <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ResultSet</span> res <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> id<span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> name1 <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> pass <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>id<span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>name1<span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>pass<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> è¾“å‡ºç»“æœï¼š</p><p><img src="https://img-blog.csdnimg.cn/e56976874cea4e399b3e5768c33a3389.png" alt=""></p><p> æ•°æ®åº“é‡Œé¢çš„æ•°æ®ï¼š</p><p><img src="https://img-blog.csdnimg.cn/c2fd18457e304f66bcadcdabbbf7310f.png" alt=""></p><p> æ˜æ˜æ˜¯å¯†ç é”™è¯¯ï¼Œæ€ä¹ˆä¼šè¾“å‡ºæ•°æ®å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ‰“å°ä¸€ä¸‹sqlè¯­å¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">select * from admin where name&#x3D;&#39;124&#39; and password &#x3D; &#39;&#39; or &#39;1&#39; &#x3D; &#39;1&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åŸæ¥whereçš„æ¡ä»¶ä¸€ç›´æ˜¾ç¤ºä¸ºçœŸï¼Œæ‰€ä»¥ç›¸å½“äºï¼š</p><pre class="line-numbers language-none"><code class="language-none">select * from admin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£å†³åŠæ³•ï¼š </p><p><img src="https://img-blog.csdnimg.cn/8b5e0cddfb03400da4d6b240d73f290b.png" alt=""></p><p> ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>jdbc</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>cj<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span></span><span class="token class-name">Resultset</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token comment">/** * æ¨¡æ‹ŸSQLæ³¨å…¥é—®é¢˜ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span><span class="token comment">//        String url = "jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC";</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/student?useSSL=false&amp;serverTimezone=UTC"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> pwd <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span>        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> name<span class="token operator">=</span><span class="token string">"124"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> pas <span class="token operator">=</span> <span class="token string">"' or '1' = '1"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from admin where name=? and password =?"</span><span class="token punctuation">;</span>        <span class="token class-name">PreparedStatement</span> stat <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> pas<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ResultSet</span> res <span class="token operator">=</span> stat<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> id<span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> name1 <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> pass <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>id<span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>name1<span class="token punctuation">;</span>            a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>pass<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        res<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stat<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://img-blog.csdnimg.cn/061484020c594aceb11c8dbfcde8279b.png" alt=""></p><p> ä½¿ç”¨? å·å½“ä½œsqlçš„å ä½ç¬¦å°±å¯ä»¥å®Œç¾è§£å†³SQLæ³¨å…¥çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaè¿æ¥å®‰è£…åœ¨è™šæ‹Ÿæœºubuntuçš„redis</title>
      <link href="/2023/06/20/idea-lian-jie-an-zhuang-zai-xu-ni-ji-ubuntu-de-redis/"/>
      <url>/2023/06/20/idea-lian-jie-an-zhuang-zai-xu-ni-ji-ubuntu-de-redis/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="Redisçš„å®‰è£…ä¸å¼€å¯"><a href="#Redisçš„å®‰è£…ä¸å¼€å¯" class="headerlink" title="Redisçš„å®‰è£…ä¸å¼€å¯"></a>Redisçš„å®‰è£…ä¸å¼€å¯</h1><h3 id="1ã€Redisæ•°æ®åº“å®‰è£…è¿‡ç¨‹"><a href="#1ã€Redisæ•°æ®åº“å®‰è£…è¿‡ç¨‹" class="headerlink" title="1ã€Redisæ•°æ®åº“å®‰è£…è¿‡ç¨‹"></a>1ã€Redisæ•°æ®åº“å®‰è£…è¿‡ç¨‹</h3><pre><code>æ‰“å¼€è™šæ‹Ÿæœºï¼ˆUbuntuï¼‰</code></pre><h3 id="2ã€å®‰è£…-redis"><a href="#2ã€å®‰è£…-redis" class="headerlink" title="2ã€å®‰è£… redis"></a>2ã€å®‰è£… redis</h3><pre class="line-numbers language-none"><code class="language-none">$ sudo apt-get update     $ sudo apt-get install redis-server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="3ã€å¯åŠ¨redis"><a href="#3ã€å¯åŠ¨redis" class="headerlink" title="3ã€å¯åŠ¨redis"></a>3ã€å¯åŠ¨redis</h3><pre class="line-numbers language-none"><code class="language-none">$ sudo service redis-server restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="4ã€æŸ¥çœ‹è¿è¡ŒçŠ¶æ€"><a href="#4ã€æŸ¥çœ‹è¿è¡ŒçŠ¶æ€" class="headerlink" title="4ã€æŸ¥çœ‹è¿è¡ŒçŠ¶æ€"></a>4ã€æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</h3><pre class="line-numbers language-none"><code class="language-none">$ sudo ps -aux|grep redis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/5ce600e5203e4b17895c781a5969d401.png" alt=""></p><h3 id="5ã€è¿›å…¥-redis-å®¢æˆ·ç«¯"><a href="#5ã€è¿›å…¥-redis-å®¢æˆ·ç«¯" class="headerlink" title="5ã€è¿›å…¥ redis å®¢æˆ·ç«¯"></a>5ã€è¿›å…¥ redis å®¢æˆ·ç«¯</h3><pre class="line-numbers language-none"><code class="language-none">$ redis-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1><p><img src="https://img-blog.csdnimg.cn/0b5e0f06166c48e888a0ded798a0ae33.png" alt=""></p><h1 id="Redisæ•°æ®åº“Javaè¿æ¥"><a href="#Redisæ•°æ®åº“Javaè¿æ¥" class="headerlink" title="Redisæ•°æ®åº“Javaè¿æ¥"></a>Redisæ•°æ®åº“Javaè¿æ¥</h1><h3 id="1ã€æŸ¥æ‰¾redis-confæ–‡ä»¶ä½ç½®"><a href="#1ã€æŸ¥æ‰¾redis-confæ–‡ä»¶ä½ç½®" class="headerlink" title="1ã€æŸ¥æ‰¾redis.confæ–‡ä»¶ä½ç½®"></a>1ã€æŸ¥æ‰¾redis.confæ–‡ä»¶ä½ç½®</h3><pre class="line-numbers language-none"><code class="language-none">$ whereis redis.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2ã€ä¿®æ”¹æ–‡ä»¶é…ç½®é¡¹"><a href="#2ã€ä¿®æ”¹æ–‡ä»¶é…ç½®é¡¹" class="headerlink" title="2ã€ä¿®æ”¹æ–‡ä»¶é…ç½®é¡¹"></a>2ã€ä¿®æ”¹æ–‡ä»¶é…ç½®é¡¹</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">cd</span> /etc/redis$ <span class="token function">vim</span> redis.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="1ã€æ³¨é‡Šæ‰bind"><a href="#1ã€æ³¨é‡Šæ‰bind" class="headerlink" title="1ã€æ³¨é‡Šæ‰bind"></a>1ã€æ³¨é‡Šæ‰bind</h3><p><img src="https://img-blog.csdnimg.cn/a41dbfca34894caa80793bc51e4936f9.png" alt=""></p><p>åœ¨56è¡Œå‰é¢åŠ ä¸ª#ï¼Œæ³¨é‡Šæ‰ </p><h3 id="2ã€æ‰¾åˆ°protected-modeè®¾ç½®ä¸ºno"><a href="#2ã€æ‰¾åˆ°protected-modeè®¾ç½®ä¸ºno" class="headerlink" title="2ã€æ‰¾åˆ°protected-modeè®¾ç½®ä¸ºno"></a>2ã€æ‰¾åˆ°protected-modeè®¾ç½®ä¸ºno</h3><p><img src="https://img-blog.csdnimg.cn/c2fdf41cd5d54ddba9e1412f17026ffa.png" alt=""></p><p>æŠŠ88è¡Œæœ€åçš„ yesæ”¹ä¸ºnoã€‚</p><h3 id="3ã€æ·»åŠ authçš„å¯†ç "><a href="#3ã€æ·»åŠ authçš„å¯†ç " class="headerlink" title="3ã€æ·»åŠ authçš„å¯†ç "></a>3ã€æ·»åŠ authçš„å¯†ç </h3><p><img src="https://img-blog.csdnimg.cn/d6029e1f6ff14dbbb72e9d3d44d06af6.png" alt=""></p><p>åŠ ä¸Šrequirepass 123456 è¿™ä¸€è¡Œ</p><h3 id="4ã€å®‰è£…é˜²ç«å¢™"><a href="#4ã€å®‰è£…é˜²ç«å¢™" class="headerlink" title="4ã€å®‰è£…é˜²ç«å¢™"></a>4ã€å®‰è£…é˜²ç«å¢™</h3><p><a href="https://www.cnblogs.com/RedStand/p/13228346.html#:~:text=1%EF%BC%9A%20sudo%20apt%20install%20firewalld%20%2F%2F%E5%AE%89%E8%A3%85%E9%98%B2%E7%81%AB%E5%A2%99%202%EF%BC%9Asudo%20firewall-cmd,systemctl%20reload%20firewalld%20%2F%2F%E9%87%8D%E5%90%AF%E9%98%B2%E7%81%AB%E5%A2%99%205%EF%BC%9Asudo%20firewall-cmd%20--list-all%20%2F%2F%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E5%88%97%E8%A1%A8">Ubuntué˜²ç«å¢™å®‰è£…ä¸é…ç½® - çº¢è‰²ç«‹åœº - åšå®¢å›­</a></p><p><a href="https://www.cnblogs.com/Adoni/p/12887983.html#:~:text=2.%E5%BC%80%E5%90%AF6379%E7%AB%AF%E5%8F%A3%20%5Broot%40vm-centos-%201%20data%5D%23%20firewall-cmd%20--zone%3D%20public,--add-port%3D%206379%20%2Ftcp%20--%20permanent%20%23%E6%98%BE%E7%A4%BA%20success%203.%E9%87%8D%E5%90%AF%E9%98%B2%E7%81%AB%E5%A2%99">Centos7å¼€å¯6379ç«¯å£ - å‰çº¿ç å†œ - åšå®¢å›­</a></p><h3 id="5ã€é‡å¯è™šæ‹Ÿæœº"><a href="#5ã€é‡å¯è™šæ‹Ÿæœº" class="headerlink" title="5ã€é‡å¯è™šæ‹Ÿæœº"></a>5ã€é‡å¯è™šæ‹Ÿæœº</h3><h3 id="6ã€å¯åŠ¨redis"><a href="#6ã€å¯åŠ¨redis" class="headerlink" title="6ã€å¯åŠ¨redis"></a>6ã€å¯åŠ¨redis</h3><h3 id="7ã€æ–°å»ºmavené¡¹ç›®ï¼ˆWindowsç¯å¢ƒä¸‹ï¼‰"><a href="#7ã€æ–°å»ºmavené¡¹ç›®ï¼ˆWindowsç¯å¢ƒä¸‹ï¼‰" class="headerlink" title="7ã€æ–°å»ºmavené¡¹ç›®ï¼ˆWindowsç¯å¢ƒä¸‹ï¼‰"></a>7ã€æ–°å»ºmavené¡¹ç›®ï¼ˆWindowsç¯å¢ƒä¸‹ï¼‰</h3><p>pom.xmlæ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;redis.clients&lt;&#x2F;groupId&gt;        &lt;artifactId&gt;jedis&lt;&#x2F;artifactId&gt;        &lt;version&gt;3.0.0&lt;&#x2F;version&gt;    &lt;&#x2F;dependency&gt;&lt;&#x2F;dependencies&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æµ‹è¯•æ–‡ä»¶ï¼š"><a href="#æµ‹è¯•æ–‡ä»¶ï¼š" class="headerlink" title="æµ‹è¯•æ–‡ä»¶ï¼š"></a>æµ‹è¯•æ–‡ä»¶ï¼š</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">import</span> redis.clients.jedis.Jedis<span class="token punctuation">;</span>public class Main <span class="token punctuation">&#123;</span>    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        System.out.println<span class="token punctuation">(</span><span class="token string">"å“ˆå“ˆé»‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Jedis <span class="token assign-left variable">jedis</span><span class="token operator">=</span>new Jedis<span class="token punctuation">(</span><span class="token string">"è‡ªå·±çš„è™šæ‹Ÿæœºä¸Šé¢çš„åœ°å€"</span>, <span class="token number">6379</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jedis.auth<span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        String <span class="token assign-left variable">v</span><span class="token operator">=</span>jedis.ping<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        System.out.println<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h2><p><img src="https://img-blog.csdnimg.cn/bbc8b0ff2abe4456a47f1b4183168282.png" alt=""></p><p>è‡³æ­¤è¿æ¥æˆåŠŸäº†ï¼Œå…¶ä»–çš„æ“ä½œä¹Ÿå¯ä»¥è‡ªå·±è¯•ä¸€è¯•äº† </p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HyperLogLogï¼ˆå…³äºåŸºæ•°ç»Ÿè®¡ï¼‰</title>
      <link href="/2023/06/20/hyperloglog-guan-yu-ji-shu-tong-ji/"/>
      <url>/2023/06/20/hyperloglog-guan-yu-ji-shu-tong-ji/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>ä»Šå¤©åœ¨å¤ä¹ Redisçš„ä¸€ç§åœ¨Redis 2.8.9 ç‰ˆæœ¬æ›´æ–°çš„ç»“æ„çš„æ—¶å€™ï¼ŒçŸ¥é“äº†è¿™ä¸ªæ•°æ®ç»“æ„æ˜¯åŸºäºä¸€ç§ä¼˜ç§€çš„ç®—æ³•HyperLogLogï¼ŒåŸºæ•°ç»Ÿè®¡ç®—æ³•ï¼ˆç®€å•æ¥è¯´å°±æ˜¯ç»Ÿè®¡é›†åˆä¸­çš„å…ƒç´ æ•°é‡ï¼Œä½†æ˜¯å¯¹æ¯”setæœ‰äº†å¾ˆå¤§çš„ä¼˜åŒ–ï¼‰ï¼Œå°±å»äº†è§£äº†ä¸€ä¸‹è¿™ç§ç®—æ³•çš„ç²¾å¦™ä¹‹å¤„ã€‚</p><h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a>HyperLogLog</h2><p>è¿™ç§æ•°æ®ç»“æ„åœ¨Redisè¿™ç§NoSQLå‹æ•°æ®åº“ä¸­å¯ä»¥éå¸¸çœå†…å­˜çš„å»ç»Ÿè®¡å„ç§è®¡æ•°ï¼Œæ¯”å¦‚æ³¨å†Œ IP æ•°ã€æ¯æ—¥è®¿é—® IP æ•°ã€é¡µé¢å®æ—¶UVã€åœ¨çº¿ç”¨æˆ·æ•°ï¼Œå…±åŒå¥½å‹æ•°ç­‰ã€‚è¿™ä¸ªæ˜¯åº”ç”¨åœºæ™¯ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFADD k1 a b c d <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">9</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFADD k2 a b c d <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFMERGE k1 k2OK<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">9</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFADD k2 a b c <span class="token number">5</span> <span class="token number">6</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k2<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> keys *<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"k2"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"k1"</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k2<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">9</span><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFMERGE k1 k2 OK<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> PFCOUNT k1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œæœ‰ä¸‰ä¸ªæ“ä½œï¼šPFADDã€PFCOUNTã€PFMERGEã€‚</p><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><p>1ã€ä½¿ç”¨å°‘é‡å†…å­˜å°±å¯ä»¥ç»Ÿè®¡å¤§é‡çš„æ•°æ®ï¼Œæ¯”å¦‚åœ¨Redis ä¸­ä¸€ä¸ªé”®ä¸º12Kï¼Œå°±å¯ä»¥ç»Ÿè®¡2^64çš„æ•°æ®é‡ã€‚</p><p>2ã€ç»Ÿè®¡å­˜åœ¨ä¸€å®šçš„è¯¯å·®ï¼Œè¯¯å·®ç‡æ•´ä½“è¾ƒä½ï¼Œæ ‡å‡†è¯¯å·®ä¸º 0.81%ï¼ˆä½†æ˜¯å¯¹äºä¸€äº›æœ‰ä¸€å®šå®¹é”™ç‡çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¦‚IPç»Ÿè®¡ã€åœ¨çº¿ç”¨æˆ·æ•°ç­‰ï¼Œè¿™ç§è¯¯å·®æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼‰ï¼›</p><p>3ã€è¯¯å·®å¯ä»¥è¢«è®¾ç½®è¾…åŠ©è®¡ç®—å› å­è¿›è¡Œé™ä½ã€‚</p><p>åŸç†ï¼šæ¥è‡ªäºä¸€ç¯‡è®ºæ–‡<a href="http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf">http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf</a></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.zhihu.com/column/p/26015890">å…³äºåŸºæ•°ç»Ÿè®¡ - çŸ¥ä¹</a></p><p><a href="https://pdai.tech/md/db/nosql-redis/db-redis-data-type-special.html#hyperloglogs%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1">Rediså…¥é—¨ - æ•°æ®ç±»å‹ï¼š3ç§ç‰¹æ®Šç±»å‹è¯¦è§£ | Java å…¨æ ˆçŸ¥è¯†ä½“ç³»</a></p><p><a href="https://www.cnblogs.com/traditional/p/13326391.html">11. ä¼˜ç§€çš„åŸºæ•°ç»Ÿè®¡ç®—æ³•â€”HyperLogLog - å¤æ˜åœ°ç›† - åšå®¢å›­</a></p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++_ä¸­explicitçš„ä½œç”¨åŠç”¨æ³•</title>
      <link href="/2023/06/20/c-zhong-explicit-de-zuo-yong-ji-yong-fa/"/>
      <url>/2023/06/20/c-zhong-explicit-de-zuo-yong-ji-yong-fa/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><p><strong>ç›®å½•</strong></p><p><a href="#%C2%A0C%2B%2Bexplicit%EF%BC%88%E5%AE%98%E7%BD%91%E7%9A%84%E8%AF%B4%E6%B3%95%EF%BC%89"> C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰</a></p><p><a href="#C%2B%2Bexplicit%20%E6%B8%85%E6%A5%9A%E7%9A%84%E8%AF%B4%E6%B3%95%EF%BC%88%E5%BB%BA%E8%AE%AE%E8%8B%B1%E6%96%87%E4%B8%8D%E5%A5%BD%E7%9A%84%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B%E9%A3%9F%E7%94%A8%E5%93%A6%EF%BC%89">C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</a></p><p><a href="#C%2B%2Bexplicit%E4%BD%BF%E7%94%A8%E7%9A%84%E4%BE%8B%E5%AD%90%EF%BC%88%E5%BB%BA%E8%AE%AE%E5%96%9C%E6%AC%A2%E8%87%AA%E5%B7%B1%E6%95%B2%E4%BB%A3%E7%A0%81%E5%AE%9E%E9%AA%8C%E7%9A%84%E4%BB%8E%E8%BF%99%E9%87%8C%E5%BC%80%E5%A7%8B%E9%A3%9F%E7%94%A8%E5%93%A6%EF%BC%89">C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</a></p><p><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></p><h2 id="C-explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰"><a href="#C-explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰" class="headerlink" title="C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰"></a>C++explicitï¼ˆå®˜ç½‘çš„è¯´æ³•ï¼‰</h2><p><code>explicit</code> specifierï¼š<a href="https://en.cppreference.com/w/cpp/language/explicit">explicit specifier - cppreference.com</a><br><code>**explicit**</code>(1)<code>**explicit (**</code> expression <code>**)**</code>(2)(since C++20)<br>expression-<a href="https://en.cppreference.com/w/cpp/language/constant_expression#Converted_constant_expression">contextually converted constant expression of type bool</a></p><p> 1) Specifies that a constructor or conversion function (since C++11) or deduction guide (since C++17) is explicit, that is, it cannot be used for implicit conversions and copy-initialization.</p><p>ç¿»è¯‘ï¼šæŒ‡å®šæ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•° (C++11 èµ·) æˆ–æ¨å¯¼æŒ‡å— (C++17 èµ·) æ˜¯æ˜¾å¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸èƒ½ç”¨äºéšå¼è½¬æ¢å’Œå¤åˆ¶åˆå§‹åŒ–ã€‚</p><p>2) The explicit specifier may be used with a constant expression. The function is explicit if and only if that constant expression evaluates to true.</p><p>(since C++20) ç¿»è¯‘ï¼šæ˜¾å¼è¯´æ˜ç¬¦å¯ä»¥ä¸å¸¸é‡è¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚å½“ä¸”ä»…å½“è¯¥å¸¸é‡è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸ºçœŸæ—¶ï¼Œè¯¥å‡½æ•°æ‰æ˜¯æ˜¾å¼çš„ã€‚ </p><p>The explicit specifier may only appear within the decl-specifier-seq of the declaration of a constructor or conversion function (since C++11) within its class definition.</p><p>ç¿»è¯‘ï¼šæ˜¾å¼è¯´æ˜ç¬¦åªèƒ½å‡ºç°åœ¨å…¶ç±»å®šä¹‰ä¸­çš„æ„é€ å‡½æ•°æˆ–è½¬æ¢å‡½æ•°ï¼ˆC++11 èµ·ï¼‰å£°æ˜çš„ decl-specifier-seq ä¸­ã€‚</p><h2 id="C-explicit-æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"><a href="#C-explicit-æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰" class="headerlink" title="C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"></a>C++explicit æ¸…æ¥šçš„è¯´æ³•ï¼ˆå»ºè®®è‹±æ–‡ä¸å¥½çš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</h2><p><strong>explicitä½œç”¨:</strong> åœ¨C++ä¸­ï¼Œexplicitå…³é”®å­—ç”¨æ¥ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°ï¼Œè¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±»ï¼Œä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢ï¼Œåªèƒ½ä»¥æ˜¾å¼çš„æ–¹å¼è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p><p><strong>explicitä½¿ç”¨æ³¨æ„äº‹é¡¹:</strong>       ï¼ˆ1ï¼‰explicit å…³é”®å­—åªèƒ½ç”¨äºç±»å†…éƒ¨çš„æ„é€ å‡½æ•°å£°æ˜ä¸Šã€‚</p><pre><code>  ï¼ˆ2ï¼‰ explicit å…³é”®å­—ä½œç”¨äºå•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ã€‚* åœ¨C++ä¸­ï¼Œexplicitå…³é”®å­—ç”¨æ¥ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°ï¼Œè¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±»ï¼Œä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢</code></pre><h2 id="C-explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"><a href="#C-explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰" class="headerlink" title="C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰"></a>C++explicitä½¿ç”¨çš„ä¾‹å­ï¼ˆå»ºè®®å–œæ¬¢è‡ªå·±æ•²ä»£ç å®éªŒçš„ä»è¿™é‡Œå¼€å§‹é£Ÿç”¨å“¦ï¼‰</h2><p> ä¾‹å­</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Circle</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> _a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>_a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword">int</span> _b<span class="token punctuation">,</span> <span class="token keyword">int</span> _c<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">b</span><span class="token punctuation">(</span>_b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">c</span><span class="token punctuation">(</span>_c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>         <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword">const</span> Circle<span class="token operator">&amp;</span> A<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            a<span class="token operator">=</span>A<span class="token punctuation">.</span>a<span class="token punctuation">;</span> b<span class="token operator">=</span>A<span class="token punctuation">.</span>b<span class="token punctuation">;</span> c<span class="token operator">=</span>A<span class="token punctuation">.</span>c<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>b<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>c<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span><span class="token operator">:</span>        <span class="token keyword">double</span> a<span class="token punctuation">;</span>        <span class="token keyword">int</span> b<span class="token punctuation">;</span>        <span class="token keyword">int</span> c<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Circle1</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token function">Circle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">explicit</span> <span class="token function">Circle1</span><span class="token punctuation">(</span><span class="token keyword">double</span> _a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>_a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">explicit</span> <span class="token function">Circle1</span><span class="token punctuation">(</span><span class="token keyword">int</span> _b<span class="token punctuation">,</span> <span class="token keyword">int</span> _c<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">b</span><span class="token punctuation">(</span>_b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">c</span><span class="token punctuation">(</span>_c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">explicit</span> <span class="token function">Circle1</span><span class="token punctuation">(</span><span class="token keyword">const</span> Circle1<span class="token operator">&amp;</span> A<span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            a<span class="token operator">=</span>A<span class="token punctuation">.</span>a<span class="token punctuation">;</span> b<span class="token operator">=</span>A<span class="token punctuation">.</span>b<span class="token punctuation">;</span> c<span class="token operator">=</span>A<span class="token punctuation">.</span>c<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>b<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>c<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span><span class="token operator">:</span>        <span class="token keyword">double</span> a<span class="token punctuation">;</span>        <span class="token keyword">int</span> b<span class="token punctuation">;</span>        <span class="token keyword">int</span> c<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Circle <span class="token function">q1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Circle <span class="token function">w1</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    w1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//éšå¼è°ƒç”¨, ä¸ä¼šæŠ¥é”™</span>    Circle q2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// just like Circle q(1); è°ƒç”¨çš„æ˜¯Circle(double _a)</span>    Circle w2 <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span><span class="token comment">// just like Circle q(1.0); è°ƒç”¨çš„æ˜¯Circle(double _a)</span>    Circle e <span class="token operator">=</span> q2<span class="token punctuation">;</span><span class="token comment">// è°ƒç”¨çš„æ˜¯Circle(const Circle&amp; A)</span>            <span class="token comment">//éšå¼è°ƒç”¨ï¼Œä¼šæŠ¥é”™ï¼Œæ³¨æ„Circle1()çš„æ„é€ å‡½æ•°ï¼Œéƒ½æœ‰explicit</span>    <span class="token comment">// Circle1 q3 = 1;</span>    <span class="token comment">// Circle1 w3 = 1.0;</span>    <span class="token comment">// Circle1 e1 = q3;</span>    <span class="token comment">// ä»¥ä¸Šä¸‰è¡Œéƒ½ä¼šæŠ¥é”™ã€‚</span>     <span class="token comment">//æ˜¾å¼è°ƒç”¨ï¼Œéƒ½ä¸ä¼šæœ‰é—®é¢˜</span>    Circle1 <span class="token function">q3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Circle1 <span class="token function">w3</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Circle1 <span class="token function">e1</span><span class="token punctuation">(</span>q3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢ä¸‰è¡Œçš„æŠ¥é”™ä¿¡æ¯ï¼šï¼ˆè¿™ä¸ªæ˜¯æˆ‘åŸæ¥åœ¨å¦å¤–ä¸€ä¸ªè´¦å·å†™çš„åšå®¢ï¼Œç°åœ¨è´¦å·è½¬ç§»åˆ°è¿™ä¸ªäº†ï¼‰</p><p><img src="https://img-blog.csdnimg.cn/597541d462a9453d918bbb4657e54c68.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_16,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/ea541e17239346b9abf52c487615d072.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_17,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/583c79b46bd24c49953bb1a84ba525b1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSc54yr56iL5bqP54y_,size_14,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p> explicitå¯ä»¥æŠ‘åˆ¶å†…ç½®ç±»å‹éšå¼è½¬æ¢ï¼Œæ‰€ä»¥åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œæœ€å¥½å°½å¯èƒ½å¤šç”¨explicitå…³é”®å­—ï¼Œé˜²æ­¢ä¸å¿…è¦çš„éšå¼è½¬æ¢ã€‚  </p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ï¼šå‰ç½®++å’Œåç½®++çš„è¿ç®—ç¬¦é‡è½½ã€çº¢é»‘æ ‘çš„æ¦‚å¿µã€staticå…³é”®å­—</title>
      <link href="/2023/06/20/c-qian-zhi-he-hou-zhi-de-yun-suan-fu-chong-zai-hong-hei-shu-de-gai-nian-static-guan-jian-zi/"/>
      <url>/2023/06/20/c-qian-zhi-he-hou-zhi-de-yun-suan-fu-chong-zai-hong-hei-shu-de-gai-nian-static-guan-jian-zi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="å‰ç½®-å’Œåç½®-çš„è¿ç®—ç¬¦é‡è½½"><a href="#å‰ç½®-å’Œåç½®-çš„è¿ç®—ç¬¦é‡è½½" class="headerlink" title="å‰ç½®++å’Œåç½®++çš„è¿ç®—ç¬¦é‡è½½"></a>å‰ç½®++å’Œåç½®++çš„è¿ç®—ç¬¦é‡è½½</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>     <span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span> <span class="token keyword">class</span> <span class="token class-name">Interge</span><span class="token punctuation">&#123;</span>     <span class="token keyword">int</span> a<span class="token punctuation">;</span> <span class="token keyword">public</span><span class="token operator">:</span>     <span class="token function">Interge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>     <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>         <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     Interge<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>         <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token operator">++</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     Interge <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>         Interge temp<span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>         <span class="token keyword">this</span><span class="token operator">-></span>a<span class="token operator">++</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> temp<span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> â€‹ <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     Interge <span class="token function">i</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>     cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">++</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     <span class="token comment">// i++;</span>     cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     i<span class="token operator">++</span><span class="token operator">++</span><span class="token punctuation">;</span>     <span class="token comment">// ++i;</span>     cout<span class="token operator">&lt;&lt;</span>i<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h2><p><strong>çº¢é»‘æ ‘çš„ç‰¹æ€§</strong>:<strong>ï¼ˆ1ï¼‰æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚**</strong>ï¼ˆ2ï¼‰æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚<strong><strong>ï¼ˆ3ï¼‰æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚ [æ³¨æ„ï¼šè¿™é‡Œå¶å­èŠ‚ç‚¹ï¼Œæ˜¯æŒ‡ä¸ºç©º(NILæˆ–NULL)çš„å¶å­èŠ‚ç‚¹ï¼]</strong></strong>ï¼ˆ4ï¼‰å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚<strong>**ï¼ˆ5ï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚</strong></p><p><strong>çº¢é»‘æ ‘çš„åº”ç”¨</strong></p><p>çº¢é»‘æ ‘çš„åº”ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œä¸»è¦æ˜¯ç”¨å®ƒæ¥å­˜å‚¨æœ‰åºçš„æ•°æ®ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log2n)ï¼Œæ•ˆç‡éå¸¸ä¹‹é«˜ã€‚<strong>ä¾‹å¦‚ï¼ŒJavaé›†åˆä¸­çš„<a href="http://www.cnblogs.com/skywang12345/p/3311268.html">TreeSet</a>å’Œ<a href="http://www.cnblogs.com/skywang12345/p/3310928.html">TreeMap</a>ï¼ŒC++ STLä¸­çš„setã€mapï¼Œä»¥åŠLinuxè™šæ‹Ÿå†…å­˜çš„ç®¡ç†ï¼Œéƒ½æ˜¯é€šè¿‡çº¢é»‘æ ‘å»å®ç°çš„ã€‚</strong></p><h2 id="staticå…³é”®å­—"><a href="#staticå…³é”®å­—" class="headerlink" title="staticå…³é”®å­—"></a>staticå…³é”®å­—</h2><p>æ€»çš„æ¥è¯´</p><ul><li>ï¼ˆ1ï¼‰ä¿®é¥°å˜é‡ï¼Œstatic ä¿®é¥°çš„é™æ€å±€éƒ¨å˜é‡åªæ‰§è¡Œåˆå§‹åŒ–ä¸€æ¬¡ï¼Œå»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç›´åˆ°ç¨‹åºè¿è¡Œç»“æŸä»¥åæ‰é‡Šæ”¾ã€‚ +  ï¼ˆ2ï¼‰ä¿®é¥°å…¨å±€å˜é‡ï¼šå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è®¿é—®ï¼Œä¸èƒ½åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è®¿é—®ï¼Œ <strong>extern å¤–éƒ¨å£°æ˜</strong>ä¹Ÿä¸å¯ä»¥ã€‚ +  ï¼ˆ3ï¼‰ä¿®é¥°ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™è¿™ä¸ªå‡½æ•°çš„åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­è°ƒç”¨ï¼Œä¸èƒ½è¢«å…¶ä»–æ–‡ä»¶è°ƒç”¨ã€‚static ä¿®é¥°çš„å˜é‡å­˜æ”¾åœ¨å…¨å±€æ•°æ®åŒºçš„é™æ€å˜é‡åŒºï¼ŒåŒ…æ‹¬å…¨å±€é™æ€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ï¼Œéƒ½åœ¨å…¨å±€æ•°æ®åŒºåˆ†é…å†…å­˜ã€‚åˆå§‹åŒ–çš„æ—¶å€™è‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ã€‚ +  ï¼ˆ4ï¼‰ä¸æƒ³è¢«é‡Šæ”¾çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨staticä¿®é¥°ã€‚æ¯”å¦‚ä¿®é¥°å‡½æ•°ä¸­å­˜æ”¾åœ¨æ ˆç©ºé—´çš„æ•°ç»„ï¼Œå¦‚æœä¸æƒ³è®©è¿™ä¸ªæ•°ç»„åœ¨å‡½æ•°è°ƒç”¨ç»“æŸé‡Šæ”¾å¯ä»¥ä½¿ç”¨ static ä¿®é¥°ã€‚ +  ï¼ˆ5ï¼‰è€ƒè™‘åˆ°æ•°æ®å®‰å…¨æ€§ï¼ˆå½“ç¨‹åºæƒ³è¦ä½¿ç”¨å…¨å±€å˜é‡çš„æ—¶å€™åº”è¯¥å…ˆè€ƒè™‘ä½¿ç”¨ staticï¼‰ã€‚ </li></ul>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++å†…å­˜æ¨¡å‹ã€ç¼–è¯‘è¿‡ç¨‹ã€gccå‘½ä»¤</title>
      <link href="/2023/06/20/c-nei-cun-mo-xing-bian-yi-guo-cheng-gcc-ming-ling/"/>
      <url>/2023/06/20/c-nei-cun-mo-xing-bian-yi-guo-cheng-gcc-ming-ling/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="c-å†…å­˜æ¨¡å‹"><a href="#c-å†…å­˜æ¨¡å‹" class="headerlink" title="c++å†…å­˜æ¨¡å‹"></a>c++å†…å­˜æ¨¡å‹</h2><p>1ã€æºä»£ç åŒºï¼šå­˜å‚¨ä»£ç çš„åŒºåŸŸï¼ˆç±»ä¼¼jvmé‡Œçš„æ–¹æ³•åŒºï¼‰ 2ã€é™æ€åŒºï¼šå­˜å‚¨<strong>é™æ€</strong>å˜é‡å’Œ<strong>å…¨å±€å˜é‡</strong>çš„åŒºåŸŸï¼ˆç±»ä¼¼jvmé‡Œçš„æ–¹æ³•åŒºé‡Œçš„æ–¹æ³•åŒºï¼‰ 3ã€æ ˆåŒºï¼šå­˜å‚¨<strong>å±€éƒ¨å˜é‡</strong>å’Œ<strong>å‚æ•°</strong>çš„å†…å­˜åŒºåŸŸï¼Œ<strong>ç”±ç³»ç»Ÿå¼€è¾Ÿã€ç”±ç³»ç»Ÿå›æ”¶çš„å†…å­˜åŒºåŸŸ</strong> 4ã€å †åŒºï¼š<strong>ç¨‹åºå‘˜å¼€è¾Ÿ</strong>çš„ä¸€å—å†…å­˜åŒºåŸŸç”¨æ¥å­˜å‚¨å¯¹è±¡çš„åŒºåŸŸï¼Œç”±<strong>ç”¨æˆ·å¼€è¾Ÿå’Œå›æ”¶</strong>çš„å†…å­˜åŒºåŸŸã€‚ 5ã€å¸¸é‡åŒº(å­—é¢å€¼åŒº)ï¼šå­˜å‚¨constå¸¸é‡ æŒ‡é’ˆå˜é‡èƒ½æŒ‡å‘é‚£äº›åŒºåŸŸï¼š æ ˆåŒºã€å †åŒºã€é™æ€åŒºã€å¸¸é‡åŒºã€ä»£ç åŒº</p><p><img src="https://img-blog.csdnimg.cn/aacad79859a442289a42a7b8467a614b.png" alt=""></p><p>å †åŒºå’Œæ ˆåŒºçš„æ³¨æ„ç‚¹ï¼š</p><p>1ã€æ ˆæ˜¯å‘ä¸‹å¢é•¿ï¼Œè€Œå †æ˜¯å‘ä¸Šå¢é•¿ã€‚</p><p>2ã€æ ˆç”±ç³»ç»Ÿç®¡ç†ï¼Œæ²¡æœ‰å†…å­˜ç¢ç‰‡ï¼Œæ¯ä¸ªå…ƒç´ ä¹‹é—´éƒ½æ˜¯è¿ç»­çš„ï¼›å †åŒºå­˜å‚¨çš„æ˜¯ç¨‹åºå‘˜newå‡ºæ¥çš„å˜é‡ï¼Œæ˜¯åŠ¨æ€å¼€è¾Ÿçš„ã€‚</p><h2 id="c-ç¼–è¯‘è¿‡ç¨‹"><a href="#c-ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="c++ç¼–è¯‘è¿‡ç¨‹"></a>c++ç¼–è¯‘è¿‡ç¨‹</h2><ul><li><strong>ç¼–è¯‘é¢„å¤„ç†</strong>+ <strong>ç¼–è¯‘ã€ä¼˜åŒ–é˜¶æ®µ</strong>+ <strong>æ±‡ç¼–</strong>+ <strong>é“¾æ¥</strong></li></ul><p><strong>é“¾æ¥è¿‡ç¨‹</strong></p><p>ä¸»è¦æ˜¯è§£å†³åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¼•ç”¨äº†å¦å¤–çš„ä¸€ä¸ªæ–‡ä»¶ä¸­å˜é‡æˆ–å‡½æ•°çš„é—®é¢˜ï¼Œå®ƒå°†æœ‰å…³çš„ç›®æ ‡æ–‡ä»¶å½¼æ­¤ç›¸è¿æ¥ï¼Œä½¿å¾—æ‰€æœ‰çš„è¿™äº›ç›®æ ‡æ–‡ä»¶æˆä¸ºä¸€ä¸ªèƒ½å¤Ÿè¢«æ“ä½œç³»ç»Ÿè£…å…¥æ‰§è¡Œçš„ç»Ÿä¸€æ•´ä½“ã€‚</p><p>åœ¨ã€Šç¼–è¯‘åŸç†ã€‹ä¸­æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ä¸€ä¸ªç¼–è¯‘å™¨å¯¹ç¨‹åºä»£ç çš„ç¼–è¯‘ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ ä¸ªè¿‡ç¨‹ï¼ša) è¯æ³•åˆ†æ b) è¯­æ³•åˆ†æ c) è¯­ä¹‰åˆ†æ d) ä¸­é—´ä»£ç ç”Ÿæˆ e) ä»£ç ä¼˜åŒ– f) ç›®æ ‡ä»£ç ç”Ÿæˆ g) ç¬¦å·è¡¨ç®¡ç† h) å°†å¤šä¸ªæ­¥éª¤ç»„åˆæˆè¶Ÿ i) ç¼–è¯‘å™¨æ„é€ å·¥å…·</p><h2 id="GCCç¼–è¯‘è¿‡ç¨‹"><a href="#GCCç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="GCCç¼–è¯‘è¿‡ç¨‹"></a>GCCç¼–è¯‘è¿‡ç¨‹</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/83d6486e62afc8830623c71b51a32dc1.png" alt=""></p><p>åœ¨Linuxä¸‹ä½¿ç”¨çš„gccç¼–è¯‘å™¨å°†ä¸Šé¢å‡ ä¸ªè¿‡ç¨‹æ†ç»‘åœ¨ä¸€èµ·ï¼Œç®€åŒ–æˆ‘ä»¬çš„ä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¯ä»¥é€šè¿‡æŒ‡å®šä¸åŒçš„å‚æ•°ï¼Œæ¥åˆ†åˆ«æ‰§è¡Œå„ä¸ªè¿‡ç¨‹ï¼š<br>å‘½ä»¤ï¼ˆ-oåé¢éƒ½æ˜¯è‡ªå·±æŒ‡å®šçš„æ–‡ä»¶åå­—ï¼‰å·¥ä½œå†…å®¹gcc -E hello.c -o hello.ié¢„å¤„ç†gcc -S hello.c -o hello.sç¼–è¯‘gcc hello.s -o hello.oæ±‡ç¼–gcc hello.o -o helloé“¾æ¥</p><p>1.cppçš„å†…å®¹</p><p><img src="https://img-blog.csdnimg.cn/37e54de88a0442949d95bfd5983d6a6c.png" alt=""></p><p>æ‰§è¡Œé¢„å¤„ç†å‘½ä»¤åï¼š ï¼ˆæ–‡ä»¶åæ˜¯1.cppï¼‰</p><p><img src="https://img-blog.csdnimg.cn/a54b46b64e934fc7ab827dff5d873618.png" alt=""></p><p>ä¸€æ­¥ç¼–è¯‘è¿è¡Œï¼š </p><p><img src="https://img-blog.csdnimg.cn/72c6d674b3784babb0f0d7fdc3e8fcaf.png" alt=""></p><h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><p><a href="https://paul.pub/cpp-memory-model/">C++ å†…å­˜æ¨¡å‹</a></p><p><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/gcc_make.html">GCC and Make - A Tutorial on how to compile, link and build C/C++ applications</a></p><p><a href="https://blog.csdn.net/Hongwei_1990/article/details/84558733">C/C++ ç¼–è¯‘æµç¨‹ï¼ˆé¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥ï¼‰_deepwater_zoneçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++_å¤šçº¿ç¨‹ï¼šåŸå­æ“ä½œatomic</title>
      <link href="/2023/06/20/c-duo-xian-cheng-yuan-zi-cao-zuo-atomic/"/>
      <url>/2023/06/20/c-duo-xian-cheng-yuan-zi-cao-zuo-atomic/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="åŸå­æ“ä½œatomic"><a href="#åŸå­æ“ä½œatomic" class="headerlink" title="åŸå­æ“ä½œatomic"></a>åŸå­æ“ä½œatomic</h2><p><a href="https://juejin.cn/post/7086226046931959838">C++ å¤šçº¿ç¨‹ï¼šåŸå­ç±»å‹</a></p><p>æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªè¦å†™æ•°æ®ï¼Œä¸€ä¸ªè¯»æ•°æ®ï¼Œå¦‚æœä¸åŠ é”ï¼Œå¯èƒ½ä¼šé€ æˆè¯»å†™å€¼æ··ä¹±ï¼Œä½¿ç”¨<code>std::mutex</code>ç¨‹åºæ‰§è¡Œä¸ä¼šå¯¼è‡´æ··ä¹±ï¼Œ<strong>ä½†æ˜¯æ¯ä¸€æ¬¡å¾ªç¯éƒ½è¦åŠ é”è§£é”æ˜¯çš„ç¨‹åºå¼€é”€å¾ˆå¤§ã€‚</strong> ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒC++11æä¾›äº†åŸå­ç±»å‹(<code>std::atomic&lt;T&gt;</code>)ï¼Œå®ƒæä¾›äº†å¤šçº¿ç¨‹é—´çš„åŸå­æ“ä½œï¼Œå¯ä»¥æŠŠåŸå­æ“ä½œç†è§£æˆä¸€ç§ï¼š <strong>ä¸éœ€è¦ç”¨åˆ°äº’æ–¥é‡åŠ é”ï¼ˆæ— é”ï¼‰æŠ€æœ¯çš„å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹æ–¹å¼ã€‚</strong> å®ƒå®šä¹‰åœ¨<code>&lt;atomic&gt;</code>å¤´æ–‡ä»¶ä¸­ï¼ŒåŸå­ç±»å‹æ˜¯å°è£…äº†ä¸€ä¸ªå€¼çš„ç±»å‹ï¼Œå®ƒçš„è®¿é—®ä¿è¯ä¸ä¼šå¯¼è‡´æ•°æ®çš„ç«äº‰ï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºåœ¨ä¸åŒçš„çº¿ç¨‹ä¹‹é—´åŒæ­¥å†…å­˜è®¿é—®ã€‚ä»æ•ˆç‡ä¸Šæ¥è¯´ï¼ŒåŸå­æ“ä½œè¦æ¯”äº’æ–¥é‡çš„æ–¹å¼æ•ˆç‡è¦é«˜ã€‚</p><p><strong>atomicç±»å‹åŸå­æ“ä½œå®£å‘ŠC++11æ¥åˆ°äº†å¤šçº¿ç¨‹å’Œå¹¶è¡Œç¼–ç¨‹çš„æ—¶ä»£ã€‚</strong> ç›¸å¯¹äºåäºåº•å±‚çš„<code>pthread</code>åº“ï¼ŒC++é€šè¿‡å®šä¹‰åŸå­ç±»å‹çš„æ–¹å¼ï¼Œè½»æ¾åœ°åŒ–è§£äº†äº’æ–¥è®¿é—®å…±äº«æ•°æ®çš„éš¾é¢˜ã€‚</p><p>atomicçš„ä¸¤ä¸ªæ–¹æ³•ï¼šload()//è¯»å–æ•°æ® store()//å­˜å‚¨æ•°æ® fetch_add(val)//åŠ æ³• fetch_sub(val)//å‡æ³• exchange()</p><p>å¯ä»¥ç”¨åœ¨æŒ‡é’ˆå¯¹è±¡ä¸Šï¼Œä½†æ˜¯åªè¡¨ç¤ºæŒ‡é’ˆæ˜¯åŸå­ç±»å‹ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ä¸ä¸€å®šæ˜¯ï¼Œatomic<int *> ptr;</p><p>å…³äºloadã€storeçš„ä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// atomic::load/store example</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>       <span class="token comment">// std::cout</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;atomic></span>         <span class="token comment">// std::atomic, std::memory_order_relaxed</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread></span>         <span class="token comment">// std::thread</span></span>std<span class="token double-colon punctuation">::</span>atomic<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">set_foo</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  foo<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// set value atomically</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">print_foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> x<span class="token punctuation">;</span>  <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>    x <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>memory_order_relaxed<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// get value atomically</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"foo: "</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token comment">// 10</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>thread <span class="token function">first</span> <span class="token punctuation">(</span>print_foo<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>thread <span class="token function">second</span> <span class="token punctuation">(</span>set_foo<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  first<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  second<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSDN_åšå®¢å¯¼å‡ºå·¥å…·,_ç”¨äºå°†_CSDN_åšå®¢å¯¼å‡ºä¸º_Markdown_/_PDF</title>
      <link href="/2023/06/20/csdn-bo-ke-dao-chu-gong-ju-yong-yu-jiang-csdn-bo-ke-dao-chu-wei-markdownpdf/"/>
      <url>/2023/06/20/csdn-bo-ke-dao-chu-gong-ju-yong-yu-jiang-csdn-bo-ke-dao-chu-wei-markdownpdf/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="CSDNExporter"><a href="#CSDNExporter" class="headerlink" title="CSDNExporter"></a>CSDNExporter</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>CSDN åšå®¢å¯¼å‡ºå·¥å…·, ç”¨äºå°† CSDN åšå®¢å¯¼å‡ºä¸º Markdown / PDF æ ¼å¼. æ¯”è¾ƒèµçš„åœ°æ–¹åœ¨äº, å®ƒ ä¸ä»…æ”¯æŒä¸€ç¯‡åšæ–‡çš„å¯¼å‡º, è¿˜æ”¯æŒå°†æŸä¸ªç±»ç›®ä¸‹çš„åšæ–‡æ‰¹é‡å¯¼å‡º, ä»¥åŠå°†å¯¼å‡ºçš„å¤šç¯‡åšæ–‡æ±‡æ€»ä¸º ä¸€ç¯‡, ä»¥ä¾¿ç”¨äºå…¨å±€æœç´¢, å…·ä½“æ•ˆæœå¯ä»¥æŸ¥çœ‹ .</p><h2 id="è¿è¡Œè„šæœ¬"><a href="#è¿è¡Œè„šæœ¬" class="headerlink" title="è¿è¡Œè„šæœ¬"></a>è¿è¡Œè„šæœ¬</h2><ul><li>Linuxç³»ç»Ÿè¿è¡Œ å¯åŠ¨è„šæœ¬ä¸º <code>./run.sh</code>, ä½¿ç”¨ <code>chmod +x run.sh</code> å¢åŠ å…¶å¯æ‰§è¡Œæƒé™;(å¹¶æ²¡æœ‰æµ‹è¯•)</li><li>Windowsç³»ç»Ÿå¯åŠ¨ å¯åŠ¨è„šæœ¬ä¸º<code>run.bat</code>, åŒå‡»æ‰“å¼€æˆ–è€…åœ¨cmdä¸­è¿è¡Œ<code>run.bat</code>ã€‚</li></ul><h2 id="ä¿®æ”¹çš„åœ°æ–¹"><a href="#ä¿®æ”¹çš„åœ°æ–¹" class="headerlink" title="ä¿®æ”¹çš„åœ°æ–¹"></a>ä¿®æ”¹çš„åœ°æ–¹</h2><p>1ã€å°†ä¸‹è½½çš„åšå®¢çš„å›¾ç‰‡åˆ†å¼€ä¿å­˜åœ¨titleâ€¦assetsæ–‡ä»¶ä¸­ï¼Œåšå®¢ä¸­æœ‰å›¾ç‰‡çš„æ—¶å€™æ‰ä¼šåˆ›å»ºå›¾ç‰‡ç›®å½•ï¼Œåªä¼šåˆ›å»ºä¸€æ¬¡</p><p>utils.py å¢åŠ äº†ä¸€ä¸ªå‚æ•°title</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> html<span class="token punctuation">,</span> title<span class="token punctuation">,</span> is_win<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    self<span class="token punctuation">.</span>html <span class="token operator">=</span> html    self<span class="token punctuation">.</span>soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>    self<span class="token punctuation">.</span>outputs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    self<span class="token punctuation">.</span>fig_dir <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'./figures/</span><span class="token interpolation"><span class="token punctuation">&#123;</span>title<span class="token punctuation">&#125;</span></span><span class="token string">'</span></span><span class="token operator">+</span><span class="token string">'.assets'</span>    self<span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token boolean">False</span>    self<span class="token punctuation">.</span>equ_inline <span class="token operator">=</span> <span class="token boolean">False</span>    self<span class="token punctuation">.</span>is_win <span class="token operator">=</span> is_win    self<span class="token punctuation">.</span>recursive<span class="token punctuation">(</span>self<span class="token punctuation">.</span>soup<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>recursive(self, soup):</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">recursive</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> soup<span class="token punctuation">)</span><span class="token punctuation">:</span>    â€¦â€¦â€¦â€¦    <span class="token keyword">elif</span> tag <span class="token operator">==</span> <span class="token string">'img'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> exists<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fig_dir<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># åšå®¢ä¸­æœ‰å›¾ç‰‡çš„æ—¶å€™æ‰ä¼šåˆ›å»ºå›¾ç‰‡ç›®å½•ï¼Œåªä¼šåˆ›å»ºä¸€æ¬¡</span>            os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fig_dir<span class="token punctuation">)</span>    â€¦â€¦â€¦â€¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ã€è¾“å…¥ç”¨æˆ·åå°±å¯ä»¥ç›´æ¥æ‰¾åˆ°çš„ç”¨æˆ·çš„åšå®¢ä¸“æ ï¼Œæ‹¿åˆ°æ‰€æœ‰ä¸“æ ä¸‹é¢çš„æ–‡ç« </p><p>run.bat å…ˆå°†æ‰€æœ‰çš„categoriesä¿å­˜åœ¨userName.txtä¸­</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> %download_category% <span class="token operator">==</span> <span class="token string">"true"</span> <span class="token punctuation">(</span>  <span class="token builtin class-name">echo</span> <span class="token string">"Obtain blog directory link: save in userName.txt........"</span>  python <span class="token parameter variable">-u</span> link.py %userName%<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å†è¯»å–userName.txtæ–‡ä»¶çš„é“¾æ¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> /f <span class="token string">"tokens=* delims="</span> %%a <span class="token keyword">in</span> <span class="token punctuation">(</span>m0_67623521.txt<span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token punctuation">(</span>  <span class="token builtin class-name">echo</span> %%a  <span class="token keyword">if</span> %download_category% <span class="token operator">==</span> <span class="token string">"true"</span> <span class="token punctuation">(</span>      <span class="token builtin class-name">echo</span> <span class="token string">"Download a category"</span>      python <span class="token parameter variable">-u</span> main.py ^          <span class="token parameter variable">--category_url</span> %%a ^          <span class="token parameter variable">--start_page</span> %start_page% ^          <span class="token parameter variable">--page_num</span> %page_num% ^          <span class="token parameter variable">--markdown_dir</span> %markdown_dir% ^          <span class="token parameter variable">--pdf_dir</span> %pdf_dir% ^          <span class="token parameter variable">--combine_together</span> ^          <span class="token parameter variable">--to_pdf</span> ^          <span class="token parameter variable">--is_win</span> <span class="token number">1</span>          @REM <span class="token parameter variable">--with_title</span> ^          @REM <span class="token parameter variable">--rm_cache</span>   <span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>link.py</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">user <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># æ‹¿åˆ°å‘½ä»¤è¡Œä¸‹çš„ç”¨æˆ·åå‚æ•°</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å°†è¿æ¥å†™å…¥æ–‡ä»¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> li <span class="token keyword">in</span> lis<span class="token punctuation">:</span>    <span class="token comment"># print("####")</span>    url <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span>    title <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span>    titles<span class="token punctuation">.</span>append<span class="token punctuation">(</span>title<span class="token punctuation">)</span>    infos<span class="token punctuation">[</span>title<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"url"</span><span class="token punctuation">:</span>url<span class="token punctuation">&#125;</span>    <span class="token comment"># print("[+]"+title+url)</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>user<span class="token operator">+</span><span class="token string">'.txt'</span><span class="token punctuation">,</span><span class="token string">'a+'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment">#è®¾ç½®æ–‡ä»¶å¯¹è±¡</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>å¦å¤–è¦è¯´æ˜çš„æ˜¯:</p><ul><li>å®‰è£…å¿…è¦çš„ Python åº“, å¦‚ <code>httpx</code>, <code>requests</code>, <code>BeautifulSoup</code>, <code>bs4</code>;</li><li>ä¸ºäº†è§£æå›¾ç‰‡é“¾æ¥, éœ€è¦å®‰è£… <a href="https://aria2.github.io/">aria2</a>, å¹¶ä¿è¯èƒ½åœ¨å‘½ä»¤è¡Œå¯åŠ¨;</li><li>ä¸ºäº†è½¬æ¢ä¸º PDF, éœ€è¦å®‰è£… <a href="https://pandoc.org/">Pandoc</a>ï¼Œ(åšä¸»è¯¥åŠŸèƒ½æˆ‘å¹¶æ²¡æœ‰æµ‹è¯•)ã€‚</li><li>è¯¥åšå®¢å¯¼å‡ºå·¥å…·å†æˆ‘çš„éœ€æ±‚ä¸‹å°±æ˜¯æ‹¿åˆ°mdæ–‡ä»¶ï¼Œç°åœ¨çš„åŠŸèƒ½æˆ‘è¿˜æ˜¯æ¯”è¾ƒæ»¡æ„</li></ul><h2 id="å¯¹äºå®‰è£…aria2çš„é—®é¢˜"><a href="#å¯¹äºå®‰è£…aria2çš„é—®é¢˜" class="headerlink" title="å¯¹äºå®‰è£…aria2çš„é—®é¢˜"></a>å¯¹äºå®‰è£…aria2çš„é—®é¢˜</h2><p>æˆ‘å‚è€ƒäº†ä»¥ä¸‹åšæ–‡ï¼š</p><p><a href="https://blog.csdn.net/weizuer123/article/details/127411328">ç”µè„‘Windowså®‰è£…Aria2é…ç½®è¯¦ç»†æ•™ç¨‹å…¨èƒ½çš„ä¸‹è½½ç¥å™¨</a></p><p><a href="https://www.bilibili.com/read/cv21314846?from=search">Aria2å°ç™½å…¥é—¨çº§éƒ¨ç½²</a></p><p><a href="https://tomford1986.blogspot.com/2018/01/aria2.html">è¶…ç®€å•çš„Aria2ä½¿ç”¨æ•™ç¨‹</a></p><p><a href="https://controlnet.space/2021/06/08/note/aria2-setup/">Aria2å‚»ç“œå®‰è£…éƒ¨ç½²æŒ‡å—</a></p><p><a href="http://aria2c.com/usage.html">Aria2 &amp; YAAW ä½¿ç”¨è¯´æ˜</a></p><p>å¦‚æœæƒ³è¦ä¸‹è½½é…ç½®å¥½çš„aria2ï¼Œå¯ä»¥åœ¨CSDNç§èŠ<a href="https://blog.csdn.net/m0_67623521?type=blog">æˆ‘çš„åšå®¢</a> ã€‚</p><h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p><a href="https://github.com/allenmirac/CSDNExporter">allenmirac-CSDNExporter</a></p><h1 id="å·¨äººçš„è‚©è†€"><a href="#å·¨äººçš„è‚©è†€" class="headerlink" title="å·¨äººçš„è‚©è†€"></a>å·¨äººçš„è‚©è†€</h1><p><a href="https://github.com/axzml/CSDNExporter">axzml-CSDNExporter</a></p><p><a href="https://blog.csdn.net/Eric_1993/article/details/104772437">å¯¼å‡º CSDN åšå®¢è‡³ Markdown æˆ– PDF æ ¼å¼ (è¿‘ä¹å®Œç¾)</a></p><p><a href="https://blog.csdn.net/qq_53381910/article/details/130816856">è·å–æŒ‡å®šåšä¸»æ‰€æœ‰ä¸“æ é“¾æ¥åŠåšæ–‡é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPPæŒ‡é’ˆçš„ç§ç±»ä»¥åŠåŒºåˆ«</title>
      <link href="/2023/06/20/cpp-zhi-zhen-de-chong-lei-yi-ji-qu-bie/"/>
      <url>/2023/06/20/cpp-zhi-zhen-de-chong-lei-yi-ji-qu-bie/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="CPPæŒ‡é’ˆ"><a href="#CPPæŒ‡é’ˆ" class="headerlink" title="CPPæŒ‡é’ˆ"></a>CPPæŒ‡é’ˆ</h1><h2 id="ç©ºæŒ‡é’ˆ"><a href="#ç©ºæŒ‡é’ˆ" class="headerlink" title="ç©ºæŒ‡é’ˆ"></a>ç©ºæŒ‡é’ˆ</h2><p>åœ¨Cå’ŒC++ä¸­ï¼Œç”¨0å’Œ<code>NULL</code>éƒ½å¯ä»¥è¡¨ç¤ºç©ºæŒ‡é’ˆ</p><p>ç©ºæŒ‡é’ˆè¯¯æ“ä½œçš„åæœï¼šå¦‚æœå¯¹ç©ºæŒ‡é’ˆè§£å¼•ç”¨ï¼Œç¨‹åºä¼šå´©æºƒï¼Œ<strong>å¦‚æœå¯¹ç©ºæŒ‡é’ˆä½¿ç”¨ delete è¿ç®—ç¬¦ï¼Œç¨‹åºä¼šå¿½ç•¥è¿™ä¸ªæ“ä½œï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œæ‰€ä»¥ï¼Œåœ¨å†…å­˜è¢«é‡Šæ”¾ä¹‹åä¹Ÿåº”è¯¥ï¼ŒæŠŠæŒ‡é’ˆç½®ä¸ºç©ºæŒ‡é’ˆ</strong>ã€‚</p><p><strong>1ã€ä¸ºä»€ä¹ˆç©ºæŒ‡é’ˆä¼šå‡ºç°è®¿é—®å¼‚å¸¸ï¼Ÿ</strong></p><p>NULLç©ºæŒ‡é’ˆè¢«åˆ†é…çš„åŒºåŸŸæ˜¯ä¸€ä¸ªç©ºé—²çš„åŒºåŸŸï¼Œæ²¡æœ‰å¯¹åº”çš„ç‰©ç†ç©ºé—´ä¸ä¹‹å¯¹åº”ï¼Œæ‰€ä»¥å¯¹è¿™æ®µç©ºé—´æ¥è¯´ï¼Œä»»ä½•è¯»æ“ä½œéƒ½æ˜¯éæ³•çš„ï¼Œå¹¶ä¸”<strong>æ— è®ºä½•æ—¶</strong>éƒ½è¦ä¿è¯è¿™ä¸ªåŒºåŸŸéƒ½æ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„åœ°å€ï¼ˆç©ºæŒ‡é’ˆåŒºåŸŸï¼‰ã€‚</p><p><strong>2ã€C++ 11 çš„ nullptr</strong></p><p>ç”±äº ä½¿ç”¨ 0 å’Œ <code>NULL</code> è¡¨ç¤ºç©ºæŒ‡é’ˆä¼šå‡ºç°æ­§ä¹‰ï¼ŒC++ 11 æ¨èä½¿ç”¨ <code>nullptr</code> ï¼Œä¹Ÿå°±æ˜¯ <code>(void *)0</code>ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> åœ¨ Linux å¹³å°ä¸‹ï¼Œè¦ä½¿ç”¨<code>nullptr</code>ç¼–è¯‘éœ€è¦åŠ ä¸Š <code>-std=C++11</code>å‚æ•°</p><h2 id="é‡æŒ‡é’ˆ"><a href="#é‡æŒ‡é’ˆ" class="headerlink" title="é‡æŒ‡é’ˆ"></a>é‡æŒ‡é’ˆ</h2><p>æŒ‡é’ˆåªç”³æ˜ï¼Œä½†æœªåˆå§‹åŒ–ï¼Œå°±ä¼šå‡ºç°ï¼Œ<code>int* p</code>ï¼Œæ­¤æ—¶på°±æ˜¯é‡æŒ‡é’ˆã€‚</p><p><strong>è§„é¿æ–¹æ³•ï¼š</strong> 1ï¼‰æŒ‡é’ˆåœ¨å®šä¹‰çš„æ—¶å€™ï¼Œå¦‚æœæ²¡åœ°æ–¹æŒ‡ï¼Œå°±åˆå§‹åŒ–ä¸º <code>nullptr</code> ã€‚ 2ï¼‰åŠ¨æ€åˆ†é…çš„å†…å­˜è¢«é‡Šæ”¾åï¼Œå°†å…¶ç½®ä¸º <code>nullptr</code> ã€‚ 3ï¼‰ä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ã€‚ <strong>æ³¨æ„ï¼š</strong> é‡æŒ‡é’ˆçš„å±å®³æ¯”ç©ºæŒ‡é’ˆè¦å¤§å¾ˆå¤šï¼Œåœ¨ç¨‹åºä¸­ï¼Œå¦‚æœè®¿é—®é‡æŒ‡é’ˆï¼Œå¯èƒ½ä¼šé€ æˆç¨‹åºçš„å´©æºƒã€‚æ˜¯<strong>å¯èƒ½ï¼Œä¸æ˜¯ä¸€å®šï¼ˆå› ä¸ºä½ ä¹Ÿä¸çŸ¥é“å®ƒåˆå§‹åŒ–åˆ°åº•æŒ‡å‘äº†å“ªé‡Œï¼‰</strong>ï¼Œç¨‹åºçš„è¡¨ç°æ˜¯ä¸ç¨³å®šï¼Œå¢åŠ äº†è°ƒè¯•ç¨‹åºçš„éš¾åº¦ã€‚</p><h2 id="æŒ‡é’ˆä¸æ•°ç»„åçš„åŒºåˆ«"><a href="#æŒ‡é’ˆä¸æ•°ç»„åçš„åŒºåˆ«" class="headerlink" title="æŒ‡é’ˆä¸æ•°ç»„åçš„åŒºåˆ«"></a>æŒ‡é’ˆä¸æ•°ç»„åçš„åŒºåˆ«</h2><p>æŒ‡é’ˆæ˜¯ä¸€ä¸ªåœ°å€å 4ä¸ªå­—èŠ‚ï¼Œè€Œæ•°ç»„åæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥é€šè¿‡ <code>sizeof</code> ä½“ç°å‡ºæ¥</p><pre class="line-numbers language-none"><code class="language-none">#include&lt;iostream&gt;using namespace std;int main()&#123;  int a[10];  int *a1;  cout&lt;&lt;sizeof(a)&lt;&lt;endl;&#x2F;&#x2F;40  cout&lt;&lt;sizeof(a1)&lt;&lt;endl;&#x2F;&#x2F;4&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå½“æ•°ç»„åä½œä¸º<strong>å‡½æ•°çš„å‚æ•°</strong>æ¥ä¼ é€’çš„æ—¶å€™ï¼Œä»–çš„é«˜è´µçš„æ•°ç»„ç»“æ„ç‰¹æ€§å·²ç»å¤±å»äº†ï¼Œæˆäº†ä¸€ä¸ªåœ°åœ°é“é“çš„åªæ‹¥æœ‰4ä¸ªå­—èŠ‚çš„<strong>å¹³æ°‘</strong>ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"sizeof(arr): "</span><span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰€ä»¥ä¸€å®šè¦åŠ ä¸Šæ•°ç»„çš„é•¿åº¦ã€‚</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"sizeof(arr): "</span><span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token function">func1</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">func2</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//20</span><span class="token comment">//sizeof(arr): 4</span><span class="token comment">//1</span><span class="token comment">//sizeof(arr): 4</span><span class="token comment">//1</span><span class="token comment">//2</span><span class="token comment">//3</span><span class="token comment">//4</span><span class="token comment">//5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ inlineå…³é”®å­—</title>
      <link href="/2023/06/20/c-inline-guan-jian-zi/"/>
      <url>/2023/06/20/c-inline-guan-jian-zi/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="inlineå…³é”®å­—"><a href="#inlineå…³é”®å­—" class="headerlink" title="inlineå…³é”®å­—"></a>inlineå…³é”®å­—</h2><p>åœ¨å‡½æ•°å£°æ˜å’Œå®šä¹‰åŠ ä¸Šï¼Œä½¿ä¹‹ç§°ä¸ºå†…è”å‡½æ•°ã€‚å¦‚æœä¸€äº›ç®€å•çš„å‡½æ•°ç›´æ¥åœ¨ç±»ä¸­å£°æ˜å¹¶ä¸”å®šä¹‰ï¼Œç¼–è¯‘å™¨å¯ä»¥å°†å…¶ä¼˜åŒ–ä¸ºå†…è”å‡½æ•°ã€‚</p><p>æ³¨ï¼šå†…è”å‡½æ•°å¯ä»¥å‡å°‘å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼šåŸå› æ˜¯å®ƒå¯ä»¥åœ¨ä½¿ç”¨æ—¶ç›´æ¥è¿›è¡Œæ›¿æ¢ï¼ˆåƒå®ä¸€æ ·å±•å¼€ï¼‰ï¼Œä»è€Œé¿å…å‡ºç°å‚æ•°å‹æ ˆã€ä»£ç ç”Ÿæˆç­‰æ“ä½œï¼Œä½†æ˜¯å¦‚æœå‡½æ•°ä½“è¿‡å¤§ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå°†å…¶ä½œä¸ºå†…è”å‡½æ•°ï¼Œå³ä½¿åŠ äº†å…³é”®å­—inlineï¼ŒåŒæ—¶å†…è”å‡½æ•°ä¸èƒ½é€’å½’ã€‚</p><p>inlineå…³é”®å­—å£°æ˜çš„å‡½æ•°ä¾æ—§æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥ä¼šæœ‰ç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥æ¶ˆé™¤Cè¯­è¨€å®çš„ä¸€äº›ç¼ºç‚¹ã€‚</p><p>å…³é”®å­—inlineå¿…é¡»ä¸å‡½æ•°å®šä¹‰æ”¾åœ¨ä¸€èµ·æ‰èƒ½ä½¿å‡½æ•°æˆä¸ºå†…è”å‡½æ•°ï¼Œä»…ä»…å°†inlineæ”¾åœ¨å‡½æ•°å£°æ˜å‰é¢ä¸èµ·ä»»ä½•ä½œç”¨ã€‚<strong>inlineæ˜¯ä¸€ç§â€œç”¨äºå®ç°â€çš„å…³é”®å­—ï¼Œè€Œä¸æ˜¯ä¸€ç§â€œç”¨äºå£°æ˜â€çš„å…³é”®å­—ã€‚</strong></p><p><strong>ç¤ºä¾‹ä¸€</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXAMPLE_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXAMPLE_H</span></span> <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;atomic></span></span> <span class="token comment">// function included in multiple source files must be inline</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">// variable with external linkage included in multiple source files must be inline</span><span class="token keyword">inline</span> std<span class="token double-colon punctuation">::</span>atomic<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"example.h"</span></span> <span class="token keyword">int</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token operator">++</span>counter<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"example.h"</span></span> <span class="token keyword">int</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token operator">++</span>counter<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¤ºä¾‹äºŒ</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span>  </span> <span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>string name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token double-colon punctuation">::</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"name:"</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person person<span class="token punctuation">;</span>person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Erin"</span><span class="token punctuation">;</span>person<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¦‚æœå°†displayç›´æ¥åœ¨ç±»å†…å®šä¹‰ï¼Œä¼šè¢«è‡ªåŠ¨å…³è”ä¸ºinlineå‡½æ•°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><h3 id="æ…ç”¨-inline"><a href="#æ…ç”¨-inline" class="headerlink" title="æ…ç”¨ inline"></a>æ…ç”¨ inline</h3><p>å†…è”èƒ½æé«˜å‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ï¼Œä¸ºä»€ä¹ˆä¸æŠŠæ‰€æœ‰çš„å‡½æ•°éƒ½å®šä¹‰æˆå†…è”å‡½æ•°ï¼Ÿå¦‚æœæ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯å†…è”å‡½æ•°ï¼Œè¿˜ç”¨å¾—ç€â€å†…è”â€è¿™ä¸ªå…³é”®å­—å—ï¼Ÿ  å†…è”æ˜¯ä»¥<strong>ä»£ç è†¨èƒ€ï¼ˆå¤åˆ¶ï¼‰</strong>ä¸ºä»£ä»·ï¼Œä»…ä»…çœå»äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œä»è€Œæé«˜å‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ã€‚  å¦‚æœæ‰§è¡Œå‡½æ•°ä½“å†…ä»£ç çš„æ—¶é—´ï¼Œç›¸æ¯”äºå‡½æ•°è°ƒç”¨çš„å¼€é”€è¾ƒå¤§ï¼Œé‚£ä¹ˆæ•ˆç‡çš„æ”¶è·ä¼šå¾ˆå°‘ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯ä¸€å¤„å†…è”å‡½æ•°çš„è°ƒç”¨éƒ½è¦å¤åˆ¶ä»£ç ï¼Œå°†ä½¿ç¨‹åºçš„æ€»ä»£ç é‡å¢å¤§ï¼Œæ¶ˆè€—æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚</p><p><strong>ä»¥ä¸‹æƒ…å†µä¸å®œä½¿ç”¨å†…è”ï¼š</strong>  </p><p>ï¼ˆ1ï¼‰å¦‚æœå‡½æ•°ä½“å†…çš„ä»£ç <strong>æ¯”è¾ƒé•¿</strong>ï¼Œä½¿ç”¨å†…è”å°†å¯¼è‡´<strong>å†…å­˜æ¶ˆè€—ä»£ä»·è¾ƒé«˜</strong>ã€‚  </p><p>ï¼ˆ2ï¼‰å¦‚æœå‡½æ•°ä½“å†…å‡ºç°<strong>å¾ªç¯</strong>ï¼Œé‚£ä¹ˆæ‰§è¡Œå‡½æ•°ä½“å†…ä»£ç çš„æ—¶é—´è¦æ¯”å‡½æ•°è°ƒç”¨çš„å¼€é”€å¤§ã€‚ç±»çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å®¹æ˜“è®©äººè¯¯è§£æˆä½¿ç”¨å†…è”æ›´æœ‰æ•ˆã€‚è¦å½“å¿ƒ<strong>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å¯èƒ½ä¼šéšè—ä¸€äº›è¡Œä¸º</strong>ï¼Œå¦‚â€å·å·åœ°â€æ‰§è¡Œäº†<strong>åŸºç±»æˆ–æˆå‘˜å¯¹è±¡</strong>çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚æ‰€ä»¥<strong>ä¸è¦éšä¾¿åœ°å°†æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„å®šä¹‰ä½“æ”¾åœ¨ç±»å£°æ˜ä¸­</strong>ã€‚ä¸€ä¸ªå¥½çš„ç¼–è¯‘å™¨å°†ä¼šæ ¹æ®å‡½æ•°çš„å®šä¹‰ä½“ï¼Œè‡ªåŠ¨åœ°å–æ¶ˆä¸å€¼å¾—çš„å†…è”ï¼ˆè¿™è¿›ä¸€æ­¥è¯´æ˜äº† inline ä¸åº”è¯¥å‡ºç°åœ¨å‡½æ•°çš„å£°æ˜ä¸­ï¼‰ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://baike.baidu.com/item/inline/10566989">ç™¾åº¦ç™¾ç§‘-éªŒè¯</a></p><p><a href="https://en.cppreference.com/w/cpp/language/inline">inline specifier - cppreference.com</a></p>]]></content>
      
      
      <categories>
          
          <category> c++åŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1020._æœˆé¥¼_(25)-PATä¹™çº§çœŸé¢˜</title>
      <link href="/2023/06/20/1020-yue-bing-25pat-yi-ji-zhen-ti/"/>
      <url>/2023/06/20/1020-yue-bing-25pat-yi-ji-zhen-ti/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h2 id="1020-æœˆé¥¼"><a href="#1020-æœˆé¥¼" class="headerlink" title="1020. æœˆé¥¼"></a>1020. æœˆé¥¼</h2><p>æœˆé¥¼æ˜¯ä¸­å›½äººåœ¨ä¸­ç§‹ä½³èŠ‚æ—¶åƒçš„ä¸€ç§ä¼ ç»Ÿé£Ÿå“ï¼Œä¸åŒåœ°åŒºæœ‰è®¸å¤šä¸åŒé£å‘³çš„æœˆé¥¼ã€‚ç°ç»™å®šæ‰€æœ‰ç§ç±»æœˆé¥¼çš„åº“å­˜é‡ã€æ€»å”®ä»·ã€ä»¥åŠå¸‚åœºçš„æœ€å¤§éœ€æ±‚é‡ï¼Œè¯·ä½ è®¡ç®—å¯ä»¥è·å¾—çš„æœ€å¤§æ”¶ç›Šæ˜¯å¤šå°‘ã€‚</p><p>æ³¨æ„ï¼šé”€å”®æ—¶å…è®¸å–å‡ºä¸€éƒ¨åˆ†åº“å­˜ã€‚æ ·ä¾‹ç»™å‡ºçš„æƒ…å½¢æ˜¯è¿™æ ·çš„ï¼šå‡å¦‚æˆ‘ä»¬æœ‰ 3 ç§æœˆé¥¼ï¼Œå…¶åº“å­˜é‡åˆ†åˆ«ä¸º 18ã€15ã€10 ä¸‡å¨ï¼Œæ€»å”®ä»·åˆ†åˆ«ä¸º 75ã€72ã€45 äº¿å…ƒã€‚å¦‚æœå¸‚åœºçš„æœ€å¤§éœ€æ±‚é‡åªæœ‰ 20 ä¸‡å¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€å¤§æ”¶ç›Šç­–ç•¥åº”è¯¥æ˜¯å–å‡ºå…¨éƒ¨ 15 ä¸‡å¨ç¬¬ 2 ç§æœˆé¥¼ã€ä»¥åŠ 5 ä¸‡å¨ç¬¬ 3 ç§æœˆé¥¼ï¼Œè·å¾— 72 + 45/2 = 94.5ï¼ˆäº¿å…ƒï¼‰ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>æ¯ä¸ªè¾“å…¥åŒ…å«ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å…ˆç»™å‡ºä¸€ä¸ªä¸è¶…è¿‡ 1000 çš„æ­£æ•´æ•° N è¡¨ç¤ºæœˆé¥¼çš„ç§ç±»æ•°ã€ä»¥åŠä¸è¶…è¿‡ 500ï¼ˆä»¥ä¸‡å¨ä¸ºå•ä½ï¼‰çš„æ­£æ•´æ•° D è¡¨ç¤ºå¸‚åœºæœ€å¤§éœ€æ±‚é‡ã€‚éšåä¸€è¡Œç»™å‡º N ä¸ªæ­£æ•°è¡¨ç¤ºæ¯ç§æœˆé¥¼çš„åº“å­˜é‡ï¼ˆä»¥ä¸‡å¨ä¸ºå•ä½ï¼‰ï¼›æœ€åä¸€è¡Œç»™å‡º N ä¸ªæ­£æ•°è¡¨ç¤ºæ¯ç§æœˆé¥¼çš„æ€»å”®ä»·ï¼ˆä»¥äº¿å…ƒä¸ºå•ä½ï¼‰ã€‚æ•°å­—é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>å¯¹æ¯ç»„æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨ä¸€è¡Œä¸­è¾“å‡ºæœ€å¤§æ”¶ç›Šï¼Œä»¥äº¿å…ƒä¸ºå•ä½å¹¶ç²¾ç¡®åˆ°å°æ•°ç‚¹å 2 ä½ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">3</span> <span class="token number">20</span><span class="token number">18</span> <span class="token number">15</span> <span class="token number">10</span><span class="token number">75</span> <span class="token number">72</span> <span class="token number">45</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">94.50</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»£ç é•¿åº¦é™åˆ¶:16 KBï¼›æ—¶é—´é™åˆ¶ï¼š150 msï¼›å†…å­˜é™åˆ¶ï¼š64 MBã€‚</p><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">mooncake</span><span class="token punctuation">&#123;</span>    <span class="token keyword">float</span> num<span class="token punctuation">,</span> price<span class="token punctuation">,</span> unit<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>mooncake a<span class="token punctuation">,</span> mooncake b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>unit <span class="token operator">></span> b<span class="token punctuation">.</span>unit<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> need<span class="token punctuation">;</span>    cin<span class="token operator">>></span>n<span class="token operator">>></span>need<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>mooncake<span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>unit <span class="token operator">=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price<span class="token operator">/</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">float</span> sum<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token operator">&lt;=</span>need<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span><span class="token punctuation">&#123;</span>            sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>unit<span class="token operator">*</span>need<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        need<span class="token operator">-=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.2f"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³•å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1015_Reversible_Primesï¼ˆ20ï¼‰</title>
      <link href="/2023/06/20/1015reversibleprimes20/"/>
      <url>/2023/06/20/1015reversibleprimes20/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1015-Reversible-Primesï¼ˆ20ï¼‰"><a href="#1015-Reversible-Primesï¼ˆ20ï¼‰" class="headerlink" title="1015_Reversible_Primesï¼ˆ20ï¼‰"></a>1015_Reversible_Primesï¼ˆ20ï¼‰</h1><h3 id="Describe"><a href="#Describe" class="headerlink" title="Describe"></a>Describe</h3><p>A <strong>reversible prime</strong> in any number system is a prime whose â€œreverseâ€ in that number system is also a prime. For example in the decimal system 73 is a reversible prime because its reverse 37 is also a prime.</p><p>Now given any two positive integers N (&lt;105) and D (1&lt;Dâ‰¤10), you are supposed to tell if N is a reversible prime with radix D.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>The input file consists of several test cases. Each case occupies a line which contains two integers N and D. The input is finished by a negative N.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print in one line <code>Yes</code> if N is a reversible prime with radix D, or <code>No</code> if not.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">73</span> <span class="token number">10</span><span class="token number">23</span> <span class="token number">2</span><span class="token number">23</span> <span class="token number">10</span><span class="token parameter variable">-2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">YesYesNo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»£ç é•¿åº¦é™åˆ¶                        16 KB</p><p>æ—¶é—´é™åˆ¶                                400 ms</p><p>å†…å­˜é™åˆ¶                                64 MB</p><h3 id="Codeï¼š"><a href="#Codeï¼š" class="headerlink" title="Codeï¼š"></a>Codeï¼š</h3><p>åˆšå¼€å§‹é¢˜ç›®éƒ½æ²¡æœ‰çœ‹æ‡‚ï¼Œæ€»æ˜¯ä¸èƒ½ç†è§£radixæ˜¯ä»€ä¹ˆæ„æ€ï¼Œåšé¢˜ç›®åšå°‘äº†ï¼ˆä¸‹æ¬¡çœ‹åˆ°radixå°±æƒ³åˆ°å¯èƒ½éœ€è¦è¿›åˆ¶çš„è½¬æ¢ï¼‰æˆ‘å¾ˆæƒ³çŸ¥é“æˆ‘æ€»æ˜¯æœ€åä¸€ä¸ªæµ‹è¯•ç‚¹è¿‡ä¸å»ï¼Œåˆšå¼€å§‹åªå¾—åˆ°äº†16åˆ†ï¼Œæ˜¯å› ä¸ºåˆ¤æ–­ç´ æ•°çš„æ—¶å€™æ²¡æœ‰æŠŠ1è€ƒè™‘è¿›å»ï¼ŒåŠ ä¸Šä¹‹åè¿˜æ˜¯åªæœ‰18åˆ†ğŸ˜­ï¼Œå¸Œæœ›åœ¨è¯„è®ºåŒºæœ‰å¤§ä½¬å¯ä»¥å¸®æˆ‘æ‰¾åˆ°é”™è¯¯ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;math.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;algorithm></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;map></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;unordered_map></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;queue></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stack></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;set></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è¦åŠ ä¸Š=å·</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>    <span class="token comment">//åŠ å…¥è‡ªå·±çš„ä»£ç </span>    <span class="token keyword">long</span> <span class="token keyword">long</span> n <span class="token punctuation">,</span>d<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>cin<span class="token operator">>></span>n<span class="token operator">>></span>d<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>            flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">do</span><span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token operator">%</span>d<span class="token punctuation">;</span>            n<span class="token operator">=</span>n<span class="token operator">/</span>d<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            n<span class="token operator">=</span>n<span class="token operator">*</span>d<span class="token operator">+</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>            flag<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            cout<span class="token operator">&lt;&lt;</span><span class="token string">"Yes"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>            cout<span class="token operator">&lt;&lt;</span><span class="token string">"No"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œè´´ä¸ŠæŸ³ç¥çš„ä»£ç ï¼Œæ€è·¯åŸºæœ¬ä¸€æ ·çš„ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isprime</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sqr <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">sqrt</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> sqr<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> d<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isprime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">do</span><span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>len<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> n <span class="token operator">%</span> d<span class="token punctuation">;</span>            n <span class="token operator">=</span> n <span class="token operator">/</span> d<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            n <span class="token operator">=</span> n <span class="token operator">*</span> d <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token function">isprime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"Yes\n"</span> <span class="token operator">:</span> <span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³•å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1007_Maximum_Subsequence_Sum(æœ€å¤§è¿ç»­å­æ®µå’Œ)</title>
      <link href="/2023/06/20/1007maximumsubsequencesum-zui-da-lian-xu-zi-duan-he/"/>
      <url>/2023/06/20/1007maximumsubsequencesum-zui-da-lian-xu-zi-duan-he/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1007-Maximum-Subsequence-Sum-æœ€å¤§è¿ç»­å­æ®µå’Œ"><a href="#1007-Maximum-Subsequence-Sum-æœ€å¤§è¿ç»­å­æ®µå’Œ" class="headerlink" title="1007_Maximum_Subsequence_Sum(æœ€å¤§è¿ç»­å­æ®µå’Œ)"></a>1007_Maximum_Subsequence_Sum(æœ€å¤§è¿ç»­å­æ®µå’Œ)</h1><p>Given a sequence of K integers { N1â€‹, N2â€‹, â€¦, NKâ€‹ }. A continuous subsequence is defined to be { Niâ€‹, Ni+1â€‹, â€¦, Njâ€‹ } where 1â‰¤iâ‰¤jâ‰¤K. The Maximum Subsequence is the continuous subsequence which has the largest sum of its elements. For example, given sequence { -2, 11, -4, 13, -5, -2 }, its maximum subsequence is { 11, -4, 13 } with the largest sum being 20.</p><p>Now you are supposed to find the largest sum, together with the first and the last numbers of the maximum subsequence.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case occupies two lines. The first line contains a positive integer K (â‰¤10000). The second line contains K numbers, separated by a space.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, output in one line the largest sum, together with the first and the last numbers of the maximum subsequence. The numbers must be separated by one space, but there must be no extra space at the end of a line. In case that the maximum subsequence is not unique, output the one with the smallest indices i and j (as shown by the sample case). If all the K numbers are negative, then its maximum sum is defined to be 0, and you are supposed to output the first and the last numbers of the whole sequence.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">10</span><span class="token parameter variable">-10</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token parameter variable">-5</span> <span class="token parameter variable">-23</span> <span class="token number">3</span> <span class="token number">7</span> <span class="token parameter variable">-21</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">10</span> <span class="token number">1</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»£ç é•¿åº¦é™åˆ¶        16 KBï¼›æ—¶é—´é™åˆ¶        200 msï¼›å†…å­˜é™åˆ¶        64 MBï¼›</p><h3 id="å¤§æ„ï¼š"><a href="#å¤§æ„ï¼š" class="headerlink" title="å¤§æ„ï¼š"></a>å¤§æ„ï¼š</h3><p>æ±‚å‡ºæœ€å¤§çš„å­åºåˆ—çš„å’Œï¼Œä»¥åŠè¯¥æœ€å¤§å’Œåºåˆ—çš„é¦–å°¾å…ƒç´ ã€‚</p><h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><p>åˆ©ç”¨numè®°å½•åºåˆ—é•¿åº¦ã€‚<strong>å…³é”®ç‚¹ï¼š</strong>å½“sum&lt;0çš„æ—¶å€™ï¼Œsumè¦æ¸…é›¶ï¼Œå› ä¸ºä¸€ä¸ªå°äº0çš„å­åºåˆ—å¯¹æœ€å¤§å­åºåˆ—å’Œåªæœ‰åå¤„ï¼ŒåŠ ä¸Šå®ƒåªä¼šå‡å°‘ã€‚</p><h3 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;math.h></span>   </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;algorithm></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;map></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;unordered_map></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;queue></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stack></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;set></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>   <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">ONLINE_JUDGE</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span>    </span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> </span>    <span class="token comment">//åŠ å…¥è‡ªå·±çš„ä»£ç </span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cin<span class="token operator">>></span>n<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> max<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cin<span class="token operator">>></span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        sum<span class="token operator">+=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•åºåˆ—é•¿åº¦</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>            num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">></span>max<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æœ€å¼€å§‹è¿™é‡Œå†™çš„ifå¯¼è‡´ä¸€ç›´æœ‰æµ‹è¯•ç‚¹ä¸è¿‡ï¼ï¼ï¼</span>            max<span class="token operator">=</span>sum<span class="token punctuation">;</span><span class="token comment">//             cout&lt;&lt;"sum:"&lt;&lt;sum&lt;&lt;endl;</span>            res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token operator">-</span>num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//+1ï¼Œè®°å¾—</span>            res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>max<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span>max<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³•å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/06/19/hello-world/"/>
      <url>/2023/06/19/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
